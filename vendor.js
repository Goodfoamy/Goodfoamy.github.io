webpackJsonp([0],[/* 0 */
/***/
function(t,e,n){"use strict";var r=n(27),i=n(1112),o=n(136),s=function(){/**
     * @constructor
     * @param {Function} subscribe the function that is  called when the Observable is
     * initially subscribed to. This function is given a Subscriber, to which new values
     * can be `next`ed, or an `error` method can be called to raise an error, or
     * `complete` can be called to notify of a successful completion.
     */
function t(t){this._isScalar=!1,t&&(this._subscribe=t)}/**
     * Creates a new Observable, with this Observable as the source, and the passed
     * operator defined as the new observable's operator.
     * @method lift
     * @param {Operator} operator the operator defining the operation to take on the observable
     * @return {Observable} a new observable with the Operator applied
     */
/**
     * @method forEach
     * @param {Function} next a handler for each value emitted by the observable
     * @param {PromiseConstructor} [PromiseCtor] a constructor function used to instantiate the Promise
     * @return {Promise} a promise that either resolves on observable completion or
     *  rejects with the handled error
     */
/**
     * An interop point defined by the es7-observable spec https://github.com/zenparsing/es-observable
     * @method Symbol.observable
     * @return {Observable} this instance of the observable
     */
// HACK: Since TypeScript inherits static properties too, we have to
// fight against TypeScript here so Subject can have a different static create signature
/**
     * Creates a new cold Observable by calling the Observable constructor
     * @static true
     * @owner Observable
     * @method create
     * @param {Function} subscribe? the subscriber function to be passed to the Observable constructor
     * @return {Observable} a new cold observable
     */
return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=i.toSubscriber(t,e,n);if(r?r.call(o,this.source):o.add(this._subscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype.forEach=function(t,e){var n=this;if(e||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?e=r.root.Rx.config.Promise:r.root.Promise&&(e=r.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,r){var i=n.subscribe(function(e){if(i)
// if there is a subscription, then we can surmise
// the next handling is asynchronous. Any errors thrown
// need to be rejected explicitly and unsubscribe must be
// called manually
try{t(e)}catch(t){r(t),i.unsubscribe()}else
// if there is NO subscription, then we're getting a nexted
// value synchronously during subscription. We can just call it.
// If it errors, Observable's `subscribe` will ensure the
// unsubscription logic is called, then synchronously rethrow the error.
// After that, Promise will trap the error and send it
// down the rejection path.
t(e)},r,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[o.$$observable]=function(){return this},t.create=function(e){return new t(e)},t}();e.Observable=s},/* 1 */
,/* 2 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Create a new Matrix with given storage format
   * @param {Array} data
   * @param {string} [format]
   * @param {string} [datatype]
   * @returns {Matrix} Returns a new Matrix
   * @private
   */
function i(e,n,r){
// create instance
return new(t.Matrix.storage(n||"default"))(e,r)}/**
   * Create a Matrix. The function creates a new `math.type.Matrix` object from
   * an `Array`. A Matrix has utility functions to manipulate the data in the
   * matrix, like getting the size and getting or setting values in the matrix.
   * Supported storage formats are 'dense' and 'sparse'.
   *
   * Syntax:
   *
   *    math.matrix()                         // creates an empty matrix using default storage format (dense).
   *    math.matrix(data)                     // creates a matrix with initial data using default storage format (dense).
   *    math.matrix('dense')                  // creates an empty matrix using the given storage format.
   *    math.matrix(data, 'dense')            // creates a matrix with initial data using the given storage format.
   *    math.matrix(data, 'sparse')           // creates a sparse matrix with initial data.
   *    math.matrix(data, 'sparse', 'number') // creates a sparse matrix with initial data, number data type.
   *
   * Examples:
   *
   *    var m = math.matrix([[1, 2], [3, 4]]);
   *    m.size();                        // Array [2, 2]
   *    m.resize([3, 2], 5);
   *    m.valueOf();                     // Array [[1, 2], [3, 4], [5, 5]]
   *    m.get([1, 0])                    // number 3
   *
   * See also:
   *
   *    bignumber, boolean, complex, index, number, string, unit, sparse
   *
   * @param {Array | Matrix} [data]    A multi dimensional array
   * @param {string} [format]          The Matrix storage format
   *
   * @return {Matrix} The created matrix
   */
var o=r("matrix",{"":function(){return i([])},string:function(t){return i([],t)},"string, string":function(t,e){return i([],t,e)},Array:function(t){return i(t)},Matrix:function(t){return i(t,t.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});return o.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},o}e.name="matrix",e.factory=r},/* 3 */
/***/
function(t,e,n){"use strict";/**
 * Execute the callback function element wise for each element in array and any
 * nested array
 * Returns an array with the results
 * @param {Array | Matrix} array
 * @param {Function} callback   The callback is called with two parameters:
 *                              value1 and value2, which contain the current
 *                              element of both arrays.
 * @param {boolean} [skipZeros] Invoke callback function for non-zero values only.
 *
 * @return {Array | Matrix} res
 */
t.exports=function t(e,n,r){return e&&"function"==typeof e.map?e.map(function(e){return t(e,n,r)}):n(e)}},/* 4 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(187),o=n(22),s=n(287),a=n(137),u=function(t){/**
     * @param {Observer|function(value: T): void} [destinationOrNext] A partially
     * defined Observer or a `next` callback function.
     * @param {function(e: ?any): void} [error] The `error` callback of an
     * Observer.
     * @param {function(): void} [complete] The `complete` callback of an
     * Observer.
     */
function e(n,r,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=s.empty;break;case 1:if(!n){this.destination=s.empty;break}if("object"==typeof n){n instanceof e?(this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,n,r,i)}}/**
     * A static factory for a Subscriber, given a (potentially partial) definition
     * of an Observer.
     * @param {function(x: ?T): void} [next] The `next` callback of an Observer.
     * @param {function(e: ?any): void} [error] The `error` callback of an
     * Observer.
     * @param {function(): void} [complete] The `complete` callback of an
     * Observer.
     * @return {Subscriber<T>} A Subscriber wrapping the (partially defined)
     * Observer represented by the given arguments.
     */
/**
     * The {@link Observer} callback to receive notifications of type `next` from
     * the Observable, with a value. The Observable may call this method 0 or more
     * times.
     * @param {T} [value] The `next` value.
     * @return {void}
     */
/**
     * The {@link Observer} callback to receive notifications of type `error` from
     * the Observable, with an attached {@link Error}. Notifies the Observer that
     * the Observable has experienced an error condition.
     * @param {any} [err] The `error` exception.
     * @return {void}
     */
/**
     * The {@link Observer} callback to receive a valueless notification of type
     * `complete` from the Observable. Notifies the Observer that the Observable
     * has finished sending push-based notifications.
     * @return {void}
     */
return r(e,t),e.prototype[a.$$rxSubscriber]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e}(o.Subscription);e.Subscriber=u;/**
 * We need this JSDoc comment for affecting ESDoc.
 * @ignore
 * @extends {Ignored}
 */
var c=function(t){function e(e,n,r,o){t.call(this),this._parent=e;var s,a=this;i.isFunction(n)?s=n:n&&(a=n,s=n.next,r=n.error,o=n.complete,i.isFunction(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this)),this._context=a,this._next=s,this._error=r,this._complete=o}return r(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parent;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parent;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){if(!this.isStopped){var t=this._parent;this._complete?t.syncErrorThrowable?(this.__tryOrSetError(t,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parent;this._context=null,this._parent=null,t.unsubscribe()},e}(u)},/* 5 */
/***/
function(t,e,n){"use strict";/**
 * Create an array filled with zeros.
 * @param {number} length
 * @return {Array}
 */
function r(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}/**
 * @typedef {{sign: '+' | '-' | '', coefficients: number[], exponent: number}} SplitValue
 */
/**
 * Test whether value is a number
 * @param {*} value
 * @return {boolean} isNumber
 */
e.isNumber=function(t){return"number"==typeof t},/**
 * Check if a number is integer
 * @param {number | boolean} value
 * @return {boolean} isInteger
 */
e.isInteger=function(t){return!!isFinite(t)&&t==Math.round(t)},/**
 * Calculate the sign of a number
 * @param {number} x
 * @returns {*}
 */
e.sign=Math.sign||function(t){return t>0?1:t<0?-1:0},/**
 * Convert a number to a formatted string representation.
 *
 * Syntax:
 *
 *    format(value)
 *    format(value, options)
 *    format(value, precision)
 *    format(value, fn)
 *
 * Where:
 *
 *    {number} value   The value to be formatted
 *    {Object} options An object with formatting options. Available options:
 *                     {string} notation
 *                         Number notation. Choose from:
 *                         'fixed'          Always use regular number notation.
 *                                          For example '123.40' and '14000000'
 *                         'exponential'    Always use exponential notation.
 *                                          For example '1.234e+2' and '1.4e+7'
 *                         'engineering'    Always use engineering notation.
 *                                          For example '123.4e+0' and '14.0e+6'
 *                         'auto' (default) Regular number notation for numbers
 *                                          having an absolute value between
 *                                          `lower` and `upper` bounds, and uses
 *                                          exponential notation elsewhere.
 *                                          Lower bound is included, upper bound
 *                                          is excluded.
 *                                          For example '123.4' and '1.4e7'.
 *                     {number} precision   A number between 0 and 16 to round
 *                                          the digits of the number.
 *                                          In case of notations 'exponential' and
 *                                          'auto', `precision` defines the total
 *                                          number of significant digits returned
 *                                          and is undefined by default.
 *                                          In case of notation 'fixed',
 *                                          `precision` defines the number of
 *                                          significant digits after the decimal
 *                                          point, and is 0 by default.
 *                     {Object} exponential An object containing two parameters,
 *                                          {number} lower and {number} upper,
 *                                          used by notation 'auto' to determine
 *                                          when to return exponential notation.
 *                                          Default values are `lower=1e-3` and
 *                                          `upper=1e5`.
 *                                          Only applicable for notation `auto`.
 *    {Function} fn    A custom formatting function. Can be used to override the
 *                     built-in notations. Function `fn` is called with `value` as
 *                     parameter and must return a string. Is useful for example to
 *                     format all values inside a matrix in a particular way.
 *
 * Examples:
 *
 *    format(6.4);                                        // '6.4'
 *    format(1240000);                                    // '1.24e6'
 *    format(1/3);                                        // '0.3333333333333333'
 *    format(1/3, 3);                                     // '0.333'
 *    format(21385, 2);                                   // '21000'
 *    format(12.071, {notation: 'fixed'});                // '12'
 *    format(2.3,    {notation: 'fixed', precision: 2});  // '2.30'
 *    format(52.8,   {notation: 'exponential'});          // '5.28e+1'
 *    format(12345678, {notation: 'engineering'});        // '12.345678e+6'
 *
 * @param {number} value
 * @param {Object | Function | number} [options]
 * @return {string} str The formatted value
 */
e.format=function(t,n){if("function"==typeof n)
// handle format(value, fn)
return n(t);
// handle special cases
if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";
// default values for options
var r="auto",i=void 0;
// handle the various notations
switch(n&&(
// determine notation from options
n.notation&&(r=n.notation),
// determine precision from options
e.isNumber(n)?i=n:n.precision&&(i=n.precision)),r){case"fixed":return e.toFixed(t,i);case"exponential":return e.toExponential(t,i);case"engineering":return e.toEngineering(t,i);case"auto":return e.toPrecision(t,i,n&&n.exponential).replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}},/**
 * Split a number into sign, coefficients, and exponent
 * @param {number | string} value
 * @return {SplitValue}
 *              Returns an object containing sign, coefficients, and exponent
 */
e.splitNumber=function(t){
// parse the input value
var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var n=e[1],r=e[2],i=parseFloat(e[4]||"0"),o=r.indexOf(".");i+=-1!==o?o-1:r.length-1;var s=r.replace(".","").replace(/^0*/,function(t){
// remove leading zeros, add their count to the exponent
return i-=t.length,""}).replace(/0*$/,"").split("").map(function(t){return parseInt(t)});return 0===s.length&&(s.push(0),i++),{sign:n,coefficients:s,exponent:i}},/**
 * Format a number in engineering notation. Like '1.23e+6', '2.3e+0', '3.500e-3'
 * @param {number | string} value
 * @param {number} [precision=0]        Optional number of decimals after the
 *                                      decimal point. Zero by default.
 */
e.toEngineering=function(t,n){if(isNaN(t)||!isFinite(t))return String(t);var i=e.roundDigits(e.splitNumber(t),n),o=i.exponent,s=i.coefficients,a=o%3==0?o:o<0?o-3-o%3:o-o%3,u=o>=0?o:Math.abs(a);
// add zeros if necessary (for ex: 1e+8)
s.length-1<u&&(s=s.concat(r(u-(s.length-1))));
// push decimal index over by expDiff times
for(
// find difference in exponents
var c=Math.abs(o-a),l=1;--c>=0;)l++;
// if all coefficient values are zero after the decimal point, don't add a decimal value.
// otherwise concat with the rest of the coefficients
var f=s.slice(l).join(""),p=f.match(/[1-9]/)?"."+f:"",h=s.slice(0,l).join("")+p+"e"+(o>=0?"+":"")+a.toString();return i.sign+h},/**
 * Format a number with fixed notation.
 * @param {number | string} value
 * @param {number} [precision=0]        Optional number of decimals after the
 *                                      decimal point. Zero by default.
 */
e.toFixed=function(t,n){if(isNaN(t)||!isFinite(t))return String(t);var i=e.splitNumber(t),o=e.roundDigits(i,i.exponent+1+(n||0)),s=o.coefficients,a=o.exponent+1,u=a+(n||0);
// prepend zeros if needed
// insert a dot if needed
return s.length<u&&(s=s.concat(r(u-s.length))),a<0&&(s=r(1-a).concat(s),a=1),n&&s.splice(a,0,0===a?"0.":"."),o.sign+s.join("")},/**
 * Format a number in exponential notation. Like '1.23e+5', '2.3e+0', '3.500e-3'
 * @param {number | string} value
 * @param {number} [precision]  Number of digits in formatted output.
 *                              If not provided, the maximum available digits
 *                              is used.
 */
e.toExponential=function(t,n){if(isNaN(t)||!isFinite(t))return String(t);
// round if needed, else create a clone
var i=e.splitNumber(t),o=n?e.roundDigits(i,n):i,s=o.coefficients,a=o.exponent;
// append zeros if needed
s.length<n&&(s=s.concat(r(n-s.length)));
// format as `C.CCCe+EEE` or `C.CCCe-EEE`
var u=s.shift();return o.sign+u+(s.length>0?"."+s.join(""):"")+"e"+(a>=0?"+":"")+a},/**
 * Format a number with a certain precision
 * @param {number | string} value
 * @param {number} [precision=undefined] Optional number of digits.
 * @param {{lower: number | undefined, upper: number | undefined}} [options]
 *                                       By default:
 *                                         lower = 1e-3 (excl)
 *                                         upper = 1e+5 (incl)
 * @return {string}
 */
e.toPrecision=function(t,n,i){if(isNaN(t)||!isFinite(t))return String(t);
// determine lower and upper bound for exponential notation.
var o=i&&void 0!==i.lower?i.lower:.001,s=i&&void 0!==i.upper?i.upper:1e5,a=e.splitNumber(t),u=Math.abs(Math.pow(10,a.exponent));if(u<o||u>=s)
// exponential notation
return e.toExponential(t,n);var c=n?e.roundDigits(a,n):a,l=c.coefficients,f=c.exponent;
// append trailing zeros
l.length<n&&(l=l.concat(r(n-l.length))),
// append trailing zeros
// TODO: simplify the next statement
l=l.concat(r(f-l.length+1+(l.length<n?n-l.length:0))),
// prepend zeros
l=r(-f).concat(l);var p=f>0?f:0;return p<l.length-1&&l.splice(p+1,0,"."),c.sign+l.join("")},/**
 * Round the number of digits of a number *
 * @param {SplitValue} split       A value split with .splitNumber(value)
 * @param {number} precision  A positive integer
 * @return {SplitValue}
 *              Returns an object containing sign, coefficients, and exponent
 *              with rounded digits
 */
e.roundDigits=function(t,e){
// prepend zeros if needed
for(
// create a clone
var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},r=n.coefficients;e<=0;)r.unshift(0),n.exponent++,e++;if(r.length>e){if(r.splice(e,r.length-e)[0]>=5){var i=e-1;for(r[i]++;10===r[i];)r.pop(),0===i&&(r.unshift(0),n.exponent++,i++),i--,r[i]++}}return n},/**
 * Count the number of significant digits of a number.
 *
 * For example:
 *   2.34 returns 3
 *   0.0034 returns 2
 *   120.5e+30 returns 4
 *
 * @param {number} value
 * @return {number} digits   Number of significant digits
 */
e.digits=function(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},/**
 * Minimum number added to one that makes the result different than one
 */
e.DBL_EPSILON=Number.EPSILON||2.220446049250313e-16,/**
 * Compares two floating point numbers.
 * @param {number} x          First value to compare
 * @param {number} y          Second value to compare
 * @param {number} [epsilon]  The maximum relative difference between x and y
 *                            If epsilon is undefined or null, the function will
 *                            test whether x and y are exactly equal.
 * @return {boolean} whether the two numbers are nearly equal
*/
e.nearlyEqual=function(t,n,r){
// if epsilon is null or undefined, test whether x and y are exactly equal
if(null==r)return t==n;
// use "==" operator, handles infinities
if(t==n)return!0;
// NaN
if(isNaN(t)||isNaN(n))return!1;
// at this point x and y should be finite
if(isFinite(t)&&isFinite(n)){
// check numbers are very close, needed when comparing numbers near zero
var i=Math.abs(t-n);return i<e.DBL_EPSILON||i<=Math.max(Math.abs(t),Math.abs(n))*r}
// Infinite and Number or negative Infinite and positive Infinite cases
return!1}},/* 6 */
/***/
function(t,e,n){"use strict";e.symbols={
// GREEK LETTERS
Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",
//logic
true:"\\mathrm{True}",false:"\\mathrm{False}",
//other
i:"i",//TODO use \i ??
inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},e.operators={transpose:"^\\top",factorial:"!",pow:"^",dotPow:".^\\wedge",//TODO find ideal solution
unaryPlus:"+",unaryMinus:"-",bitNot:"~",//TODO find ideal solution
not:"\\neg",multiply:"\\cdot",divide:"\\frac",//TODO how to handle that properly?
dotMultiply:".\\cdot",//TODO find ideal solution
dotDivide:".:",//TODO find ideal solution
mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},e.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var r={deg:"^\\circ"};
//@param {string} name
//@param {boolean} isUnit
e.toSymbol=function(t,n){if(n=void 0!==n&&n)return r.hasOwnProperty(t)?r[t]:"\\mathrm{"+t+"}";if(e.symbols.hasOwnProperty(t))return e.symbols[t];if(-1!==t.indexOf("_")){
//symbol with index (eg. alpha_1)
var i=t.indexOf("_");return e.toSymbol(t.substring(0,i))+"_{"+e.toSymbol(t.substring(i+1))+"}"}return t}},/* 7 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(4),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(i.Subscriber);e.OuterSubscriber=o},/* 8 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){var p=new l.InnerSubscriber(t,n,r);if(p.closed)return null;if(e instanceof u.Observable)return e._isScalar?(p.next(e.value),p.complete(),null):e.subscribe(p);if(o.isArray(e)){for(var h=0,d=e.length;h<d&&!p.closed;h++)p.next(e[h]);p.closed||p.complete()}else{if(s.isPromise(e))return e.then(function(t){p.closed||(p.next(t),p.complete())},function(t){return p.error(t)}).then(null,function(t){
// Escaping the Promise trap: globally throw unhandled errors
i.root.setTimeout(function(){throw t})}),p;if(e&&"function"==typeof e[c.$$iterator])for(var m=e[c.$$iterator]();;){var v=m.next();if(v.done){p.complete();break}if(p.next(v.value),p.closed)break}else if(e&&"function"==typeof e[f.$$observable]){var y=e[f.$$observable]();if("function"==typeof y.subscribe)return y.subscribe(new l.InnerSubscriber(t,n,r));p.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var g=a.isObject(e)?"an invalid object":"'"+e+"'",b="You provided "+g+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";p.error(new TypeError(b))}}return null}var i=n(27),o=n(52),s=n(321),a=n(320),u=n(0),c=n(106),l=n(851),f=n(136);e.subscribeToResult=r},/* 9 */
/***/
function(t,e,n){"use strict";/**
 * Clone an object
 *
 *     clone(x)
 *
 * Can clone any primitive type, array, and object.
 * If x has a function clone, this function will be invoked to clone the object.
 *
 * @param {*} x
 * @return {*} clone
 */
e.clone=function t(e){var n=typeof e;
// immutable primitive types
if("number"===n||"string"===n||"boolean"===n||null===e||void 0===e)return e;
// use clone function of the object when available
if("function"==typeof e.clone)return e.clone();
// array
if(Array.isArray(e))return e.map(function(e){return t(e)});if(e instanceof Number)return new Number(e.valueOf());if(e instanceof String)return new String(e.valueOf());if(e instanceof Boolean)return new Boolean(e.valueOf());if(e instanceof Date)return new Date(e.valueOf());if(e&&!0===e.isBigNumber)return e;// bignumbers are immutable
if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);// TODO: clone a RegExp
// object
var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=t(e[i]));return r},/**
 * Extend object a with the properties of object b
 * @param {Object} a
 * @param {Object} b
 * @return {Object} a
 */
e.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},/**
 * Deep extend an object a with the properties of object b
 * @param {Object} a
 * @param {Object} b
 * @returns {Object}
 */
e.deepExtend=function t(e,n){
// TODO: add support for Arrays to deepExtend
if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r in n)if(n.hasOwnProperty(r))if(n[r]&&n[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?t(e[r],n[r]):e[r]=n[r];else{if(Array.isArray(n[r]))throw new TypeError("Arrays are not supported by deepExtend");e[r]=n[r]}return e},/**
 * Deep test equality of all fields in two pairs of arrays or objects.
 * @param {Array | Object} a
 * @param {Array | Object} b
 * @returns {boolean}
 */
e.deepEqual=function(t,n){var r,i,o;if(Array.isArray(t)){if(!Array.isArray(n))return!1;if(t.length!=n.length)return!1;for(i=0,o=t.length;i<o;i++)if(!e.deepEqual(t[i],n[i]))return!1;return!0}if(t instanceof Object){if(Array.isArray(n)||!(n instanceof Object))return!1;for(r in t)
//noinspection JSUnfilteredForInLoop
if(!e.deepEqual(t[r],n[r]))return!1;for(r in n)
//noinspection JSUnfilteredForInLoop
if(!e.deepEqual(t[r],n[r]))return!1;return!0}return typeof t==typeof n&&t==n},/**
 * Test whether the current JavaScript engine supports Object.defineProperty
 * @returns {boolean} returns true if supported
 */
e.canDefineProperty=function(){
// test needed for broken IE8 implementation
try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(t){}return!1},/**
 * Attach a lazy loading property to a constant.
 * The given function `fn` is called once when the property is first requested.
 * On older browsers (<IE8), the function will fall back to direct evaluation
 * of the properties value.
 * @param {Object} object   Object where to add the property
 * @param {string} prop     Property name
 * @param {Function} fn     Function returning the property value. Called
 *                          without arguments.
 */
e.lazy=function(t,n,r){if(e.canDefineProperty()){var i,o=!0;Object.defineProperty(t,n,{get:function(){return o&&(i=r(),o=!1),i},set:function(t){i=t,o=!1},configurable:!0,enumerable:!0})}else
// fall back to immediate evaluation
t[n]=r()},/**
 * Traverse a path into an object.
 * When a namespace is missing, it will be created
 * @param {Object} object
 * @param {string} path   A dot separated string like 'name.space'
 * @return {Object} Returns the object at the end of the path
 */
e.traverse=function(t,e){var n=t;if(e)for(var r=e.split("."),i=0;i<r.length;i++){var o=r[i];o in n||(n[o]={}),n=n[o]}return n},/**
 * Test whether an object is a factory. a factory has fields:
 *
 * - factory: function (type: Object, config: Object, load: function, typed: function [, math: Object])   (required)
 * - name: string (optional)
 * - path: string    A dot separated path (optional)
 * - math: boolean   If true (false by default), the math namespace is passed
 *                   as fifth argument of the factory function
 *
 * @param {*} object
 * @returns {boolean}
 */
e.isFactory=function(t){return t&&"function"==typeof t.factory}},/* 10 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){var o=t.DenseMatrix,s=function(t,e,n,s){
// a arrays
var u,c=t._data,l=t._size,f=t._datatype,p=n;
// process data types
"string"==typeof f&&(
// datatype
u=f,
// convert b to the same datatype
e=r.convert(e,u),
// callback
p=r.find(n,[u,u]));
// populate cdata, iterate through dimensions
var h=l.length>0?a(p,0,l,l[0],c,e,s):[];
// c matrix
return new o({data:h,size:i(l),datatype:u})},a=function(t,e,n,r,i,o,s){
// initialize array for this level
var u=[];
// check we reach the last level
if(e===n.length-1)
// loop arrays in last level
for(var c=0;c<r;c++)
// invoke callback and store value
u[c]=s?t(o,i[c]):t(i[c],o);else
// iterate current level
for(var l=0;l<r;l++)
// iterate next level
u[l]=a(t,e+1,n,n[e+1],i[l],o,s);return u};return s}var i=n(9).clone;e.name="algorithm14",e.factory=r},/* 11 */
/***/
function(t,e,n){"use strict";/**
 * Recursively validate whether each element in a multi dimensional array
 * has a size corresponding to the provided size array.
 * @param {Array} array    Array to be validated
 * @param {number[]} size  Array with the size of each dimension
 * @param {number} dim   Current dimension
 * @throws DimensionError
 * @private
 */
function r(t,e,n){var i,o=t.length;if(o!=e[n])throw new l(o,e[n]);if(n<e.length-1){
// recursively validate each child array
var s=n+1;for(i=0;i<o;i++){var a=t[i];if(!Array.isArray(a))throw new l(e.length-1,e.length,"<");r(t[i],e,s)}}else
// last dimension. none of the childs may be an array
for(i=0;i<o;i++)if(Array.isArray(t[i]))throw new l(e.length+1,e.length,">")}/**
 * Recursively resize a multi dimensional array
 * @param {Array} array         Array to be resized
 * @param {number[]} size       Array with the size of each dimension
 * @param {number} dim          Current dimension
 * @param {*} [defaultValue]    Value to be filled in in new entries,
 *                              undefined by default.
 * @private
 */
function i(t,n,r,o){var s,a,u=t.length,c=n[r],l=Math.min(u,c);if(
// apply new length
t.length=c,r<n.length-1){
// non-last dimension
var f=r+1;
// resize existing child arrays
for(s=0;s<l;s++)
// resize child array
a=t[s],Array.isArray(a)||(a=[a],// add a dimension
t[s]=a),i(a,n,f,o);
// create new child arrays
for(s=l;s<c;s++)
// get child array
a=[],t[s]=a,
// resize new child array
i(a,n,f,o)}else{
// last dimension
// remove dimensions of existing values
for(s=0;s<l;s++)for(;Array.isArray(t[s]);)t[s]=t[s][0];if(o!==e.UNINITIALIZED)
// fill new elements with the default value
for(s=l;s<c;s++)t[s]=o}}/**
 * Recursively re-shape a multi dimensional array to fit the specified dimensions
 * @param {Array} array           Array to be reshaped
 * @param {Array.<number>} sizes  List of sizes for each dimension
 * @returns {Array}               Array whose data has been formatted to fit the
 *                                specified dimensions
 *
 * @throws {DimensionError}       If the product of the new dimension sizes does
 *                                not equal that of the old ones
 */
function o(t,e){var n,r=[];if(0===e.length){if(0===t.length)throw new l(null,null,"!=");return t.shift()}for(n=0;n<e[0];n+=1)r.push(o(t,e.slice(1)));return r}/**
 * Recursively squeeze a multi dimensional array
 * @param {Array} array
 * @param {number} dims Required number of dimensions
 * @param {number} dim  Current dimension
 * @returns {Array | *} Returns the squeezed array
 * @private
 */
function s(t,e,n){var r,i;if(n<e){var o=n+1;for(r=0,i=t.length;r<i;r++)t[r]=s(t[r],e,o)}else for(;Array.isArray(t);)t=t[0];return t}/**
 * Recursively unsqueeze a multi dimensional array
 * @param {Array} array
 * @param {number} dims Required number of dimensions
 * @param {number} dim  Current dimension
 * @returns {Array | *} Returns the squeezed array
 * @private
 */
function a(t,e,n){var r,i;if(Array.isArray(t)){var o=n+1;for(r=0,i=t.length;r<i;r++)t[r]=a(t[r],e,o)}else for(var s=n;s<e;s++)t=[t];return t}var u=n(5),c=n(42),l=(n(9),n(133),n(18)),f=n(95);/**
 * Calculate the size of a multi dimensional array.
 * This function checks the size of the first entry, it does not validate
 * whether all dimensions match. (use function `validate` for that)
 * @param {Array} x
 * @Return {Number[]} size
 */
e.size=function(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e},/**
 * Validate whether each element in a multi dimensional array has
 * a size corresponding to the provided size array.
 * @param {Array} array    Array to be validated
 * @param {number[]} size  Array with the size of each dimension
 * @throws DimensionError
 */
e.validate=function(t,e){if(0==e.length){
// scalar
if(Array.isArray(t))throw new l(t.length,0)}else
// array
r(t,e,0)},/**
 * Test whether index is an integer number with index >= 0 and index < length
 * when length is provided
 * @param {number} index    Zero-based index
 * @param {number} [length] Length of the array
 */
e.validateIndex=function(t,e){if(!u.isNumber(t)||!u.isInteger(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new f(t,e)},
// a constant used to specify an undefined defaultValue
e.UNINITIALIZED={},/**
 * Resize a multi dimensional array. The resized array is returned.
 * @param {Array} array         Array to be resized
 * @param {Array.<number>} size Array with the size of each dimension
 * @param {*} [defaultValue=0]  Value to be filled in in new entries,
 *                              zero by default. To leave new entries undefined,
 *                              specify array.UNINITIALIZED as defaultValue
 * @return {Array} array         The resized array
 */
e.resize=function(t,e,n){
// TODO: add support for scalars, having size=[] ?
// check the type of the arguments
if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");
// check whether size contains positive integers
return e.forEach(function(t){if(!u.isNumber(t)||!u.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+c.format(e)+")")}),i(t,e,0,void 0!==n?n:0),t},/**
 * Re-shape a multi dimensional array to fit the specified dimensions
 * @param {Array} array           Array to be reshaped
 * @param {Array.<number>} sizes  List of sizes for each dimension
 * @returns {Array}               Array whose data has been formatted to fit the
 *                                specified dimensions
 *
 * @throws {DimensionError}       If the product of the new dimension sizes does
 *                                not equal that of the old ones
 */
e.reshape=function(t,n){var r,i=e.flatten(t),s=function(t){return t.reduce(function(t,e){return t*e})};if(!Array.isArray(t)||!Array.isArray(n))throw new TypeError("Array expected");if(0===n.length)throw new l(0,s(e.size(t)),"!=");try{r=o(i,n)}catch(r){if(r instanceof l)throw new l(s(n),s(e.size(t)),"!=");throw r}if(i.length>0)throw new l(s(n),s(e.size(t)),"!=");return r},/**
 * Squeeze a multi dimensional array
 * @param {Array} array
 * @param {Array} [size]
 * @returns {Array} returns the array itself
 */
e.squeeze=function(t,n){
// squeeze outer dimensions
for(var r=n||e.size(t);Array.isArray(t)&&1===t.length;)t=t[0],r.shift();for(
// find the first dimension to be squeezed
var i=r.length;1===r[i-1];)i--;
// squeeze inner dimensions
return i<r.length&&(t=s(t,i,0),r.length=i),t},/**
 * Unsqueeze a multi dimensional array: add dimensions when missing
 * 
 * Paramter `size` will be mutated to match the new, unqueezed matrix size.
 * 
 * @param {Array} array
 * @param {number} dims     Desired number of dimensions of the array
 * @param {number} [outer]  Number of outer dimensions to be added
 * @param {Array} [size]    Current size of array.
 * @returns {Array} returns the array itself
 * @private
 */
e.unsqueeze=function(t,n,r,i){var o=i||e.size(t);
// unsqueeze outer dimensions
if(r)for(var s=0;s<r;s++)t=[t],o.unshift(1);for(
// unsqueeze inner dimensions
t=a(t,n,0);o.length<n;)o.push(1);return t},/**
 * Flatten a multi dimensional array, put all elements in a one dimensional
 * array
 * @param {Array} array   A multi dimensional array
 * @return {Array}        The flattened array (1 dimensional)
 */
e.flatten=function(t){if(!Array.isArray(t))
//if not an array, return as is
return t;var e=[];return t.forEach(function t(n){Array.isArray(n)?n.forEach(t):e.push(n)}),e},/**
 * Test whether an object is an array
 * @param {*} value
 * @return {boolean} isArray
 */
e.isArray=Array.isArray},/* 12 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){var i=t.DenseMatrix,s=function(t,e,n){
// a arrays
var s=t._data,u=t._size,c=t._datatype,l=e._data,f=e._size,p=e._datatype,h=[];
// validate dimensions
if(u.length!==f.length)throw new o(u.length,f.length);
// validate each one of the dimension sizes
for(var d=0;d<u.length;d++){
// must match
if(u[d]!==f[d])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");
// update dimension in c
h[d]=u[d]}
// datatype
var m,v=n;
// process data types
"string"==typeof c&&c===p&&(
// datatype
m=c,
// convert b to the same datatype
e=r.convert(e,m),
// callback
v=r.find(n,[m,m]));
// populate cdata, iterate through dimensions
var y=h.length>0?a(v,0,h,h[0],s,l):[];
// c matrix
return new i({data:y,size:h,datatype:m})},a=function(t,e,n,r,i,o){
// initialize array for this level
var s=[];
// check we reach the last level
if(e===n.length-1)
// loop arrays in last level
for(var u=0;u<r;u++)
// invoke callback and store value
s[u]=t(i[u],o[u]);else
// iterate current level
for(var c=0;c<r;c++)
// iterate next level
s[c]=a(t,e+1,n,n[e+1],i[c],o[c]);return s};return s}var i=n(51),o=n(18),s=i.string;s.isString;e.name="algorithm13",e.factory=r},/* 13 */
,/* 14 */
,/* 15 */
,/* 16 */
,/* 17 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(0),o=n(4),s=n(22),a=n(139),u=n(288),c=n(137),l=function(t){function e(e){t.call(this,e),this.destination=e}return r(e,t),e}(o.Subscriber);e.SubjectSubscriber=l;/**
 * @class Subject<T>
 */
var f=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return r(e,t),e.prototype[c.$$rxSubscriber]=function(){return new l(this)},e.prototype.lift=function(t){var e=new p(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._subscribe=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(t.complete(),s.Subscription.EMPTY):(this.observers.push(t),new u.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new i.Observable;return t.source=this,t},e.create=function(t,e){return new p(t,e)},e}(i.Observable);e.Subject=f;/**
 * @class AnonymousSubject<T>
 */
var p=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return r(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.Subscription.EMPTY},e}(f);e.AnonymousSubject=p},/* 18 */
/***/
function(t,e,n){"use strict";/**
 * Create a range error with the message:
 *     'Dimension mismatch (<actual size> != <expected size>)'
 * @param {number | number[]} actual        The actual size
 * @param {number | number[]} expected      The expected size
 * @param {string} [relation='!=']          Optional relation between actual
 *                                          and expected size: '!=', '<', etc.
 * @extends RangeError
 */
function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}r.prototype=new RangeError,r.prototype.constructor=RangeError,r.prototype.name="DimensionError",r.prototype.isDimensionError=!0,t.exports=r},/* 19 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Test whether two values are equal.
   *
   * @param  {number | BigNumber | Fraction | boolean | Complex | Unit} x   First value to compare
   * @param  {number | BigNumber | Fraction | boolean | Complex} y          Second value to compare
   * @return {boolean}                                                  Returns true when the compared values are equal, else returns false
   * @private
   */
var s=r("equalScalar",{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,n){return t===n||i(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return t.eq(n)||o(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return t.equals(e)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return s(t.value,e.value)},"string, string":function(t,e){return t===e}});return s}var i=n(5).nearlyEqual,o=n(69);e.factory=r},/* 20 */
,/* 21 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){var a=n(6),u=r(n(2)),c=r(n(40)),l=r(n(47)),f=r(n(19)),p=r(n(32)),h=r(n(10)),d=t.DenseMatrix,m=t.SparseMatrix,v=s("multiply",i({
// we extend the signatures of multiplyScalar with signatures dealing with matrices
"Array, Array":function(t,e){
// check dimensions
y(o.size(t),o.size(e));
// use dense matrix implementation
var n=v(u(t),u(e));
// return array or scalar
return n&&!0===n.isMatrix?n.valueOf():n},"Matrix, Matrix":function(t,e){
// dimensions
var n=t.size(),r=e.size();
// process dimensions
// check dimensions
// process dimensions
// process y dimensions
// process y dimensions
return y(n,r),1===n.length?1===r.length?g(t,e,n[0]):b(t,e):1===r.length?_(t,e):x(t,e)},"Matrix, Array":function(t,e){
// use Matrix * Matrix implementation
return v(t,u(e))},"Array, Matrix":function(t,e){
// use Matrix * Matrix implementation
return v(u(t,e.storage()),e)},"Matrix, any":function(t,e){
// result
var n;
// process storage format
switch(t.storage()){case"sparse":n=p(t,e,l,!1);break;case"dense":n=h(t,e,l,!1)}return n},"any, Matrix":function(t,e){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=p(e,t,l,!0);break;case"dense":n=h(e,t,l,!0)}return n},"Array, any":function(t,e){
// use matrix implementation
return h(u(t),e,l,!1).valueOf()},"any, Array":function(t,e){
// use matrix implementation
return h(u(e),t,l,!0).valueOf()},"any, any":l,"any, any, ...any":function(t,e,n){for(var r=v(t,e),i=0;i<n.length;i++)r=v(r,n[i]);return r}},l.signatures)),y=function(t,e){
// check left operand dimensions
switch(t.length){case 1:
// check size2
switch(e.length){case 1:
// Vector x Vector
if(t[0]!==e[0])
// throw error
throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:
// Vector x Matrix
if(t[0]!==e[0])
// throw error
throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:
// check size2
switch(e.length){case 1:
// Matrix x Vector
if(t[1]!==e[0])
// throw error
throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:
// Matrix x Matrix
if(t[1]!==e[0])
// throw error
throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}},g=function(t,e,n){
// check empty vector
if(0===n)throw new Error("Cannot multiply two empty vectors");
// a dense
var r,i=t._data,o=t._datatype,a=e._data,u=e._datatype,f=c,p=l;
// process data types
o&&u&&o===u&&"string"==typeof o&&(
// datatype
r=o,
// find signatures that matches (dt, dt)
f=s.find(c,[r,r]),p=s.find(l,[r,r]));
// loop data
for(var h=p(i[0],a[0]),d=1;d<n;d++)
// multiply and accumulate
h=f(h,p(i[d],a[d]));return h},b=function(t,e){
// process storage
switch(e.storage()){case"dense":return w(t,e)}throw new Error("Not implemented")},w=function(t,e){
// a dense
var n,r=t._data,i=t._size,o=t._datatype,a=e._data,u=e._size,f=e._datatype,p=i[0],h=u[1],m=c,v=l;
// process data types
o&&f&&o===f&&"string"==typeof o&&(
// datatype
n=o,
// find signatures that matches (dt, dt)
m=s.find(c,[n,n]),v=s.find(l,[n,n]));
// loop matrix columns
for(var y=[],g=0;g<h;g++){
// loop vector
for(var b=v(r[0],a[0][g]),w=1;w<p;w++)
// multiply & accumulate
b=m(b,v(r[w],a[w][g]));y[g]=b}
// return matrix
return new d({data:y,size:[h],datatype:n})},_=function(t,e){
// process storage
switch(t.storage()){case"dense":return E(t,e);case"sparse":return N(t,e)}},x=function(t,e){
// process storage
switch(t.storage()){case"dense":
// process storage
switch(e.storage()){case"dense":return C(t,e);case"sparse":return S(t,e)}break;case"sparse":
// process storage
switch(e.storage()){case"dense":return M(t,e);case"sparse":return O(t,e)}}},E=function(t,e){
// a dense
var n,r=t._data,i=t._size,o=t._datatype,a=e._data,u=e._datatype,f=i[0],p=i[1],h=c,m=l;
// process data types
o&&u&&o===u&&"string"==typeof o&&(
// datatype
n=o,
// find signatures that matches (dt, dt)
h=s.find(c,[n,n]),m=s.find(l,[n,n]));
// loop matrix a rows
for(var v=[],y=0;y<f;y++){
// loop matrix a columns
for(var g=r[y],b=m(g[0],a[0]),w=1;w<p;w++)
// multiply & accumulate
b=h(b,m(g[w],a[w]));v[y]=b}
// return matrix
return new d({data:v,size:[f],datatype:n})},C=function(t,e){
// a dense
var n,r=t._data,i=t._size,o=t._datatype,a=e._data,u=e._size,f=e._datatype,p=i[0],h=i[1],m=u[1],v=c,y=l;
// process data types
o&&f&&o===f&&"string"==typeof o&&(
// datatype
n=o,
// find signatures that matches (dt, dt)
v=s.find(c,[n,n]),y=s.find(l,[n,n]));
// loop matrix a rows
for(var g=[],b=0;b<p;b++){
// current row
var w=r[b];
// initialize row array
g[b]=[];
// loop matrix b columns
for(var _=0;_<m;_++){
// loop matrix a columns
for(var x=y(w[0],a[0][_]),E=1;E<h;E++)
// multiply & accumulate
x=v(x,y(w[E],a[E][_]));g[b][_]=x}}
// return matrix
return new d({data:g,size:[p,m],datatype:n})},S=function(t,e){
// a dense
var n=t._data,r=t._size,i=t._datatype,o=e._values,a=e._index,u=e._ptr,p=e._size,h=e._datatype;
// validate b matrix
if(!o)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");
// rows & columns
var d,v=r[0],y=p[1],g=c,b=l,w=f,_=0;
// process data types
i&&h&&i===h&&"string"==typeof i&&(
// datatype
d=i,
// find signatures that matches (dt, dt)
g=s.find(c,[d,d]),b=s.find(l,[d,d]),w=s.find(f,[d,d]),
// convert 0 to the same datatype
_=s.convert(0,d));
// loop b columns
for(var x=[],E=[],C=[],S=new m({values:x,index:E,ptr:C,size:[v,y],datatype:d}),N=0;N<y;N++){
// update ptr
C[N]=E.length;
// indeces in column jb
var M=u[N],O=u[N+1];
// do not process column jb if no data exists
if(O>M)
// loop a rows
for(var T=0,A=0;A<v;A++){
// values in b column j
for(var P,k=A+1,I=M;I<O;I++){
// row
var R=a[I];
// check value has been initialized
T!==k?(
// first value in column jb
P=b(n[A][R],o[I]),
// update mark
T=k):
// accumulate value
P=g(P,b(n[A][R],o[I]))}
// check column has been processed and value != 0
T!==k||w(P,_)||(
// push row & value
E.push(A),x.push(P))}}
// return sparse matrix
// update ptr
return C[y]=E.length,S},N=function(t,e){
// a sparse
var n=t._values,r=t._index,i=t._ptr,o=t._datatype;
// validate a matrix
if(!n)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");
// b dense
var a,u=e._data,p=e._datatype,h=t._size[0],d=e._size[0],v=[],y=[],g=[],b=c,w=l,_=f,x=0;
// process data types
o&&p&&o===p&&"string"==typeof o&&(
// datatype
a=o,
// find signatures that matches (dt, dt)
b=s.find(c,[a,a]),w=s.find(l,[a,a]),_=s.find(f,[a,a]),
// convert 0 to the same datatype
x=s.convert(0,a));
// workspace
var E=[],C=[];
// update ptr
g[0]=0;
// rows in b
for(var S=0;S<d;S++){
// b[ib]
var N=u[S];
// check b[ib] != 0, avoid loops
if(!_(N,x))
// A values & index in ib column
for(var M=i[S],O=i[S+1],T=M;T<O;T++){
// a row
var A=r[T];
// check value exists in current j
C[A]?
// i exists in C already
E[A]=b(E[A],w(N,n[T])):(
// ia is new entry in j
C[A]=!0,
// add i to pattern of C
y.push(A),
// x(ia) = A
E[A]=w(N,n[T]))}}
// copy values from x to column jb of c
for(var P=y.length,k=0;k<P;k++){
// row
var I=y[k];
// copy value
v[k]=E[I]}
// return sparse matrix
// update ptr
return g[1]=y.length,new m({values:v,index:y,ptr:g,size:[h,1],datatype:a})},M=function(t,e){
// a sparse
var n=t._values,r=t._index,i=t._ptr,o=t._datatype;
// validate a matrix
if(!n)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");
// b dense
var a,u=e._data,p=e._datatype,h=t._size[0],d=e._size[0],v=e._size[1],y=c,g=l,b=f,w=0;
// process data types
o&&p&&o===p&&"string"==typeof o&&(
// datatype
a=o,
// find signatures that matches (dt, dt)
y=s.find(c,[a,a]),g=s.find(l,[a,a]),b=s.find(f,[a,a]),
// convert 0 to the same datatype
w=s.convert(0,a));
// loop b columns
for(var _=[],x=[],E=[],C=new m({values:_,index:x,ptr:E,size:[h,v],datatype:a}),S=[],N=[],M=0;M<v;M++){
// update ptr
E[M]=x.length;
// rows in jb
for(var O=M+1,T=0;T<d;T++){
// b[ib, jb]
var A=u[T][M];
// check b[ib, jb] != 0, avoid loops
if(!b(A,w))
// A values & index in ib column
for(var P=i[T],k=i[T+1],I=P;I<k;I++){
// a row
var R=r[I];
// check value exists in current j
N[R]!==O?(
// ia is new entry in j
N[R]=O,
// add i to pattern of C
x.push(R),
// x(ia) = A
S[R]=g(A,n[I])):
// i exists in C already
S[R]=y(S[R],g(A,n[I]))}}
// copy values from x to column jb of c
for(var j=E[M],D=x.length,L=j;L<D;L++){
// row
var F=x[L];
// copy value
_[L]=S[F]}}
// return sparse matrix
// update ptr
return E[v]=x.length,C},O=function(t,e){
// a sparse
var n,r=t._values,i=t._index,o=t._ptr,a=t._datatype,u=e._values,f=e._index,p=e._ptr,h=e._datatype,d=t._size[0],v=e._size[1],y=r&&u,g=c,b=l;
// process data types
a&&h&&a===h&&"string"==typeof a&&(
// datatype
n=a,
// find signatures that matches (dt, dt)
g=s.find(c,[n,n]),b=s.find(l,[n,n]));
// loop b columns
for(var w,_,x,E,C,S,N,M,O=y?[]:void 0,T=[],A=[],P=new m({values:O,index:T,ptr:A,size:[d,v],datatype:n}),k=y?[]:void 0,I=[],R=0;R<v;R++){
// update ptr
A[R]=T.length;
// mark in workspace for current column
var j=R+1;
// B values & index in j
for(C=p[R],S=p[R+1],E=C;E<S;E++)
// check we need to process values
if(
// b row
M=f[E],y)
// loop values in a[:,ib]
for(_=o[M],x=o[M+1],w=_;w<x;w++)
// row
N=i[w],
// check value exists in current j
I[N]!==j?(
// ia is new entry in j
I[N]=j,
// add i to pattern of C
T.push(N),
// x(ia) = A
k[N]=b(u[E],r[w])):
// i exists in C already
k[N]=g(k[N],b(u[E],r[w]));else
// loop values in a[:,ib]
for(_=o[M],x=o[M+1],w=_;w<x;w++)
// row
N=i[w],
// check value exists in current j
I[N]!==j&&(
// ia is new entry in j
I[N]=j,
// add i to pattern of C
T.push(N));
// check we need to process matrix values (pattern matrix)
if(y)
// copy values from x to column jb of c
for(var D=A[R],L=T.length,F=D;F<L;F++){
// row
var U=T[F];
// copy value
O[F]=k[U]}}
// return sparse matrix
// update ptr
return A[v]=T.length,P};return v.toTex={2:"\\left(${args[0]}"+a.operators.multiply+"${args[1]}\\right)"},v}var i=n(9).extend,o=n(11);e.name="multiply",e.factory=r},/* 22 */
/***/
function(t,e,n){"use strict";var r=n(52),i=n(320),o=n(187),s=n(28),a=n(24),u=n(318),c=function(){/**
     * @param {function(): void} [unsubscribe] A function describing how to
     * perform the disposal of resources when the `unsubscribe` method is called.
     */
function t(t){/**
         * A flag to indicate whether this Subscription has already been unsubscribed.
         * @type {boolean}
         */
this.closed=!1,t&&(this._unsubscribe=t)}/**
     * Disposes the resources held by the subscription. May, for instance, cancel
     * an ongoing Observable execution or cancel any other type of work that
     * started when the Subscription was created.
     * @return {void}
     */
/**
     * Adds a tear down to be called during the unsubscribe() of this
     * Subscription.
     *
     * If the tear down being added is a subscription that is already
     * unsubscribed, is the same reference `add` is being called on, or is
     * `Subscription.EMPTY`, it will not be added.
     *
     * If this subscription is already in an `closed` state, the passed
     * tear down logic will be executed immediately.
     *
     * @param {TeardownLogic} teardown The additional logic to execute on
     * teardown.
     * @return {Subscription} Returns the Subscription used or created to be
     * added to the inner subscriptions list. This Subscription can be used with
     * `remove()` to remove the passed teardown logic from the inner subscriptions
     * list.
     */
/**
     * Removes a Subscription from the internal list of subscriptions that will
     * unsubscribe during the unsubscribe process of this Subscription.
     * @param {Subscription} subscription The subscription to remove.
     * @return {void}
     */
return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){this.closed=!0;var n=this,c=n._unsubscribe,l=n._subscriptions;if(this._subscriptions=null,o.isFunction(c)){var f=s.tryCatch(c).call(this);f===a.errorObject&&(e=!0,(t=t||[]).push(a.errorObject.e))}if(r.isArray(l))for(var p=-1,h=l.length;++p<h;){var d=l[p];if(i.isObject(d)){var f=s.tryCatch(d.unsubscribe).call(d);if(f===a.errorObject){e=!0,t=t||[];var m=a.errorObject.e;m instanceof u.UnsubscriptionError?t=t.concat(m.errors):t.push(m)}}}if(e)throw new u.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)break;this.closed?n.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(n);break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return n},t.prototype.remove=function(e){
// HACK: This might be redundant because of the logic in `add()`
if(null!=e&&e!==this&&e!==t.EMPTY){var n=this._subscriptions;if(n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();e.Subscription=c},/* 23 */
/***/
function(t,e,n){"use strict";/* WEBPACK VAR INJECTION */
(function(t){/**
 * @return {?}
 */
function r(){if(!oi){var/** @type {?} */t=ii.Symbol;if(t&&t.iterator)oi=t.iterator;else for(var/** @type {?} */e=Object.getOwnPropertyNames(Map.prototype),/** @type {?} */n=0;n<e.length;++n){var/** @type {?} */r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(oi=r)}}return oi}/**
 * @param {?} fn
 * @return {?}
 */
function i(t){Zone.current.scheduleMicroTask("scheduleMicrotask",t)}/**
 * @param {?} a
 * @param {?} b
 * @return {?}
 */
function o(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}/**
 * @param {?} token
 * @return {?}
 */
function s(t){if("string"==typeof t)return t;if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var/** @type {?} */e=t.toString();if(null==e)return""+e;var/** @type {?} */n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}/**
 * @param {?} annotation
 * @return {?}
 */
function a(t){
// it is a decorator, extract annotation
return"function"==typeof t&&t.hasOwnProperty("annotation")&&(t=t.annotation),t}/**
 * @param {?} fnOrArray
 * @param {?} key
 * @return {?}
 */
function u(t,e){if(t===Object||t===String||t===Function||t===Number||t===Array)throw new Error("Can not use native "+s(t)+" as constructor");if("function"==typeof t)return t;if(Array.isArray(t)){var/** @type {?} */n=t,/** @type {?} */r=n.length-1,/** @type {?} */i=t[r];if("function"!=typeof i)throw new Error("Last position of Class method array must be Function in key "+e+" was '"+s(i)+"'");if(r!=i.length)throw new Error("Number of annotations ("+r+") does not match number of arguments ("+i.length+") in the function: "+s(i));for(var/** @type {?} */o=[],/** @type {?} */u=0,/** @type {?} */c=n.length-1;u<c;u++){var/** @type {?} */l=[];o.push(l);var/** @type {?} */f=n[u];if(Array.isArray(f))for(var/** @type {?} */p=0;p<f.length;p++)l.push(a(f[p]));else"function"==typeof f?l.push(a(f)):l.push(f)}return ai.defineMetadata("parameters",o,i),i}throw new Error("Only Function or Array is supported in Class definition for key '"+e+"' is '"+s(t)+"'")}/**
 * Provides a way for expressing ES6 classes with parameter annotations in ES5.
 *
 * ## Basic Example
 *
 * ```
 * var Greeter = ng.Class({
 *   constructor: function(name) {
 *     this.name = name;
 *   },
 *
 *   greet: function() {
 *     alert('Hello ' + this.name + '!');
 *   }
 * });
 * ```
 *
 * is equivalent to ES6:
 *
 * ```
 * class Greeter {
 *   constructor(name) {
 *     this.name = name;
 *   }
 *
 *   greet() {
 *     alert('Hello ' + this.name + '!');
 *   }
 * }
 * ```
 *
 * or equivalent to ES5:
 *
 * ```
 * var Greeter = function (name) {
 *   this.name = name;
 * }
 *
 * Greeter.prototype.greet = function () {
 *   alert('Hello ' + this.name + '!');
 * }
 * ```
 *
 * ### Example with parameter annotations
 *
 * ```
 * var MyService = ng.Class({
 *   constructor: [String, [new Optional(), Service], function(name, myService) {
 *     ...
 *   }]
 * });
 * ```
 *
 * is equivalent to ES6:
 *
 * ```
 * class MyService {
 *   constructor(name: string, \@Optional() myService: Service) {
 *     ...
 *   }
 * }
 * ```
 *
 * ### Example with inheritance
 *
 * ```
 * var Shape = ng.Class({
 *   constructor: (color) {
 *     this.color = color;
 *   }
 * });
 *
 * var Square = ng.Class({
 *   extends: Shape,
 *   constructor: function(color, size) {
 *     Shape.call(this, color);
 *     this.size = size;
 *   }
 * });
 * ```
 * @suppress {globalThis}
 * \@stable
 * @param {?} clsDef
 * @return {?}
 */
function c(t){var/** @type {?} */e=u(t.hasOwnProperty("constructor")?t.constructor:void 0,"constructor"),/** @type {?} */n=e.prototype;if(t.hasOwnProperty("extends")){if("function"!=typeof t.extends)throw new Error("Class definition 'extends' property must be a constructor function was: "+s(t.extends));e.prototype=n=Object.create(t.extends.prototype)}for(var/** @type {?} */r in t)"extends"!==r&&"prototype"!==r&&t.hasOwnProperty(r)&&(n[r]=u(t[r],r));this&&this.annotations instanceof Array&&ai.defineMetadata("annotations",this.annotations,e);var/** @type {?} */i=e.name;return i&&"constructor"!==i||(e.overriddenName="class"+si++),e}/**
 * @suppress {globalThis}
 * @param {?} name
 * @param {?} props
 * @param {?=} parentClass
 * @param {?=} chainFn
 * @return {?}
 */
function l(t,e,n,r){/**
     * @param {?} objOrType
     * @return {?}
     */
function i(t){if(!ai||!ai.getOwnMetadata)throw"reflect-metadata shim is required when using class decorators";if(this instanceof i)return o.call(this,t),this;var/** @type {?} */e=new i(t),/** @type {?} */n="function"==typeof this&&Array.isArray(this.annotations)?this.annotations:[];n.push(e);var/** @type {?} */s=function(t){var/** @type {?} */n=ai.getOwnMetadata("annotations",t)||[];return n.push(e),ai.defineMetadata("annotations",n,t),t};return s.annotations=n,s.Class=c,r&&r(s),s}var/** @type {?} */o=f([e]);return n&&(i.prototype=Object.create(n.prototype)),i.prototype.toString=function(){return"@"+t},i.annotationCls=i,i}/**
 * @param {?} props
 * @return {?}
 */
function f(t){return function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t.forEach(function(t,r){var/** @type {?} */i=n[r];if(Array.isArray(t))
// plain parameter
e[t[0]]=void 0===i?t[1]:i;else for(var/** @type {?} */o in t)e[o]=i&&i.hasOwnProperty(o)?i[o]:t[o]})}}/**
 * @param {?} name
 * @param {?} props
 * @param {?=} parentClass
 * @return {?}
 */
function p(t,e,n){/**
     * @param {...?} args
     * @return {?}
     */
function r(){/**
         * @param {?} cls
         * @param {?} unusedKey
         * @param {?} index
         * @return {?}
         */
function t(t,e,n){
// there might be gaps if some in between parameters do not have annotations.
// we pad with nulls.
for(var/** @type {?} */r=ai.getOwnMetadata("parameters",t)||[];r.length<=n;)r.push(null);/** @type {?} */
return r[n]=r[n]||[],r[n].push(o),ai.defineMetadata("parameters",r,t),t}for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof r)return i.apply(this,e),this;var/** @type {?} */o=new(r.bind.apply(r,[void 0].concat(e)));return t.annotation=o,t}var/** @type {?} */i=f(e);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.toString=function(){return"@"+t},r.annotationCls=r,r}/**
 * @param {?} name
 * @param {?} props
 * @param {?=} parentClass
 * @return {?}
 */
function h(t,e,n){/**
     * @param {...?} args
     * @return {?}
     */
function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this instanceof r)return i.apply(this,t),this;var/** @type {?} */n=new(r.bind.apply(r,[void 0].concat(t)));return function(t,e){var/** @type {?} */r=ai.getOwnMetadata("propMetadata",t.constructor)||{};r[e]=r.hasOwnProperty(e)&&r[e]||[],r[e].unshift(n),ai.defineMetadata("propMetadata",r,t.constructor)}}var/** @type {?} */i=f(e);return n&&(r.prototype=Object.create(n.prototype)),r.prototype.toString=function(){return"@"+t},r.annotationCls=r,r}/**
 * @param {?} changeDetectionStrategy
 * @return {?}
 */
function d(t){return null==t||t===mi.Default}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Allows to refer to references which are not yet defined.
 *
 * For instance, `forwardRef` is used when the `token` which we need to refer to for the purposes of
 * DI is declared,
 * but not yet defined. It is also used when the `token` which we use when creating a query is not
 * yet defined.
 *
 * ### Example
 * {\@example core/di/ts/forward_ref/forward_ref_spec.ts region='forward_ref'}
 * \@experimental
 * @param {?} forwardRefFn
 * @return {?}
 */
function m(t){return t.__forward_ref__=m,t.toString=function(){return s(this())},t}/**
 * Lazily retrieves the reference value from a forwardRef.
 *
 * Acts as the identity function when given a non-forward-ref value.
 *
 * ### Example ([live demo](http://plnkr.co/edit/GU72mJrk1fiodChcmiDR?p=preview))
 *
 * {\@example core/di/ts/forward_ref/forward_ref_spec.ts region='resolve_forward_ref'}
 *
 * See: {\@link forwardRef}
 * \@experimental
 * @param {?} type
 * @return {?}
 */
function v(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===m?t():t}/**
 * @param {?} error
 * @return {?}
 */
/**
 * @param {?} error
 * @return {?}
 */
function y(t){return t[zi]}/**
 * @param {?} error
 * @return {?}
 */
function g(t){return t[qi]}/**
 * @param {?} error
 * @return {?}
 */
function b(t){return t[Hi]||w}/**
 * @param {?} console
 * @param {...?} values
 * @return {?}
 */
function w(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,e)}/**
 * @param {?} message
 * @param {?} originalError
 * @return {?}
 */
function _(t,e){var/** @type {?} */n=t+" caused by: "+(e instanceof Error?e.message:e),/** @type {?} */r=Error(n);return r[qi]=e,r}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} keys
 * @return {?}
 */
function x(t){for(var/** @type {?} */e=[],/** @type {?} */n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}/**
 * @param {?} keys
 * @return {?}
 */
function E(t){if(t.length>1){return" ("+x(t.slice().reverse()).map(function(t){return s(t.token)}).join(" -> ")+")"}return""}/**
 * @param {?} injector
 * @param {?} key
 * @param {?} constructResolvingMessage
 * @param {?=} originalError
 * @return {?}
 */
function C(t,e,n,r){var/** @type {?} */i=r?_("",r):Error();return i.addKey=S,i.keys=[e],i.injectors=[t],i.constructResolvingMessage=n,i.message=i.constructResolvingMessage(),i[qi]=r,i}/**
 * @this {?}
 * @param {?} injector
 * @param {?} key
 * @return {?}
 */
function S(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage()}/**
 * Thrown when trying to retrieve a dependency by key from {\@link Injector}, but the
 * {\@link Injector} does not have a {\@link Provider} for the given key.
 *
 * ### Example ([live demo](http://plnkr.co/edit/vq8D3FRB9aGbnWJqtEPE?p=preview))
 *
 * ```typescript
 * class A {
 *   constructor(b:B) {}
 * }
 *
 * expect(() => Injector.resolveAndCreate([A])).toThrowError();
 * ```
 * @param {?} injector
 * @param {?} key
 * @return {?}
 */
function N(t,e){return C(t,e,function(){return"No provider for "+s(this.keys[0].token)+"!"+E(this.keys)})}/**
 * Thrown when dependencies form a cycle.
 *
 * ### Example ([live demo](http://plnkr.co/edit/wYQdNos0Tzql3ei1EV9j?p=info))
 *
 * ```typescript
 * var injector = Injector.resolveAndCreate([
 *   {provide: "one", useFactory: (two) => "two", deps: [[new Inject("two")]]},
 *   {provide: "two", useFactory: (one) => "one", deps: [[new Inject("one")]]}
 * ]);
 *
 * expect(() => injector.get("one")).toThrowError();
 * ```
 *
 * Retrieving `A` or `B` throws a `CyclicDependencyError` as the graph above cannot be constructed.
 * @param {?} injector
 * @param {?} key
 * @return {?}
 */
function M(t,e){return C(t,e,function(){return"Cannot instantiate cyclic dependency!"+E(this.keys)})}/**
 * Thrown when a constructing type returns with an Error.
 *
 * The `InstantiationError` class contains the original error plus the dependency graph which caused
 * this object to be instantiated.
 *
 * ### Example ([live demo](http://plnkr.co/edit/7aWYdcqTQsP0eNqEdUAf?p=preview))
 *
 * ```typescript
 * class A {
 *   constructor() {
 *     throw new Error('message');
 *   }
 * }
 *
 * var injector = Injector.resolveAndCreate([A]);
 * try {
 *   injector.get(A);
 * } catch (e) {
 *   expect(e instanceof InstantiationError).toBe(true);
 *   expect(e.originalException.message).toEqual("message");
 *   expect(e.originalStack).toBeDefined();
 * }
 * ```
 * @param {?} injector
 * @param {?} originalException
 * @param {?} originalStack
 * @param {?} key
 * @return {?}
 */
function O(t,e,n,r){return C(t,r,function(){var/** @type {?} */t=s(this.keys[0].token);return g(this).message+": Error during instantiation of "+t+"!"+E(this.keys)+"."},e)}/**
 * Thrown when an object other then {\@link Provider} (or `Type`) is passed to {\@link Injector}
 * creation.
 *
 * ### Example ([live demo](http://plnkr.co/edit/YatCFbPAMCL0JSSQ4mvH?p=preview))
 *
 * ```typescript
 * expect(() => Injector.resolveAndCreate(["not a type"])).toThrowError();
 * ```
 * @param {?} provider
 * @return {?}
 */
function T(t){return Error("Invalid provider - only instances of Provider and Type are allowed, got: "+t)}/**
 * Thrown when the class has no annotation information.
 *
 * Lack of annotation information prevents the {\@link Injector} from determining which dependencies
 * need to be injected into the constructor.
 *
 * ### Example ([live demo](http://plnkr.co/edit/rHnZtlNS7vJOPQ6pcVkm?p=preview))
 *
 * ```typescript
 * class A {
 *   constructor(b) {}
 * }
 *
 * expect(() => Injector.resolveAndCreate([A])).toThrowError();
 * ```
 *
 * This error is also thrown when the class not marked with {\@link Injectable} has parameter types.
 *
 * ```typescript
 * class B {}
 *
 * class A {
 *   constructor(b:B) {} // no information about the parameter types of A is available at runtime.
 * }
 *
 * expect(() => Injector.resolveAndCreate([A,B])).toThrowError();
 * ```
 * \@stable
 * @param {?} typeOrFunc
 * @param {?} params
 * @return {?}
 */
function A(t,e){for(var/** @type {?} */n=[],/** @type {?} */r=0,/** @type {?} */i=e.length;r<i;r++){var/** @type {?} */o=e[r];o&&0!=o.length?n.push(o.map(s).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+s(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+s(t)+"' is decorated with Injectable.")}/**
 * Thrown when getting an object by index.
 *
 * ### Example ([live demo](http://plnkr.co/edit/bRs0SX2OTQiJzqvjgl8P?p=preview))
 *
 * ```typescript
 * class A {}
 *
 * var injector = Injector.resolveAndCreate([A]);
 *
 * expect(() => injector.getAt(100)).toThrowError();
 * ```
 * \@stable
 * @param {?} index
 * @return {?}
 */
function P(t){return Error("Index "+t+" is out-of-bounds.")}/**
 * Thrown when a multi provider and a regular provider are bound to the same token.
 *
 * ### Example
 *
 * ```typescript
 * expect(() => Injector.resolveAndCreate([
 *   { provide: "Strings", useValue: "string1", multi: true},
 *   { provide: "Strings", useValue: "string2", multi: false}
 * ])).toThrowError();
 * ```
 * @param {?} provider1
 * @param {?} provider2
 * @return {?}
 */
function k(t,e){return Error("Cannot mix multi providers and regular providers, got: "+t+" "+e)}/**
 * @param {?} v
 * @return {?}
 */
function I(t){return"function"==typeof t}/**
 * @param {?} decoratorInvocations
 * @return {?}
 */
function R(t){return t?t.map(function(t){var/** @type {?} */e=t.type,/** @type {?} */n=e.annotationCls,/** @type {?} */r=t.args?t.args:[];return new(n.bind.apply(n,[void 0].concat(r)))}):[]}/**
 * @param {?} ctor
 * @return {?}
 */
function j(t){var/** @type {?} */e=Object.getPrototypeOf(t.prototype);
// Note: We always use `Object` as the null value
// to simplify checking later on.
return(e?e.constructor:null)||Object}/**
 * Resolve a single provider.
 * @param {?} provider
 * @return {?}
 */
function D(t){var/** @type {?} */e,/** @type {?} */n;if(t.useClass){var/** @type {?} */r=v(t.useClass);e=to.factory(r),n=z(r)}else t.useExisting?(e=function(t){return t},n=[eo.fromKey(Wi.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=B(t.useFactory,t.deps)):(e=function(){return t.useValue},n=no);return new io(e,n)}/**
 * Converts the {\@link Provider} into {\@link ResolvedProvider}.
 *
 * {\@link Injector} internally only uses {\@link ResolvedProvider}, {\@link Provider} contains
 * convenience provider syntax.
 * @param {?} provider
 * @return {?}
 */
function L(t){return new ro(Wi.get(t.provide),[D(t)],t.multi||!1)}/**
 * Resolve a list of Providers.
 * @param {?} providers
 * @return {?}
 */
function F(t){var/** @type {?} */e=V(t,[]),/** @type {?} */n=e.map(L),/** @type {?} */r=U(n,new Map);return Array.from(r.values())}/**
 * Merges a list of ResolvedProviders into a list where
 * each key is contained exactly once and multi providers
 * have been merged.
 * @param {?} providers
 * @param {?} normalizedProvidersMap
 * @return {?}
 */
function U(t,e){for(var/** @type {?} */n=0;n<t.length;n++){var/** @type {?} */r=t[n],/** @type {?} */i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw k(i,r);if(r.multiProvider)for(var/** @type {?} */o=0;o<r.resolvedFactories.length;o++)i.resolvedFactories.push(r.resolvedFactories[o]);else e.set(r.key.id,r)}else{var/** @type {?} */s=void 0;s=r.multiProvider?new ro(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,s)}}return e}/**
 * @param {?} providers
 * @param {?} res
 * @return {?}
 */
function V(t,e){return t.forEach(function(t){if(t instanceof Xi)e.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)e.push(/** @type {?} */t);else{if(!(t instanceof Array))throw T(t);V(t,e)}}),e}/**
 * @param {?} typeOrFunc
 * @param {?=} dependencies
 * @return {?}
 */
function B(t,e){if(e){var/** @type {?} */n=e.map(function(t){return[t]});return e.map(function(e){return q(t,e,n)})}return z(t)}/**
 * @param {?} typeOrFunc
 * @return {?}
 */
function z(t){var/** @type {?} */e=to.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw A(t,e);return e.map(function(n){return q(t,n,e)})}/**
 * @param {?} typeOrFunc
 * @param {?} metadata
 * @param {?} params
 * @return {?}
 */
function q(t,e,n){var/** @type {?} */r=null,/** @type {?} */i=!1;if(!Array.isArray(e))return e instanceof Pi?H(e.token,i,null):H(e,i,null);for(var/** @type {?} */o=null,/** @type {?} */s=0;s<e.length;++s){var/** @type {?} */a=e[s];a instanceof Xi?r=a:a instanceof Pi?r=a.token:a instanceof ki?i=!0:a instanceof Ri||a instanceof ji?o=a:a instanceof ti&&(r=a)}if(null!=(r=v(r)))return H(r,i,o);throw A(t,n)}/**
 * @param {?} token
 * @param {?} optional
 * @param {?} visibility
 * @return {?}
 */
function H(t,e,n){return new eo(Wi.get(t),e,n)}/**
 * @param {?} injector
 * @param {?} fn
 * @return {?}
 */
function G(t,e){for(var/** @type {?} */n=new Array(t._providers.length),/** @type {?} */r=0;r<t._providers.length;++r)n[r]=e(t.getProviderAtIndex(r));return n}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @module
 * @description
 * The `di` module provides dependency injection container services.
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Determine if the argument is shaped like a Promise
 * @param {?} obj
 * @return {?}
 */
function W(t){
// allow any Promise/A+ compliant thenable.
// It's up to the caller to ensure that obj.then conforms to the spec
return!!t&&"function"==typeof t.then}/**
 * Determine if the argument is an Observable
 * @param {?} obj
 * @return {?}
 */
function $(t){
// TODO use Symbol.observable when https://github.com/ReactiveX/rxjs/issues/2415 will be resolved
return!!t&&"function"==typeof t.subscribe}/**
 * @return {?}
 */
function Y(){return""+X()+X()+X()}/**
 * @return {?}
 */
function X(){return String.fromCharCode(97+Math.floor(25*Math.random()))}/**
 * @return {?}
 */
function Z(){throw new Error("Runtime compiler is not loaded")}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} component
 * @return {?}
 */
function K(t){var/** @type {?} */e=Error("No component factory found for "+s(t)+". Did you add it to @NgModule.entryComponents?");return e[So]=t,e}/**
 * @return {?}
 */
function Q(){var/** @type {?} */t=ii.wtf;return!(!t||!(Oo=t.trace))&&(To=Oo.events,!0)}/**
 * @param {?} signature
 * @param {?=} flags
 * @return {?}
 */
function J(t,e){return void 0===e&&(e=null),To.createScope(t,e)}/**
 * @template T
 * @param {?} scope
 * @param {?=} returnValue
 * @return {?}
 */
function tt(t,e){return Oo.leaveScope(t,e),e}/**
 * @param {?} rangeType
 * @param {?} action
 * @return {?}
 */
function et(t,e){return Oo.beginTimeRange(t,e)}/**
 * @param {?} range
 * @return {?}
 */
function nt(t){Oo.endTimeRange(t)}/**
 * @param {?=} arg0
 * @param {?=} arg1
 * @return {?}
 */
function rt(t,e){return null}/**
 * Set the {\@link GetTestability} implementation used by the Angular testing framework.
 * \@experimental
 * @param {?} getter
 * @return {?}
 */
function it(t){$o=t}/**
 * Disable Angular's development mode, which turns off assertions and other
 * checks within the framework.
 *
 * One important assertion this disables verifies that a change detection pass
 * does not result in additional changes to any bindings (also known as
 * unidirectional data flow).
 *
 * \@stable
 * @return {?}
 */
function ot(){if(Xo)throw new Error("Cannot enable prod mode after platform setup.");Yo=!1}/**
 * Returns whether Angular is in development mode. After called once,
 * the value is locked and won't change any more.
 *
 * By default, this is true, unless a user calls `enableProdMode` before calling this.
 *
 * \@experimental APIs related to application bootstrap are currently under review.
 * @return {?}
 */
function st(){return Xo=!0,Yo}/**
 * Creates a platform.
 * Platforms have to be eagerly created via this function.
 *
 * \@experimental APIs related to application bootstrap are currently under review.
 * @param {?} injector
 * @return {?}
 */
function at(t){if(Go&&!Go.destroyed&&!Go.injector.get(Zo,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Go=t.get(Qo);var/** @type {?} */e=t.get(ho,null);return e&&e.forEach(function(t){return t()}),Go}/**
 * Creates a factory for a platform
 *
 * \@experimental APIs related to application bootstrap are currently under review.
 * @param {?} parentPlatformFactory
 * @param {?} name
 * @param {?=} providers
 * @return {?}
 */
function ut(t,e,n){void 0===n&&(n=[]);var/** @type {?} */r=new ti("Platform: "+e);return function(e){void 0===e&&(e=[]);var/** @type {?} */i=ft();return i&&!i.injector.get(Zo,!1)||(t?t(n.concat(e).concat({provide:r,useValue:!0})):at(so.resolveAndCreate(n.concat(e).concat({provide:r,useValue:!0})))),ct(r)}}/**
 * Checks that there currently is a platform which contains the given token as a provider.
 *
 * \@experimental APIs related to application bootstrap are currently under review.
 * @param {?} requiredToken
 * @return {?}
 */
function ct(t){var/** @type {?} */e=ft();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}/**
 * Destroy the existing platform.
 *
 * \@experimental APIs related to application bootstrap are currently under review.
 * @return {?}
 */
function lt(){Go&&!Go.destroyed&&Go.destroy()}/**
 * Returns the current platform.
 *
 * \@experimental APIs related to application bootstrap are currently under review.
 * @return {?}
 */
function ft(){return Go&&!Go.destroyed?Go:null}/**
 * @param {?} errorHandler
 * @param {?} callback
 * @return {?}
 */
function pt(t,e){try{var/** @type {?} */n=e();return W(n)?n.catch(function(e){
// rethrow as the exception handler might not do it
throw t.handleError(e),e}):n}catch(e){
// rethrow as the exception handler might not do it
throw t.handleError(e),e}}/**
 * @template T
 * @param {?} list
 * @param {?} el
 * @return {?}
 */
function ht(t,e){var/** @type {?} */n=t.indexOf(e);n>-1&&t.splice(n,1)}/**
 * Registers a loaded module. Should only be called from generated NgModuleFactory code.
 * \@experimental
 * @param {?} id
 * @param {?} factory
 * @return {?}
 */
function dt(t,e){var/** @type {?} */n=fs.get(t);if(n)throw new Error("Duplicate module registered for "+t+" - "+n.moduleType.name+" vs "+e.moduleType.name);fs.set(t,e)}/**
 * @return {?}
 */
/**
 * Returns the NgModuleFactory with the given id, if it exists and has been loaded.
 * Factories for modules that do not specify an `id` cannot be retrieved. Throws if the module
 * cannot be found.
 * \@experimental
 * @param {?} id
 * @return {?}
 */
function mt(t){var/** @type {?} */e=fs.get(t);if(!e)throw new Error("No module with ID "+t+" loaded");return e}/**
 * @template T
 * @param {?} list
 * @return {?}
 */
function vt(t){return t.reduce(function(t,e){var/** @type {?} */n=Array.isArray(e)?vt(e):e;return t.concat(n)},[])}/**
 * @param {?} value
 * @param {?} modulePath
 * @param {?} exportName
 * @return {?}
 */
function yt(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}/**
 * \@experimental
 * @param {?} debugEls
 * @return {?}
 */
function gt(t){return t.map(function(t){return t.nativeElement})}/**
 * @param {?} element
 * @param {?} predicate
 * @param {?} matches
 * @return {?}
 */
function bt(t,e,n){t.childNodes.forEach(function(t){t instanceof Es&&(e(t)&&n.push(t),bt(t,e,n))})}/**
 * @param {?} parentNode
 * @param {?} predicate
 * @param {?} matches
 * @return {?}
 */
function wt(t,e,n){t instanceof Es&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof Es&&wt(t,e,n)})}/**
 * \@experimental
 * @param {?} nativeNode
 * @return {?}
 */
function _t(t){return Cs.get(t)||null}/**
 * @return {?}
 */
/**
 * @param {?} node
 * @return {?}
 */
function xt(t){Cs.set(t.nativeNode,t)}/**
 * @param {?} node
 * @return {?}
 */
function Et(t){Cs.delete(t.nativeNode)}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} a
 * @param {?} b
 * @return {?}
 */
function Ct(t,e){var/** @type {?} */n=St(t),/** @type {?} */r=St(e);if(n&&r)return Nt(t,e,Ct);var/** @type {?} */i=t&&("object"==typeof t||"function"==typeof t),/** @type {?} */s=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!s)||o(t,e)}/**
 * @param {?} obj
 * @return {?}
 */
function St(t){return!!Ot(t)&&(Array.isArray(t)||!(t instanceof Map)&&r()in t)}/**
 * @param {?} a
 * @param {?} b
 * @param {?} comparator
 * @return {?}
 */
function Nt(t,e,n){for(var/** @type {?} */i=t[r()](),/** @type {?} */o=e[r()]();;){var/** @type {?} */s=i.next(),/** @type {?} */a=o.next();if(s.done&&a.done)return!0;if(s.done||a.done)return!1;if(!n(s.value,a.value))return!1}}/**
 * @param {?} obj
 * @param {?} fn
 * @return {?}
 */
function Mt(t,e){if(Array.isArray(t))for(var/** @type {?} */n=0;n<t.length;n++)e(t[n]);else for(var/** @type {?} */i=t[r()](),/** @type {?} */o=void 0;!(o=i.next()).done;)e(o.value)}/**
 * @param {?} o
 * @return {?}
 */
function Ot(t){return null!==t&&("function"==typeof t||"object"==typeof t)}/**
 * @param {?} item
 * @param {?} addRemoveOffset
 * @param {?} moveOffsets
 * @return {?}
 */
function Tt(t,e,n){var/** @type {?} */r=t.previousIndex;if(null===r)return r;var/** @type {?} */i=0;return n&&r<n.length&&(i=n[r]),r+e+i}/**
 * @param {?} type
 * @return {?}
 */
function At(t){return t.name||typeof t}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @module
 * @description
 * Change detection enables data binding in Angular.
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @return {?}
 */
function Pt(){return to}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Node instance data.
 *
 * We have a separate type per NodeType to save memory
 * (TextData | ElementData | ProviderData | PureExpressionData | QueryList<any>)
 *
 * To keep our code monomorphic,
 * we prohibit using `NodeData` directly but enforce the use of accessors (`asElementData`, ...).
 * This way, no usage site can get a `NodeData` from view.nodes and then use it for different
 * purposes.
 */
/**
 * Accessor for view.nodes, enforcing that every usage site stays monomorphic.
 * @param {?} view
 * @param {?} index
 * @return {?}
 */
function kt(t,e){return t.nodes[e]}/**
 * Accessor for view.nodes, enforcing that every usage site stays monomorphic.
 * @param {?} view
 * @param {?} index
 * @return {?}
 */
function It(t,e){return t.nodes[e]}/**
 * Accessor for view.nodes, enforcing that every usage site stays monomorphic.
 * @param {?} view
 * @param {?} index
 * @return {?}
 */
function Rt(t,e){return t.nodes[e]}/**
 * Accessor for view.nodes, enforcing that every usage site stays monomorphic.
 * @param {?} view
 * @param {?} index
 * @return {?}
 */
function jt(t,e){return t.nodes[e]}/**
 * Accessor for view.nodes, enforcing that every usage site stays monomorphic.
 * @param {?} view
 * @param {?} index
 * @return {?}
 */
function Dt(t,e){return t.nodes[e]}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} context
 * @param {?} oldValue
 * @param {?} currValue
 * @param {?} isFirstCheck
 * @return {?}
 */
function Lt(t,e,n,r){var/** @type {?} */i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),Ut(i,t)}/**
 * @param {?} err
 * @param {?} context
 * @return {?}
 */
function Ft(t,e){
// errors that are not Error instances don't have a stack,
// so it is ok to wrap them into a new Error object...
return t instanceof Error||(t=new Error(t.toString())),Vt(t,e),t}/**
 * @param {?} msg
 * @param {?} context
 * @return {?}
 */
function Ut(t,e){var/** @type {?} */n=new Error(t);return Vt(n,e),n}/**
 * @param {?} err
 * @param {?} context
 * @return {?}
 */
function Vt(t,e){t[zi]=e,t[Hi]=e.logError.bind(e)}/**
 * @param {?} err
 * @return {?}
 */
function Bt(t){return!!y(t)}/**
 * @param {?} action
 * @return {?}
 */
function zt(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}/**
 * @param {?} token
 * @return {?}
 */
function qt(t){var/** @type {?} */e=ta.get(t);return e||(e=s(t)+"_"+ta.size,ta.set(t,e)),e}/**
 * @param {?} view
 * @param {?} nodeIdx
 * @param {?} bindingIdx
 * @param {?} value
 * @return {?}
 */
function Ht(t,e,n,r){if(r instanceof Ss){r=r.wrapped;var/** @type {?} */i=t.def.nodes[e].bindingIndex+n,/** @type {?} */o=t.oldValues[i];o instanceof Ss&&(o=o.wrapped),t.oldValues[i]=new Ss(o)}return r}/**
 * @param {?} values
 * @return {?}
 */
function Gt(t){return{id:ea,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}/**
 * @param {?=} type
 * @return {?}
 */
function Wt(t){if(t&&t.id===ea){
// first time we see this RendererType2. Initialize it...
var/** @type {?} */e=null!=t.encapsulation&&t.encapsulation!==Mi.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+ra++:na}return t&&t.id===na&&(t=null),t||null}/**
 * @param {?} view
 * @param {?} def
 * @param {?} bindingIdx
 * @param {?} value
 * @return {?}
 */
function $t(t,e,n,r){var/** @type {?} */i=t.oldValues;return!(!(1&t.state)&&o(i[e.bindingIndex+n],r))}/**
 * @param {?} view
 * @param {?} def
 * @param {?} bindingIdx
 * @param {?} value
 * @return {?}
 */
function Yt(t,e,n,r){return!!$t(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}/**
 * @param {?} view
 * @param {?} def
 * @param {?} bindingIdx
 * @param {?} value
 * @return {?}
 */
function Xt(t,e,n,r){var/** @type {?} */i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Ct(i,r))throw Lt(Qs.createDebugContext(t,e.index),i,r,0!=(1&t.state))}/**
 * @param {?} view
 * @return {?}
 */
function Zt(t){for(var/** @type {?} */e=t;e;)2&e.def.flags&&(e.state|=2),e=e.viewContainerParent||e.parent}/**
 * @param {?} view
 * @param {?} nodeIndex
 * @param {?} eventName
 * @param {?} event
 * @return {?}
 */
function Kt(t,e,n,r){return Zt(16777216&t.def.nodes[e].flags?It(t,e).componentView:t),Qs.handleEvent(t,e,n,r)}/**
 * @param {?} view
 * @return {?}
 */
function Qt(t){if(t.parent){/** @type {?} */
return It(t.parent,t.parentNodeDef.index)}return null}/**
 * for component views, this is the host element.
 * for embedded views, this is the index of the parent node
 * that contains the view container.
 * @param {?} view
 * @return {?}
 */
function Jt(t){return t.parent?t.parentNodeDef.parent:null}/**
 * @param {?} view
 * @param {?} def
 * @return {?}
 */
function te(t,e){switch(100673535&e.flags){case 1:return It(t,e.index).renderElement;case 2:return kt(t,e.index).renderText}}/**
 * @param {?} target
 * @param {?} name
 * @return {?}
 */
function ee(t,e){return t?t+":"+e:e}/**
 * @param {?} view
 * @return {?}
 */
function ne(t){return!!t.parent&&!!(16384&t.parentNodeDef.flags)}/**
 * @param {?} view
 * @return {?}
 */
function re(t){return!(!t.parent||16384&t.parentNodeDef.flags)}/**
 * @param {?} queryId
 * @return {?}
 */
function ie(t){return 1<<t%32}/**
 * @param {?} matchedQueriesDsl
 * @return {?}
 */
function oe(t){var/** @type {?} */e={},/** @type {?} */n=0,/** @type {?} */r={};return t&&t.forEach(function(t){var i=t[0],o=t[1];"number"==typeof i?(e[i]=o,n|=ie(i)):r[i]=o}),{matchedQueries:e,references:r,matchedQueryIds:n}}/**
 * @param {?} view
 * @param {?} renderHost
 * @param {?} def
 * @return {?}
 */
function se(t,e,n){var/** @type {?} */r=n.renderParent;/** @type {?} */
return r?0==(1&r.flags)||0==(16777216&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Mi.Native?It(t,n.renderParent.index).renderElement:void 0:e}/**
 * @param {?} factory
 * @return {?}
 */
function ae(t){var/** @type {?} */e=ia.get(t);return e||(e=t(function(){return Js}),e.factory=t,ia.set(t,e)),e}/**
 * @param {?} view
 * @return {?}
 */
function ue(t){var/** @type {?} */e=[];return ce(t,0,void 0,void 0,e),e}/**
 * @param {?} view
 * @param {?} action
 * @param {?} parentNode
 * @param {?} nextSibling
 * @param {?=} target
 * @return {?}
 */
function ce(t,e,n,r,i){
// We need to re-compute the parent node in case the nodes have been moved around manually
3===e&&(n=t.renderer.parentNode(te(t,/** @type {?} */t.def.lastRenderRootNode))),le(t,e,0,t.def.nodes.length-1,n,r,i)}/**
 * @param {?} view
 * @param {?} action
 * @param {?} startIndex
 * @param {?} endIndex
 * @param {?} parentNode
 * @param {?} nextSibling
 * @param {?=} target
 * @return {?}
 */
function le(t,e,n,r,i,o,s){for(var/** @type {?} */a=n;a<=r;a++){var/** @type {?} */u=t.def.nodes[a];7&u.flags&&pe(t,u,e,i,o,s),
// jump to next sibling
a+=u.childCount}}/**
 * @param {?} view
 * @param {?} ngContentIndex
 * @param {?} action
 * @param {?} parentNode
 * @param {?} nextSibling
 * @param {?=} target
 * @return {?}
 */
function fe(t,e,n,r,i,o){for(var/** @type {?} */s=t;s&&!ne(s);)s=s.parent;for(var/** @type {?} */a=s.parent,/** @type {?} */u=Jt(/** @type {?} */s),/** @type {?} */c=u.index+1,/** @type {?} */l=u.index+u.childCount,/** @type {?} */f=c;f<=l;f++){var/** @type {?} */p=a.def.nodes[f];p.ngContentIndex===e&&pe(/** @type {?} */a,p,n,r,i,o),
// jump to next sibling
f+=p.childCount}if(!a.parent){
// a root view
var/** @type {?} */h=t.root.projectableNodes[e];if(h)for(var/** @type {?} */f=0;f<h.length;f++)he(t,h[f],n,r,i,o)}}/**
 * @param {?} view
 * @param {?} nodeDef
 * @param {?} action
 * @param {?} parentNode
 * @param {?} nextSibling
 * @param {?=} target
 * @return {?}
 */
function pe(t,e,n,r,i,o){if(4&e.flags)fe(t,/** @type {?} */e.ngContent.index,n,r,i,o);else{var/** @type {?} */s=te(t,e);if(3===n&&16777216&e.flags&&48&e.bindingFlags){if(
// Note: we might need to do both actions.
16&e.bindingFlags&&he(t,s,n,r,i,o),32&e.bindingFlags){var/** @type {?} */a=It(t,e.index).componentView;he(a,s,n,r,i,o)}}else he(t,s,n,r,i,o);if(8388608&e.flags)for(var/** @type {?} */u=It(t,e.index).viewContainer._embeddedViews,/** @type {?} */c=0;c<u.length;c++)ce(u[c],n,r,i,o);1&e.flags&&!e.element.name&&le(t,n,e.index+1,e.index+e.childCount,r,i,o)}}/**
 * @param {?} view
 * @param {?} renderNode
 * @param {?} action
 * @param {?} parentNode
 * @param {?} nextSibling
 * @param {?=} target
 * @return {?}
 */
function he(t,e,n,r,i,o){var/** @type {?} */s=t.renderer;switch(n){case 1:s.appendChild(r,e);break;case 2:s.insertBefore(r,e,i);break;case 3:s.removeChild(r,e);break;case 0:o.push(e)}}/**
 * @param {?} name
 * @return {?}
 */
function de(t){if(":"===t[0]){var/** @type {?} */e=t.match(oa);return[e[1],e[2]]}return["",t]}/**
 * @param {?} bindings
 * @return {?}
 */
function me(t){for(var/** @type {?} */e=0,/** @type {?} */n=0;n<t.length;n++)e|=t[n].flags;return e}/**
 * @param {?} valueCount
 * @param {?} constAndInterp
 * @return {?}
 */
function ve(t,e){for(var/** @type {?} */n="",/** @type {?} */r=0;r<2*t;r+=2)n=n+e[r]+ge(e[r+1]);return n+e[2*t]}/**
 * @param {?} valueCount
 * @param {?} c0
 * @param {?} a1
 * @param {?} c1
 * @param {?=} a2
 * @param {?=} c2
 * @param {?=} a3
 * @param {?=} c3
 * @param {?=} a4
 * @param {?=} c4
 * @param {?=} a5
 * @param {?=} c5
 * @param {?=} a6
 * @param {?=} c6
 * @param {?=} a7
 * @param {?=} c7
 * @param {?=} a8
 * @param {?=} c8
 * @param {?=} a9
 * @param {?=} c9
 * @return {?}
 */
function ye(t,e,n,r,i,o,s,a,u,c,l,f,p,h,d,m,v,y,g,b){switch(t){case 1:return e+ge(n)+r;case 2:return e+ge(n)+r+ge(i)+o;case 3:return e+ge(n)+r+ge(i)+o+ge(s)+a;case 4:return e+ge(n)+r+ge(i)+o+ge(s)+a+ge(u)+c;case 5:return e+ge(n)+r+ge(i)+o+ge(s)+a+ge(u)+c+ge(l)+f;case 6:return e+ge(n)+r+ge(i)+o+ge(s)+a+ge(u)+c+ge(l)+f+ge(p)+h;case 7:return e+ge(n)+r+ge(i)+o+ge(s)+a+ge(u)+c+ge(l)+f+ge(p)+h+ge(d)+m;case 8:return e+ge(n)+r+ge(i)+o+ge(s)+a+ge(u)+c+ge(l)+f+ge(p)+h+ge(d)+m+ge(v)+y;case 9:return e+ge(n)+r+ge(i)+o+ge(s)+a+ge(u)+c+ge(l)+f+ge(p)+h+ge(d)+m+ge(v)+y+ge(g)+b;default:throw new Error("Does not support more than 9 expressions")}}/**
 * @param {?} v
 * @return {?}
 */
function ge(t){return null!=t?t.toString():""}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} flags
 * @param {?} matchedQueriesDsl
 * @param {?} ngContentIndex
 * @param {?} childCount
 * @param {?=} handleEvent
 * @param {?=} templateFactory
 * @return {?}
 */
function be(t,e,n,r,i,o){t|=1;var s=oe(e),a=s.matchedQueries,u=s.references;return{
// will bet set by the view definition
index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,
// regular values
flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a,matchedQueryIds:s.matchedQueryIds,references:u,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?ae(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Js},provider:null,text:null,query:null,ngContent:null}}/**
 * @param {?} flags
 * @param {?} matchedQueriesDsl
 * @param {?} ngContentIndex
 * @param {?} childCount
 * @param {?} namespaceAndName
 * @param {?=} fixedAttrs
 * @param {?=} bindings
 * @param {?=} outputs
 * @param {?=} handleEvent
 * @param {?=} componentView
 * @param {?=} componentRendererType
 * @return {?}
 */
function we(t,e,n,r,i,o,s,a,u,c,l){void 0===o&&(o=[]),u||(u=Js);var f=oe(e),p=f.matchedQueries,h=f.references,d=f.matchedQueryIds,/** @type {?} */m=null,/** @type {?} */v=null;i&&(I=de(i),m=I[0],v=I[1]),s=s||[];for(var/** @type {?} */y=new Array(s.length),/** @type {?} */g=0;g<s.length;g++){var b=s[g],w=b[0],_=b[1],x=b[2],E=de(_),C=E[0],S=E[1],/** @type {?} */N=void 0,/** @type {?} */M=void 0;switch(15&w){case 4:M=x;break;case 1:case 8:N=x}y[g]={flags:w,ns:C,name:S,nonMinifiedName:S,securityContext:N,suffix:M}}a=a||[];for(var/** @type {?} */O=new Array(a.length),/** @type {?} */g=0;g<a.length;g++){var T=a[g],A=T[0],P=T[1];O[g]={type:0,target:/** @type {?} */A,eventName:P,propName:null}}o=o||[];var/** @type {?} */k=o.map(function(t){var e=t[0],n=t[1],r=de(e);return[r[0],r[1],n]});return l=Wt(l),c&&(t|=16777216),t|=1,{
// will bet set by the view definition
index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,
// regular values
flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:d,references:h,ngContentIndex:n,childCount:r,bindings:y,bindingFlags:me(y),outputs:O,element:{ns:m,name:v,attrs:k,template:null,
// will bet set by the view definition
componentProvider:null,componentView:c||null,componentRendererType:l,publicProviders:null,allProviders:null,handleEvent:u||Js},provider:null,text:null,query:null,ngContent:null};var I}/**
 * @param {?} view
 * @param {?} renderHost
 * @param {?} def
 * @return {?}
 */
function _e(t,e,n){var/** @type {?} */r,/** @type {?} */i=n.element,/** @type {?} */o=t.root.selectorOrNode,/** @type {?} */s=t.renderer;if(t.parent||!o){r=i.name?s.createElement(i.name,i.ns):s.createComment("");var/** @type {?} */a=se(t,e,n);a&&s.appendChild(a,r)}else r=s.selectRootElement(o);if(i.attrs)for(var/** @type {?} */u=0;u<i.attrs.length;u++){var c=i.attrs[u],l=c[0],f=c[1],p=c[2];s.setAttribute(r,f,p,l)}return r}/**
 * @param {?} view
 * @param {?} compView
 * @param {?} def
 * @param {?} el
 * @return {?}
 */
function xe(t,e,n,r){for(var/** @type {?} */i=0;i<n.outputs.length;i++){var/** @type {?} */o=n.outputs[i],/** @type {?} */s=Ee(t,n.index,ee(o.target,o.eventName)),/** @type {?} */a=o.target,/** @type {?} */u=t;"component"===o.target&&(a=null,u=e);var/** @type {?} */c=u.renderer.listen(a||r,o.eventName,s);/** @type {?} */
t.disposables[n.outputIndex+i]=c}}/**
 * @param {?} view
 * @param {?} index
 * @param {?} eventName
 * @return {?}
 */
function Ee(t,e,n){return function(r){return Kt(t,e,n,r)}}/**
 * @param {?} view
 * @param {?} def
 * @param {?} v0
 * @param {?} v1
 * @param {?} v2
 * @param {?} v3
 * @param {?} v4
 * @param {?} v5
 * @param {?} v6
 * @param {?} v7
 * @param {?} v8
 * @param {?} v9
 * @return {?}
 */
function Ce(t,e,n,r,i,o,s,a,u,c,l,f){var/** @type {?} */p=e.bindings.length,/** @type {?} */h=!1;return p>0&&Ne(t,e,0,n)&&(h=!0),p>1&&Ne(t,e,1,r)&&(h=!0),p>2&&Ne(t,e,2,i)&&(h=!0),p>3&&Ne(t,e,3,o)&&(h=!0),p>4&&Ne(t,e,4,s)&&(h=!0),p>5&&Ne(t,e,5,a)&&(h=!0),p>6&&Ne(t,e,6,u)&&(h=!0),p>7&&Ne(t,e,7,c)&&(h=!0),p>8&&Ne(t,e,8,l)&&(h=!0),p>9&&Ne(t,e,9,f)&&(h=!0),h}/**
 * @param {?} view
 * @param {?} def
 * @param {?} values
 * @return {?}
 */
function Se(t,e,n){for(var/** @type {?} */r=!1,/** @type {?} */i=0;i<n.length;i++)Ne(t,e,i,n[i])&&(r=!0);return r}/**
 * @param {?} view
 * @param {?} def
 * @param {?} bindingIdx
 * @param {?} value
 * @return {?}
 */
function Ne(t,e,n,r){if(!Yt(t,e,n,r))return!1;var/** @type {?} */i=e.bindings[n],/** @type {?} */o=It(t,e.index),/** @type {?} */s=o.renderElement,/** @type {?} */a=i.name;switch(15&i.flags){case 1:Me(t,i,s,i.ns,a,r);break;case 2:Oe(t,s,a,r);break;case 4:Te(t,i,s,a,r);break;case 8:Ae(16777216&e.flags&&32&i.flags?o.componentView:t,i,s,a,r)}return!0}/**
 * @param {?} view
 * @param {?} binding
 * @param {?} renderNode
 * @param {?} ns
 * @param {?} name
 * @param {?} value
 * @return {?}
 */
function Me(t,e,n,r,i,o){var/** @type {?} */s=e.securityContext,/** @type {?} */a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;var/** @type {?} */u=t.renderer;null!=o?u.setAttribute(n,i,a,r):u.removeAttribute(n,i,r)}/**
 * @param {?} view
 * @param {?} renderNode
 * @param {?} name
 * @param {?} value
 * @return {?}
 */
function Oe(t,e,n,r){var/** @type {?} */i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}/**
 * @param {?} view
 * @param {?} binding
 * @param {?} renderNode
 * @param {?} name
 * @param {?} value
 * @return {?}
 */
function Te(t,e,n,r,i){var/** @type {?} */o=t.root.sanitizer.sanitize(Xs.STYLE,i);if(null!=o){o=o.toString();var/** @type {?} */s=e.suffix;null!=s&&(o+=s)}else o=null;var/** @type {?} */a=t.renderer;null!=o?a.setStyle(n,r,o):a.removeStyle(n,r)}/**
 * @param {?} view
 * @param {?} binding
 * @param {?} renderNode
 * @param {?} name
 * @param {?} value
 * @return {?}
 */
function Ae(t,e,n,r,i){var/** @type {?} */o=e.securityContext,/** @type {?} */s=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,s)}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} ngContentIndex
 * @param {?} index
 * @return {?}
 */
function Pe(t,e){return{
// will bet set by the view definition
index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,
// regular values
flags:4,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}/**
 * @param {?} view
 * @param {?} renderHost
 * @param {?} def
 * @return {?}
 */
function ke(t,e,n){var/** @type {?} */r=se(t,e,n);if(r){fe(t,n.ngContent.index,1,r,null,void 0)}}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} parentView
 * @param {?} elementData
 * @param {?} viewIndex
 * @param {?} view
 * @return {?}
 */
function Ie(t,e,n,r){var/** @type {?} */i=e.viewContainer._embeddedViews;null!==n&&void 0!==n||(n=i.length),r.viewContainerParent=t,Fe(i,/** @type {?} */n,r);var/** @type {?} */o=Qt(r);if(o&&o!==e){var/** @type {?} */s=o.template._projectedViews;s||(s=o.template._projectedViews=[]),s.push(r)}Qs.dirtyParentQueries(r),De(e,n>0?i[n-1]:null,r)}/**
 * @param {?} elementData
 * @param {?=} viewIndex
 * @return {?}
 */
function Re(t,e){var/** @type {?} */n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var/** @type {?} */r=n[e];r.viewContainerParent=null,Ue(n,e);var/** @type {?} */i=Qt(r);if(i&&i!==t){var/** @type {?} */o=i.template._projectedViews;Ue(o,o.indexOf(r))}return Qs.dirtyParentQueries(r),Le(r),r}/**
 * @param {?} elementData
 * @param {?} oldViewIndex
 * @param {?} newViewIndex
 * @return {?}
 */
function je(t,e,n){var/** @type {?} */r=t.viewContainer._embeddedViews,/** @type {?} */i=r[e];
// Note: Don't need to change projectedViews as the order in there
// as always invalid...
return Ue(r,e),null==n&&(n=r.length),Fe(r,n,i),Qs.dirtyParentQueries(i),Le(i),De(t,n>0?r[n-1]:null,i),i}/**
 * @param {?} elementData
 * @param {?} prevView
 * @param {?} view
 * @return {?}
 */
function De(t,e,n){var/** @type {?} */r=e?te(e,/** @type {?} */e.def.lastRenderRootNode):t.renderElement;
// Note: We can't check if `nextSibling` is present, as on WebWorkers it will always be!
// However, browsers automatically do `appendChild` when there is no `nextSibling`.
ce(n,2,n.renderer.parentNode(r),n.renderer.nextSibling(r),void 0)}/**
 * @param {?} view
 * @return {?}
 */
function Le(t){ce(t,3,null,null,void 0)}/**
 * @param {?} arr
 * @param {?} index
 * @param {?} value
 * @return {?}
 */
function Fe(t,e,n){
// perf: array.push is faster than array.splice!
e>=t.length?t.push(n):t.splice(e,0,n)}/**
 * @param {?} arr
 * @param {?} index
 * @return {?}
 */
function Ue(t,e){
// perf: array.pop is faster than array.splice!
e>=t.length-1?t.pop():t.splice(e,1)}/**
 * @param {?} selector
 * @param {?} componentType
 * @param {?} viewDefFactory
 * @param {?} inputs
 * @param {?} outputs
 * @param {?} ngContentSelectors
 * @return {?}
 */
function Ve(t,e,n,r,i,o){return new ca(t,e,n,r,i,o)}/**
 * @param {?} componentFactory
 * @return {?}
 */
function Be(t){return t.viewDefFactory}/**
 * @param {?} view
 * @param {?} elDef
 * @param {?} elData
 * @return {?}
 */
function ze(t,e,n){return new fa(t,e,n)}/**
 * @param {?} view
 * @return {?}
 */
function qe(t){return new pa(t)}/**
 * @param {?} view
 * @param {?} def
 * @return {?}
 */
function He(t,e){return new ha(t,e)}/**
 * @param {?} view
 * @param {?} elDef
 * @return {?}
 */
function Ge(t,e){return new da(t,e)}/**
 * @param {?} view
 * @param {?} index
 * @return {?}
 */
function We(t,e){var/** @type {?} */n=t.def.nodes[e];if(1&n.flags){var/** @type {?} */r=It(t,n.index);return n.element.template?r.template:r.renderElement}if(2&n.flags)return kt(t,n.index).renderText;if(10120&n.flags)return Rt(t,n.index).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}/**
 * @param {?} view
 * @return {?}
 */
function $e(t){return new ma(t.renderer)}/**
 * @param {?} flags
 * @param {?} matchedQueries
 * @param {?} childCount
 * @param {?} ctor
 * @param {?} deps
 * @param {?=} props
 * @param {?=} outputs
 * @return {?}
 */
function Ye(t,e,n,r,i,o,s){var/** @type {?} */a=[];if(o)for(var/** @type {?} */u in o){var c=o[u],l=c[0],f=c[1];a[l]={flags:8,name:u,nonMinifiedName:f,ns:null,securityContext:null,suffix:null}}var/** @type {?} */p=[];if(s)for(var/** @type {?} */h in s)p.push({type:1,propName:h,target:null,eventName:s[h]});return t|=8192,Ke(t,e,n,r,r,i,a,p)}/**
 * @param {?} flags
 * @param {?} ctor
 * @param {?} deps
 * @return {?}
 */
function Xe(t,e,n){return t|=8,Ke(t,null,0,e,e,n)}/**
 * @param {?} flags
 * @param {?} matchedQueries
 * @param {?} token
 * @param {?} value
 * @param {?} deps
 * @return {?}
 */
function Ze(t,e,n,r,i){return Ke(t,e,0,n,r,i)}/**
 * @param {?} flags
 * @param {?} matchedQueriesDsl
 * @param {?} childCount
 * @param {?} token
 * @param {?} value
 * @param {?} deps
 * @param {?=} bindings
 * @param {?=} outputs
 * @return {?}
 */
function Ke(t,e,n,r,i,o,s,a){var u=oe(e),c=u.matchedQueries,l=u.references,f=u.matchedQueryIds;a||(a=[]),s||(s=[]);var/** @type {?} */p=o.map(function(t){var/** @type {?} */e,/** @type {?} */n;return Array.isArray(t)?(n=t[0],e=t[1]):(n=0,e=t),{flags:n,token:e,tokenKey:qt(e)}});return{
// will bet set by the view definition
index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,
// regular values
flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:f,references:l,ngContentIndex:-1,childCount:n,bindings:s,bindingFlags:me(s),outputs:a,element:null,provider:{token:r,tokenKey:qt(r),value:i,deps:p},text:null,query:null,ngContent:null}}/**
 * @param {?} view
 * @param {?} def
 * @return {?}
 */
function Qe(t,e){return 2048&e.flags?Ea:on(t,e)}/**
 * @param {?} view
 * @param {?} def
 * @return {?}
 */
function Je(t,e){for(
// deps are looked up from component.
var/** @type {?} */n=t;n.parent&&!ne(n);)n=n.parent;
// pipes are always eager and classes!
/** @type {?} */
/** @type {?} */
/** @type {?} */
/** @type {?} */
return sn(n.parent,Jt(n),!0,e.provider.value,e.provider.deps)}/**
 * @param {?} view
 * @param {?} def
 * @return {?}
 */
function tn(t,e){
// components can see other private services, other directives can't.
var/** @type {?} */n=(16384&e.flags)>0,/** @type {?} */r=sn(t,/** @type {?} */e.parent,n,/** @type {?} */e.provider.value,/** @type {?} */e.provider.deps);if(e.outputs.length)for(var/** @type {?} */i=0;i<e.outputs.length;i++){var/** @type {?} */o=e.outputs[i],/** @type {?} */s=r[o.propName].subscribe(en(t,/** @type {?} */e.parent.index,o.eventName));/** @type {?} */
t.disposables[e.outputIndex+i]=s.unsubscribe.bind(s)}return r}/**
 * @param {?} view
 * @param {?} index
 * @param {?} eventName
 * @return {?}
 */
function en(t,e,n){return function(r){return Kt(t,e,n,r)}}/**
 * @param {?} view
 * @param {?} def
 * @param {?} v0
 * @param {?} v1
 * @param {?} v2
 * @param {?} v3
 * @param {?} v4
 * @param {?} v5
 * @param {?} v6
 * @param {?} v7
 * @param {?} v8
 * @param {?} v9
 * @return {?}
 */
function nn(t,e,n,r,i,o,s,a,u,c,l,f){var/** @type {?} */p=Rt(t,e.index),/** @type {?} */h=p.instance,/** @type {?} */d=!1,/** @type {?} */m=void 0,/** @type {?} */v=e.bindings.length;return v>0&&$t(t,e,0,n)&&(d=!0,m=ln(t,p,e,0,n,m)),v>1&&$t(t,e,1,r)&&(d=!0,m=ln(t,p,e,1,r,m)),v>2&&$t(t,e,2,i)&&(d=!0,m=ln(t,p,e,2,i,m)),v>3&&$t(t,e,3,o)&&(d=!0,m=ln(t,p,e,3,o,m)),v>4&&$t(t,e,4,s)&&(d=!0,m=ln(t,p,e,4,s,m)),v>5&&$t(t,e,5,a)&&(d=!0,m=ln(t,p,e,5,a,m)),v>6&&$t(t,e,6,u)&&(d=!0,m=ln(t,p,e,6,u,m)),v>7&&$t(t,e,7,c)&&(d=!0,m=ln(t,p,e,7,c,m)),v>8&&$t(t,e,8,l)&&(d=!0,m=ln(t,p,e,8,l,m)),v>9&&$t(t,e,9,f)&&(d=!0,m=ln(t,p,e,9,f,m)),m&&h.ngOnChanges(m),1&t.state&&32768&e.flags&&h.ngOnInit(),131072&e.flags&&h.ngDoCheck(),d}/**
 * @param {?} view
 * @param {?} def
 * @param {?} values
 * @return {?}
 */
function rn(t,e,n){for(var/** @type {?} */r=Rt(t,e.index),/** @type {?} */i=r.instance,/** @type {?} */o=!1,/** @type {?} */s=void 0,/** @type {?} */a=0;a<n.length;a++)$t(t,e,a,n[a])&&(o=!0,s=ln(t,r,e,a,n[a],s));return s&&i.ngOnChanges(s),1&t.state&&32768&e.flags&&i.ngOnInit(),131072&e.flags&&i.ngDoCheck(),o}/**
 * @param {?} view
 * @param {?} def
 * @return {?}
 */
function on(t,e){
// private services can see other private services
var/** @type {?} */n,/** @type {?} */r=(4096&e.flags)>0,/** @type {?} */i=e.provider;switch(100673535&e.flags){case 256:n=sn(t,/** @type {?} */e.parent,r,/** @type {?} */i.value,/** @type {?} */i.deps);break;case 512:n=an(t,/** @type {?} */e.parent,r,/** @type {?} */i.value,/** @type {?} */i.deps);break;case 1024:n=un(t,/** @type {?} */e.parent,r,/** @type {?} */i.deps[0]);break;case 128:n=i.value}return n}/**
 * @param {?} view
 * @param {?} elDef
 * @param {?} allowPrivateServices
 * @param {?} ctor
 * @param {?} deps
 * @return {?}
 */
function sn(t,e,n,r,i){var/** @type {?} */o,/** @type {?} */s=i.length;switch(s){case 0:o=new r;break;case 1:o=new r(un(t,e,n,i[0]));break;case 2:o=new r(un(t,e,n,i[0]),un(t,e,n,i[1]));break;case 3:o=new r(un(t,e,n,i[0]),un(t,e,n,i[1]),un(t,e,n,i[2]));break;default:for(var/** @type {?} */a=new Array(s),/** @type {?} */u=0;u<s;u++)a[u]=un(t,e,n,i[u]);o=new(r.bind.apply(r,[void 0].concat(a)))}return o}/**
 * @param {?} view
 * @param {?} elDef
 * @param {?} allowPrivateServices
 * @param {?} factory
 * @param {?} deps
 * @return {?}
 */
function an(t,e,n,r,i){var/** @type {?} */o,/** @type {?} */s=i.length;switch(s){case 0:o=r();break;case 1:o=r(un(t,e,n,i[0]));break;case 2:o=r(un(t,e,n,i[0]),un(t,e,n,i[1]));break;case 3:o=r(un(t,e,n,i[0]),un(t,e,n,i[1]),un(t,e,n,i[2]));break;default:for(var/** @type {?} */a=Array(s),/** @type {?} */u=0;u<s;u++)a[u]=un(t,e,n,i[u]);o=r.apply(void 0,a)}return o}/**
 * @param {?} view
 * @param {?} elDef
 * @param {?} allowPrivateServices
 * @param {?} depDef
 * @param {?=} notFoundValue
 * @return {?}
 */
function un(t,e,n,r,i){if(void 0===i&&(i=Vi.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var/** @type {?} */o=t;2&r.flags&&(i=null);var/** @type {?} */s=r.tokenKey;for(e&&1&r.flags&&(n=!1,e=e.parent);t;){if(e)switch(s){case va:var/** @type {?} */a=cn(t,e,n);return $e(a);case ya:var/** @type {?} */a=cn(t,e,n);return a.renderer;case ga:return new cs(It(t,e.index).renderElement);case ba:return It(t,e.index).viewContainer;case wa:if(e.element.template)return It(t,e.index).template;break;case _a:return qe(cn(t,e,n));case xa:return Ge(t,e);default:var/** @type {?} */u=(n?e.element.allProviders:e.element.publicProviders)[s];if(u){var/** @type {?} */c=Rt(t,u.index);return c.instance===Ea&&(c.instance=on(t,u)),c.instance}}n=ne(t),e=Jt(t),t=t.parent}var/** @type {?} */l=o.root.injector.get(r.token,Ca);return l!==Ca||i===Ca?l:o.root.ngModule.injector.get(r.token,i)}/**
 * @param {?} view
 * @param {?} elDef
 * @param {?} allowPrivateServices
 * @return {?}
 */
function cn(t,e,n){var/** @type {?} */r;if(n)r=It(t,e.index).componentView;else for(r=t;r.parent&&!ne(r);)r=r.parent;return r}/**
 * @param {?} view
 * @param {?} providerData
 * @param {?} def
 * @param {?} bindingIdx
 * @param {?} value
 * @param {?} changes
 * @return {?}
 */
function ln(t,e,n,r,i,o){if(16384&n.flags){var/** @type {?} */s=It(t,/** @type {?} */n.parent.index).componentView;2&s.def.flags&&(s.state|=2)}var/** @type {?} */a=n.bindings[r],/** @type {?} */u=a.name;if(
// Note: This is still safe with Closure Compiler as
// the user passed in the property name as an object has to `providerDef`,
// so Closure Compiler will have renamed the property correctly already.
e.instance[u]=i,262144&n.flags){o=o||{};var/** @type {?} */c=t.oldValues[n.bindingIndex+r];c instanceof Ss&&(c=c.wrapped);o[n.bindings[r].nonMinifiedName]=new Ms(c,i,0!=(1&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}/**
 * @param {?} view
 * @param {?} lifecycles
 * @return {?}
 */
function fn(t,e){if(t.def.nodeFlags&e)for(var/** @type {?} */n=t.def.nodes,/** @type {?} */r=0;r<n.length;r++){var/** @type {?} */i=n[r],/** @type {?} */o=i.parent;for(!o&&i.flags&e&&
// matching root node (e.g. a pipe)
hn(t,r,i.flags&e),0==(i.childFlags&e)&&(
// no child matches one of the lifecycles
r+=i.childCount);o&&1&o.flags&&r===o.index+o.childCount;)
// last child of an element
o.directChildFlags&e&&pn(t,o,e),o=o.parent}}/**
 * @param {?} view
 * @param {?} elDef
 * @param {?} lifecycles
 * @return {?}
 */
function pn(t,e,n){for(var/** @type {?} */r=e.index+1;r<=e.index+e.childCount;r++){var/** @type {?} */i=t.def.nodes[r];i.flags&n&&hn(t,r,i.flags&n),
// only visit direct children
r+=i.childCount}}/**
 * @param {?} view
 * @param {?} index
 * @param {?} lifecycles
 * @return {?}
 */
function hn(t,e,n){var/** @type {?} */r=Rt(t,e).instance;r!==Ea&&(Qs.setCurrentNode(t,e),524288&n&&r.ngAfterContentInit(),1048576&n&&r.ngAfterContentChecked(),2097152&n&&r.ngAfterViewInit(),4194304&n&&r.ngAfterViewChecked(),65536&n&&r.ngOnDestroy())}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} argCount
 * @return {?}
 */
function dn(t){
// argCount + 1 to include the pipe as first arg
return yn(64,new Array(t+1))}/**
 * @param {?} argCount
 * @return {?}
 */
function mn(t){return yn(16,new Array(t))}/**
 * @param {?} propertyNames
 * @return {?}
 */
function vn(t){return yn(32,t)}/**
 * @param {?} flags
 * @param {?} propertyNames
 * @return {?}
 */
function yn(t,e){for(var/** @type {?} */n=new Array(e.length),/** @type {?} */r=0;r<e.length;r++){var/** @type {?} */i=e[r];n[r]={flags:8,name:i,ns:null,nonMinifiedName:i,securityContext:null,suffix:null}}return{
// will bet set by the view definition
index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,
// regular values
flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:n,bindingFlags:me(n),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}/**
 * @param {?} view
 * @param {?} def
 * @return {?}
 */
function gn(t,e){return{value:void 0}}/**
 * @param {?} view
 * @param {?} def
 * @param {?} v0
 * @param {?} v1
 * @param {?} v2
 * @param {?} v3
 * @param {?} v4
 * @param {?} v5
 * @param {?} v6
 * @param {?} v7
 * @param {?} v8
 * @param {?} v9
 * @return {?}
 */
function bn(t,e,n,r,i,o,s,a,u,c,l,f){var/** @type {?} */p=e.bindings,/** @type {?} */h=!1,/** @type {?} */d=p.length;if(d>0&&Yt(t,e,0,n)&&(h=!0),d>1&&Yt(t,e,1,r)&&(h=!0),d>2&&Yt(t,e,2,i)&&(h=!0),d>3&&Yt(t,e,3,o)&&(h=!0),d>4&&Yt(t,e,4,s)&&(h=!0),d>5&&Yt(t,e,5,a)&&(h=!0),d>6&&Yt(t,e,6,u)&&(h=!0),d>7&&Yt(t,e,7,c)&&(h=!0),d>8&&Yt(t,e,8,l)&&(h=!0),d>9&&Yt(t,e,9,f)&&(h=!0),h){var/** @type {?} */m=jt(t,e.index),/** @type {?} */v=void 0;switch(100673535&e.flags){case 16:v=new Array(p.length),d>0&&(v[0]=n),d>1&&(v[1]=r),d>2&&(v[2]=i),d>3&&(v[3]=o),d>4&&(v[4]=s),d>5&&(v[5]=a),d>6&&(v[6]=u),d>7&&(v[7]=c),d>8&&(v[8]=l),d>9&&(v[9]=f);break;case 32:v={},d>0&&(v[p[0].name]=n),d>1&&(v[p[1].name]=r),d>2&&(v[p[2].name]=i),d>3&&(v[p[3].name]=o),d>4&&(v[p[4].name]=s),d>5&&(v[p[5].name]=a),d>6&&(v[p[6].name]=u),d>7&&(v[p[7].name]=c),d>8&&(v[p[8].name]=l),d>9&&(v[p[9].name]=f);break;case 64:var/** @type {?} */y=n;switch(d){case 1:v=y.transform(n);break;case 2:v=y.transform(r);break;case 3:v=y.transform(r,i);break;case 4:v=y.transform(r,i,o);break;case 5:v=y.transform(r,i,o,s);break;case 6:v=y.transform(r,i,o,s,a);break;case 7:v=y.transform(r,i,o,s,a,u);break;case 8:v=y.transform(r,i,o,s,a,u,c);break;case 9:v=y.transform(r,i,o,s,a,u,c,l);break;case 10:v=y.transform(r,i,o,s,a,u,c,l,f)}}m.value=v}return h}/**
 * @param {?} view
 * @param {?} def
 * @param {?} values
 * @return {?}
 */
function wn(t,e,n){for(var/** @type {?} */r=e.bindings,/** @type {?} */i=!1,/** @type {?} */o=0;o<n.length;o++)
// Note: We need to loop over all values, so that
// the old values are updates as well!
Yt(t,e,o,n[o])&&(i=!0);if(i){var/** @type {?} */s=jt(t,e.index),/** @type {?} */a=void 0;switch(100673535&e.flags){case 16:a=n;break;case 32:a={};for(var/** @type {?} */o=0;o<n.length;o++)a[r[o].name]=n[o];break;case 64:var/** @type {?} */u=n[0],/** @type {?} */c=n.slice(1);a=u.transform.apply(u,c)}s.value=a}return i}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} flags
 * @param {?} id
 * @param {?} bindings
 * @return {?}
 */
function _n(t,e,n){var/** @type {?} */r=[];for(var/** @type {?} */i in n){var/** @type {?} */o=n[i];r.push({propName:i,bindingType:o})}return{
// will bet set by the view definition
index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,
// regular values
flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:ie(e),bindings:r},ngContent:null}}/**
 * @return {?}
 */
function xn(){return new ps}/**
 * @param {?} view
 * @return {?}
 */
function En(t){for(var/** @type {?} */e=t.def.nodeMatchedQueries;t.parent&&re(t);){var/** @type {?} */n=t.parentNodeDef;t=t.parent;for(var/** @type {?} */r=n.index+n.childCount,/** @type {?} */i=0;i<=r;i++){var/** @type {?} */o=t.def.nodes[i];33554432&o.flags&&268435456&o.flags&&(o.query.filterId&e)===o.query.filterId&&Dt(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.index)&&33554432&o.childFlags&&268435456&o.childFlags||(
// skip elements that don't contain the template element or no query.
i+=o.childCount)}}
// view queries
if(67108864&t.def.nodeFlags)for(var/** @type {?} */i=0;i<t.def.nodes.length;i++){var/** @type {?} */o=t.def.nodes[i];67108864&o.flags&&268435456&o.flags&&Dt(t,i).setDirty(),
// only visit the root nodes
i+=o.childCount}}/**
 * @param {?} view
 * @param {?} nodeDef
 * @return {?}
 */
function Cn(t,e){var/** @type {?} */n=Dt(t,e.index);if(n.dirty){var/** @type {?} */r,/** @type {?} */i=void 0;if(33554432&e.flags){var/** @type {?} */o=e.parent.parent;i=Sn(t,o.index,o.index+o.childCount,/** @type {?} */e.query,[]),r=Rt(t,/** @type {?} */e.parent.index).instance}else 67108864&e.flags&&(i=Sn(t,0,t.def.nodes.length-1,/** @type {?} */e.query,[]),r=t.component);n.reset(i);for(var/** @type {?} */s=e.query.bindings,/** @type {?} */a=!1,/** @type {?} */u=0;u<s.length;u++){var/** @type {?} */c=s[u],/** @type {?} */l=void 0;switch(c.bindingType){case 0:l=n.first;break;case 1:l=n,a=!0}r[c.propName]=l}a&&n.notifyOnChanges()}}/**
 * @param {?} view
 * @param {?} startIndex
 * @param {?} endIndex
 * @param {?} queryDef
 * @param {?} values
 * @return {?}
 */
function Sn(t,e,n,r,i){for(var/** @type {?} */o=e;o<=n;o++){var/** @type {?} */s=t.def.nodes[o],/** @type {?} */a=s.matchedQueries[r.id];if(null!=a&&i.push(Nn(t,s,a)),1&s.flags&&s.element.template&&(s.element.template.nodeMatchedQueries&r.filterId)===r.filterId){
// check embedded views that were attached at the place of their template.
var/** @type {?} */u=It(t,o);if(8388608&s.flags)for(var/** @type {?} */c=u.viewContainer._embeddedViews,/** @type {?} */l=0;l<c.length;l++){var/** @type {?} */f=c[l],/** @type {?} */p=Qt(f);p&&p===u&&Sn(f,0,f.def.nodes.length-1,r,i)}var/** @type {?} */h=u.template._projectedViews;if(h)for(var/** @type {?} */l=0;l<h.length;l++){var/** @type {?} */d=h[l];Sn(d,0,d.def.nodes.length-1,r,i)}}(s.childMatchedQueries&r.filterId)!==r.filterId&&(
// if no child matches the query, skip the children.
o+=s.childCount)}return i}/**
 * @param {?} view
 * @param {?} nodeDef
 * @param {?} queryValueType
 * @return {?}
 */
function Nn(t,e,n){if(null!=n){
// a match
var/** @type {?} */r=void 0;switch(n){case 1:r=It(t,e.index).renderElement;break;case 0:r=new cs(It(t,e.index).renderElement);break;case 2:r=It(t,e.index).template;break;case 3:r=It(t,e.index).viewContainer;break;case 4:r=Rt(t,e.index).instance}return r}}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} ngContentIndex
 * @param {?} constants
 * @return {?}
 */
function Mn(t,e){for(var/** @type {?} */n=new Array(e.length-1),/** @type {?} */r=1;r<e.length;r++)n[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:e[r]};return{
// will bet set by the view definition
index:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,
// regular values
flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:n,bindingFlags:me(n),outputs:[],element:null,provider:null,text:{prefix:e[0]},query:null,ngContent:null}}/**
 * @param {?} view
 * @param {?} renderHost
 * @param {?} def
 * @return {?}
 */
function On(t,e,n){var/** @type {?} */r,/** @type {?} */i=t.renderer;r=i.createText(/** @type {?} */n.text.prefix);var/** @type {?} */o=se(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}/**
 * @param {?} view
 * @param {?} def
 * @param {?} v0
 * @param {?} v1
 * @param {?} v2
 * @param {?} v3
 * @param {?} v4
 * @param {?} v5
 * @param {?} v6
 * @param {?} v7
 * @param {?} v8
 * @param {?} v9
 * @return {?}
 */
function Tn(t,e,n,r,i,o,s,a,u,c,l,f){var/** @type {?} */p=!1,/** @type {?} */h=e.bindings,/** @type {?} */d=h.length;if(d>0&&Yt(t,e,0,n)&&(p=!0),d>1&&Yt(t,e,1,r)&&(p=!0),d>2&&Yt(t,e,2,i)&&(p=!0),d>3&&Yt(t,e,3,o)&&(p=!0),d>4&&Yt(t,e,4,s)&&(p=!0),d>5&&Yt(t,e,5,a)&&(p=!0),d>6&&Yt(t,e,6,u)&&(p=!0),d>7&&Yt(t,e,7,c)&&(p=!0),d>8&&Yt(t,e,8,l)&&(p=!0),d>9&&Yt(t,e,9,f)&&(p=!0),p){var/** @type {?} */m=e.text.prefix;d>0&&(m+=Pn(n,h[0])),d>1&&(m+=Pn(r,h[1])),d>2&&(m+=Pn(i,h[2])),d>3&&(m+=Pn(o,h[3])),d>4&&(m+=Pn(s,h[4])),d>5&&(m+=Pn(a,h[5])),d>6&&(m+=Pn(u,h[6])),d>7&&(m+=Pn(c,h[7])),d>8&&(m+=Pn(l,h[8])),d>9&&(m+=Pn(f,h[9]));var/** @type {?} */v=kt(t,e.index).renderText;t.renderer.setValue(v,m)}return p}/**
 * @param {?} view
 * @param {?} def
 * @param {?} values
 * @return {?}
 */
function An(t,e,n){for(var/** @type {?} */r=e.bindings,/** @type {?} */i=!1,/** @type {?} */o=0;o<n.length;o++)
// Note: We need to loop over all values, so that
// the old values are updates as well!
Yt(t,e,o,n[o])&&(i=!0);if(i){for(var/** @type {?} */s="",/** @type {?} */o=0;o<n.length;o++)s+=Pn(n[o],r[o]);s=e.text.prefix+s;var/** @type {?} */a=kt(t,e.index).renderText;t.renderer.setValue(a,s)}return i}/**
 * @param {?} value
 * @param {?} binding
 * @return {?}
 */
function Pn(t,e){return(null!=t?t.toString():"")+e.suffix}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} flags
 * @param {?} nodes
 * @param {?=} updateDirectives
 * @param {?=} updateRenderer
 * @return {?}
 */
function kn(t,e,n,r){for(var/** @type {?} */i=0,/** @type {?} */o=0,/** @type {?} */s=0,/** @type {?} */a=0,/** @type {?} */u=0,/** @type {?} */c=null,/** @type {?} */l=!1,/** @type {?} */f=!1,/** @type {?} */p=null,/** @type {?} */h=0;h<e.length;h++){for(;c&&h>c.index+c.childCount;){var/** @type {?} */d=c.parent;d&&(d.childFlags|=c.childFlags,d.childMatchedQueries|=c.childMatchedQueries),c=d}var/** @type {?} */m=e[h];m.index=h,m.parent=c,m.bindingIndex=i,m.outputIndex=o;
// renderParent needs to account for ng-container!
var/** @type {?} */v=void 0;if(v=c&&1&c.flags&&!c.element.name?c.renderParent:c,m.renderParent=v,m.element){var/** @type {?} */y=m.element;y.publicProviders=c?c.element.publicProviders:Object.create(null),y.allProviders=y.publicProviders,
// Note: We assume that all providers of an element are before any child element!
l=!1,f=!1}if(In(c,m,e.length),s|=m.flags,u|=m.matchedQueryIds,m.element&&m.element.template&&(u|=m.element.template.nodeMatchedQueries),c?(c.childFlags|=m.flags,c.directChildFlags|=m.flags,c.childMatchedQueries|=m.matchedQueryIds,m.element&&m.element.template&&(c.childMatchedQueries|=m.element.template.nodeMatchedQueries)):a|=m.flags,i+=m.bindings.length,o+=m.outputs.length,!v&&3&m.flags&&(p=m),10112&m.flags){l||(l=!0,/** @type {?} */
c.element.publicProviders=Object.create(/** @type {?} */c.element.publicProviders),/** @type {?} */
c.element.allProviders=c.element.publicProviders);var/** @type {?} */g=0!=(4096&m.flags),/** @type {?} */b=0!=(16384&m.flags);!g||b?c.element.publicProviders[m.provider.tokenKey]=m:(f||(f=!0,/** @type {?} */
c.element.allProviders=Object.create(/** @type {?} */c.element.publicProviders)),/** @type {?} */
c.element.allProviders[m.provider.tokenKey]=m),b&&(c.element.componentProvider=m)}m.childCount&&(c=m)}for(;c;){var/** @type {?} */d=c.parent;d&&(d.childFlags|=c.childFlags,d.childMatchedQueries|=c.childMatchedQueries),c=d}var/** @type {?} */w=function(t,n,r,i){return e[n].element.handleEvent(t,r,i)};return{
// Will be filled later...
factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||Js,updateRenderer:r||Js,handleEvent:w||Js,bindingCount:i,outputCount:o,lastRenderRootNode:p}}/**
 * @param {?} parent
 * @param {?} node
 * @param {?} nodeCount
 * @return {?}
 */
function In(t,e,n){var/** @type {?} */r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&8388608&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.index+"!")}if(10112&e.flags){if(0==(1&(t?t.flags:0)))throw new Error("Illegal State: Provider/Directive nodes need to be children of elements or anchors, at index "+e.index+"!")}if(e.query){if(33554432&e.flags&&(!t||0==(8192&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.index+"!");if(67108864&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.index+"!")}if(e.childCount){var/** @type {?} */i=t?t.index+t.childCount:n-1;if(e.index<=i&&e.index+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.index+"!")}}/**
 * @param {?} parent
 * @param {?} anchorDef
 * @param {?=} context
 * @return {?}
 */
function Rn(t,e,n){
// embedded views are seen as siblings to the anchor, so we need
// to get the parent of the anchor and use it as parentIndex.
var/** @type {?} */r=Dn(t.root,t.renderer,t,e,/** @type {?} */e.element.template);return Ln(r,t.component,n),Fn(r),r}/**
 * @param {?} root
 * @param {?} def
 * @param {?=} context
 * @return {?}
 */
function jn(t,e,n){var/** @type {?} */r=Dn(t,t.renderer,null,null,e);return Ln(r,n,n),Fn(r),r}/**
 * @param {?} root
 * @param {?} renderer
 * @param {?} parent
 * @param {?} parentNodeDef
 * @param {?} def
 * @return {?}
 */
function Dn(t,e,n,r,i){var/** @type {?} */o=new Array(i.nodes.length),/** @type {?} */s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:3,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:s}}/**
 * @param {?} view
 * @param {?} component
 * @param {?} context
 * @return {?}
 */
function Ln(t,e,n){t.component=e,t.context=n}/**
 * @param {?} view
 * @return {?}
 */
function Fn(t){var/** @type {?} */e;if(ne(t)){var/** @type {?} */n=t.parentNodeDef;e=It(/** @type {?} */t.parent,/** @type {?} */n.parent.index).renderElement}for(var/** @type {?} */r=t.def,/** @type {?} */i=t.nodes,/** @type {?} */o=0;o<r.nodes.length;o++){var/** @type {?} */s=r.nodes[o];Qs.setCurrentNode(t,o);var/** @type {?} */a=void 0;switch(100673535&s.flags){case 1:var/** @type {?} */u=_e(t,e,s),/** @type {?} */c=void 0;if(16777216&s.flags){var/** @type {?} */l=ae(/** @type {?} */s.element.componentView),/** @type {?} */f=s.element.componentRendererType,/** @type {?} */p=void 0;p=f?t.root.rendererFactory.createRenderer(u,f):t.root.renderer,c=Dn(t.root,p,t,/** @type {?} */s.element.componentProvider,l)}xe(t,c,s,u),a={renderElement:u,componentView:c,viewContainer:null,template:/** @type {?} */s.element.template?He(t,s):void 0},8388608&s.flags&&(a.viewContainer=ze(t,s,a));break;case 2:a=On(t,e,s);break;case 256:case 512:case 1024:case 128:var/** @type {?} */h=Qe(t,s);a={instance:h};break;case 8:var/** @type {?} */h=Je(t,s);a={instance:h};break;case 8192:var/** @type {?} */h=tn(t,s);if(a={instance:h},16384&s.flags){Ln(It(t,/** @type {?} */s.parent.index).componentView,h,h)}break;case 16:case 32:case 64:a=gn(t,s);break;case 33554432:case 67108864:a=xn();break;case 4:ke(t,e,s),
// no runtime data needed for NgContent...
a=void 0}i[o]=a}
// Create the ViewData.nodes of component views after we created everything else,
// so that e.g. ng-content works
Zn(t,Sa.CreateViewNodes),
// fill static content and view queries
Jn(t,100663296,134217728,0)}/**
 * @param {?} view
 * @return {?}
 */
function Un(t){Qs.updateDirectives(t,1),Kn(t,Sa.CheckNoChanges),Qs.updateRenderer(t,1),Zn(t,Sa.CheckNoChanges)}/**
 * @param {?} view
 * @return {?}
 */
function Vn(t){Qs.updateDirectives(t,0),Kn(t,Sa.CheckAndUpdate),Jn(t,33554432,268435456,0),fn(t,1048576|(1&t.state?524288:0)),Qs.updateRenderer(t,0),Zn(t,Sa.CheckAndUpdate),Jn(t,67108864,268435456,0),fn(t,4194304|(1&t.state?2097152:0)),2&t.def.flags&&(t.state&=-3),t.state&=-2}/**
 * @param {?} view
 * @param {?} nodeDef
 * @param {?} argStyle
 * @param {?=} v0
 * @param {?=} v1
 * @param {?=} v2
 * @param {?=} v3
 * @param {?=} v4
 * @param {?=} v5
 * @param {?=} v6
 * @param {?=} v7
 * @param {?=} v8
 * @param {?=} v9
 * @return {?}
 */
function Bn(t,e,n,r,i,o,s,a,u,c,l,f,p){return 0===n?zn(t,e,r,i,o,s,a,u,c,l,f,p):qn(t,e,r)}/**
 * @param {?} view
 * @param {?} nodeDef
 * @param {?=} v0
 * @param {?=} v1
 * @param {?=} v2
 * @param {?=} v3
 * @param {?=} v4
 * @param {?=} v5
 * @param {?=} v6
 * @param {?=} v7
 * @param {?=} v8
 * @param {?=} v9
 * @return {?}
 */
function zn(t,e,n,r,i,o,s,a,u,c,l,f){var/** @type {?} */p=!1;switch(100673535&e.flags){case 1:p=Ce(t,e,n,r,i,o,s,a,u,c,l,f);break;case 2:p=Tn(t,e,n,r,i,o,s,a,u,c,l,f);break;case 8192:p=nn(t,e,n,r,i,o,s,a,u,c,l,f);break;case 16:case 32:case 64:p=bn(t,e,n,r,i,o,s,a,u,c,l,f)}return p}/**
 * @param {?} view
 * @param {?} nodeDef
 * @param {?} values
 * @return {?}
 */
function qn(t,e,n){var/** @type {?} */r=!1;switch(100673535&e.flags){case 1:r=Se(t,e,n);break;case 2:r=An(t,e,n);break;case 8192:r=rn(t,e,n);break;case 16:case 32:case 64:r=wn(t,e,n)}if(r)for(var/** @type {?} */i=e.bindings.length,/** @type {?} */o=e.bindingIndex,/** @type {?} */s=t.oldValues,/** @type {?} */a=0;a<i;a++)s[o+a]=n[a];return r}/**
 * @param {?} view
 * @param {?} nodeDef
 * @param {?} argStyle
 * @param {?=} v0
 * @param {?=} v1
 * @param {?=} v2
 * @param {?=} v3
 * @param {?=} v4
 * @param {?=} v5
 * @param {?=} v6
 * @param {?=} v7
 * @param {?=} v8
 * @param {?=} v9
 * @return {?}
 */
function Hn(t,e,n,r,i,o,s,a,u,c,l,f,p){
// Returning false is ok here as we would have thrown in case of a change.
return 0===n?Gn(t,e,r,i,o,s,a,u,c,l,f,p):Wn(t,e,r),!1}/**
 * @param {?} view
 * @param {?} nodeDef
 * @param {?} v0
 * @param {?} v1
 * @param {?} v2
 * @param {?} v3
 * @param {?} v4
 * @param {?} v5
 * @param {?} v6
 * @param {?} v7
 * @param {?} v8
 * @param {?} v9
 * @return {?}
 */
function Gn(t,e,n,r,i,o,s,a,u,c,l,f){var/** @type {?} */p=e.bindings.length;p>0&&Xt(t,e,0,n),p>1&&Xt(t,e,1,r),p>2&&Xt(t,e,2,i),p>3&&Xt(t,e,3,o),p>4&&Xt(t,e,4,s),p>5&&Xt(t,e,5,a),p>6&&Xt(t,e,6,u),p>7&&Xt(t,e,7,c),p>8&&Xt(t,e,8,l),p>9&&Xt(t,e,9,f)}/**
 * @param {?} view
 * @param {?} nodeDef
 * @param {?} values
 * @return {?}
 */
function Wn(t,e,n){for(var/** @type {?} */r=0;r<n.length;r++)Xt(t,e,r,n[r])}/**
 * @param {?} view
 * @param {?} nodeDef
 * @return {?}
 */
function $n(t,e){if(Dt(t,e.index).dirty)throw Lt(Qs.createDebugContext(t,e.index),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}/**
 * @param {?} view
 * @return {?}
 */
function Yn(t){if(!(8&t.state)){if(Kn(t,Sa.Destroy),Zn(t,Sa.Destroy),fn(t,65536),t.disposables)for(var/** @type {?} */e=0;e<t.disposables.length;e++)t.disposables[e]();t.renderer.destroyNode&&Xn(t),ne(t)&&t.renderer.destroy(),t.state|=8}}/**
 * @param {?} view
 * @return {?}
 */
function Xn(t){for(var/** @type {?} */e=t.def.nodes.length,/** @type {?} */n=0;n<e;n++){var/** @type {?} */r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(It(t,n).renderElement):2&r.flags&&t.renderer.destroyNode(kt(t,n).renderText)}}/**
 * @param {?} view
 * @param {?} action
 * @return {?}
 */
function Zn(t,e){var/** @type {?} */n=t.def;if(16777216&n.nodeFlags)for(var/** @type {?} */r=0;r<n.nodes.length;r++){var/** @type {?} */i=n.nodes[r];16777216&i.flags?
// a leaf
Qn(It(t,r).componentView,e):0==(16777216&i.childFlags)&&(
// a parent with leafs
// no child is a component,
// then skip the children
r+=i.childCount)}}/**
 * @param {?} view
 * @param {?} action
 * @return {?}
 */
function Kn(t,e){var/** @type {?} */n=t.def;if(8388608&n.nodeFlags)for(var/** @type {?} */r=0;r<n.nodes.length;r++){var/** @type {?} */i=n.nodes[r];if(8388608&i.flags)for(var/** @type {?} */o=It(t,r).viewContainer._embeddedViews,/** @type {?} */s=0;s<o.length;s++)Qn(o[s],e);else 0==(8388608&i.childFlags)&&(
// a parent with leafs
// no child is a component,
// then skip the children
r+=i.childCount)}}/**
 * @param {?} view
 * @param {?} action
 * @return {?}
 */
function Qn(t,e){var/** @type {?} */n=t.state;switch(e){case Sa.CheckNoChanges:2&n&&0==(12&n)&&Un(t);break;case Sa.CheckAndUpdate:2&n&&0==(12&n)&&Vn(t);break;case Sa.Destroy:Yn(t);break;case Sa.CreateViewNodes:Fn(t)}}/**
 * @param {?} view
 * @param {?} queryFlags
 * @param {?} staticDynamicQueryFlag
 * @param {?} checkType
 * @return {?}
 */
function Jn(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var/** @type {?} */i=t.def.nodes.length,/** @type {?} */o=0;o<i;o++){var/** @type {?} */s=t.def.nodes[o];if(s.flags&e&&s.flags&n)switch(Qs.setCurrentNode(t,s.index),r){case 0:Cn(t,s);break;case 1:$n(t,s)}s.childFlags&e&&s.childFlags&n||(
// no child has a matching query
// then skip the children
o+=s.childCount)}}/**
 * @return {?}
 */
function tr(){if(!Na){Na=!0;var/** @type {?} */t=st()?nr():er();Qs.setCurrentNode=t.setCurrentNode,Qs.createRootView=t.createRootView,Qs.createEmbeddedView=t.createEmbeddedView,Qs.checkAndUpdateView=t.checkAndUpdateView,Qs.checkNoChangesView=t.checkNoChangesView,Qs.destroyView=t.destroyView,Qs.resolveDep=un,Qs.createDebugContext=t.createDebugContext,Qs.handleEvent=t.handleEvent,Qs.updateDirectives=t.updateDirectives,Qs.updateRenderer=t.updateRenderer,Qs.dirtyParentQueries=En}}/**
 * @return {?}
 */
function er(){return{setCurrentNode:function(){},createRootView:rr,createEmbeddedView:Rn,checkAndUpdateView:Vn,checkNoChangesView:Un,destroyView:Yn,createDebugContext:function(t,e){return new ka(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?sr:ar,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?sr:ar,t)}}}/**
 * @return {?}
 */
function nr(){return{setCurrentNode:pr,createRootView:ir,createEmbeddedView:ur,checkAndUpdateView:cr,checkNoChangesView:lr,destroyView:fr,createDebugContext:function(t,e){return new ka(t,e)},handleEvent:hr,updateDirectives:dr,updateRenderer:mr}}/**
 * @param {?} elInjector
 * @param {?} projectableNodes
 * @param {?} rootSelectorOrNode
 * @param {?} def
 * @param {?} ngModule
 * @param {?=} context
 * @return {?}
 */
function rr(t,e,n,r,i,o){return jn(or(t,i,i.injector.get(ss),e,n),r,o)}/**
 * @param {?} elInjector
 * @param {?} projectableNodes
 * @param {?} rootSelectorOrNode
 * @param {?} def
 * @param {?} ngModule
 * @param {?=} context
 * @return {?}
 */
function ir(t,e,n,r,i,o){var/** @type {?} */s=i.injector.get(ss),/** @type {?} */a=or(t,i,new Ia(s),e,n);return Nr(Ma.create,jn,null,[a,r,o])}/**
 * @param {?} elInjector
 * @param {?} ngModule
 * @param {?} rendererFactory
 * @param {?} projectableNodes
 * @param {?} rootSelectorOrNode
 * @return {?}
 */
function or(t,e,n,r,i){return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:e.injector.get(Zs),rendererFactory:n,renderer:n.createRenderer(null,null)}}/**
 * @param {?} view
 * @param {?} nodeIndex
 * @param {?} argStyle
 * @param {?=} v0
 * @param {?=} v1
 * @param {?=} v2
 * @param {?=} v3
 * @param {?=} v4
 * @param {?=} v5
 * @param {?=} v6
 * @param {?=} v7
 * @param {?=} v8
 * @param {?=} v9
 * @return {?}
 */
function sr(t,e,n,r,i,o,s,a,u,c,l,f,p){var/** @type {?} */h=t.def.nodes[e];return Bn(t,h,n,r,i,o,s,a,u,c,l,f,p),112&h.flags?jt(t,e).value:void 0}/**
 * @param {?} view
 * @param {?} nodeIndex
 * @param {?} argStyle
 * @param {?=} v0
 * @param {?=} v1
 * @param {?=} v2
 * @param {?=} v3
 * @param {?=} v4
 * @param {?=} v5
 * @param {?=} v6
 * @param {?=} v7
 * @param {?=} v8
 * @param {?=} v9
 * @return {?}
 */
function ar(t,e,n,r,i,o,s,a,u,c,l,f,p){var/** @type {?} */h=t.def.nodes[e];return Hn(t,h,n,r,i,o,s,a,u,c,l,f,p),112&h.flags?jt(t,e).value:void 0}/**
 * @param {?} parent
 * @param {?} anchorDef
 * @param {?=} context
 * @return {?}
 */
function ur(t,e,n){return Nr(Ma.create,Rn,null,[t,e,n])}/**
 * @param {?} view
 * @return {?}
 */
function cr(t){return Nr(Ma.detectChanges,Vn,null,[t])}/**
 * @param {?} view
 * @return {?}
 */
function lr(t){return Nr(Ma.checkNoChanges,Un,null,[t])}/**
 * @param {?} view
 * @return {?}
 */
function fr(t){return Nr(Ma.destroy,Yn,null,[t])}/**
 * @param {?} view
 * @param {?} nodeIndex
 * @return {?}
 */
function pr(t,e){Ta=t,Aa=e}/**
 * @param {?} view
 * @param {?} nodeIndex
 * @param {?} eventName
 * @param {?} event
 * @return {?}
 */
function hr(t,e,n,r){return pr(t,e),Nr(Ma.handleEvent,t.def.handleEvent,null,[t,e,n,r])}/**
 * @param {?} view
 * @param {?} checkType
 * @return {?}
 */
function dr(t,e){/**
     * @param {?} view
     * @param {?} nodeIndex
     * @param {?} argStyle
     * @param {...?} values
     * @return {?}
     */
function n(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var/** @type {?} */s=t.def.nodes[n];return 0===e?vr(t,s,r,i):yr(t,s,r,i),8192&s.flags&&pr(t,_r(t,n)),112&s.flags?jt(t,s.index).value:void 0}if(8&t.state)throw zt(Ma[Oa]);return pr(t,_r(t,0)),t.def.updateDirectives(n,t)}/**
 * @param {?} view
 * @param {?} checkType
 * @return {?}
 */
function mr(t,e){/**
     * @param {?} view
     * @param {?} nodeIndex
     * @param {?} argStyle
     * @param {...?} values
     * @return {?}
     */
function n(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var/** @type {?} */s=t.def.nodes[n];return 0===e?vr(t,s,r,i):yr(t,s,r,i),3&s.flags&&pr(t,xr(t,n)),112&s.flags?jt(t,s.index).value:void 0}if(8&t.state)throw zt(Ma[Oa]);return pr(t,xr(t,0)),t.def.updateRenderer(n,t)}/**
 * @param {?} view
 * @param {?} nodeDef
 * @param {?} argStyle
 * @param {?} givenValues
 * @return {?}
 */
function vr(t,e,n,r){if(Bn.apply(void 0,[t,e,n].concat(r))){var/** @type {?} */i=1===n?r[0]:r;if(8192&e.flags){for(var/** @type {?} */o={},/** @type {?} */s=0;s<e.bindings.length;s++){var/** @type {?} */a=e.bindings[s],/** @type {?} */u=i[s];8&a.flags&&(o[gr(/** @type {?} */a.nonMinifiedName)]=wr(u))}var/** @type {?} */c=e.parent,/** @type {?} */l=It(t,c.index).renderElement;if(c.element.name)
// a regular element.
for(var/** @type {?} */f in o){var/** @type {?} */u=o[f];null!=u?t.renderer.setAttribute(l,f,u):t.renderer.removeAttribute(l,f)}else
// a comment.
t.renderer.setValue(l,"bindings="+JSON.stringify(o,null,2))}}}/**
 * @param {?} view
 * @param {?} nodeDef
 * @param {?} argStyle
 * @param {?} values
 * @return {?}
 */
function yr(t,e,n,r){Hn.apply(void 0,[t,e,n].concat(r))}/**
 * @param {?} name
 * @return {?}
 */
function gr(t){
// Attribute names with `$` (eg `x-y$`) are valid per spec, but unsupported by some browsers
return"ng-reflect-"+(t=br(t.replace(/[$@]/g,"_")))}/**
 * @param {?} input
 * @return {?}
 */
function br(t){return t.replace(Pa,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()})}/**
 * @param {?} value
 * @return {?}
 */
function wr(t){try{
// Limit the size of the value as otherwise the DOM just gets polluted.
return null!=t?t.toString().slice(0,30):t}catch(t){return"[ERROR] Exception while trying to serialize the value"}}/**
 * @param {?} view
 * @param {?} nodeIndex
 * @return {?}
 */
function _r(t,e){for(var/** @type {?} */n=e;n<t.def.nodes.length;n++){var/** @type {?} */r=t.def.nodes[n];if(8192&r.flags&&r.bindings&&r.bindings.length)return n}return null}/**
 * @param {?} view
 * @param {?} nodeIndex
 * @return {?}
 */
function xr(t,e){for(var/** @type {?} */n=e;n<t.def.nodes.length;n++){var/** @type {?} */r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}/**
 * @param {?} viewDef
 * @param {?} nodeIndex
 * @return {?}
 */
function Er(t,e){for(var/** @type {?} */n=-1,/** @type {?} */r=0;r<=e;r++){3&t.nodes[r].flags&&n++}return n}/**
 * @param {?} view
 * @return {?}
 */
function Cr(t){for(;t&&!ne(t);)t=t.parent;/** @type {?} */
return t.parent?It(t.parent,Jt(t).index):null}/**
 * @param {?} view
 * @param {?} nodeDef
 * @param {?} references
 * @return {?}
 */
function Sr(t,e,n){for(var/** @type {?} */r in e.references)n[r]=Nn(t,e,e.references[r])}/**
 * @param {?} action
 * @param {?} fn
 * @param {?} self
 * @param {?} args
 * @return {?}
 */
function Nr(t,e,n,r){var/** @type {?} */i=Oa,/** @type {?} */o=Ta,/** @type {?} */s=Aa;try{Oa=t;var/** @type {?} */a=e.apply(n,r);return Ta=o,Aa=s,Oa=i,a}catch(t){if(Bt(t)||!Ta)throw t;/** @type {?} */
throw Ta.state|=4,Ft(t,Mr())}}/**
 * @return {?}
 */
function Mr(){return Ta?new ka(Ta,Aa):null}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @return {?}
 */
function Or(){return Bs}/**
 * @return {?}
 */
function Tr(){return zs}/**
 * @param {?=} locale
 * @return {?}
 */
function Ar(t){return t||"en-US"}/**
 * @return {?}
 */
function Pr(){tr()}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * \@experimental Animation support is experimental.
 */
/**
 * `trigger` is an animation-specific function that is designed to be used inside of Angular's
 * animation DSL language. If this information is new, please navigate to the {\@link
 * Component#animations-anchor component animations metadata page} to gain a better understanding of
 * how animations in Angular are used.
 *
 * `trigger` Creates an animation trigger which will a list of {\@link state state} and {\@link
 * transition transition} entries that will be evaluated when the expression bound to the trigger
 * changes.
 *
 * Triggers are registered within the component annotation data under the {\@link
 * Component#animations-anchor animations section}. An animation trigger can be placed on an element
 * within a template by referencing the name of the trigger followed by the expression value that the
 * trigger is bound to (in the form of `[\@triggerName]="expression"`.
 *
 * ### Usage
 *
 * `trigger` will create an animation trigger reference based on the provided `name` value. The
 * provided `animation` value is expected to be an array consisting of {\@link state state} and {\@link
 * transition transition} declarations.
 *
 * ```typescript
 * \@Component({
 *   selector: 'my-component',
 *   templateUrl: 'my-component-tpl.html',
 *   animations: [
 *     trigger("myAnimationTrigger", [
 *       state(...),
 *       state(...),
 *       transition(...),
 *       transition(...)
 *     ])
 *   ]
 * })
 * class MyComponent {
 *   myStatusExp = "something";
 * }
 * ```
 *
 * The template associated with this component will make use of the `myAnimationTrigger` animation
 * trigger by binding to an element within its template code.
 *
 * ```html
 * <!-- somewhere inside of my-component-tpl.html -->
 * <div [\@myAnimationTrigger]="myStatusExp">...</div>
 * tools/gulp-tasks/validate-commit-message.js ```
 *
 * {\@example core/animation/ts/dsl/animation_example.ts region='Component'}
 *
 * \@experimental Animation support is experimental.
 * @param {?} name
 * @param {?} definitions
 * @return {?}
 */
function kr(t,e){return{name:t,definitions:e}}/**
 * `animate` is an animation-specific function that is designed to be used inside of Angular's
 * animation DSL language. If this information is new, please navigate to the {\@link
 * Component#animations-anchor component animations metadata page} to gain a better understanding of
 * how animations in Angular are used.
 *
 * `animate` specifies an animation step that will apply the provided `styles` data for a given
 * amount of time based on the provided `timing` expression value. Calls to `animate` are expected
 * to be used within {\@link sequence an animation sequence}, {\@link group group}, or {\@link
 * transition transition}.
 *
 * ### Usage
 *
 * The `animate` function accepts two input parameters: `timing` and `styles`:
 *
 * - `timing` is a string based value that can be a combination of a duration with optional delay
 * and easing values. The format for the expression breaks down to `duration delay easing`
 * (therefore a value such as `1s 100ms ease-out` will be parse itself into `duration=1000,
 * delay=100, easing=ease-out`. If a numeric value is provided then that will be used as the
 * `duration` value in millisecond form.
 * - `styles` is the style input data which can either be a call to {\@link style style} or {\@link
 * keyframes keyframes}. If left empty then the styles from the destination state will be collected
 * and used (this is useful when describing an animation step that will complete an animation by
 * {\@link transition#the-final-animate-call animating to the final state}).
 *
 * ```typescript
 * // various functions for specifying timing data
 * animate(500, style(...))
 * animate("1s", style(...))
 * animate("100ms 0.5s", style(...))
 * animate("5s ease", style(...))
 * animate("5s 10ms cubic-bezier(.17,.67,.88,.1)", style(...))
 *
 * // either style() of keyframes() can be used
 * animate(500, style({ background: "red" }))
 * animate(500, keyframes([
 *   style({ background: "blue" })),
 *   style({ background: "red" }))
 * ])
 * ```
 *
 * {\@example core/animation/ts/dsl/animation_example.ts region='Component'}
 *
 * \@experimental Animation support is experimental.
 * @param {?} timings
 * @param {?=} styles
 * @return {?}
 */
function Ir(t,e){return void 0===e&&(e=null),{type:4,styles:e,timings:t}}/**
 * `group` is an animation-specific function that is designed to be used inside of Angular's
 * animation DSL language. If this information is new, please navigate to the {\@link
 * Component#animations-anchor component animations metadata page} to gain a better understanding of
 * how animations in Angular are used.
 *
 * `group` specifies a list of animation steps that are all run in parallel. Grouped animations are
 * useful when a series of styles must be animated/closed off at different statrting/ending times.
 *
 * The `group` function can either be used within a {\@link sequence sequence} or a {\@link transition
 * transition} and it will only continue to the next instruction once all of the inner animation
 * steps have completed.
 *
 * ### Usage
 *
 * The `steps` data that is passed into the `group` animation function can either consist of {\@link
 * style style} or {\@link animate animate} function calls. Each call to `style()` or `animate()`
 * within a group will be executed instantly (use {\@link keyframes keyframes} or a {\@link
 * animate#usage animate() with a delay value} to offset styles to be applied at a later time).
 *
 * ```typescript
 * group([
 *   animate("1s", { background: "black" }))
 *   animate("2s", { color: "white" }))
 * ])
 * ```
 *
 * {\@example core/animation/ts/dsl/animation_example.ts region='Component'}
 *
 * \@experimental Animation support is experimental.
 * @param {?} steps
 * @return {?}
 */
function Rr(t){return{type:3,steps:t}}/**
 * `sequence` is an animation-specific function that is designed to be used inside of Angular's
 * animation DSL language. If this information is new, please navigate to the {\@link
 * Component#animations-anchor component animations metadata page} to gain a better understanding of
 * how animations in Angular are used.
 *
 * `sequence` Specifies a list of animation steps that are run one by one. (`sequence` is used by
 * default when an array is passed as animation data into {\@link transition transition}.)
 *
 * The `sequence` function can either be used within a {\@link group group} or a {\@link transition
 * transition} and it will only continue to the next instruction once each of the inner animation
 * steps have completed.
 *
 * To perform animation styling in parallel with other animation steps then have a look at the
 * {\@link group group} animation function.
 *
 * ### Usage
 *
 * The `steps` data that is passed into the `sequence` animation function can either consist of
 * {\@link style style} or {\@link animate animate} function calls. A call to `style()` will apply the
 * provided styling data immediately while a call to `animate()` will apply its styling data over a
 * given time depending on its timing data.
 *
 * ```typescript
 * sequence([
 *   style({ opacity: 0 })),
 *   animate("1s", { opacity: 1 }))
 * ])
 * ```
 *
 * {\@example core/animation/ts/dsl/animation_example.ts region='Component'}
 *
 * \@experimental Animation support is experimental.
 * @param {?} steps
 * @return {?}
 */
function jr(t){return{type:2,steps:t}}/**
 * `style` is an animation-specific function that is designed to be used inside of Angular's
 * animation DSL language. If this information is new, please navigate to the {\@link
 * Component#animations-anchor component animations metadata page} to gain a better understanding of
 * how animations in Angular are used.
 *
 * `style` declares a key/value object containing CSS properties/styles that can then be used for
 * {\@link state animation states}, within an {\@link sequence animation sequence}, or as styling data
 * for both {\@link animate animate} and {\@link keyframes keyframes}.
 *
 * ### Usage
 *
 * `style` takes in a key/value string map as data and expects one or more CSS property/value pairs
 * to be defined.
 *
 * ```typescript
 * // string values are used for css properties
 * style({ background: "red", color: "blue" })
 *
 * // numerical (pixel) values are also supported
 * style({ width: 100, height: 0 })
 * ```
 *
 * #### Auto-styles (using `*`)
 *
 * When an asterix (`*`) character is used as a value then it will be detected from the element
 * being animated and applied as animation data when the animation starts.
 *
 * This feature proves useful for a state depending on layout and/or environment factors; in such
 * cases the styles are calculated just before the animation starts.
 *
 * ```typescript
 * // the steps below will animate from 0 to the
 * // actual height of the element
 * style({ height: 0 }),
 * animate("1s", style({ height: "*" }))
 * ```
 *
 * {\@example core/animation/ts/dsl/animation_example.ts region='Component'}
 *
 * \@experimental Animation support is experimental.
 * @param {?} tokens
 * @return {?}
 */
function Dr(t){return{type:6,styles:t}}/**
 * `state` is an animation-specific function that is designed to be used inside of Angular's
 * animation DSL language. If this information is new, please navigate to the {\@link
 * Component#animations-anchor component animations metadata page} to gain a better understanding of
 * how animations in Angular are used.
 *
 * `state` declares an animation state within the given trigger. When a state is active within a
 * component then its associated styles will persist on the element that the trigger is attached to
 * (even when the animation ends).
 *
 * To animate between states, have a look at the animation {\@link transition transition} DSL
 * function. To register states to an animation trigger please have a look at the {\@link trigger
 * trigger} function.
 *
 * #### The `void` state
 *
 * The `void` state value is a reserved word that angular uses to determine when the element is not
 * apart of the application anymore (e.g. when an `ngIf` evaluates to false then the state of the
 * associated element is void).
 *
 * #### The `*` (default) state
 *
 * The `*` state (when styled) is a fallback state that will be used if the state that is being
 * animated is not declared within the trigger.
 *
 * ### Usage
 *
 * `state` will declare an animation state with its associated styles
 * within the given trigger.
 *
 * - `stateNameExpr` can be one or more state names separated by commas.
 * - `styles` refers to the {\@link style styling data} that will be persisted on the element once
 * the state has been reached.
 *
 * ```typescript
 * // "void" is a reserved name for a state and is used to represent
 * // the state in which an element is detached from from the application.
 * state("void", style({ height: 0 }))
 *
 * // user-defined states
 * state("closed", style({ height: 0 }))
 * state("open, visible", style({ height: "*" }))
 * ```
 *
 * {\@example core/animation/ts/dsl/animation_example.ts region='Component'}
 *
 * \@experimental Animation support is experimental.
 * @param {?} name
 * @param {?} styles
 * @return {?}
 */
function Lr(t,e){return{type:0,name:t,styles:e}}/**
 * `keyframes` is an animation-specific function that is designed to be used inside of Angular's
 * animation DSL language. If this information is new, please navigate to the {\@link
 * Component#animations-anchor component animations metadata page} to gain a better understanding of
 * how animations in Angular are used.
 *
 * `keyframes` specifies a collection of {\@link style style} entries each optionally characterized
 * by an `offset` value.
 *
 * ### Usage
 *
 * The `keyframes` animation function is designed to be used alongside the {\@link animate animate}
 * animation function. Instead of applying animations from where they are currently to their
 * destination, keyframes can describe how each style entry is applied and at what point within the
 * animation arc (much like CSS Keyframe Animations do).
 *
 * For each `style()` entry an `offset` value can be set. Doing so allows to specifiy at what
 * percentage of the animate time the styles will be applied.
 *
 * ```typescript
 * // the provided offset values describe when each backgroundColor value is applied.
 * animate("5s", keyframes([
 *   style({ backgroundColor: "red", offset: 0 }),
 *   style({ backgroundColor: "blue", offset: 0.2 }),
 *   style({ backgroundColor: "orange", offset: 0.3 }),
 *   style({ backgroundColor: "black", offset: 1 })
 * ]))
 * ```
 *
 * Alternatively, if there are no `offset` values used within the style entries then the offsets
 * will be calculated automatically.
 *
 * ```typescript
 * animate("5s", keyframes([
 *   style({ backgroundColor: "red" }) // offset = 0
 *   style({ backgroundColor: "blue" }) // offset = 0.33
 *   style({ backgroundColor: "orange" }) // offset = 0.66
 *   style({ backgroundColor: "black" }) // offset = 1
 * ]))
 * ```
 *
 * {\@example core/animation/ts/dsl/animation_example.ts region='Component'}
 *
 * \@experimental Animation support is experimental.
 * @param {?} steps
 * @return {?}
 */
function Fr(t){return{type:5,steps:t}}/**
 * `transition` is an animation-specific function that is designed to be used inside of Angular's
 * animation DSL language. If this information is new, please navigate to the {\@link
 * Component#animations-anchor component animations metadata page} to gain a better understanding of
 * how animations in Angular are used.
 *
 * `transition` declares the {\@link sequence sequence of animation steps} that will be run when the
 * provided `stateChangeExpr` value is satisfied. The `stateChangeExpr` consists of a `state1 =>
 * state2` which consists of two known states (use an asterix (`*`) to refer to a dynamic starting
 * and/or ending state).
 *
 * A function can also be provided as the `stateChangeExpr` argument for a transition and this
 * function will be executed each time a state change occurs. If the value returned within the
 * function is true then the associated animation will be run.
 *
 * Animation transitions are placed within an {\@link trigger animation trigger}. For an transition
 * to animate to a state value and persist its styles then one or more {\@link state animation
 * states} is expected to be defined.
 *
 * ### Usage
 *
 * An animation transition is kicked off the `stateChangeExpr` predicate evaluates to true based on
 * what the previous state is and what the current state has become. In other words, if a transition
 * is defined that matches the old/current state criteria then the associated animation will be
 * triggered.
 *
 * ```typescript
 * // all transition/state changes are defined within an animation trigger
 * trigger("myAnimationTrigger", [
 *   // if a state is defined then its styles will be persisted when the
 *   // animation has fully completed itself
 *   state("on", style({ background: "green" })),
 *   state("off", style({ background: "grey" })),
 *
 *   // a transition animation that will be kicked off when the state value
 *   // bound to "myAnimationTrigger" changes from "on" to "off"
 *   transition("on => off", animate(500)),
 *
 *   // it is also possible to do run the same animation for both directions
 *   transition("on <=> off", animate(500)),
 *
 *   // or to define multiple states pairs separated by commas
 *   transition("on => off, off => void", animate(500)),
 *
 *   // this is a catch-all state change for when an element is inserted into
 *   // the page and the destination state is unknown
 *   transition("void => *", [
 *     style({ opacity: 0 }),
 *     animate(500)
 *   ]),
 *
 *   // this will capture a state change between any states
 *   transition("* => *", animate("1s 0s")),
 *
 *   // you can also go full out and include a function
 *   transition((fromState, toState) => {
 *     // when `true` then it will allow the animation below to be invoked
 *     return fromState == "off" && toState == "on";
 *   }, animate("1s 0s"))
 * ])
 * ```
 *
 * The template associated with this component will make use of the `myAnimationTrigger` animation
 * trigger by binding to an element within its template code.
 *
 * ```html
 * <!-- somewhere inside of my-component-tpl.html -->
 * <div [\@myAnimationTrigger]="myStatusExp">...</div>
 * ```
 *
 * #### The final `animate` call
 *
 * If the final step within the transition steps is a call to `animate()` that **only** uses a
 * timing value with **no style data** then it will be automatically used as the final animation arc
 * for the element to animate itself to the final state. This involves an automatic mix of
 * adding/removing CSS styles so that the element will be in the exact state it should be for the
 * applied state to be presented correctly.
 *
 * ```
 * // start off by hiding the element, but make sure that it animates properly to whatever state
 * // is currently active for "myAnimationTrigger"
 * transition("void => *", [
 *   style({ opacity: 0 }),
 *   animate(500)
 * ])
 * ```
 *
 * ### Transition Aliases (`:enter` and `:leave`)
 *
 * Given that enter (insertion) and leave (removal) animations are so common, the `transition`
 * function accepts both `:enter` and `:leave` values which are aliases for the `void => *` and `*
 * => void` state changes.
 *
 * ```
 * transition(":enter", [
 *   style({ opacity: 0 }),
 *   animate(500, style({ opacity: 1 }))
 * ])
 * transition(":leave", [
 *   animate(500, style({ opacity: 0 }))
 * ])
 * ```
 *
 * {\@example core/animation/ts/dsl/animation_example.ts region='Component'}
 *
 * \@experimental Animation support is experimental.
 * @param {?} stateChangeExpr
 * @param {?} steps
 * @return {?}
 */
function Ur(t,e){return{type:1,expr:t,animation:e}}/**
 * @deprecated This symbol has moved. Please Import from \@angular/animations instead!
 * @param {?} name
 * @param {?} definitions
 * @return {?}
 */
function Vr(t,e){return kr(t,e)}/**
 * @deprecated This symbol has moved. Please Import from \@angular/animations instead!
 * @param {?} timings
 * @param {?=} styles
 * @return {?}
 */
function Br(t,e){return Ir(t,e)}/**
 * @deprecated This symbol has moved. Please Import from \@angular/animations instead!
 * @param {?} steps
 * @return {?}
 */
function zr(t){return Rr(t)}/**
 * @deprecated This symbol has moved. Please Import from \@angular/animations instead!
 * @param {?} steps
 * @return {?}
 */
function qr(t){return jr(t)}/**
 * @deprecated This symbol has moved. Please Import from \@angular/animations instead!
 * @param {?} tokens
 * @return {?}
 */
function Hr(t){return Dr(t)}/**
 * @deprecated This symbol has moved. Please Import from \@angular/animations instead!
 * @param {?} name
 * @param {?} styles
 * @return {?}
 */
function Gr(t,e){return Lr(t,e)}/**
 * @deprecated This symbol has moved. Please Import from \@angular/animations instead!
 * @param {?} steps
 * @return {?}
 */
function Wr(t){return Fr(t)}/**
 * @deprecated This symbol has moved. Please Import from \@angular/animations instead!
 * @param {?} stateChangeExpr
 * @param {?} steps
 * @return {?}
 */
function $r(t,e){return Ur(t,e)}Object.defineProperty(e,"__esModule",{value:!0});/* harmony import */
var Yr=n(0),Xr=(n.n(Yr),n(295)),Zr=(n.n(Xr),n(309)),Kr=(n.n(Zr),n(17));n.n(Kr);/* harmony export (binding) */
n.d(e,"Class",function(){return c}),/* harmony export (binding) */
n.d(e,"createPlatform",function(){return at}),/* harmony export (binding) */
n.d(e,"assertPlatform",function(){return ct}),/* harmony export (binding) */
n.d(e,"destroyPlatform",function(){return lt}),/* harmony export (binding) */
n.d(e,"getPlatform",function(){return ft}),/* harmony export (binding) */
n.d(e,"PlatformRef",function(){return Qo}),/* harmony export (binding) */
n.d(e,"ApplicationRef",function(){return ts}),/* harmony export (binding) */
n.d(e,"enableProdMode",function(){return ot}),/* harmony export (binding) */
n.d(e,"isDevMode",function(){return st}),/* harmony export (binding) */
n.d(e,"createPlatformFactory",function(){return ut}),/* harmony export (binding) */
n.d(e,"NgProbeToken",function(){return Ko}),/* harmony export (binding) */
n.d(e,"APP_ID",function(){return fo}),/* harmony export (binding) */
n.d(e,"PACKAGE_ROOT_URL",function(){return yo}),/* harmony export (binding) */
n.d(e,"PLATFORM_INITIALIZER",function(){return ho}),/* harmony export (binding) */
n.d(e,"PLATFORM_ID",function(){return mo}),/* harmony export (binding) */
n.d(e,"APP_BOOTSTRAP_LISTENER",function(){return vo}),/* harmony export (binding) */
n.d(e,"APP_INITIALIZER",function(){return co}),/* harmony export (binding) */
n.d(e,"ApplicationInitStatus",function(){return lo}),/* harmony export (binding) */
n.d(e,"DebugElement",function(){return Es}),/* harmony export (binding) */
n.d(e,"DebugNode",function(){return xs}),/* harmony export (binding) */
n.d(e,"asNativeElements",function(){return gt}),/* harmony export (binding) */
n.d(e,"getDebugNode",function(){return _t}),/* harmony export (binding) */
n.d(e,"Testability",function(){return qo}),/* harmony export (binding) */
n.d(e,"TestabilityRegistry",function(){return Ho}),/* harmony export (binding) */
n.d(e,"setTestabilityGetter",function(){return it}),/* harmony export (binding) */
n.d(e,"TRANSLATIONS",function(){return Ws}),/* harmony export (binding) */
n.d(e,"TRANSLATIONS_FORMAT",function(){return $s}),/* harmony export (binding) */
n.d(e,"LOCALE_ID",function(){return Gs}),/* harmony export (binding) */
n.d(e,"MissingTranslationStrategy",function(){return Ys}),/* harmony export (binding) */
n.d(e,"ApplicationModule",function(){return ja}),/* harmony export (binding) */
n.d(e,"wtfCreateScope",function(){return Lo}),/* harmony export (binding) */
n.d(e,"wtfLeave",function(){return Fo}),/* harmony export (binding) */
n.d(e,"wtfStartTimeRange",function(){return Uo}),/* harmony export (binding) */
n.d(e,"wtfEndTimeRange",function(){return Vo}),/* harmony export (binding) */
n.d(e,"Type",function(){return Xi}),/* harmony export (binding) */
n.d(e,"EventEmitter",function(){return Bo}),/* harmony export (binding) */
n.d(e,"ErrorHandler",function(){return Gi}),/* harmony export (binding) */
n.d(e,"Sanitizer",function(){return Zs}),/* harmony export (binding) */
n.d(e,"SecurityContext",function(){return Xs}),/* harmony export (binding) */
n.d(e,"ANALYZE_FOR_ENTRY_COMPONENTS",function(){return ui}),/* harmony export (binding) */
n.d(e,"Attribute",function(){return ci}),/* harmony export (binding) */
n.d(e,"ContentChild",function(){return pi}),/* harmony export (binding) */
n.d(e,"ContentChildren",function(){return fi}),/* harmony export (binding) */
n.d(e,"Query",function(){return li}),/* harmony export (binding) */
n.d(e,"ViewChild",function(){return di}),/* harmony export (binding) */
n.d(e,"ViewChildren",function(){return hi}),/* harmony export (binding) */
n.d(e,"Component",function(){return gi}),/* harmony export (binding) */
n.d(e,"Directive",function(){return yi}),/* harmony export (binding) */
n.d(e,"HostBinding",function(){return xi}),/* harmony export (binding) */
n.d(e,"HostListener",function(){return Ei}),/* harmony export (binding) */
n.d(e,"Input",function(){return wi}),/* harmony export (binding) */
n.d(e,"Output",function(){return _i}),/* harmony export (binding) */
n.d(e,"Pipe",function(){return bi}),/* harmony export (binding) */
n.d(e,"CUSTOM_ELEMENTS_SCHEMA",function(){return Ci}),/* harmony export (binding) */
n.d(e,"NO_ERRORS_SCHEMA",function(){return Si}),/* harmony export (binding) */
n.d(e,"NgModule",function(){return Ni}),/* harmony export (binding) */
n.d(e,"ViewEncapsulation",function(){return Mi}),/* harmony export (binding) */
n.d(e,"Version",function(){return Ti}),/* harmony export (binding) */
n.d(e,"VERSION",function(){return Ai}),/* harmony export (binding) */
n.d(e,"forwardRef",function(){return m}),/* harmony export (binding) */
n.d(e,"resolveForwardRef",function(){return v}),/* harmony export (binding) */
n.d(e,"Injector",function(){return Vi}),/* harmony export (binding) */
n.d(e,"ReflectiveInjector",function(){return so}),/* harmony export (binding) */
n.d(e,"ResolvedReflectiveFactory",function(){return io}),/* harmony export (binding) */
n.d(e,"ReflectiveKey",function(){return Wi}),/* harmony export (binding) */
n.d(e,"InjectionToken",function(){return ti}),/* harmony export (binding) */
n.d(e,"OpaqueToken",function(){return Jr}),/* harmony export (binding) */
n.d(e,"Inject",function(){return Pi}),/* harmony export (binding) */
n.d(e,"Optional",function(){return ki}),/* harmony export (binding) */
n.d(e,"Injectable",function(){return Ii}),/* harmony export (binding) */
n.d(e,"Self",function(){return Ri}),/* harmony export (binding) */
n.d(e,"SkipSelf",function(){return ji}),/* harmony export (binding) */
n.d(e,"Host",function(){return Di}),/* harmony export (binding) */
n.d(e,"NgZone",function(){return zo}),/* harmony export (binding) */
n.d(e,"RenderComponentType",function(){return ns}),/* harmony export (binding) */
n.d(e,"Renderer",function(){return is}),/* harmony export (binding) */
n.d(e,"Renderer2",function(){return us}),/* harmony export (binding) */
n.d(e,"RendererFactory2",function(){return ss}),/* harmony export (binding) */
n.d(e,"RendererStyleFlags2",function(){return as}),/* harmony export (binding) */
n.d(e,"RootRenderer",function(){return os}),/* harmony export (binding) */
n.d(e,"COMPILER_OPTIONS",function(){return _o}),/* harmony export (binding) */
n.d(e,"Compiler",function(){return wo}),/* harmony export (binding) */
n.d(e,"CompilerFactory",function(){return xo}),/* harmony export (binding) */
n.d(e,"ModuleWithComponentFactories",function(){return bo}),/* harmony export (binding) */
n.d(e,"ComponentFactory",function(){return Co}),/* harmony export (binding) */
n.d(e,"ComponentRef",function(){return Eo}),/* harmony export (binding) */
n.d(e,"ComponentFactoryResolver",function(){return Mo}),/* harmony export (binding) */
n.d(e,"ElementRef",function(){return cs}),/* harmony export (binding) */
n.d(e,"NgModuleFactory",function(){return Io}),/* harmony export (binding) */
n.d(e,"NgModuleRef",function(){return ko}),/* harmony export (binding) */
n.d(e,"NgModuleFactoryLoader",function(){return ls}),/* harmony export (binding) */
n.d(e,"getModuleFactory",function(){return mt}),/* harmony export (binding) */
n.d(e,"QueryList",function(){return ps}),/* harmony export (binding) */
n.d(e,"SystemJsNgModuleLoader",function(){return ms}),/* harmony export (binding) */
n.d(e,"SystemJsNgModuleLoaderConfig",function(){return hs}),/* harmony export (binding) */
n.d(e,"TemplateRef",function(){return vs}),/* harmony export (binding) */
n.d(e,"ViewContainerRef",function(){return ys}),/* harmony export (binding) */
n.d(e,"EmbeddedViewRef",function(){return ws}),/* harmony export (binding) */
n.d(e,"ViewRef",function(){return bs}),/* harmony export (binding) */
n.d(e,"ChangeDetectionStrategy",function(){return mi}),/* harmony export (binding) */
n.d(e,"ChangeDetectorRef",function(){return gs}),/* harmony export (binding) */
n.d(e,"DefaultIterableDiffer",function(){return As}),/* harmony export (binding) */
n.d(e,"IterableDiffers",function(){return Ls}),/* harmony export (binding) */
n.d(e,"KeyValueDiffers",function(){return Fs}),/* harmony export (binding) */
n.d(e,"SimpleChange",function(){return Ms}),/* harmony export (binding) */
n.d(e,"WrappedValue",function(){return Ss}),/* harmony export (binding) */
n.d(e,"platformCore",function(){return Hs}),/* harmony export (binding) */
n.d(e,"ALLOW_MULTIPLE_PLATFORMS",function(){return Zo}),/* harmony export (binding) */
n.d(e,"APP_ID_RANDOM_PROVIDER",function(){return po}),/* harmony export (binding) */
n.d(e,"ValueUnwrapper",function(){return Ns}),/* harmony export (binding) */
n.d(e,"devModeEqual",function(){return Ct}),/* harmony export (binding) */
n.d(e,"isListLikeIterable",function(){return St}),/* harmony export (binding) */
n.d(e,"ChangeDetectorStatus",function(){return vi}),/* harmony export (binding) */
n.d(e,"isDefaultChangeDetectionStrategy",function(){return d}),/* harmony export (binding) */
n.d(e,"Console",function(){return go}),/* harmony export (binding) */
n.d(e,"ERROR_COMPONENT_TYPE",function(){return Bi}),/* harmony export (binding) */
n.d(e,"ComponentFactory",function(){return Co}),/* harmony export (binding) */
n.d(e,"CodegenComponentFactoryResolver",function(){return Ao}),/* harmony export (binding) */
n.d(e,"LIFECYCLE_HOOKS_VALUES",function(){return La}),/* harmony export (binding) */
n.d(e,"LifecycleHooks",function(){return Da}),/* harmony export (binding) */
n.d(e,"ViewMetadata",function(){return Oi}),/* harmony export (binding) */
n.d(e,"Reflector",function(){return Ji}),/* harmony export (binding) */
n.d(e,"reflector",function(){return to}),/* harmony export (binding) */
n.d(e,"ReflectionCapabilities",function(){return Ki}),/* harmony export (binding) */
n.d(e,"ReflectorReader",function(){return Qi}),/* harmony export (binding) */
n.d(e,"RenderDebugInfo",function(){return rs}),/* harmony export (binding) */
n.d(e,"global",function(){return ii}),/* harmony export (binding) */
n.d(e,"looseIdentical",function(){return o}),/* harmony export (binding) */
n.d(e,"stringify",function(){return s}),/* harmony export (binding) */
n.d(e,"makeDecorator",function(){return l}),/* harmony export (binding) */
n.d(e,"isObservable",function(){return $}),/* harmony export (binding) */
n.d(e,"isPromise",function(){return W}),/* harmony export (binding) */
n.d(e,"NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR",function(){return Ca}),/* harmony export (binding) */
n.d(e,"NgModuleInjector",function(){return jo}),/* harmony export (binding) */
n.d(e,"registerModuleFactory",function(){return dt}),/* harmony export (binding) */
n.d(e,"EMPTY_ARRAY",function(){return sa}),/* harmony export (binding) */
n.d(e,"EMPTY_MAP",function(){return aa}),/* harmony export (binding) */
n.d(e,"and",function(){return be}),/* harmony export (binding) */
n.d(e,"ccf",function(){return Ve}),/* harmony export (binding) */
n.d(e,"crt",function(){return Gt}),/* harmony export (binding) */
n.d(e,"did",function(){return Ye}),/* harmony export (binding) */
n.d(e,"eld",function(){return we}),/* harmony export (binding) */
n.d(e,"elementEventFullName",function(){return ee}),/* harmony export (binding) */
n.d(e,"getComponentViewDefinitionFactory",function(){return Be}),/* harmony export (binding) */
n.d(e,"inlineInterpolate",function(){return ye}),/* harmony export (binding) */
n.d(e,"interpolate",function(){return ve}),/* harmony export (binding) */
n.d(e,"ncd",function(){return Pe}),/* harmony export (binding) */
n.d(e,"nov",function(){return We}),/* harmony export (binding) */
n.d(e,"pid",function(){return Xe}),/* harmony export (binding) */
n.d(e,"prd",function(){return Ze}),/* harmony export (binding) */
n.d(e,"pad",function(){return mn}),/* harmony export (binding) */
n.d(e,"pod",function(){return vn}),/* harmony export (binding) */
n.d(e,"ppd",function(){return dn}),/* harmony export (binding) */
n.d(e,"qud",function(){return _n}),/* harmony export (binding) */
n.d(e,"ted",function(){return Mn}),/* harmony export (binding) */
n.d(e,"unv",function(){return Ht}),/* harmony export (binding) */
n.d(e,"vid",function(){return kn}),/* harmony export (binding) */
n.d(e,"AUTO_STYLE",function(){return Fa}),/* harmony export (binding) */
n.d(e,"trigger",function(){return Vr}),/* harmony export (binding) */
n.d(e,"animate",function(){return Br}),/* harmony export (binding) */
n.d(e,"group",function(){return zr}),/* harmony export (binding) */
n.d(e,"sequence",function(){return qr}),/* harmony export (binding) */
n.d(e,"style",function(){return Hr}),/* harmony export (binding) */
n.d(e,"state",function(){return Gr}),/* harmony export (binding) */
n.d(e,"keyframes",function(){return Wr}),/* harmony export (binding) */
n.d(e,"transition",function(){return $r}),/* harmony export (binding) */
n.d(e,"ba",function(){return Ir}),/* harmony export (binding) */
n.d(e,"bb",function(){return Rr}),/* harmony export (binding) */
n.d(e,"bf",function(){return Fr}),/* harmony export (binding) */
n.d(e,"bc",function(){return jr}),/* harmony export (binding) */
n.d(e,"be",function(){return Lr}),/* harmony export (binding) */
n.d(e,"bd",function(){return Dr}),/* harmony export (binding) */
n.d(e,"bg",function(){return Ur}),/* harmony export (binding) */
n.d(e,"z",function(){return kr}),/* harmony export (binding) */
n.d(e,"o",function(){return Pr}),/* harmony export (binding) */
n.d(e,"l",function(){return Or}),/* harmony export (binding) */
n.d(e,"m",function(){return Tr}),/* harmony export (binding) */
n.d(e,"n",function(){return Ar}),/* harmony export (binding) */
n.d(e,"f",function(){return es}),/* harmony export (binding) */
n.d(e,"g",function(){return Y}),/* harmony export (binding) */
n.d(e,"h",function(){return Bs}),/* harmony export (binding) */
n.d(e,"i",function(){return zs}),/* harmony export (binding) */
n.d(e,"j",function(){return Os}),/* harmony export (binding) */
n.d(e,"k",function(){return Rs}),/* harmony export (binding) */
n.d(e,"c",function(){return ao}),/* harmony export (binding) */
n.d(e,"d",function(){return eo}),/* harmony export (binding) */
n.d(e,"e",function(){return F}),/* harmony export (binding) */
n.d(e,"p",function(){return Do}),/* harmony export (binding) */
n.d(e,"r",function(){return J}),/* harmony export (binding) */
n.d(e,"q",function(){return Q}),/* harmony export (binding) */
n.d(e,"u",function(){return nt}),/* harmony export (binding) */
n.d(e,"s",function(){return tt}),/* harmony export (binding) */
n.d(e,"t",function(){return et}),/* harmony export (binding) */
n.d(e,"a",function(){return p}),/* harmony export (binding) */
n.d(e,"b",function(){return h}),/* harmony export (binding) */
n.d(e,"w",function(){return Ke}),/* harmony export (binding) */
n.d(e,"x",function(){return Ks});var Qr=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Jr=function(){/**
     * @param {?} _desc
     */
function t(t){this._desc=t}/**
     * @return {?}
     */
return t.prototype.toString=function(){return"Token "+this._desc},t}(),ti=function(t){/**
     * @param {?} desc
     */
function e(e){return t.call(this,e)||this}/**
     * @return {?}
     */
return Qr(e,t),e.prototype.toString=function(){return"InjectionToken "+this._desc},e}(Jr),ei="undefined"!=typeof window&&window,ni="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ri=void 0!==t&&t,ii=ei||ri||ni,oi=null,si=0,ai=ii.Reflect,ui=new ti("AnalyzeForEntryComponents"),ci=p("Attribute",[["attributeName",void 0]]),li=function(){function t(){}return t}(),fi=h("ContentChildren",[["selector",void 0],{first:!1,isViewQuery:!1,descendants:!1,read:void 0}],li),pi=h("ContentChild",[["selector",void 0],{first:!0,isViewQuery:!1,descendants:!0,read:void 0}],li),hi=h("ViewChildren",[["selector",void 0],{first:!1,isViewQuery:!0,descendants:!0,read:void 0}],li),di=h("ViewChild",[["selector",void 0],{first:!0,isViewQuery:!0,descendants:!0,read:void 0}],li),mi={};mi.OnPush=0,mi.Default=1,mi[mi.OnPush]="OnPush",mi[mi.Default]="Default";var vi={};vi.CheckOnce=0,vi.Checked=1,vi.CheckAlways=2,vi.Detached=3,vi.Errored=4,vi.Destroyed=5,vi[vi.CheckOnce]="CheckOnce",vi[vi.Checked]="Checked",vi[vi.CheckAlways]="CheckAlways",vi[vi.Detached]="Detached",vi[vi.Errored]="Errored",vi[vi.Destroyed]="Destroyed";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Directive decorator and metadata.
 *
 * \@stable
 * \@Annotation
 */
var yi=l("Directive",{selector:void 0,inputs:void 0,outputs:void 0,host:void 0,providers:void 0,exportAs:void 0,queries:void 0}),gi=l("Component",{selector:void 0,inputs:void 0,outputs:void 0,host:void 0,exportAs:void 0,moduleId:void 0,providers:void 0,viewProviders:void 0,changeDetection:mi.Default,queries:void 0,templateUrl:void 0,template:void 0,styleUrls:void 0,styles:void 0,animations:void 0,encapsulation:void 0,interpolation:void 0,entryComponents:void 0},yi),bi=l("Pipe",{name:void 0,pure:!0}),wi=h("Input",[["bindingPropertyName",void 0]]),_i=h("Output",[["bindingPropertyName",void 0]]),xi=h("HostBinding",[["hostPropertyName",void 0]]),Ei=h("HostListener",[["eventName",void 0],["args",[]]]),Ci={name:"custom-elements"},Si={name:"no-errors-schema"},Ni=l("NgModule",{providers:void 0,declarations:void 0,imports:void 0,exports:void 0,entryComponents:void 0,bootstrap:void 0,schemas:void 0,id:void 0}),Mi={};Mi.Emulated=0,Mi.Native=1,Mi.None=2,Mi[Mi.Emulated]="Emulated",Mi[Mi.Native]="Native",Mi[Mi.None]="None";/**
 * Metadata properties available for configuring Views.
 *
 * For details on the `\@Component` annotation, see {\@link Component}.
 *
 * ### Example
 *
 * ```
 * \@Component({
 *   selector: 'greet',
 *   template: 'Hello {{name}}!',
 * })
 * class Greet {
 *   name: string;
 *
 *   constructor() {
 *     this.name = 'World';
 *   }
 * }
 * ```
 *
 * @deprecated Use Component instead.
 *
 * {\@link Component}
 */
var Oi=function(){/**
     * @param {?=} __0
     */
function t(t){var e=void 0===t?{}:t,n=e.templateUrl,r=e.template,i=e.encapsulation,o=e.styles,s=e.styleUrls,a=e.animations,u=e.interpolation;this.templateUrl=n,this.template=r,this.styleUrls=s,this.styles=o,this.encapsulation=i,this.animations=a,this.interpolation=u}return t}(),Ti=function(){/**
     * @param {?} full
     */
function t(t){this.full=t}return Object.defineProperty(t.prototype,"major",{/**
         * @return {?}
         */
get:function(){return this.full.split(".")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minor",{/**
         * @return {?}
         */
get:function(){return this.full.split(".")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patch",{/**
         * @return {?}
         */
get:function(){return this.full.split(".").slice(2).join(".")},enumerable:!0,configurable:!0}),t}(),Ai=new Ti("4.0.1"),Pi=p("Inject",[["token",void 0]]),ki=p("Optional",[]),Ii=l("Injectable",[]),Ri=p("Self",[]),ji=p("SkipSelf",[]),Di=p("Host",[]),Li=new Object,Fi=Li,Ui=function(){function t(){}/**
     * @param {?} token
     * @param {?=} notFoundValue
     * @return {?}
     */
return t.prototype.get=function(t,e){if(void 0===e&&(e=Li),e===Li)throw new Error("No provider for "+s(t)+"!");return e},t}(),Vi=function(){function t(){}/**
     * Retrieves an instance from the injector based on the provided token.
     * If not found:
     * - Throws {\@link NoProviderError} if no `notFoundValue` that is not equal to
     * Injector.THROW_IF_NOT_FOUND is given
     * - Returns the `notFoundValue` otherwise
     * @abstract
     * @template T
     * @param {?} token
     * @param {?=} notFoundValue
     * @return {?}
     */
/**
     * @deprecated from v4.0.0 use Type<T> or InjectionToken<T>
     * @suppress {duplicate}
     * @abstract
     * @param {?} token
     * @param {?=} notFoundValue
     * @return {?}
     */
return t.prototype.get=function(t,e){},t.prototype.get=function(t,e){},t}();Vi.THROW_IF_NOT_FOUND=Li,Vi.NULL=new Ui;/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Bi="ngComponentType",zi="ngDebugContext",qi="ngOriginalError",Hi="ngErrorLogger",Gi=function(){/**
     * @param {?=} deprecatedParameter
     */
function t(/**
         * @deprecated since v4.0 parameter no longer has an effect, as ErrorHandler will never
         * rethrow.
         */
t){/**
         * \@internal
         */
this._console=console}/**
     * @param {?} error
     * @return {?}
     */
/**
     * \@internal
     * @param {?} error
     * @return {?}
     */
/**
     * \@internal
     * @param {?} error
     * @return {?}
     */
return t.prototype.handleError=function(t){var/** @type {?} */e=this._findOriginalError(t),/** @type {?} */n=this._findContext(t),/** @type {?} */r=b(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?y(t)?y(t):this._findContext(g(t)):null},t.prototype._findOriginalError=function(t){for(var/** @type {?} */e=g(t);e&&g(e);)e=g(e);return e},t}(),Wi=function(){/**
     * Private
     * @param {?} token
     * @param {?} id
     */
function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!")}/**
     * Retrieves a `Key` for a token.
     * @param {?} token
     * @return {?}
     */
return Object.defineProperty(t.prototype,"displayName",{/**
         * Returns a stringified token.
         * @return {?}
         */
get:function(){return s(this.token)},enumerable:!0,configurable:!0}),t.get=function(t){return Yi.get(v(t))},Object.defineProperty(t,"numberOfKeys",{/**
         * @return {?} the number of keys registered in the system.
         */
get:function(){return Yi.numberOfKeys},enumerable:!0,configurable:!0}),t}(),$i=function(){function t(){this._allKeys=new Map}/**
     * @param {?} token
     * @return {?}
     */
return t.prototype.get=function(t){if(t instanceof Wi)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var/** @type {?} */e=new Wi(t,Wi.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{/**
         * @return {?}
         */
get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}(),Yi=new $i,Xi=Function,Zi=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Ki=function(){/**
     * @param {?=} reflect
     */
function t(t){this._reflect=t||ii.Reflect}/**
     * @return {?}
     */
/**
     * @template T
     * @param {?} t
     * @return {?}
     */
/**
     * \@internal
     * @param {?} paramTypes
     * @param {?} paramAnnotations
     * @return {?}
     */
/**
     * @param {?} type
     * @param {?} parentCtor
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} typeOrFunc
     * @param {?} parentCtor
     * @return {?}
     */
/**
     * @param {?} typeOrFunc
     * @return {?}
     */
/**
     * @param {?} typeOrFunc
     * @param {?} parentCtor
     * @return {?}
     */
/**
     * @param {?} typeOrFunc
     * @return {?}
     */
/**
     * @param {?} type
     * @param {?} lcProperty
     * @return {?}
     */
/**
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} name
     * @param {?} moduleUrl
     * @param {?} members
     * @param {?} runtime
     * @return {?}
     */
/**
     * @param {?} enumIdentifier
     * @param {?} name
     * @return {?}
     */
return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,[void 0].concat(e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var/** @type {?} */n;n=void 0===t?new Array(e.length):new Array(t.length);for(var/** @type {?} */r=0;r<n.length;r++)
// TS outputs Object for parameters without types, while Traceur omits
// the annotations. For now we preserve the Traceur behavior to aid
// migration, but this can be revisited.
void 0===t?n[r]=[]:t[r]!=Object?n[r]=[t[r]]:n[r]=[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n},t.prototype._ownParameters=function(t,e){
// If we have no decorators, we only have function.length as metadata.
// In that case, to detect whether a child class declared an own constructor or not,
// we need to look inside of that constructor to check whether it is
// just calling the parent.
// This also helps to work around for https://github.com/Microsoft/TypeScript/issues/12439
// that sets 'design:paramtypes' to []
// if a class inherits from another class but has no ctor declared itself.
if(Zi.exec(t.toString()))return null;
// Prefer the direct API.
if(t.parameters&&t.parameters!==e.parameters)return t.parameters;
// API of tsickle for lowering decorators to properties on the class.
var/** @type {?} */n=t.ctorParameters;if(n&&n!==e.ctorParameters){
// Newer tsickle uses a function closure
// Retain the non-function case for compatibility with older tsickle
var/** @type {?} */r="function"==typeof n?n():n,/** @type {?} */i=r.map(function(t){return t&&t.type}),/** @type {?} */o=r.map(function(t){return t&&R(t.decorators)});return this._zipTypesAndAnnotations(i,o)}
// API for metadata created by invoking the decorators.
if(null!=this._reflect&&null!=this._reflect.getOwnMetadata){var/** @type {?} */o=this._reflect.getOwnMetadata("parameters",t),/** @type {?} */i=this._reflect.getOwnMetadata("design:paramtypes",t);if(i||o)return this._zipTypesAndAnnotations(i,o)}
// If a class has no decorators, at least create metadata
// based on function.length.
// Note: We know that this is a real constructor as we checked
// the content of the constructor above.
return new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){
// Note: only report metadata if we have at least one class decorator
// to stay in sync with the static reflector.
if(!I(t))return[];var/** @type {?} */e=j(t),/** @type {?} */n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){
// Prefer the direct API.
if(t.annotations&&t.annotations!==e.annotations){var/** @type {?} */n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}
// API of tsickle for lowering decorators to properties on the class.
// API of tsickle for lowering decorators to properties on the class.
// API for metadata created by invoking the decorators.
return t.decorators&&t.decorators!==e.decorators?R(t.decorators):this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("annotations",t):null},t.prototype.annotations=function(t){if(!I(t))return[];var/** @type {?} */e=j(t),/** @type {?} */n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){
// Prefer the direct API.
if(t.propMetadata&&t.propMetadata!==e.propMetadata){var/** @type {?} */n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}
// API of tsickle for lowering decorators to properties on the class.
if(t.propDecorators&&t.propDecorators!==e.propDecorators){var/** @type {?} */r=t.propDecorators,/** @type {?} */i={};return Object.keys(r).forEach(function(t){i[t]=R(r[t])}),i}
// API for metadata created by invoking the decorators.
// API for metadata created by invoking the decorators.
return this._reflect&&this._reflect.getOwnMetadata?this._reflect.getOwnMetadata("propMetadata",t):null},t.prototype.propMetadata=function(t){if(!I(t))return{};var/** @type {?} */e=j(t),/** @type {?} */n={};if(e!==Object){var/** @type {?} */r=this.propMetadata(e);Object.keys(r).forEach(function(t){n[t]=r[t]})}var/** @type {?} */i=this._ownPropMetadata(t,e);return i&&Object.keys(i).forEach(function(t){var/** @type {?} */e=[];n.hasOwnProperty(t)&&e.push.apply(e,n[t]),e.push.apply(e,i[t]),n[t]=e}),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof Xi&&e in t.prototype},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){var/** @type {?} */e="if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);";return new Function("o","args",e)},t.prototype.importUri=function(t){
// StaticSymbol
// StaticSymbol
return"object"==typeof t&&t.filePath?t.filePath:"./"+s(t)},t.prototype.resourceUri=function(t){return"./"+s(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return r},t.prototype.resolveEnum=function(t,e){return t[e]},t}(),Qi=function(){function t(){}/**
     * @abstract
     * @param {?} typeOrFunc
     * @return {?}
     */
/**
     * @abstract
     * @param {?} typeOrFunc
     * @return {?}
     */
/**
     * @abstract
     * @param {?} typeOrFunc
     * @return {?}
     */
/**
     * @abstract
     * @param {?} typeOrFunc
     * @return {?}
     */
/**
     * @abstract
     * @param {?} typeOrFunc
     * @return {?}
     */
/**
     * @abstract
     * @param {?} name
     * @param {?} moduleUrl
     * @param {?} members
     * @param {?} runtime
     * @return {?}
     */
/**
     * @abstract
     * @param {?} identifier
     * @param {?} name
     * @return {?}
     */
return t.prototype.parameters=function(t){},t.prototype.annotations=function(t){},t.prototype.propMetadata=function(t){},t.prototype.importUri=function(t){},t.prototype.resourceUri=function(t){},t.prototype.resolveIdentifier=function(t,e,n,r){},t.prototype.resolveEnum=function(t,e){},t}(),Ji=function(t){/**
     * @param {?} reflectionCapabilities
     */
function e(e){var n=t.call(this)||this;return n.reflectionCapabilities=e,n}/**
     * @param {?} caps
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} typeOrFunc
     * @return {?}
     */
/**
     * @param {?} typeOrFunc
     * @return {?}
     */
/**
     * @param {?} typeOrFunc
     * @return {?}
     */
/**
     * @param {?} type
     * @param {?} lcProperty
     * @return {?}
     */
/**
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} name
     * @param {?} moduleUrl
     * @param {?} members
     * @param {?} runtime
     * @return {?}
     */
/**
     * @param {?} identifier
     * @param {?} name
     * @return {?}
     */
return Qr(e,t),e.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},e.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},e.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},e.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},e.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},e.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},e.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},e.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},e.prototype.method=function(t){return this.reflectionCapabilities.method(t)},e.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},e.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},e.prototype.resolveIdentifier=function(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)},e.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},e}(Qi),to=new Ji(new Ki),eo=function(){/**
     * @param {?} key
     * @param {?} optional
     * @param {?} visibility
     */
function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}/**
     * @param {?} key
     * @return {?}
     */
return t.fromKey=function(e){return new t(e,!1,null)},t}(),no=[],ro=function(){/**
     * @param {?} key
     * @param {?} resolvedFactories
     * @param {?} multiProvider
     */
function t(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n}return Object.defineProperty(t.prototype,"resolvedFactory",{/**
         * @return {?}
         */
get:function(){return this.resolvedFactories[0]},enumerable:!0,configurable:!0}),t}(),io=function(){/**
     * @param {?} factory
     * @param {?} dependencies
     */
function t(t,e){this.factory=t,this.dependencies=e}return t}(),oo=new Object,so=function(){function t(){}/**
     * Turns an array of provider definitions into an array of resolved providers.
     *
     * A resolution is a process of flattening multiple nested arrays and converting individual
     * providers into an array of {\@link ResolvedReflectiveProvider}s.
     *
     * ### Example ([live demo](http://plnkr.co/edit/AiXTHi?p=preview))
     *
     * ```typescript
     * \@Injectable()
     * class Engine {
     * }
     *
     * \@Injectable()
     * class Car {
     *   constructor(public engine:Engine) {}
     * }
     *
     * var providers = ReflectiveInjector.resolve([Car, [[Engine]]]);
     *
     * expect(providers.length).toEqual(2);
     *
     * expect(providers[0] instanceof ResolvedReflectiveProvider).toBe(true);
     * expect(providers[0].key.displayName).toBe("Car");
     * expect(providers[0].dependencies.length).toEqual(1);
     * expect(providers[0].factory).toBeDefined();
     *
     * expect(providers[1].key.displayName).toBe("Engine");
     * });
     * ```
     *
     * See {\@link ReflectiveInjector#fromResolvedProviders} for more info.
     * @param {?} providers
     * @return {?}
     */
/**
     * Resolves an array of providers and creates an injector from those providers.
     *
     * The passed-in providers can be an array of `Type`, {\@link Provider},
     * or a recursive array of more providers.
     *
     * ### Example ([live demo](http://plnkr.co/edit/ePOccA?p=preview))
     *
     * ```typescript
     * \@Injectable()
     * class Engine {
     * }
     *
     * \@Injectable()
     * class Car {
     *   constructor(public engine:Engine) {}
     * }
     *
     * var injector = ReflectiveInjector.resolveAndCreate([Car, Engine]);
     * expect(injector.get(Car) instanceof Car).toBe(true);
     * ```
     *
     * This function is slower than the corresponding `fromResolvedProviders`
     * because it needs to resolve the passed-in providers first.
     * See {\@link Injector#resolve} and {\@link Injector#fromResolvedProviders}.
     * @param {?} providers
     * @param {?=} parent
     * @return {?}
     */
/**
     * Creates an injector from previously resolved providers.
     *
     * This API is the recommended way to construct injectors in performance-sensitive parts.
     *
     * ### Example ([live demo](http://plnkr.co/edit/KrSMci?p=preview))
     *
     * ```typescript
     * \@Injectable()
     * class Engine {
     * }
     *
     * \@Injectable()
     * class Car {
     *   constructor(public engine:Engine) {}
     * }
     *
     * var providers = ReflectiveInjector.resolve([Car, Engine]);
     * var injector = ReflectiveInjector.fromResolvedProviders(providers);
     * expect(injector.get(Car) instanceof Car).toBe(true);
     * ```
     * \@experimental
     * @param {?} providers
     * @param {?=} parent
     * @return {?}
     */
/**
     * Parent of this injector.
     *
     * <!-- TODO: Add a link to the section of the user guide talking about hierarchical injection.
     * -->
     *
     * ### Example ([live demo](http://plnkr.co/edit/eosMGo?p=preview))
     *
     * ```typescript
     * var parent = ReflectiveInjector.resolveAndCreate([]);
     * var child = parent.resolveAndCreateChild([]);
     * expect(child.parent).toBe(parent);
     * ```
     * @abstract
     * @return {?}
     */
/**
     * Resolves an array of providers and creates a child injector from those providers.
     *
     * <!-- TODO: Add a link to the section of the user guide talking about hierarchical injection.
     * -->
     *
     * The passed-in providers can be an array of `Type`, {\@link Provider},
     * or a recursive array of more providers.
     *
     * ### Example ([live demo](http://plnkr.co/edit/opB3T4?p=preview))
     *
     * ```typescript
     * class ParentProvider {}
     * class ChildProvider {}
     *
     * var parent = ReflectiveInjector.resolveAndCreate([ParentProvider]);
     * var child = parent.resolveAndCreateChild([ChildProvider]);
     *
     * expect(child.get(ParentProvider) instanceof ParentProvider).toBe(true);
     * expect(child.get(ChildProvider) instanceof ChildProvider).toBe(true);
     * expect(child.get(ParentProvider)).toBe(parent.get(ParentProvider));
     * ```
     *
     * This function is slower than the corresponding `createChildFromResolved`
     * because it needs to resolve the passed-in providers first.
     * See {\@link Injector#resolve} and {\@link Injector#createChildFromResolved}.
     * @abstract
     * @param {?} providers
     * @return {?}
     */
/**
     * Creates a child injector from previously resolved providers.
     *
     * <!-- TODO: Add a link to the section of the user guide talking about hierarchical injection.
     * -->
     *
     * This API is the recommended way to construct injectors in performance-sensitive parts.
     *
     * ### Example ([live demo](http://plnkr.co/edit/VhyfjN?p=preview))
     *
     * ```typescript
     * class ParentProvider {}
     * class ChildProvider {}
     *
     * var parentProviders = ReflectiveInjector.resolve([ParentProvider]);
     * var childProviders = ReflectiveInjector.resolve([ChildProvider]);
     *
     * var parent = ReflectiveInjector.fromResolvedProviders(parentProviders);
     * var child = parent.createChildFromResolved(childProviders);
     *
     * expect(child.get(ParentProvider) instanceof ParentProvider).toBe(true);
     * expect(child.get(ChildProvider) instanceof ChildProvider).toBe(true);
     * expect(child.get(ParentProvider)).toBe(parent.get(ParentProvider));
     * ```
     * @abstract
     * @param {?} providers
     * @return {?}
     */
/**
     * Resolves a provider and instantiates an object in the context of the injector.
     *
     * The created object does not get cached by the injector.
     *
     * ### Example ([live demo](http://plnkr.co/edit/yvVXoB?p=preview))
     *
     * ```typescript
     * \@Injectable()
     * class Engine {
     * }
     *
     * \@Injectable()
     * class Car {
     *   constructor(public engine:Engine) {}
     * }
     *
     * var injector = ReflectiveInjector.resolveAndCreate([Engine]);
     *
     * var car = injector.resolveAndInstantiate(Car);
     * expect(car.engine).toBe(injector.get(Engine));
     * expect(car).not.toBe(injector.resolveAndInstantiate(Car));
     * ```
     * @abstract
     * @param {?} provider
     * @return {?}
     */
/**
     * Instantiates an object using a resolved provider in the context of the injector.
     *
     * The created object does not get cached by the injector.
     *
     * ### Example ([live demo](http://plnkr.co/edit/ptCImQ?p=preview))
     *
     * ```typescript
     * \@Injectable()
     * class Engine {
     * }
     *
     * \@Injectable()
     * class Car {
     *   constructor(public engine:Engine) {}
     * }
     *
     * var injector = ReflectiveInjector.resolveAndCreate([Engine]);
     * var carProvider = ReflectiveInjector.resolve([Car])[0];
     * var car = injector.instantiateResolved(carProvider);
     * expect(car.engine).toBe(injector.get(Engine));
     * expect(car).not.toBe(injector.instantiateResolved(carProvider));
     * ```
     * @abstract
     * @param {?} provider
     * @return {?}
     */
/**
     * @abstract
     * @param {?} token
     * @param {?=} notFoundValue
     * @return {?}
     */
return t.resolve=function(t){return F(t)},t.resolveAndCreate=function(e,n){var/** @type {?} */r=t.resolve(e);return t.fromResolvedProviders(r,n)},t.fromResolvedProviders=function(t,e){return new ao(t,e)},t.prototype.parent=function(){},t.prototype.resolveAndCreateChild=function(t){},t.prototype.createChildFromResolved=function(t){},t.prototype.resolveAndInstantiate=function(t){},t.prototype.instantiateResolved=function(t){},t.prototype.get=function(t,e){},t}(),ao=function(){/**
     * Private
     * @param {?} _providers
     * @param {?=} _parent
     */
function t(t,e){/**
         * \@internal
         */
this._constructionCounter=0,this._providers=t,this._parent=e||null;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=oo}/**
     * @param {?} token
     * @param {?=} notFoundValue
     * @return {?}
     */
/**
     * @param {?} providers
     * @return {?}
     */
/**
     * @param {?} providers
     * @return {?}
     */
/**
     * @param {?} provider
     * @return {?}
     */
/**
     * @param {?} provider
     * @return {?}
     */
/**
     * @param {?} index
     * @return {?}
     */
/**
     * \@internal
     * @param {?} provider
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} provider
     * @return {?}
     */
/**
     * @param {?} provider
     * @param {?} ResolvedReflectiveFactory
     * @return {?}
     */
/**
     * @param {?} dep
     * @return {?}
     */
/**
     * @param {?} key
     * @param {?} visibility
     * @param {?} notFoundValue
     * @return {?}
     */
/**
     * @param {?} keyId
     * @return {?}
     */
/**
     * \@internal
     * @param {?} key
     * @param {?} notFoundValue
     * @return {?}
     */
/**
     * \@internal
     * @param {?} key
     * @param {?} notFoundValue
     * @return {?}
     */
/**
     * \@internal
     * @param {?} key
     * @param {?} notFoundValue
     * @param {?} visibility
     * @return {?}
     */
/**
     * @return {?}
     */
return t.prototype.get=function(t,e){return void 0===e&&(e=Fi),this._getByKey(Wi.get(t),null,e)},Object.defineProperty(t.prototype,"parent",{/**
         * @return {?}
         */
get:function(){return this._parent},enumerable:!0,configurable:!0}),t.prototype.resolveAndCreateChild=function(t){var/** @type {?} */e=so.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var/** @type {?} */n=new t(e);return n._parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(so.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw P(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw M(this,t.key);return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var/** @type {?} */e=new Array(t.resolvedFactories.length),/** @type {?} */n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var/** @type {?} */n,r=this,/** @type {?} */i=e.factory;try{n=e.dependencies.map(function(t){return r._getByReflectiveDependency(t)})}catch(e){throw e.addKey&&e.addKey(this,t.key),e}var/** @type {?} */o;try{o=i.apply(void 0,n)}catch(e){throw O(this,e,e.stack,t.key)}return o},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:Fi)},t.prototype._getByKey=function(t,e,n){return t===uo?this:e instanceof Ri?this._getByKeySelf(t,n):this._getByKeyDefault(t,n,e)},t.prototype._getObjByKeyId=function(t){for(var/** @type {?} */e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===oo&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return oo},t.prototype._throwOrNull=function(t,e){if(e!==Fi)return e;throw N(this,t)},t.prototype._getByKeySelf=function(t,e){var/** @type {?} */n=this._getObjByKeyId(t.id);return n!==oo?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,r){var/** @type {?} */i;for(i=r instanceof ji?this._parent:this;i instanceof t;){var/** @type {?} */o=i,/** @type {?} */s=o._getObjByKeyId(e.id);if(s!==oo)return s;i=o._parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{/**
         * @return {?}
         */
get:function(){return"ReflectiveInjector(providers: ["+G(this,function(t){return' "'+t.key.displayName+'" '}).join(", ")+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t}(),uo=Wi.get(Vi),co=new ti("Application Initializer"),lo=function(){/**
     * @param {?} appInits
     */
function t(t){var e=this;this._done=!1;var n=[];if(t)for(var r=0;r<t.length;r++){var i=t[r]();W(i)&&n.push(i)}this._donePromise=Promise.all(n).then(function(){e._done=!0}),0===n.length&&(this._done=!0)}return Object.defineProperty(t.prototype,"done",{/**
         * @return {?}
         */
get:function(){return this._done},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"donePromise",{/**
         * @return {?}
         */
get:function(){return this._donePromise},enumerable:!0,configurable:!0}),t}();lo.decorators=[{type:Ii}],/**
 * @nocollapse
 */
lo.ctorParameters=function(){return[{type:Array,decorators:[{type:Pi,args:[co]},{type:ki}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * A DI Token representing a unique string id assigned to the application by Angular and used
 * primarily for prefixing application attributes and CSS styles when
 * {\@link ViewEncapsulation#Emulated} is being used.
 *
 * If you need to avoid randomly generated value to be used as an application id, you can provide
 * a custom value via a DI provider <!-- TODO: provider --> configuring the root {\@link Injector}
 * using this token.
 * \@experimental
 */
var fo=new ti("AppId"),po={provide:fo,useFactory:Y,deps:[]},ho=new ti("Platform Initializer"),mo=new ti("Platform ID"),vo=new ti("appBootstrapListener"),yo=new ti("Application Packages Root URL"),go=function(){function t(){}/**
     * @param {?} message
     * @return {?}
     */
/**
     * @param {?} message
     * @return {?}
     */
return t.prototype.log=function(t){
// tslint:disable-next-line:no-console
console.log(t)},t.prototype.warn=function(t){
// tslint:disable-next-line:no-console
console.warn(t)},t}();go.decorators=[{type:Ii}],/**
 * @nocollapse
 */
go.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Combination of NgModuleFactory and ComponentFactorys.
 *
 * \@experimental
 */
var bo=function(){/**
     * @param {?} ngModuleFactory
     * @param {?} componentFactories
     */
function t(t,e){this.ngModuleFactory=t,this.componentFactories=e}return t}(),wo=function(){function t(){}/**
     * Compiles the given NgModule and all of its components. All templates of the components listed
     * in `entryComponents` have to be inlined.
     * @template T
     * @param {?} moduleType
     * @return {?}
     */
/**
     * Compiles the given NgModule and all of its components
     * @template T
     * @param {?} moduleType
     * @return {?}
     */
/**
     * Same as {\@link compileModuleSync} but also creates ComponentFactories for all components.
     * @template T
     * @param {?} moduleType
     * @return {?}
     */
/**
     * Same as {\@link compileModuleAsync} but also creates ComponentFactories for all components.
     * @template T
     * @param {?} moduleType
     * @return {?}
     */
/**
     * Exposes the CSS-style selectors that have been used in `ngContent` directives within
     * the template of the given component.
     * This is used by the `upgrade` library to compile the appropriate transclude content
     * in the AngularJS wrapper component.
     *
     * @deprecated since v4. Use ComponentFactory.ngContentSelectors instead.
     * @param {?} component
     * @return {?}
     */
/**
     * Clears all caches.
     * @return {?}
     */
/**
     * Clears the cache for the given component/ngModule.
     * @param {?} type
     * @return {?}
     */
return t.prototype.compileModuleSync=function(t){throw Z()},t.prototype.compileModuleAsync=function(t){throw Z()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw Z()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw Z()},t.prototype.getNgContentSelectors=function(t){throw Z()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t}();wo.decorators=[{type:Ii}],/**
 * @nocollapse
 */
wo.ctorParameters=function(){return[]};/**
 * Token to provide CompilerOptions in the platform injector.
 *
 * \@experimental
 */
var _o=new ti("compilerOptions"),xo=function(){function t(){}/**
     * @abstract
     * @param {?=} options
     * @return {?}
     */
return t.prototype.createCompiler=function(t){},t}(),Eo=function(){function t(){}/**
     * Location of the Host Element of this Component Instance.
     * @abstract
     * @return {?}
     */
/**
     * The injector on which the component instance exists.
     * @abstract
     * @return {?}
     */
/**
     * The instance of the Component.
     * @abstract
     * @return {?}
     */
/**
     * The {\@link ViewRef} of the Host View of this Component instance.
     * @abstract
     * @return {?}
     */
/**
     * The {\@link ChangeDetectorRef} of the Component instance.
     * @abstract
     * @return {?}
     */
/**
     * The component type.
     * @abstract
     * @return {?}
     */
/**
     * Destroys the component instance and all of the data structures associated with it.
     * @abstract
     * @return {?}
     */
/**
     * Allows to register a callback that will be called when the component is destroyed.
     * @abstract
     * @param {?} callback
     * @return {?}
     */
return t.prototype.location=function(){},t.prototype.injector=function(){},t.prototype.instance=function(){},t.prototype.hostView=function(){},t.prototype.changeDetectorRef=function(){},t.prototype.componentType=function(){},t.prototype.destroy=function(){},t.prototype.onDestroy=function(t){},t}(),Co=function(){function t(){}/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * selector for all <ng-content> elements in the component.
     * @abstract
     * @return {?}
     */
/**
     * the inputs of the component.
     * @abstract
     * @return {?}
     */
/**
     * the outputs of the component.
     * @abstract
     * @return {?}
     */
/**
     * Creates a new component.
     * @abstract
     * @param {?} injector
     * @param {?=} projectableNodes
     * @param {?=} rootSelectorOrNode
     * @param {?=} ngModule
     * @return {?}
     */
return t.prototype.selector=function(){},t.prototype.componentType=function(){},t.prototype.ngContentSelectors=function(){},t.prototype.inputs=function(){},t.prototype.outputs=function(){},t.prototype.create=function(t,e,n,r){},t}(),So="ngComponent",No=function(){function t(){}/**
     * @template T
     * @param {?} component
     * @return {?}
     */
return t.prototype.resolveComponentFactory=function(t){throw K(t)},t}(),Mo=function(){function t(){}/**
     * @abstract
     * @template T
     * @param {?} component
     * @return {?}
     */
return t.prototype.resolveComponentFactory=function(t){},t}();Mo.NULL=new No;var Oo,To,Ao=function(){/**
     * @param {?} factories
     * @param {?} _parent
     * @param {?} _ngModule
     */
function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}/**
     * @template T
     * @param {?} component
     * @return {?}
     */
return t.prototype.resolveComponentFactory=function(t){var/** @type {?} */e=this._factories.get(t)||this._parent.resolveComponentFactory(t);return new Po(e,this._ngModule)},t}(),Po=function(t){/**
     * @param {?} factory
     * @param {?} ngModule
     */
function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r}/**
     * @param {?} injector
     * @param {?=} projectableNodes
     * @param {?=} rootSelectorOrNode
     * @param {?=} ngModule
     * @return {?}
     */
return Qr(e,t),Object.defineProperty(e.prototype,"selector",{/**
         * @return {?}
         */
get:function(){return this.factory.selector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{/**
         * @return {?}
         */
get:function(){return this.factory.componentType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngContentSelectors",{/**
         * @return {?}
         */
get:function(){return this.factory.ngContentSelectors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{/**
         * @return {?}
         */
get:function(){return this.factory.inputs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{/**
         * @return {?}
         */
get:function(){return this.factory.outputs},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(Co),ko=function(){function t(){}/**
     * The injector that contains all of the providers of the NgModule.
     * @abstract
     * @return {?}
     */
/**
     * The ComponentFactoryResolver to get hold of the ComponentFactories
     * declared in the `entryComponents` property of the module.
     * @abstract
     * @return {?}
     */
/**
     * The NgModule instance.
     * @abstract
     * @return {?}
     */
/**
     * Destroys the module instance and all of the data structures associated with it.
     * @abstract
     * @return {?}
     */
/**
     * Allows to register a callback that will be called when the module is destroyed.
     * @abstract
     * @param {?} callback
     * @return {?}
     */
return t.prototype.injector=function(){},t.prototype.componentFactoryResolver=function(){},t.prototype.instance=function(){},t.prototype.destroy=function(){},t.prototype.onDestroy=function(t){},t}(),Io=function(){/**
     * @param {?} _injectorClass
     * @param {?} _moduleType
     */
function t(t,e){this._injectorClass=t,this._moduleType=e}/**
     * @param {?} parentInjector
     * @return {?}
     */
return Object.defineProperty(t.prototype,"moduleType",{/**
         * @return {?}
         */
get:function(){return this._moduleType},enumerable:!0,configurable:!0}),t.prototype.create=function(t){var/** @type {?} */e=new this._injectorClass(t||Vi.NULL);return e.create(),e},t}(),Ro=new Object,jo=function(){/**
     * @param {?} parent
     * @param {?} factories
     * @param {?} bootstrapFactories
     */
function t(t,e,n){var r=this;this.parent=t,this._destroyListeners=[],this._destroyed=!1,this.bootstrapFactories=n.map(function(t){return new Po(t,r)}),this._cmpFactoryResolver=new Ao(e,t.get(Mo,Mo.NULL),this)}/**
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @param {?} token
     * @param {?=} notFoundValue
     * @return {?}
     */
/**
     * @abstract
     * @param {?} token
     * @param {?} notFoundValue
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} callback
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
return t.prototype.create=function(){this.instance=this.createInternal()},t.prototype.createInternal=function(){},t.prototype.get=function(t,e){if(void 0===e&&(e=Fi),t===Vi||t===ko)return this;if(t===Mo)return this._cmpFactoryResolver;var/** @type {?} */n=this.getInternal(t,Ro);return n===Ro?this.parent.get(t,e):n},t.prototype.getInternal=function(t,e){},Object.defineProperty(t.prototype,"injector",{/**
         * @return {?}
         */
get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{/**
         * @return {?}
         */
get:function(){return this._cmpFactoryResolver},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+s(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,this.destroyInternal(),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t.prototype.destroyInternal=function(){},t}(),Do=Q(),Lo=Do?J:function(t,e){return rt},Fo=Do?tt:function(t,e){return e},Uo=Do?et:function(t,e){return null},Vo=Do?nt:function(t){return null},Bo=function(t){/**
     * Creates an instance of [EventEmitter], which depending on [isAsync],
     * delivers events synchronously or asynchronously.
     * @param {?=} isAsync
     */
function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}/**
     * @param {?=} value
     * @return {?}
     */
/**
     * @param {?=} generatorOrNext
     * @param {?=} error
     * @param {?=} complete
     * @return {?}
     */
return Qr(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var/** @type {?} */i,/** @type {?} */o=function(t){return null},/** @type {?} */s=function(){return null};return e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()})),t.prototype.subscribe.call(this,i,o,s)},e}(Kr.Subject),zo=function(){/**
     * @param {?} __0
     */
function t(t){var e=t.enableLongStackTrace,n=void 0!==e&&e;if(this._hasPendingMicrotasks=!1,this._hasPendingMacrotasks=!1,this._isStable=!0,this._nesting=0,this._onUnstable=new Bo(!1),this._onMicrotaskEmpty=new Bo(!1),this._onStable=new Bo(!1),this._onErrorEvents=new Bo(!1),"undefined"==typeof Zone)throw new Error("Angular requires Zone.js prolyfill.");Zone.assertZonePatched(),this.outer=this.inner=Zone.current,Zone.wtfZoneSpec&&(this.inner=this.inner.fork(Zone.wtfZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(this.inner=this.inner.fork(Zone.longStackTraceZoneSpec)),this.forkInnerZoneWithAngularBehavior()}/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * Executes the `fn` function synchronously within the Angular zone and returns value returned by
     * the function.
     *
     * Running functions via `run` allows you to reenter Angular zone from a task that was executed
     * outside of the Angular zone (typically started via {\@link runOutsideAngular}).
     *
     * Any future tasks or microtasks scheduled from within this function will continue executing from
     * within the Angular zone.
     *
     * If a synchronous error happens it will be rethrown and not reported via `onError`.
     * @param {?} fn
     * @return {?}
     */
/**
     * Same as `run`, except that synchronous errors are caught and forwarded via `onError` and not
     * rethrown.
     * @param {?} fn
     * @return {?}
     */
/**
     * Executes the `fn` function synchronously in Angular's parent zone and returns value returned by
     * the function.
     *
     * Running functions via `runOutsideAngular` allows you to escape Angular's zone and do work that
     * doesn't trigger Angular change-detection or is subject to Angular's error handling.
     *
     * Any future tasks or microtasks scheduled from within this function will continue executing from
     * outside of the Angular zone.
     *
     * Use {\@link run} to reenter the Angular zone and do work that updates the application model.
     * @param {?} fn
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} hasMicrotasks
     * @return {?}
     */
/**
     * @param {?} hasMacrotasks
     * @return {?}
     */
/**
     * @param {?} error
     * @return {?}
     */
return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t){return this.inner.run(t)},t.prototype.runGuarded=function(t){return this.inner.runGuarded(t)},t.prototype.runOutsideAngular=function(t){return this.outer.run(t)},Object.defineProperty(t.prototype,"onUnstable",{/**
         * Notifies when code enters Angular Zone. This gets fired first on VM Turn.
         * @return {?}
         */
get:function(){return this._onUnstable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onMicrotaskEmpty",{/**
         * Notifies when there is no more microtasks enqueue in the current VM Turn.
         * This is a hint for Angular to do change detection, which may enqueue more microtasks.
         * For this reason this event can fire multiple times per VM Turn.
         * @return {?}
         */
get:function(){return this._onMicrotaskEmpty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onStable",{/**
         * Notifies when the last `onMicrotaskEmpty` has run and there are no more microtasks, which
         * implies we are about to relinquish VM turn.
         * This event gets called just once.
         * @return {?}
         */
get:function(){return this._onStable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onError",{/**
         * Notify that an error has been delivered.
         * @return {?}
         */
get:function(){return this._onErrorEvents},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isStable",{/**
         * Whether there are no outstanding microtasks or macrotasks.
         * @return {?}
         */
get:function(){return this._isStable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingMicrotasks",{/**
         * @return {?}
         */
get:function(){return this._hasPendingMicrotasks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingMacrotasks",{/**
         * @return {?}
         */
get:function(){return this._hasPendingMacrotasks},enumerable:!0,configurable:!0}),t.prototype.checkStable=function(){var t=this;if(0==this._nesting&&!this._hasPendingMicrotasks&&!this._isStable)try{this._nesting++,this._onMicrotaskEmpty.emit(null)}finally{if(this._nesting--,!this._hasPendingMicrotasks)try{this.runOutsideAngular(function(){return t._onStable.emit(null)})}finally{this._isStable=!0}}},t.prototype.forkInnerZoneWithAngularBehavior=function(){var t=this;this.inner=this.inner.fork({name:"angular",properties:/** @type {?} */{isAngularZone:!0},onInvokeTask:function(e,n,r,i,o,s){try{return t.onEnter(),e.invokeTask(r,i,o,s)}finally{t.onLeave()}},onInvoke:function(e,n,r,i,o,s,a){try{return t.onEnter(),e.invoke(r,i,o,s,a)}finally{t.onLeave()}},onHasTask:function(e,n,r,i){e.hasTask(r,i),n===r&&(
// We are only interested in hasTask events which originate from our zone
// (A child hasTask event is not interesting to us)
"microTask"==i.change?t.setHasMicrotask(i.microTask):"macroTask"==i.change&&t.setHasMacrotask(i.macroTask))},onHandleError:function(e,n,r,i){return e.handleError(r,i),t.triggerError(i),!1}})},t.prototype.onEnter=function(){this._nesting++,this._isStable&&(this._isStable=!1,this._onUnstable.emit(null))},t.prototype.onLeave=function(){this._nesting--,this.checkStable()},t.prototype.setHasMicrotask=function(t){this._hasPendingMicrotasks=t,this.checkStable()},t.prototype.setHasMacrotask=function(t){this._hasPendingMacrotasks=t},t.prototype.triggerError=function(t){this._onErrorEvents.emit(t)},t}(),qo=function(){/**
     * @param {?} _ngZone
     */
function t(t){this._ngZone=t,/**
         * \@internal
         */
this._pendingCount=0,/**
         * \@internal
         */
this._isZoneStable=!0,/**
         * Whether any work was done since the last 'whenStable' callback. This is
         * useful to detect if this could have potentially destabilized another
         * component while it is stabilizing.
         * \@internal
         */
this._didWork=!1,/**
         * \@internal
         */
this._callbacks=[],this._watchAngularEvents()}/**
     * \@internal
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * \@internal
     * @return {?}
     */
/**
     * @param {?} callback
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @deprecated use findProviders
     * @param {?} using
     * @param {?} provider
     * @param {?} exactMatch
     * @return {?}
     */
/**
     * @param {?} using
     * @param {?} provider
     * @param {?} exactMatch
     * @return {?}
     */
return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){zo.assertNotInAngularZone(),i(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0==this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;this.isStable()?
// Schedules the call backs in a new frame so that it is always async.
i(function(){for(;0!==t._callbacks.length;)t._callbacks.pop()(t._didWork);t._didWork=!1}):
// Not Ready
this._didWork=!0},t.prototype.whenStable=function(t){this._callbacks.push(t),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findBindings=function(t,e,n){
// TODO(juliemr): implement.
return[]},t.prototype.findProviders=function(t,e,n){
// TODO(juliemr): implement.
return[]},t}();qo.decorators=[{type:Ii}],/**
 * @nocollapse
 */
qo.ctorParameters=function(){return[{type:zo}]};/**
 * A global registry of {\@link Testability} instances for specific elements.
 * \@experimental
 */
var Ho=function(){function t(){/**
         * \@internal
         */
this._applications=new Map,$o.addToWindow(this)}/**
     * @param {?} token
     * @param {?} testability
     * @return {?}
     */
/**
     * @param {?} elem
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} elem
     * @param {?=} findInAncestors
     * @return {?}
     */
return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),$o.findTestabilityInTree(this,t,e)},t}();Ho.decorators=[{type:Ii}],/**
 * @nocollapse
 */
Ho.ctorParameters=function(){return[]};var Go,Wo=function(){function t(){}/**
     * @param {?} registry
     * @return {?}
     */
/**
     * @param {?} registry
     * @param {?} elem
     * @param {?} findInAncestors
     * @return {?}
     */
return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}(),$o=new Wo,Yo=!0,Xo=!1,Zo=new ti("AllowMultipleToken"),Ko=function(){/**
     * @param {?} name
     * @param {?} token
     */
function t(t,e){this.name=t,this.token=e}return t}(),Qo=function(){function t(){}/**
     * Creates an instance of an `\@NgModule` for the given platform
     * for offline compilation.
     *
     * ## Simple Example
     *
     * ```typescript
     * my_module.ts:
     *
     * \@NgModule({
     *   imports: [BrowserModule]
     * })
     * class MyModule {}
     *
     * main.ts:
     * import {MyModuleNgFactory} from './my_module.ngfactory';
     * import {platformBrowser} from '\@angular/platform-browser';
     *
     * let moduleRef = platformBrowser().bootstrapModuleFactory(MyModuleNgFactory);
     * ```
     *
     * \@experimental APIs related to application bootstrap are currently under review.
     * @abstract
     * @template M
     * @param {?} moduleFactory
     * @return {?}
     */
/**
     * Creates an instance of an `\@NgModule` for a given platform using the given runtime compiler.
     *
     * ## Simple Example
     *
     * ```typescript
     * \@NgModule({
     *   imports: [BrowserModule]
     * })
     * class MyModule {}
     *
     * let moduleRef = platformBrowser().bootstrapModule(MyModule);
     * ```
     * \@stable
     * @abstract
     * @template M
     * @param {?} moduleType
     * @param {?=} compilerOptions
     * @return {?}
     */
/**
     * Register a listener to be called when the platform is disposed.
     * @abstract
     * @param {?} callback
     * @return {?}
     */
/**
     * Retrieve the platform {\@link Injector}, which is the parent injector for
     * every Angular application on the page and provides singleton providers.
     * @abstract
     * @return {?}
     */
/**
     * Destroy the Angular platform and all Angular applications on the page.
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
return t.prototype.bootstrapModuleFactory=function(t){},t.prototype.bootstrapModule=function(t,e){},t.prototype.onDestroy=function(t){},t.prototype.injector=function(){},t.prototype.destroy=function(){},t.prototype.destroyed=function(){},t}(),Jo=function(t){/**
     * @param {?} _injector
     */
function e(e){var n=t.call(this)||this;return n._injector=e,n._modules=[],n._destroyListeners=[],n._destroyed=!1,n}/**
     * @param {?} callback
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @template M
     * @param {?} moduleFactory
     * @return {?}
     */
/**
     * @template M
     * @param {?} moduleFactory
     * @param {?=} ngZone
     * @return {?}
     */
/**
     * @template M
     * @param {?} moduleType
     * @param {?=} compilerOptions
     * @return {?}
     */
/**
     * @template M
     * @param {?} moduleType
     * @param {?=} compilerOptions
     * @param {?=} ngZone
     * @return {?}
     */
/**
     * @param {?} moduleRef
     * @return {?}
     */
return Qr(e,t),e.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(e.prototype,"injector",{/**
         * @return {?}
         */
get:function(){return this._injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{/**
         * @return {?}
         */
get:function(){return this._destroyed},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},e.prototype.bootstrapModuleFactory=function(t){return this._bootstrapModuleFactoryWithZone(t)},e.prototype._bootstrapModuleFactoryWithZone=function(t,e){var n=this;
// Attention: Don't use ApplicationRef.run here,
// as we want to be sure that all possible constructor calls are inside `ngZone.run`!
// Note: We need to create the NgZone _before_ we instantiate the module,
// as instantiating the module creates some providers eagerly.
// So we create a mini parent injector that just contains the new NgZone and
// pass that as parent to the NgModuleFactory.
return e||(e=new zo({enableLongStackTrace:st()})),e.run(function(){var/** @type {?} */r=so.resolveAndCreate([{provide:zo,useValue:e}],n.injector),/** @type {?} */i=t.create(r),/** @type {?} */o=i.injector.get(Gi,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");/** @type {?} */
return i.onDestroy(function(){return ht(n._modules,i)}),e.onError.subscribe({next:function(t){o.handleError(t)}}),pt(o,function(){return i.injector.get(lo).donePromise.then(function(){return n._moduleDoBootstrap(i),i})})})},e.prototype.bootstrapModule=function(t,e){return void 0===e&&(e=[]),this._bootstrapModuleWithZone(t,e)},e.prototype._bootstrapModuleWithZone=function(t,e,n){var r=this;return void 0===e&&(e=[]),this.injector.get(xo).createCompiler(Array.isArray(e)?e:[e]).compileModuleAsync(t).then(function(t){return r._bootstrapModuleFactoryWithZone(t,n)})},e.prototype._moduleDoBootstrap=function(t){var/** @type {?} */e=t.injector.get(ts);if(t.bootstrapFactories.length>0)t.bootstrapFactories.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+s(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},e}(Qo);Jo.decorators=[{type:Ii}],/**
 * @nocollapse
 */
Jo.ctorParameters=function(){return[{type:Vi}]};/**
 * A reference to an Angular application running on a page.
 *
 * For more about Angular applications, see the documentation for {\@link bootstrap}.
 *
 * \@stable
 * @abstract
 */
var ts=function(){function t(){}/**
     * Bootstrap a new component at the root level of the application.
     *
     * ### Bootstrap process
     *
     * When bootstrapping a new root component into an application, Angular mounts the
     * specified application component onto DOM elements identified by the [componentType]'s
     * selector and kicks off automatic change detection to finish initializing the component.
     *
     * ### Example
     * {\@example core/ts/platform/platform.ts region='longform'}
     * @abstract
     * @template C
     * @param {?} componentFactory
     * @return {?}
     */
/**
     * Invoke this method to explicitly process change detection and its side-effects.
     *
     * In development mode, `tick()` also performs a second change detection cycle to ensure that no
     * further changes are detected. If additional changes are picked up during this second cycle,
     * bindings in the app have side-effects that cannot be resolved in a single change detection
     * pass.
     * In this case, Angular throws an error, since an Angular application can only have one change
     * detection pass during which all change detection must complete.
     * @abstract
     * @return {?}
     */
/**
     * Get a list of component types registered to this application.
     * This list is populated even before the component is created.
     * @abstract
     * @return {?}
     */
/**
     * Get a list of components registered to this application.
     * @abstract
     * @return {?}
     */
/**
     * Attaches a view so that it will be dirty checked.
     * The view will be automatically detached when it is destroyed.
     * This will throw if the view is already attached to a ViewContainer.
     * @abstract
     * @param {?} view
     * @return {?}
     */
/**
     * Detaches a view from dirty checking again.
     * @abstract
     * @param {?} view
     * @return {?}
     */
/**
     * Returns the number of attached views.
     * @abstract
     * @return {?}
     */
/**
     * Returns an Observable that indicates when the application is stable or unstable.
     * @abstract
     * @return {?}
     */
return t.prototype.bootstrap=function(t){},t.prototype.tick=function(){},t.prototype.componentTypes=function(){},t.prototype.components=function(){},t.prototype.attachView=function(t){},t.prototype.detachView=function(t){},t.prototype.viewCount=function(){},t.prototype.isStable=function(){},t}(),es=function(t){/**
     * @param {?} _zone
     * @param {?} _console
     * @param {?} _injector
     * @param {?} _exceptionHandler
     * @param {?} _componentFactoryResolver
     * @param {?} _initStatus
     */
function e(e,r,o,s,a,u){var c=t.call(this)||this;c._zone=e,c._console=r,c._injector=o,c._exceptionHandler=s,c._componentFactoryResolver=a,c._initStatus=u,c._bootstrapListeners=[],c._rootComponents=[],c._rootComponentTypes=[],c._views=[],c._runningTick=!1,c._enforceNoNewChanges=!1,c._stable=!0,c._enforceNoNewChanges=st(),c._zone.onMicrotaskEmpty.subscribe({next:function(){c._zone.run(function(){c.tick()})}});var l=new Yr.Observable(function(t){c._stable=c._zone.isStable&&!c._zone.hasPendingMacrotasks&&!c._zone.hasPendingMicrotasks,c._zone.runOutsideAngular(function(){t.next(c._stable),t.complete()})}),f=new Yr.Observable(function(t){var e=c._zone.onStable.subscribe(function(){zo.assertNotInAngularZone(),
// Check whether there are no pending macro/micro tasks in the next tick
// to allow for NgZone to update the state.
i(function(){c._stable||c._zone.hasPendingMacrotasks||c._zone.hasPendingMicrotasks||(c._stable=!0,t.next(!0))})}),n=c._zone.onUnstable.subscribe(function(){zo.assertInAngularZone(),c._stable&&(c._stable=!1,c._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});return c._isStable=n.i(Xr.merge)(l,Zr.share.call(f)),c}/**
     * @param {?} viewRef
     * @return {?}
     */
/**
     * @param {?} viewRef
     * @return {?}
     */
/**
     * @template C
     * @param {?} componentOrFactory
     * @return {?}
     */
/**
     * @param {?} componentRef
     * @return {?}
     */
/**
     * @param {?} componentRef
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
return Qr(e,t),e.prototype.attachView=function(t){var/** @type {?} */e=t;this._views.push(e),e.attachToAppRef(this)},e.prototype.detachView=function(t){var/** @type {?} */e=t;ht(this._views,e),e.detachFromAppRef()},e.prototype.bootstrap=function(t){var e=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");var/** @type {?} */n;n=t instanceof Co?t:this._componentFactoryResolver.resolveComponentFactory(t),this._rootComponentTypes.push(n.componentType);
// Create a factory associated with the current module if it's not bound to some other
var/** @type {?} */r=n instanceof Po?null:this._injector.get(ko),/** @type {?} */i=n.create(Vi.NULL,[],n.selector,r);i.onDestroy(function(){e._unloadComponent(i)});var/** @type {?} */o=i.injector.get(qo,null);return o&&i.injector.get(Ho).registerApplication(i.location.nativeElement,o),this._loadComponent(i),st()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i},e.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this._rootComponents.push(t),this._injector.get(vo,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},e.prototype._unloadComponent=function(t){this.detachView(t.hostView),ht(this._rootComponents,t)},e.prototype.tick=function(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var/** @type {?} */t=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}finally{this._runningTick=!1,Fo(t)}},e.prototype.ngOnDestroy=function(){
// TODO(alxhub): Dispose of the NgZone.
this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(e.prototype,"viewCount",{/**
         * @return {?}
         */
get:function(){return this._views.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentTypes",{/**
         * @return {?}
         */
get:function(){return this._rootComponentTypes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"components",{/**
         * @return {?}
         */
get:function(){return this._rootComponents},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isStable",{/**
         * @return {?}
         */
get:function(){return this._isStable},enumerable:!0,configurable:!0}),e}(ts);/**
 * \@internal
 */
es._tickScope=Lo("ApplicationRef#tick()"),es.decorators=[{type:Ii}],/**
 * @nocollapse
 */
es.ctorParameters=function(){return[{type:zo},{type:go},{type:Vi},{type:Gi},{type:Mo},{type:lo}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
// Public API for Zone
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @deprecated Use `RendererType2` (and `Renderer2`) instead.
 */
var ns=function(){/**
     * @param {?} id
     * @param {?} templateUrl
     * @param {?} slotCount
     * @param {?} encapsulation
     * @param {?} styles
     * @param {?} animations
     */
function t(t,e,n,r,i,o){this.id=t,this.templateUrl=e,this.slotCount=n,this.encapsulation=r,this.styles=i,this.animations=o}return t}(),rs=function(){function t(){}/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
return t.prototype.injector=function(){},t.prototype.component=function(){},t.prototype.providerTokens=function(){},t.prototype.references=function(){},t.prototype.context=function(){},t.prototype.source=function(){},t}(),is=function(){function t(){}/**
     * @abstract
     * @param {?} selectorOrNode
     * @param {?=} debugInfo
     * @return {?}
     */
/**
     * @abstract
     * @param {?} parentElement
     * @param {?} name
     * @param {?=} debugInfo
     * @return {?}
     */
/**
     * @abstract
     * @param {?} hostElement
     * @return {?}
     */
/**
     * @abstract
     * @param {?} parentElement
     * @param {?=} debugInfo
     * @return {?}
     */
/**
     * @abstract
     * @param {?} parentElement
     * @param {?} value
     * @param {?=} debugInfo
     * @return {?}
     */
/**
     * @abstract
     * @param {?} parentElement
     * @param {?} nodes
     * @return {?}
     */
/**
     * @abstract
     * @param {?} node
     * @param {?} viewRootNodes
     * @return {?}
     */
/**
     * @abstract
     * @param {?} viewRootNodes
     * @return {?}
     */
/**
     * @abstract
     * @param {?} hostElement
     * @param {?} viewAllNodes
     * @return {?}
     */
/**
     * @abstract
     * @param {?} renderElement
     * @param {?} name
     * @param {?} callback
     * @return {?}
     */
/**
     * @abstract
     * @param {?} target
     * @param {?} name
     * @param {?} callback
     * @return {?}
     */
/**
     * @abstract
     * @param {?} renderElement
     * @param {?} propertyName
     * @param {?} propertyValue
     * @return {?}
     */
/**
     * @abstract
     * @param {?} renderElement
     * @param {?} attributeName
     * @param {?} attributeValue
     * @return {?}
     */
/**
     * Used only in debug mode to serialize property changes to dom nodes as attributes.
     * @abstract
     * @param {?} renderElement
     * @param {?} propertyName
     * @param {?} propertyValue
     * @return {?}
     */
/**
     * @abstract
     * @param {?} renderElement
     * @param {?} className
     * @param {?} isAdd
     * @return {?}
     */
/**
     * @abstract
     * @param {?} renderElement
     * @param {?} styleName
     * @param {?} styleValue
     * @return {?}
     */
/**
     * @abstract
     * @param {?} renderElement
     * @param {?} methodName
     * @param {?=} args
     * @return {?}
     */
/**
     * @abstract
     * @param {?} renderNode
     * @param {?} text
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @param {?} startingStyles
     * @param {?} keyframes
     * @param {?} duration
     * @param {?} delay
     * @param {?} easing
     * @param {?=} previousPlayers
     * @return {?}
     */
return t.prototype.selectRootElement=function(t,e){},t.prototype.createElement=function(t,e,n){},t.prototype.createViewRoot=function(t){},t.prototype.createTemplateAnchor=function(t,e){},t.prototype.createText=function(t,e,n){},t.prototype.projectNodes=function(t,e){},t.prototype.attachViewAfter=function(t,e){},t.prototype.detachView=function(t){},t.prototype.destroyView=function(t,e){},t.prototype.listen=function(t,e,n){},t.prototype.listenGlobal=function(t,e,n){},t.prototype.setElementProperty=function(t,e,n){},t.prototype.setElementAttribute=function(t,e,n){},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){},t.prototype.setElementStyle=function(t,e,n){},t.prototype.invokeElementMethod=function(t,e,n){},t.prototype.setText=function(t,e){},t.prototype.animate=function(t,e,n,r,i,o,s){},t}(),os=(new ti("Renderer2Interceptor"),function(){function t(){}/**
     * @abstract
     * @param {?} componentType
     * @return {?}
     */
return t.prototype.renderComponent=function(t){},t}()),ss=function(){function t(){}/**
     * @abstract
     * @param {?} hostElement
     * @param {?} type
     * @return {?}
     */
return t.prototype.createRenderer=function(t,e){},t}(),as={};as.Important=1,as.DashCase=2,as[as.Important]="Important",as[as.DashCase]="DashCase";/**
 * \@experimental
 * @abstract
 */
var us=function(){function t(){}/**
     * This field can be used to store arbitrary data on this renderer instance.
     * This is useful for renderers that delegate to other renderers.
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @param {?} name
     * @param {?=} namespace
     * @return {?}
     */
/**
     * @abstract
     * @param {?} value
     * @return {?}
     */
/**
     * @abstract
     * @param {?} value
     * @return {?}
     */
/**
     * @abstract
     * @param {?} parent
     * @param {?} newChild
     * @return {?}
     */
/**
     * @abstract
     * @param {?} parent
     * @param {?} newChild
     * @param {?} refChild
     * @return {?}
     */
/**
     * @abstract
     * @param {?} parent
     * @param {?} oldChild
     * @return {?}
     */
/**
     * @abstract
     * @param {?} selectorOrNode
     * @return {?}
     */
/**
     * Attention: On WebWorkers, this will always return a value,
     * as we are asking for a result synchronously. I.e.
     * the caller can't rely on checking whether this is null or not.
     * @abstract
     * @param {?} node
     * @return {?}
     */
/**
     * Attention: On WebWorkers, this will always return a value,
     * as we are asking for a result synchronously. I.e.
     * the caller can't rely on checking whether this is null or not.
     * @abstract
     * @param {?} node
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @param {?} name
     * @param {?} value
     * @param {?=} namespace
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @param {?} name
     * @param {?=} namespace
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @param {?} name
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @param {?} name
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @param {?} style
     * @param {?} value
     * @param {?=} flags
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @param {?} style
     * @param {?=} flags
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @param {?} name
     * @param {?} value
     * @return {?}
     */
/**
     * @abstract
     * @param {?} node
     * @param {?} value
     * @return {?}
     */
/**
     * @abstract
     * @param {?} target
     * @param {?} eventName
     * @param {?} callback
     * @return {?}
     */
return t.prototype.data=function(){},t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){},t.prototype.createComment=function(t){},t.prototype.createText=function(t){},t.prototype.appendChild=function(t,e){},t.prototype.insertBefore=function(t,e,n){},t.prototype.removeChild=function(t,e){},t.prototype.selectRootElement=function(t){},t.prototype.parentNode=function(t){},t.prototype.nextSibling=function(t){},t.prototype.setAttribute=function(t,e,n,r){},t.prototype.removeAttribute=function(t,e,n){},t.prototype.addClass=function(t,e){},t.prototype.removeClass=function(t,e){},t.prototype.setStyle=function(t,e,n,r){},t.prototype.removeStyle=function(t,e,n){},t.prototype.setProperty=function(t,e,n){},t.prototype.setValue=function(t,e){},t.prototype.listen=function(t,e,n){},t}(),cs=function(){/**
     * @param {?} nativeElement
     */
function t(t){this.nativeElement=t}return t}(),ls=function(){function t(){}/**
     * @abstract
     * @param {?} path
     * @return {?}
     */
return t.prototype.load=function(t){},t}(),fs=new Map,ps=function(){function t(){this._dirty=!0,this._results=[],this._emitter=new Bo}/**
     * See
     * [Array.map](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map)
     * @template U
     * @param {?} fn
     * @return {?}
     */
/**
     * See
     * [Array.filter](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter)
     * @param {?} fn
     * @return {?}
     */
/**
     * See
     * [Array.find](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find)
     * @param {?} fn
     * @return {?}
     */
/**
     * See
     * [Array.reduce](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce)
     * @template U
     * @param {?} fn
     * @param {?} init
     * @return {?}
     */
/**
     * See
     * [Array.forEach](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach)
     * @param {?} fn
     * @return {?}
     */
/**
     * See
     * [Array.some](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some)
     * @param {?} fn
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} res
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * internal
     * @return {?}
     */
return Object.defineProperty(t.prototype,"changes",{/**
         * @return {?}
         */
get:function(){return this._emitter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{/**
         * @return {?}
         */
get:function(){return this._results.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{/**
         * @return {?}
         */
get:function(){return this._results[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{/**
         * @return {?}
         */
get:function(){return this._results[this.length-1]},enumerable:!0,configurable:!0}),t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[r()]=function(){return this._results[r()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=vt(t),this._dirty=!1},t.prototype.notifyOnChanges=function(){this._emitter.emit(this)},t.prototype.setDirty=function(){this._dirty=!0},Object.defineProperty(t.prototype,"dirty",{/**
         * internal
         * @return {?}
         */
get:function(){return this._dirty},enumerable:!0,configurable:!0}),t}(),hs=function(){function t(){}return t}(),ds={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},ms=function(){/**
     * @param {?} _compiler
     * @param {?=} config
     */
function t(t,e){this._compiler=t,this._config=e||ds}/**
     * @param {?} path
     * @return {?}
     */
/**
     * @param {?} path
     * @return {?}
     */
/**
     * @param {?} path
     * @return {?}
     */
return t.prototype.load=function(t){return this._compiler instanceof wo?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,r=t.split("#"),i=r[0],o=r[1];return void 0===o&&(o="default"),n(326)(i).then(function(t){return t[o]}).then(function(t){return yt(t,i,o)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=t.split("#"),r=e[0],i=e[1],/** @type {?} */o="NgFactory";return void 0===i&&(i="default",o=""),n(326)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(t){return t[i+o]}).then(function(t){return yt(t,r,i)})},t}();ms.decorators=[{type:Ii}],/**
 * @nocollapse
 */
ms.ctorParameters=function(){return[{type:wo},{type:hs,decorators:[{type:ki}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Represents an Embedded Template that can be used to instantiate Embedded Views.
 *
 * You can access a `TemplateRef`, in two ways. Via a directive placed on a `<ng-template>` element
 * (or directive prefixed with `*`) and have the `TemplateRef` for this Embedded View injected into
 * the constructor of the directive using the `TemplateRef` Token. Alternatively you can query for
 * the `TemplateRef` from a Component or a Directive via {\@link Query}.
 *
 * To instantiate Embedded Views based on a Template, use
 * {\@link ViewContainerRef#createEmbeddedView}, which will create the View and attach it to the
 * View Container.
 * \@stable
 * @abstract
 */
var vs=function(){function t(){}/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @param {?} context
     * @return {?}
     */
return t.prototype.elementRef=function(){},t.prototype.createEmbeddedView=function(t){},t}(),ys=function(){function t(){}/**
     * Anchor element that specifies the location of this container in the containing View.
     * <!-- TODO: rename to anchorElement -->
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * Destroys all Views in this container.
     * @abstract
     * @return {?}
     */
/**
     * Returns the {\@link ViewRef} for the View located in this container at the specified index.
     * @abstract
     * @param {?} index
     * @return {?}
     */
/**
     * Returns the number of Views currently attached to this container.
     * @abstract
     * @return {?}
     */
/**
     * Instantiates an Embedded View based on the {\@link TemplateRef `templateRef`} and inserts it
     * into this container at the specified `index`.
     *
     * If `index` is not specified, the new View will be inserted as the last View in the container.
     *
     * Returns the {\@link ViewRef} for the newly created View.
     * @abstract
     * @template C
     * @param {?} templateRef
     * @param {?=} context
     * @param {?=} index
     * @return {?}
     */
/**
     * Instantiates a single {\@link Component} and inserts its Host View into this container at the
     * specified `index`.
     *
     * The component is instantiated using its {\@link ComponentFactory} which can be
     * obtained via {\@link ComponentFactoryResolver#resolveComponentFactory}.
     *
     * If `index` is not specified, the new View will be inserted as the last View in the container.
     *
     * You can optionally specify the {\@link Injector} that will be used as parent for the Component.
     *
     * Returns the {\@link ComponentRef} of the Host View created for the newly instantiated Component.
     * @abstract
     * @template C
     * @param {?} componentFactory
     * @param {?=} index
     * @param {?=} injector
     * @param {?=} projectableNodes
     * @param {?=} ngModule
     * @return {?}
     */
/**
     * Inserts a View identified by a {\@link ViewRef} into the container at the specified `index`.
     *
     * If `index` is not specified, the new View will be inserted as the last View in the container.
     *
     * Returns the inserted {\@link ViewRef}.
     * @abstract
     * @param {?} viewRef
     * @param {?=} index
     * @return {?}
     */
/**
     * Moves a View identified by a {\@link ViewRef} into the container at the specified `index`.
     *
     * Returns the inserted {\@link ViewRef}.
     * @abstract
     * @param {?} viewRef
     * @param {?} currentIndex
     * @return {?}
     */
/**
     * Returns the index of the View, specified via {\@link ViewRef}, within the current container or
     * `-1` if this container doesn't contain the View.
     * @abstract
     * @param {?} viewRef
     * @return {?}
     */
/**
     * Destroys a View attached to this container at the specified `index`.
     *
     * If `index` is not specified, the last View in the container will be removed.
     * @abstract
     * @param {?=} index
     * @return {?}
     */
/**
     * Use along with {\@link #insert} to move a View within the current container.
     *
     * If the `index` param is omitted, the last {\@link ViewRef} is detached.
     * @abstract
     * @param {?=} index
     * @return {?}
     */
return t.prototype.element=function(){},t.prototype.injector=function(){},t.prototype.parentInjector=function(){},t.prototype.clear=function(){},t.prototype.get=function(t){},t.prototype.length=function(){},t.prototype.createEmbeddedView=function(t,e,n){},t.prototype.createComponent=function(t,e,n,r,i){},t.prototype.insert=function(t,e){},t.prototype.move=function(t,e){},t.prototype.indexOf=function(t){},t.prototype.remove=function(t){},t.prototype.detach=function(t){},t}(),gs=function(){function t(){}/**
     * Marks all {\@link ChangeDetectionStrategy#OnPush} ancestors as to be checked.
     *
     * <!-- TODO: Add a link to a chapter on OnPush components -->
     *
     * ### Example ([live demo](http://plnkr.co/edit/GC512b?p=preview))
     *
     * ```typescript
     * \@Component({
     *   selector: 'cmp',
     *   changeDetection: ChangeDetectionStrategy.OnPush,
     *   template: `Number of ticks: {{numberOfTicks}}`
     * })
     * class Cmp {
     *   numberOfTicks = 0;
     *
     *   constructor(ref: ChangeDetectorRef) {
     *     setInterval(() => {
     *       this.numberOfTicks ++
     *       // the following is required, otherwise the view will not be updated
     *       this.ref.markForCheck();
     *     }, 1000);
     *   }
     * }
     *
     * \@Component({
     *   selector: 'app',
     *   changeDetection: ChangeDetectionStrategy.OnPush,
     *   template: `
     *     <cmp><cmp>
     *   `,
     * })
     * class App {
     * }
     * ```
     * @abstract
     * @return {?}
     */
/**
     * Detaches the change detector from the change detector tree.
     *
     * The detached change detector will not be checked until it is reattached.
     *
     * This can also be used in combination with {\@link ChangeDetectorRef#detectChanges} to implement
     * local change
     * detection checks.
     *
     * <!-- TODO: Add a link to a chapter on detach/reattach/local digest -->
     * <!-- TODO: Add a live demo once ref.detectChanges is merged into master -->
     *
     * ### Example
     *
     * The following example defines a component with a large list of readonly data.
     * Imagine the data changes constantly, many times per second. For performance reasons,
     * we want to check and update the list every five seconds. We can do that by detaching
     * the component's change detector and doing a local check every five seconds.
     *
     * ```typescript
     * class DataProvider {
     *   // in a real application the returned data will be different every time
     *   get data() {
     *     return [1,2,3,4,5];
     *   }
     * }
     *
     * \@Component({
     *   selector: 'giant-list',
     *   template: `
     *     <li *ngFor="let d of dataProvider.data">Data {{d}}</lig>
     *   `,
     * })
     * class GiantList {
     *   constructor(private ref: ChangeDetectorRef, private dataProvider:DataProvider) {
     *     ref.detach();
     *     setInterval(() => {
     *       this.ref.detectChanges();
     *     }, 5000);
     *   }
     * }
     *
     * \@Component({
     *   selector: 'app',
     *   providers: [DataProvider],
     *   template: `
     *     <giant-list><giant-list>
     *   `,
     * })
     * class App {
     * }
     * ```
     * @abstract
     * @return {?}
     */
/**
     * Checks the change detector and its children.
     *
     * This can also be used in combination with {\@link ChangeDetectorRef#detach} to implement local
     * change detection
     * checks.
     *
     * <!-- TODO: Add a link to a chapter on detach/reattach/local digest -->
     * <!-- TODO: Add a live demo once ref.detectChanges is merged into master -->
     *
     * ### Example
     *
     * The following example defines a component with a large list of readonly data.
     * Imagine, the data changes constantly, many times per second. For performance reasons,
     * we want to check and update the list every five seconds.
     *
     * We can do that by detaching the component's change detector and doing a local change detection
     * check
     * every five seconds.
     *
     * See {\@link ChangeDetectorRef#detach} for more information.
     * @abstract
     * @return {?}
     */
/**
     * Checks the change detector and its children, and throws if any changes are detected.
     *
     * This is used in development mode to verify that running change detection doesn't introduce
     * other changes.
     * @abstract
     * @return {?}
     */
/**
     * Reattach the change detector to the change detector tree.
     *
     * This also marks OnPush ancestors as to be checked. This reattached change detector will be
     * checked during the next change detection run.
     *
     * <!-- TODO: Add a link to a chapter on detach/reattach/local digest -->
     *
     * ### Example ([live demo](http://plnkr.co/edit/aUhZha?p=preview))
     *
     * The following example creates a component displaying `live` data. The component will detach
     * its change detector from the main change detector tree when the component's live property
     * is set to false.
     *
     * ```typescript
     * class DataProvider {
     *   data = 1;
     *
     *   constructor() {
     *     setInterval(() => {
     *       this.data = this.data * 2;
     *     }, 500);
     *   }
     * }
     *
     * \@Component({
     *   selector: 'live-data',
     *   inputs: ['live'],
     *   template: 'Data: {{dataProvider.data}}'
     * })
     * class LiveData {
     *   constructor(private ref: ChangeDetectorRef, private dataProvider:DataProvider) {}
     *
     *   set live(value) {
     *     if (value)
     *       this.ref.reattach();
     *     else
     *       this.ref.detach();
     *   }
     * }
     *
     * \@Component({
     *   selector: 'app',
     *   providers: [DataProvider],
     *   template: `
     *     Live Update: <input type="checkbox" [(ngModel)]="live">
     *     <live-data [live]="live"><live-data>
     *   `,
     * })
     * class App {
     *   live = true;
     * }
     * ```
     * @abstract
     * @return {?}
     */
return t.prototype.markForCheck=function(){},t.prototype.detach=function(){},t.prototype.detectChanges=function(){},t.prototype.checkNoChanges=function(){},t.prototype.reattach=function(){},t}(),bs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}/**
     * Destroys the view and all of the data structures associated with it.
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @param {?} callback
     * @return {?}
     */
return Qr(e,t),e.prototype.destroy=function(){},e.prototype.destroyed=function(){},e.prototype.onDestroy=function(t){},e}(gs),ws=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
return Qr(e,t),e.prototype.context=function(){},e.prototype.rootNodes=function(){},e}(bs),_s=function(){/**
     * @param {?} name
     * @param {?} callback
     */
function t(t,e){this.name=t,this.callback=e}return t}(),xs=function(){/**
     * @param {?} nativeNode
     * @param {?} parent
     * @param {?} _debugContext
     */
function t(t,e,n){this._debugContext=n,this.nativeNode=t,e&&e instanceof Es?e.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(t.prototype,"injector",{/**
         * @return {?}
         */
get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{/**
         * @return {?}
         */
get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{/**
         * @return {?}
         */
get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{/**
         * @return {?}
         */
get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{/**
         * @return {?}
         */
get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"source",{/**
         * @deprecated since v4
         * @return {?}
         */
get:function(){return"Deprecated since v4"},enumerable:!0,configurable:!0}),t}(),Es=function(t){/**
     * @param {?} nativeNode
     * @param {?} parent
     * @param {?} _debugContext
     */
function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}/**
     * @param {?} child
     * @return {?}
     */
/**
     * @param {?} child
     * @return {?}
     */
/**
     * @param {?} child
     * @param {?} newChildren
     * @return {?}
     */
/**
     * @param {?} refChild
     * @param {?} newChild
     * @return {?}
     */
/**
     * @param {?} predicate
     * @return {?}
     */
/**
     * @param {?} predicate
     * @return {?}
     */
/**
     * @param {?} predicate
     * @return {?}
     */
/**
     * @param {?} eventName
     * @param {?} eventObj
     * @return {?}
     */
return Qr(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var/** @type {?} */e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n=this,/** @type {?} */r=this.childNodes.indexOf(t);-1!==r&&((i=this.childNodes).splice.apply(i,[r+1,0].concat(e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=n}));var i},e.prototype.insertBefore=function(t,e){var/** @type {?} */n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var/** @type {?} */e=[];return bt(this,t,e),e},e.prototype.queryAllNodes=function(t){var/** @type {?} */e=[];return wt(this,t,e),e},Object.defineProperty(e.prototype,"children",{/**
         * @return {?}
         */
get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(xs),Cs=new Map,Ss=function(){/**
     * @param {?} wrapped
     */
function t(t){this.wrapped=t}/**
     * @param {?} value
     * @return {?}
     */
return t.wrap=function(e){return new t(e)},t}(),Ns=function(){function t(){this.hasWrappedValue=!1}/**
     * @param {?} value
     * @return {?}
     */
/**
     * @return {?}
     */
return t.prototype.unwrap=function(t){return t instanceof Ss?(this.hasWrappedValue=!0,t.wrapped):t},t.prototype.reset=function(){this.hasWrappedValue=!1},t}(),Ms=function(){/**
     * @param {?} previousValue
     * @param {?} currentValue
     * @param {?} firstChange
     */
function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}/**
     * Check whether the new value is the first value assigned.
     * @return {?}
     */
return t.prototype.isFirstChange=function(){return this.firstChange},t}(),Os=function(){function t(){}/**
     * @param {?} obj
     * @return {?}
     */
/**
     * @deprecated v4.0.0 - ChangeDetectorRef is not used and is no longer a parameter
     * @template V
     * @param {?=} cdRefOrTrackBy
     * @param {?=} trackByFn
     * @return {?}
     */
return t.prototype.supports=function(t){return St(t)},t.prototype.create=function(t,e){return new As(e||t)},t}(),Ts=function(t,e){return e},As=function(){/**
     * @param {?=} trackByFn
     */
function t(t){this._length=0,this._collection=null,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ts}/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} collection
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} collection
     * @return {?}
     */
/**
     * Reset the state of the change objects to show no changes. This means set previousKey to
     * currentKey, and clear all of the queues (additions, moves, removals).
     * Set the previousIndexes of moved and added items to their currentIndexes
     * Reset the list of additions, moves and removals
     *
     * \@internal
     * @return {?}
     */
/**
     * This is the core function which handles differences between collections.
     *
     * - `record` is the record which we saw at this position last time. If null then it is a new
     *   item.
     * - `item` is the current item in the collection
     * - `index` is the position of the item in the collection
     *
     * \@internal
     * @param {?} record
     * @param {?} item
     * @param {?} itemTrackBy
     * @param {?} index
     * @return {?}
     */
/**
     * This check is only needed if an array contains duplicates. (Short circuit of nothing dirty)
     *
     * Use case: `[a, a]` => `[b, a, a]`
     *
     * If we did not have this check then the insertion of `b` would:
     *   1) evict first `a`
     *   2) insert `b` at `0` index.
     *   3) leave `a` at index `1` as is. <-- this is wrong!
     *   3) reinsert `a` at index 2. <-- this is wrong!
     *
     * The correct behavior is:
     *   1) evict first `a`
     *   2) insert `b` at `0` index.
     *   3) reinsert `a` at index 1.
     *   3) move `a` at from `1` to `2`.
     *
     *
     * Double check that we have not evicted a duplicate item. We need to check if the item type may
     * have already been removed:
     * The insertion of b will evict the first 'a'. If we don't reinsert it now it will be reinserted
     * at the end. Which will show up as the two 'a's switching position. This is incorrect, since a
     * better way to think of it is as insert of 'b' rather then switch 'a' with 'b' and then add 'a'
     * at the end.
     *
     * \@internal
     * @param {?} record
     * @param {?} item
     * @param {?} itemTrackBy
     * @param {?} index
     * @return {?}
     */
/**
     * Get rid of any excess {\@link IterableChangeRecord_}s from the previous collection
     *
     * - `record` The first excess {\@link IterableChangeRecord_}.
     *
     * \@internal
     * @param {?} record
     * @return {?}
     */
/**
     * \@internal
     * @param {?} record
     * @param {?} prevRecord
     * @param {?} index
     * @return {?}
     */
/**
     * \@internal
     * @param {?} record
     * @param {?} prevRecord
     * @param {?} index
     * @return {?}
     */
/**
     * \@internal
     * @param {?} record
     * @param {?} prevRecord
     * @param {?} index
     * @return {?}
     */
/**
     * \@internal
     * @param {?} record
     * @param {?} prevRecord
     * @param {?} index
     * @return {?}
     */
/**
     * \@internal
     * @param {?} record
     * @return {?}
     */
/**
     * \@internal
     * @param {?} record
     * @return {?}
     */
/**
     * \@internal
     * @param {?} record
     * @param {?} toIndex
     * @return {?}
     */
/**
     * @param {?} record
     * @return {?}
     */
/**
     * \@internal
     * @param {?} record
     * @param {?} item
     * @return {?}
     */
/**
     * @return {?}
     */
return Object.defineProperty(t.prototype,"collection",{/**
         * @return {?}
         */
get:function(){return this._collection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{/**
         * @return {?}
         */
get:function(){return this._length},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var/** @type {?} */e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var/** @type {?} */e=this._itHead,/** @type {?} */n=this._removalsHead,/** @type {?} */r=0,/** @type {?} */i=null;e||n;){
// Figure out which is the next record to process
// Order: remove, add, move
var/** @type {?} */o=!n||e&&e.currentIndex<Tt(n,r,i)?e:n,/** @type {?} */s=Tt(o,r,i),/** @type {?} */a=o.currentIndex;
// consume the item, and adjust the addRemoveOffset and update moveDistance if necessary
if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{
// INVARIANT:  currentIndex < previousIndex
i||(i=[]);var/** @type {?} */u=s-r,/** @type {?} */c=a-r;if(u!=c){for(var/** @type {?} */l=0;l<u;l++){var/** @type {?} */f=l<i.length?i[l]:i[l]=0,/** @type {?} */p=f+l;c<=p&&p<u&&(i[l]=f+1)}var/** @type {?} */h=o.previousIndex;i[h]=c-u}}s!==a&&t(o,s,a)}},t.prototype.forEachPreviousItem=function(t){var/** @type {?} */e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var/** @type {?} */e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var/** @type {?} */e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var/** @type {?} */e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var/** @type {?} */e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!St(t))throw new Error("Error trying to diff '"+s(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var/** @type {?} */n,/** @type {?} */r,/** @type {?} */i,/** @type {?} */s=this._itHead,/** @type {?} */a=!1;if(Array.isArray(t)){this._length=t.length;for(var/** @type {?} */u=0;u<this._length;u++)r=t[u],i=this._trackByFn(u,r),null!==s&&o(s.trackById,i)?(a&&(
// TODO(misko): can we limit this to duplicates only?
s=this._verifyReinsertion(s,r,i,u)),o(s.item,r)||this._addIdentityChange(s,r)):(s=this._mismatch(s,r,i,u),a=!0),s=s._next}else n=0,Mt(t,function(t){i=e._trackByFn(n,t),null!==s&&o(s.trackById,i)?(a&&(
// TODO(misko): can we limit this to duplicates only?
s=e._verifyReinsertion(s,t,i,n)),o(s.item,t)||e._addIdentityChange(s,t)):(s=e._mismatch(s,t,i,n),a=!0),s=s._next,n++}),this._length=n;return this._truncate(s),this._collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{/**
         * @return {?}
         */
get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var/** @type {?} */t=void 0,/** @type {?} */e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){
// The previous record after which we will append the current one.
var/** @type {?} */i;
// Remove the record from the collection since we know it does not match the item.
// Attempt to see if we have seen the item before.
// We have seen this before, we need to move it forward in the collection.
// But first we need to check if identity changed, so we can update in view if necessary
// Never seen it, check evicted list.
// It is an item which we have evicted earlier: reinsert it back into the list.
// But first we need to check if identity changed, so we can update in view if necessary
// It is a new item: add it.
return null===t?i=this._itTail:(i=t._prev,this._remove(t)),t=null===this._linkedRecords?null:this._linkedRecords.get(n,r),null!==t?(o(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null),null!==t?(o(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ps(e,n),i,r)),t},t.prototype._verifyReinsertion=function(t,e,n,r){var/** @type {?} */i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);/** @type {?} */
return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){
// Anything after that needs to be removed;
for(;null!==t;){var/** @type {?} */e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var/** @type {?} */r=t._prevRemoved,/** @type {?} */i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){
// todo(vicb)
// assert(this._additionsHead === null);
// todo(vicb)
// assert(_additionsTail._nextAdded === null);
// assert(record._nextAdded === null);
return this._insertAfter(t,e,n),null===this._additionsTail?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){
// todo(vicb)
// assert(record != prevRecord);
// assert(record._next === null);
// assert(record._prev === null);
var/** @type {?} */r=null===e?this._itHead:e._next;
// todo(vicb)
// assert(next != record);
// assert(prevRecord != record);
return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Is),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var/** @type {?} */e=t._prev,/** @type {?} */n=t._next;
// todo(vicb)
// assert((record._prev = null) === null);
// assert((record._next = null) === null);
return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){
// todo(vicb)
// assert(record._nextMoved === null);
// todo(vicb)
// assert(record._nextMoved === null);
// todo(vicb)
// assert(_movesHead === null);
// todo(vicb)
// assert(_movesTail._nextMoved === null);
return t.previousIndex===e?t:(null===this._movesTail?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){
// todo(vicb)
// assert(_removalsHead === null);
// todo(vicb)
// assert(_removalsTail._nextRemoved === null);
// assert(record._nextRemoved === null);
return null===this._unlinkedRecords&&(this._unlinkedRecords=new Is),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t},t.prototype.toString=function(){var/** @type {?} */t=[];this.forEachItem(function(e){return t.push(e)});var/** @type {?} */e=[];this.forEachPreviousItem(function(t){return e.push(t)});var/** @type {?} */n=[];this.forEachAddedItem(function(t){return n.push(t)});var/** @type {?} */r=[];this.forEachMovedItem(function(t){return r.push(t)});var/** @type {?} */i=[];this.forEachRemovedItem(function(t){return i.push(t)});var/** @type {?} */o=[];return this.forEachIdentityChange(function(t){return o.push(t)}),"collection: "+t.join(", ")+"\nprevious: "+e.join(", ")+"\nadditions: "+n.join(", ")+"\nmoves: "+r.join(", ")+"\nremovals: "+i.join(", ")+"\nidentityChanges: "+o.join(", ")+"\n"},t}(),Ps=function(){/**
     * @param {?} item
     * @param {?} trackById
     */
function t(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,/**
         * \@internal
         */
this._nextPrevious=null,/**
         * \@internal
         */
this._prev=null,/**
         * \@internal
         */
this._next=null,/**
         * \@internal
         */
this._prevDup=null,/**
         * \@internal
         */
this._nextDup=null,/**
         * \@internal
         */
this._prevRemoved=null,/**
         * \@internal
         */
this._nextRemoved=null,/**
         * \@internal
         */
this._nextAdded=null,/**
         * \@internal
         */
this._nextMoved=null,/**
         * \@internal
         */
this._nextIdentityChange=null}/**
     * @return {?}
     */
return t.prototype.toString=function(){return this.previousIndex===this.currentIndex?s(this.item):s(this.item)+"["+s(this.previousIndex)+"->"+s(this.currentIndex)+"]"},t}(),ks=function(){function t(){/**
         * \@internal
         */
this._head=null,/**
         * \@internal
         */
this._tail=null}/**
     * Append the record to the list of duplicates.
     *
     * Note: by design all records in the list of duplicates hold the same value in record.item.
     * @param {?} record
     * @return {?}
     */
/**
     * @param {?} trackById
     * @param {?} afterIndex
     * @return {?}
     */
/**
     * Remove one {\@link IterableChangeRecord_} from the list of duplicates.
     *
     * Returns whether the list of duplicates is empty.
     * @param {?} record
     * @return {?}
     */
return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(
// todo(vicb)
// assert(record.item ==  _head.item ||
//       record.item is num && record.item.isNaN && _head.item is num && _head.item.isNaN);
this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var/** @type {?} */n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<n.currentIndex)&&o(n.trackById,t))return n;return null},t.prototype.remove=function(t){
// todo(vicb)
// assert(() {
//  // verify that the record being removed is in the list.
//  for (IterableChangeRecord_ cursor = _head; cursor != null; cursor = cursor._nextDup) {
//    if (identical(cursor, record)) return true;
//  }
//  return false;
//});
var/** @type {?} */e=t._prevDup,/** @type {?} */n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),Is=function(){function t(){this.map=new Map}/**
     * @param {?} record
     * @return {?}
     */
/**
     * Retrieve the `value` using key. Because the IterableChangeRecord_ value may be one which we
     * have already iterated over, we use the afterIndex to pretend it is not there.
     *
     * Use case: `[a, b, c, a, a]` if we are at index `3` which is the second `a` then asking if we
     * have any more `a`s needs to return the last `a` not the first or second.
     * @param {?} trackById
     * @param {?} afterIndex
     * @return {?}
     */
/**
     * Removes a {\@link IterableChangeRecord_} from the list of duplicates.
     *
     * The list of duplicates also is removed from the map if it gets empty.
     * @param {?} record
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
return t.prototype.put=function(t){var/** @type {?} */e=t.trackById,/** @type {?} */n=this.map.get(e);n||(n=new ks,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var/** @type {?} */n=t,/** @type {?} */r=this.map.get(n);return r?r.get(t,e):null},t.prototype.remove=function(t){var/** @type {?} */e=t.trackById;
// Remove the list of duplicates when it gets empty
return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{/**
         * @return {?}
         */
get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t.prototype.toString=function(){return"_DuplicateMap("+s(this.map)+")"},t}(),Rs=function(){function t(){}/**
     * @param {?} obj
     * @return {?}
     */
/**
     * @deprecated v4.0.0 - ChangeDetectorRef is not used and is no longer a parameter
     * @template K, V
     * @param {?=} cd
     * @return {?}
     */
return t.prototype.supports=function(t){return t instanceof Map||Ot(t)},t.prototype.create=function(t){return new js},t}(),js=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?=} map
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * Check the current state of the map vs the previous.
     * The algorithm is optimised for when the keys do no change.
     * @param {?} map
     * @return {?}
     */
/**
     * Inserts a record before `before` or append at the end of the list when `before` is null.
     *
     * Notes:
     * - This method appends at `this._appendAfter`,
     * - This method updates `this._appendAfter`,
     * - The return value is the new value for the insertion pointer.
     * @param {?} before
     * @param {?} record
     * @return {?}
     */
/**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
/**
     * \@internal
     * @return {?}
     */
/**
     * @param {?} record
     * @param {?} newValue
     * @return {?}
     */
/**
     * @param {?} record
     * @return {?}
     */
/**
     * @param {?} record
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * \@internal
     * @template K, V
     * @param {?} obj
     * @param {?} fn
     * @return {?}
     */
return Object.defineProperty(t.prototype,"isDirty",{/**
         * @return {?}
         */
get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var/** @type {?} */e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var/** @type {?} */e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var/** @type {?} */e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var/** @type {?} */e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var/** @type {?} */e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||Ot(t)))throw new Error("Error trying to diff '"+s(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var/** @type {?} */n=this._mapHead;
// Items remaining at the end of the list have been deleted
if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var/** @type {?} */i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n,this._removalsTail=n;for(var/** @type {?} */r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var/** @type {?} */n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var/** @type {?} */n=this._records.get(t);this._maybeAddToChanges(n,e);var/** @type {?} */r=n._prev,/** @type {?} */i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var/** @type {?} */o=new Ds(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var/** @type {?} */t=void 0;for(
// let `_previousMapHead` contain the state of the map before the changes
this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;
// Update `record.previousValue` with the value of the item before the changes
// We need to update all changed items (that's those which have been added and changed)
for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=this._removalsTail=null}},t.prototype._maybeAddToChanges=function(t,e){o(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype.toString=function(){var/** @type {?} */t,/** @type {?} */e=[],/** @type {?} */n=[],/** @type {?} */r=[],/** @type {?} */i=[],/** @type {?} */o=[];for(t=this._mapHead;null!==t;t=t._next)e.push(s(t));for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n.push(s(t));for(t=this._changesHead;null!==t;t=t._nextChanged)r.push(s(t));for(t=this._additionsHead;null!==t;t=t._nextAdded)i.push(s(t));for(t=this._removalsHead;null!==t;t=t._nextRemoved)o.push(s(t));return"map: "+e.join(", ")+"\nprevious: "+n.join(", ")+"\nadditions: "+i.join(", ")+"\nchanges: "+r.join(", ")+"\nremovals: "+o.join(", ")+"\n"},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),Ds=function(){/**
     * @param {?} key
     */
function t(t){this.key=t,this.previousValue=null,this.currentValue=null,/**
         * \@internal
         */
this._nextPrevious=null,/**
         * \@internal
         */
this._next=null,/**
         * \@internal
         */
this._prev=null,/**
         * \@internal
         */
this._nextAdded=null,/**
         * \@internal
         */
this._nextRemoved=null,/**
         * \@internal
         */
this._nextChanged=null}/**
     * @return {?}
     */
return t.prototype.toString=function(){return o(this.previousValue,this.currentValue)?s(this.key):s(this.key)+"["+s(this.previousValue)+"->"+s(this.currentValue)+"]"},t}(),Ls=function(){/**
     * @param {?} factories
     */
function t(t){this.factories=t}/**
     * @param {?} factories
     * @param {?=} parent
     * @return {?}
     */
/**
     * Takes an array of {\@link IterableDifferFactory} and returns a provider used to extend the
     * inherited {\@link IterableDiffers} instance with the provided factories and return a new
     * {\@link IterableDiffers} instance.
     *
     * The following example shows how to extend an existing list of factories,
     * which will only be applied to the injector for this component and its children.
     * This step is all that's required to make a new {\@link IterableDiffer} available.
     *
     * ### Example
     *
     * ```
     * \@Component({
     *   viewProviders: [
     *     IterableDiffers.extend([new ImmutableListDiffer()])
     *   ]
     * })
     * ```
     * @param {?} factories
     * @return {?}
     */
/**
     * @param {?} iterable
     * @return {?}
     */
return t.create=function(e,n){if(null!=n){var/** @type {?} */r=n.factories.slice();return e=e.concat(r),new t(e)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)
// Typically would occur when calling IterableDiffers.extend inside of dependencies passed
// to
// bootstrap(), which would override default pipes instead of extending them.
throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},
// Dependency technically isn't optional, but we can provide a better error message this way.
deps:[[t,new ji,new ki]]}},t.prototype.find=function(t){var/** @type {?} */e=this.factories.find(function(e){return e.supports(t)});if(null!=e)return e;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+At(t)+"'")},t}(),Fs=function(){/**
     * @param {?} factories
     */
function t(t){this.factories=t}/**
     * @template S
     * @param {?} factories
     * @param {?=} parent
     * @return {?}
     */
/**
     * Takes an array of {\@link KeyValueDifferFactory} and returns a provider used to extend the
     * inherited {\@link KeyValueDiffers} instance with the provided factories and return a new
     * {\@link KeyValueDiffers} instance.
     *
     * The following example shows how to extend an existing list of factories,
     * which will only be applied to the injector for this component and its children.
     * This step is all that's required to make a new {\@link KeyValueDiffer} available.
     *
     * ### Example
     *
     * ```
     * \@Component({
     *   viewProviders: [
     *     KeyValueDiffers.extend([new ImmutableMapDiffer()])
     *   ]
     * })
     * ```
     * @template S
     * @param {?} factories
     * @return {?}
     */
/**
     * @param {?} kv
     * @return {?}
     */
return t.create=function(e,n){if(n){var/** @type {?} */r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)
// Typically would occur when calling KeyValueDiffers.extend inside of dependencies passed
// to bootstrap(), which would override default pipes instead of extending them.
throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},
// Dependency technically isn't optional, but we can provide a better error message this way.
deps:[[t,new ji,new ki]]}},t.prototype.find=function(t){var/** @type {?} */e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),Us=[new Rs],Vs=[new Os],Bs=new Ls(Vs),zs=new Fs(Us),qs=[
// Set a default platform name for platforms that don't set it explicitly.
{provide:mo,useValue:"unknown"},Jo,{provide:Qo,useExisting:Jo},{provide:Ji,useFactory:Pt,deps:[]},{provide:Qi,useExisting:Ji},Ho,go],Hs=ut(null,"core",qs),Gs=new ti("LocaleId"),Ws=new ti("Translations"),$s=new ti("TranslationsFormat"),Ys={};Ys.Error=0,Ys.Warning=1,Ys.Ignore=2,Ys[Ys.Error]="Error",Ys[Ys.Warning]="Warning",Ys[Ys.Ignore]="Ignore";var Xs={};Xs.NONE=0,Xs.HTML=1,Xs.STYLE=2,Xs.SCRIPT=3,Xs.URL=4,Xs.RESOURCE_URL=5,Xs[Xs.NONE]="NONE",Xs[Xs.HTML]="HTML",Xs[Xs.STYLE]="STYLE",Xs[Xs.SCRIPT]="SCRIPT",Xs[Xs.URL]="URL",Xs[Xs.RESOURCE_URL]="RESOURCE_URL";/**
 * Sanitizer is used by the views to sanitize potentially dangerous values.
 *
 * \@stable
 * @abstract
 */
var Zs=function(){function t(){}/**
     * @abstract
     * @param {?} context
     * @param {?} value
     * @return {?}
     */
return t.prototype.sanitize=function(t,e){},t}(),Ks=function(){function t(){}/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @param {?} console
     * @param {...?} values
     * @return {?}
     */
return t.prototype.view=function(){},t.prototype.nodeIndex=function(){},t.prototype.injector=function(){},t.prototype.component=function(){},t.prototype.providerTokens=function(){},t.prototype.references=function(){},t.prototype.context=function(){},t.prototype.componentRenderElement=function(){},t.prototype.renderNode=function(){},t.prototype.logError=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t}(),Qs={setCurrentNode:/** @type {?} */void 0,createRootView:/** @type {?} */void 0,createEmbeddedView:/** @type {?} */void 0,checkAndUpdateView:/** @type {?} */void 0,checkNoChangesView:/** @type {?} */void 0,destroyView:/** @type {?} */void 0,resolveDep:/** @type {?} */void 0,createDebugContext:/** @type {?} */void 0,handleEvent:/** @type {?} */void 0,updateDirectives:/** @type {?} */void 0,updateRenderer:/** @type {?} */void 0,dirtyParentQueries:/** @type {?} */void 0},Js=function(){},ta=new Map,ea="$$undefined",na="$$empty",ra=0,ia=new WeakMap,oa=/^:([^:]+):(.+)$/,sa=[],aa={},ua=new Object,ca=function(t){/**
     * @param {?} selector
     * @param {?} componentType
     * @param {?} viewDefFactory
     * @param {?} _inputs
     * @param {?} _outputs
     * @param {?} ngContentSelectors
     */
function e(e,n,r,i,o,s){var a=
// Attention: this ctor is called as top level function.
// Putting any logic in here will destroy closure tree shaking!
t.call(this)||this;return a.selector=e,a.componentType=n,a._inputs=i,a._outputs=o,a.ngContentSelectors=s,a.viewDefFactory=r,a}/**
     * Creates a new component.
     * @param {?} injector
     * @param {?=} projectableNodes
     * @param {?=} rootSelectorOrNode
     * @param {?=} ngModule
     * @return {?}
     */
return Qr(e,t),Object.defineProperty(e.prototype,"inputs",{/**
         * @return {?}
         */
get:function(){var/** @type {?} */t=[];for(var/** @type {?} */e in this._inputs){var/** @type {?} */n=this._inputs[e];t.push({propName:e,templateName:n})}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{/**
         * @return {?}
         */
get:function(){var/** @type {?} */t=[];for(var/** @type {?} */e in this._outputs){var/** @type {?} */n=this._outputs[e];t.push({propName:e,templateName:n})}return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var/** @type {?} */i=ae(this.viewDefFactory),/** @type {?} */o=i.nodes[0].element.componentProvider.index,/** @type {?} */s=Qs.createRootView(t,e||[],n,i,r,ua),/** @type {?} */a=Rt(s,o).instance;return s.renderer.setAttribute(It(s,0).renderElement,"ng-version",Ai.full),new la(s,new pa(s),a)},e}(Co),la=function(t){/**
     * @param {?} _view
     * @param {?} _viewRef
     * @param {?} _component
     */
function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i}/**
     * @return {?}
     */
/**
     * @param {?} callback
     * @return {?}
     */
return Qr(e,t),Object.defineProperty(e.prototype,"location",{/**
         * @return {?}
         */
get:function(){return new cs(It(this._view,this._elDef.index).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{/**
         * @return {?}
         */
get:function(){return new da(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instance",{/**
         * @return {?}
         */
get:function(){return this._component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostView",{/**
         * @return {?}
         */
get:function(){return this._viewRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeDetectorRef",{/**
         * @return {?}
         */
get:function(){return this._viewRef},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{/**
         * @return {?}
         */
get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(Eo),fa=function(){/**
     * @param {?} _view
     * @param {?} _elDef
     * @param {?} _data
     */
function t(t,e,n){this._view=t,this._elDef=e,this._data=n,/**
         * \@internal
         */
this._embeddedViews=[]}/**
     * @return {?}
     */
/**
     * @param {?} index
     * @return {?}
     */
/**
     * @template C
     * @param {?} templateRef
     * @param {?=} context
     * @param {?=} index
     * @return {?}
     */
/**
     * @template C
     * @param {?} componentFactory
     * @param {?=} index
     * @param {?=} injector
     * @param {?=} projectableNodes
     * @param {?=} ngModuleRef
     * @return {?}
     */
/**
     * @param {?} viewRef
     * @param {?=} index
     * @return {?}
     */
/**
     * @param {?} viewRef
     * @param {?} currentIndex
     * @return {?}
     */
/**
     * @param {?} viewRef
     * @return {?}
     */
/**
     * @param {?=} index
     * @return {?}
     */
/**
     * @param {?=} index
     * @return {?}
     */
return Object.defineProperty(t.prototype,"element",{/**
         * @return {?}
         */
get:function(){return new cs(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{/**
         * @return {?}
         */
get:function(){return new da(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{/**
         * @return {?}
         */
get:function(){for(var/** @type {?} */t=this._view,/** @type {?} */e=this._elDef.parent;!e&&t;)e=Jt(t),t=t.parent;return t?new da(t,e):new da(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var/** @type {?} */t=this._embeddedViews.length,/** @type {?} */e=t-1;e>=0;e--){var/** @type {?} */n=Re(this._data,e);Qs.destroyView(n)}},t.prototype.get=function(t){var/** @type {?} */e=this._embeddedViews[t];if(e){var/** @type {?} */n=new pa(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{/**
         * @return {?}
         */
get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var/** @type {?} */r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var/** @type {?} */o=n||this.parentInjector;i||t instanceof Po||(i=o.get(ko));var/** @type {?} */s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s},t.prototype.insert=function(t,e){var/** @type {?} */n=t,/** @type {?} */r=n._view;return Ie(this._view,this._data,e,r),n.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){var/** @type {?} */n=this._embeddedViews.indexOf(t._view);return je(this._data,n,e),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var/** @type {?} */e=Re(this._data,t);e&&Qs.destroyView(e)},t.prototype.detach=function(t){var/** @type {?} */e=Re(this._data,t);return e?new pa(e):null},t}(),pa=function(){/**
     * @param {?} _view
     */
function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} callback
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} appRef
     * @return {?}
     */
/**
     * @param {?} vcRef
     * @return {?}
     */
return Object.defineProperty(t.prototype,"rootNodes",{/**
         * @return {?}
         */
get:function(){return ue(this._view)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{/**
         * @return {?}
         */
get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{/**
         * @return {?}
         */
get:function(){return 0!=(8&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Zt(this._view)},t.prototype.detach=function(){this._view.state&=-3},t.prototype.detectChanges=function(){Qs.checkAndUpdateView(this._view)},t.prototype.checkNoChanges=function(){Qs.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=2},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(/** @type {?} */t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Qs.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,Le(this._view),Qs.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}(),ha=function(t){/**
     * @param {?} _parentView
     * @param {?} _def
     */
function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}/**
     * @param {?} context
     * @return {?}
     */
return Qr(e,t),e.prototype.createEmbeddedView=function(t){return new pa(Qs.createEmbeddedView(this._parentView,this._def,t))},Object.defineProperty(e.prototype,"elementRef",{/**
         * @return {?}
         */
get:function(){return new cs(It(this._parentView,this._def.index).renderElement)},enumerable:!0,configurable:!0}),e}(vs),da=function(){/**
     * @param {?} view
     * @param {?} elDef
     */
function t(t,e){this.view=t,this.elDef=e}/**
     * @param {?} token
     * @param {?=} notFoundValue
     * @return {?}
     */
return t.prototype.get=function(t,e){void 0===e&&(e=Vi.THROW_IF_NOT_FOUND);var/** @type {?} */n=!!this.elDef&&0!=(16777216&this.elDef.flags);return Qs.resolveDep(this.view,this.elDef,n,{flags:0,token:t,tokenKey:qt(t)},e)},t}(),ma=function(){/**
     * @param {?} delegate
     */
function t(t){this.delegate=t}/**
     * @param {?} selectorOrNode
     * @return {?}
     */
/**
     * @param {?} parent
     * @param {?} namespaceAndName
     * @return {?}
     */
/**
     * @param {?} hostElement
     * @return {?}
     */
/**
     * @param {?} parentElement
     * @return {?}
     */
/**
     * @param {?} parentElement
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} parentElement
     * @param {?} nodes
     * @return {?}
     */
/**
     * @param {?} node
     * @param {?} viewRootNodes
     * @return {?}
     */
/**
     * @param {?} viewRootNodes
     * @return {?}
     */
/**
     * @param {?} hostElement
     * @param {?} viewAllNodes
     * @return {?}
     */
/**
     * @param {?} renderElement
     * @param {?} name
     * @param {?} callback
     * @return {?}
     */
/**
     * @param {?} target
     * @param {?} name
     * @param {?} callback
     * @return {?}
     */
/**
     * @param {?} renderElement
     * @param {?} propertyName
     * @param {?} propertyValue
     * @return {?}
     */
/**
     * @param {?} renderElement
     * @param {?} namespaceAndName
     * @param {?} attributeValue
     * @return {?}
     */
/**
     * @param {?} renderElement
     * @param {?} propertyName
     * @param {?} propertyValue
     * @return {?}
     */
/**
     * @param {?} renderElement
     * @param {?} className
     * @param {?} isAdd
     * @return {?}
     */
/**
     * @param {?} renderElement
     * @param {?} styleName
     * @param {?} styleValue
     * @return {?}
     */
/**
     * @param {?} renderElement
     * @param {?} methodName
     * @param {?} args
     * @return {?}
     */
/**
     * @param {?} renderNode
     * @param {?} text
     * @return {?}
     */
/**
     * @return {?}
     */
return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=de(e),r=n[0],i=n[1],/** @type {?} */o=this.delegate.createElement(i,r);return t&&this.delegate.appendChild(t,o),o},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var/** @type {?} */e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var/** @type {?} */n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var/** @type {?} */n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var/** @type {?} */n=this.delegate.parentNode(t),/** @type {?} */r=this.delegate.nextSibling(t),/** @type {?} */i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var/** @type {?} */e=0;e<t.length;e++){var/** @type {?} */n=t[e],/** @type {?} */r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var/** @type {?} */n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){/** @type {?} */
return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){/** @type {?} */
return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var r=de(e),i=r[0],o=r[1];null!=n?this.delegate.setAttribute(t,o,n,i):this.delegate.removeAttribute(t,o,i)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}(),va=qt(is),ya=qt(us),ga=qt(cs),ba=qt(ys),wa=qt(vs),_a=qt(gs),xa=qt(Vi),Ea=new Object,Ca={},Sa={};Sa.CreateViewNodes=0,Sa.CheckNoChanges=1,Sa.CheckAndUpdate=2,Sa.Destroy=3,Sa[Sa.CreateViewNodes]="CreateViewNodes",Sa[Sa.CheckNoChanges]="CheckNoChanges",Sa[Sa.CheckAndUpdate]="CheckAndUpdate",Sa[Sa.Destroy]="Destroy";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Na=!1,Ma={};Ma.create=0,Ma.detectChanges=1,Ma.checkNoChanges=2,Ma.destroy=3,Ma.handleEvent=4,Ma[Ma.create]="create",Ma[Ma.detectChanges]="detectChanges",Ma[Ma.checkNoChanges]="checkNoChanges",Ma[Ma.destroy]="destroy",Ma[Ma.handleEvent]="handleEvent";var Oa,Ta,Aa,Pa=/([A-Z])/g,ka=function(){/**
     * @param {?} view
     * @param {?} nodeIndex
     */
function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Jt(r),r=r.parent;this.elDef=n,this.elView=r}/**
     * @param {?} console
     * @param {...?} values
     * @return {?}
     */
return Object.defineProperty(t.prototype,"elOrCompView",{/**
         * @return {?}
         */
get:function(){
// Has to be done lazily as we use the DebugContext also during creation of elements...
return It(this.elView,this.elDef.index).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{/**
         * @return {?}
         */
get:function(){return Ge(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{/**
         * @return {?}
         */
get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{/**
         * @return {?}
         */
get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{/**
         * @return {?}
         */
get:function(){var/** @type {?} */t=[];if(this.elDef)for(var/** @type {?} */e=this.elDef.index+1;e<=this.elDef.index+this.elDef.childCount;e++){var/** @type {?} */n=this.elView.def.nodes[e];10112&n.flags&&t.push(/** @type {?} */n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{/**
         * @return {?}
         */
get:function(){var/** @type {?} */t={};if(this.elDef){Sr(this.elView,this.elDef,t);for(var/** @type {?} */e=this.elDef.index+1;e<=this.elDef.index+this.elDef.childCount;e++){var/** @type {?} */n=this.elView.def.nodes[e];10112&n.flags&&Sr(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{/**
         * @return {?}
         */
get:function(){var/** @type {?} */t=Cr(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{/**
         * @return {?}
         */
get:function(){return 2&this.nodeDef.flags?te(this.view,this.nodeDef):te(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var/** @type {?} */r,/** @type {?} */i;2&this.nodeDef.flags?(r=this.view.def,i=this.nodeDef.index):(r=this.elView.def,i=this.elDef.index);
// Note: we only generate a log function for text and element nodes
// to make the generated code as small as possible.
var/** @type {?} */o=Er(r,i),/** @type {?} */s=-1,/** @type {?} */a=function(){return s++,s===o?(n=t.error).bind.apply(n,[t].concat(e)):Js;var n};/** @type {?} */
r.factory(a),s<o&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,e))},t}(),Ia=function(){/**
     * @param {?} delegate
     */
function t(t){this.delegate=t}/**
     * @param {?} element
     * @param {?} renderData
     * @return {?}
     */
return t.prototype.createRenderer=function(t,e){return new Ra(this.delegate.createRenderer(t,e))},t}(),Ra=function(){/**
     * @param {?} delegate
     */
function t(t){this.delegate=t}/**
     * @param {?} node
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} name
     * @param {?=} namespace
     * @return {?}
     */
/**
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} parent
     * @param {?} newChild
     * @return {?}
     */
/**
     * @param {?} parent
     * @param {?} newChild
     * @param {?} refChild
     * @return {?}
     */
/**
     * @param {?} parent
     * @param {?} oldChild
     * @return {?}
     */
/**
     * @param {?} selectorOrNode
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} name
     * @param {?} value
     * @param {?=} namespace
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} name
     * @param {?=} namespace
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} style
     * @param {?} value
     * @param {?} flags
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} style
     * @param {?} flags
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} name
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} target
     * @param {?} eventName
     * @param {?} callback
     * @return {?}
     */
/**
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} node
     * @param {?} value
     * @return {?}
     */
return Object.defineProperty(t.prototype,"data",{/**
         * @return {?}
         */
get:function(){return this.delegate.data},enumerable:!0,configurable:!0}),t.prototype.destroyNode=function(t){Et(/** @type {?} */_t(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var/** @type {?} */n=this.delegate.createElement(t,e),/** @type {?} */r=Mr();if(r){var/** @type {?} */i=new Es(n,null,r);i.name=t,xt(i)}return n},t.prototype.createComment=function(t){var/** @type {?} */e=this.delegate.createComment(t),/** @type {?} */n=Mr();return n&&xt(new xs(e,null,n)),e},t.prototype.createText=function(t){var/** @type {?} */e=this.delegate.createText(t),/** @type {?} */n=Mr();return n&&xt(new xs(e,null,n)),e},t.prototype.appendChild=function(t,e){var/** @type {?} */n=_t(t),/** @type {?} */r=_t(e);n&&r&&n instanceof Es&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var/** @type {?} */r=_t(t),/** @type {?} */i=_t(e),/** @type {?} */o=_t(n);r&&i&&r instanceof Es&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var/** @type {?} */n=_t(t),/** @type {?} */r=_t(e);n&&r&&n instanceof Es&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t){var/** @type {?} */e=this.delegate.selectRootElement(t),/** @type {?} */n=Mr();return n&&xt(new Es(e,null,n)),e},t.prototype.setAttribute=function(t,e,n,r){var/** @type {?} */i=_t(t);if(i&&i instanceof Es){var/** @type {?} */o=r?r+":"+e:e;i.attributes[o]=n}this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var/** @type {?} */r=_t(t);if(r&&r instanceof Es){var/** @type {?} */i=n?n+":"+e:e;r.attributes[i]=null}this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var/** @type {?} */n=_t(t);n&&n instanceof Es&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var/** @type {?} */n=_t(t);n&&n instanceof Es&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var/** @type {?} */i=_t(t);i&&i instanceof Es&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var/** @type {?} */r=_t(t);r&&r instanceof Es&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var/** @type {?} */r=_t(t);r&&r instanceof Es&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var/** @type {?} */r=_t(t);r&&r.listeners.push(new _s(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}(),ja=function(){/**
     * @param {?} appRef
     */
function t(t){}return t}();ja.decorators=[{type:Ni,args:[{providers:[es,{provide:ts,useExisting:es},lo,wo,po,{provide:Ls,useFactory:Or},{provide:Fs,useFactory:Tr},{provide:Gs,useFactory:Ar,deps:[[new Pi(Gs),new ki,new ji]]},{provide:co,useValue:Pr,multi:!0}]}]}],/**
 * @nocollapse
 */
ja.ctorParameters=function(){return[{type:ts}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Da={};Da.OnInit=0,Da.OnDestroy=1,Da.DoCheck=2,Da.OnChanges=3,Da.AfterContentInit=4,Da.AfterContentChecked=5,Da.AfterViewInit=6,Da.AfterViewChecked=7,Da[Da.OnInit]="OnInit",Da[Da.OnDestroy]="OnDestroy",Da[Da.DoCheck]="DoCheck",Da[Da.OnChanges]="OnChanges",Da[Da.AfterContentInit]="AfterContentInit",Da[Da.AfterContentChecked]="AfterContentChecked",Da[Da.AfterViewInit]="AfterViewInit",Da[Da.AfterViewChecked]="AfterViewChecked";var La=[Da.OnInit,Da.OnDestroy,Da.DoCheck,Da.OnChanges,Da.AfterContentInit,Da.AfterContentChecked,Da.AfterViewInit,Da.AfterViewChecked],Fa="*"}).call(e,n(108))},/* 24 */
/***/
function(t,e,n){"use strict";
// typeof any so that it we don't have to cast when comparing a result to the error object
e.errorObject={e:{}}},/* 25 */
,/* 26 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r,s){/**
   * Node
   */
function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator")}/**
   * Validate the symbol names of a scope.
   * Throws an error when the scope contains an illegal symbol.
   * @param {Object} scope
   */
function u(t){for(var e in t)if(t.hasOwnProperty(e)&&e in i)throw new Error('Scope contains an illegal symbol, "'+e+'" is a reserved keyword')}/**
   * Evaluate the node
   * @param {Object} [scope]  Scope to read/write variables
   * @return {*}              Returns the result
   */
/**
   * Compile the node to javascript code
   * @return {{eval: function}} expr  Returns an object with a function 'eval',
   *                                  which can be invoked as expr.eval([scope]),
   *                                  where scope is an optional object with
   *                                  variables.
   */
/**
   * Compile the node to javascript code
   * @param {Object} defs     Object which can be used to define functions
   *                          and constants globally available inside the closure
   *                          of the compiled expression
   * @param {Object} args     Object with local function arguments, the key is
   *                          the name of the argument, and the value is `true`.
   *                          The object may not be mutated, but must be
   *                          extended instead.
   * @return {string} js
   * @private
   */
/**
   * Execute a callback for each of the child nodes of this node
   * @param {function(child: Node, path: string, parent: Node)} callback
   */
/**
   * Create a new Node having it's childs be the results of calling
   * the provided callback function for each of the childs of the original node.
   * @param {function(child: Node, path: string, parent: Node): Node} callback
   * @returns {OperatorNode} Returns a transformed copy of the node
   */
/**
   * Validate whether an object is a Node, for use with map
   * @param {Node} node
   * @returns {Node} Returns the input if it's a node, else throws an Error
   * @protected
   */
/**
   * Recursively traverse all nodes in a node tree. Executes given callback for
   * this node and each of its child nodes.
   * @param {function(node: Node, path: string, parent: Node)} callback
   *          A callback called for every node in the node tree.
   */
/**
   * Recursively transform a node tree via a transform function.
   *
   * For example, to replace all nodes of type SymbolNode having name 'x' with a
   * ConstantNode with value 2:
   *
   *     var res = Node.transform(function (node, path, parent) {
   *       if (node && node.isSymbolNode) && (node.name == 'x')) {
   *         return new ConstantNode(2);
   *       }
   *       else {
   *         return node;
   *       }
   *     });
   *
   * @param {function(node: Node, path: string, parent: Node) : Node} callback
   *          A mapping function accepting a node, and returning
   *          a replacement for the node or the original node.
   *          Signature: callback(node: Node, index: string, parent: Node) : Node
   * @return {Node} Returns the original node or its replacement
   */
/**
   * Find any node in the node tree matching given filter function. For example, to
   * find all nodes of type SymbolNode having name 'x':
   *
   *     var results = Node.filter(function (node) {
   *       return (node && node.isSymbolNode) && (node.name == 'x');
   *     });
   *
   * @param {function(node: Node, path: string, parent: Node) : Node} callback
   *            A test function returning true when a node matches, and false
   *            otherwise. Function signature:
   *            callback(node: Node, index: string, parent: Node) : boolean
   * @return {Node[]} nodes       An array with nodes matching given filter criteria
   */
// TODO: deprecated since version 1.1.0, remove this some day
// TODO: deprecated since version 1.1.0, remove this some day
/**
   * Create a shallow clone of this node
   * @return {Node}
   */
/**
   * Create a deep clone of this node
   * @return {Node}
   */
/**
   * Deep compare this node with another node.
   * @param {Node} other
   * @return {boolean} Returns true when both nodes are of the same type and
   *                   contain the same values (as do their childs)
   */
/**
   * Get string representation. (wrapper function)
   *
   * This function can get an object of the following form:
   * {
   *    handler: //This can be a callback function of the form
   *             // "function callback(node, options)"or
   *             // a map that maps function names (used in FunctionNodes)
   *             // to callbacks
   *    parenthesis: "keep" //the parenthesis option (This is optional)
   * }
   *
   * @param {Object} [options]
   * @return {string}
   */
/**
   * Internal function to generate the string output.
   * This has to be implemented by every Node
   *
   * @throws {Error}
   */
/**
   * Get LaTeX representation. (wrapper function)
   *
   * This function can get an object of the following form:
   * {
   *    handler: //This can be a callback function of the form
   *             // "function callback(node, options)"or
   *             // a map that maps function names (used in FunctionNodes)
   *             // to callbacks
   *    parenthesis: "keep" //the parenthesis option (This is optional)
   * }
   *
   * @param {Object} [options]
   * @return {string}
   */
/**
   * Internal function to generate the LaTeX output.
   * This has to be implemented by every Node
   *
   * @param {Object} [options]
   * @throws {Error}
   */
/**
   * Get identifier.
   * @return {string}
   */
/**
   * Get the content of the current Node.
   * @return {Node} node
   **/
return a.prototype.eval=function(t){return this.compile().eval(t)},a.prototype.type="Node",a.prototype.isNode=!0,a.prototype.comment="",a.prototype.compile=function(){
// TODO: calling compile(math) is deprecated since version 2.0.0. Remove this warning some day
if(arguments.length>0)throw new Error("Calling compile(math) is deprecated. Call the function as compile() instead.");
// definitions globally available inside the closure of the compiled expressions
var t={math:s.expression.transform,args:{},// can be filled with names of FunctionAssignment arguments
_validateScope:u},e={},n=this._compile(t,e),r=Object.keys(t).map(function(t){return"    var "+t+' = defs["'+t+'"];'}),i=r.join(" ")+'return {  "eval": function (scope) {    if (scope) _validateScope(scope);    scope = scope || {};    return '+n+";  }};";return new Function("defs",i)(t)},a.prototype._compile=function(t,e){
// must be implemented by each of the Node implementations
throw new Error("Cannot compile a Node interface")},a.prototype.forEach=function(t){
// must be implemented by each of the Node implementations
throw new Error("Cannot run forEach on a Node interface")},a.prototype.map=function(t){
// must be implemented by each of the Node implementations
throw new Error("Cannot run map on a Node interface")},a.prototype._ifNode=function(t){if(!t||!t.isNode)throw new TypeError("Callback function must return a Node");return t},a.prototype.traverse=function(t){
// recursively traverse over all childs of a node
function e(t,n){t.forEach(function(t,r,i){n(t,r,i),e(t,n)})}
// execute callback for itself
t(this,null,null),e(this,t)},a.prototype.transform=function(t){
// traverse over all childs
function e(t,n){return t.map(function(t,r,i){return e(n(t,r,i),n)})}return e(t(this,null,null),t)},a.prototype.filter=function(t){var e=[];return this.traverse(function(n,r,i){t(n,r,i)&&e.push(n)}),e},a.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},a.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},a.prototype.clone=function(){
// must be implemented by each of the Node implementations
throw new Error("Cannot clone a Node interface")},a.prototype.cloneDeep=function(){return this.map(function(t){return t.cloneDeep()})},a.prototype.equals=function(t){return!!t&&o(this,t)},a.prototype.toString=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toString(t)},a.prototype._toString=function(){
//must be implemented by each of the Node implementations
throw new Error("_toString not implemented for "+this.type)},a.prototype.toTex=function(t){var e;if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toTex(t)},a.prototype._toTex=function(t){
//must be implemented by each of the Node implementations
throw new Error("_toTex not implemented for "+this.type)},a.prototype.getIdentifier=function(){return this.type},a.prototype.getContent=function(){return this},a}var i=n(160),o=(n(9).extend,n(9).deepEqual);e.name="Node",e.path="expression.node",e.math=!0,// request access to the math namespace as 5th argument of the factory function
e.factory=r},/* 27 */
/***/
function(t,e,n){"use strict";/* WEBPACK VAR INJECTION */
(function(t){if(/**
 * window: browser in DOM main thread
 * self: browser in WebWorker
 * global: Node.js/other
 */
e.root="object"==typeof window&&window.window===window&&window||"object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t,!e.root)throw new Error("RxJS could not find any global context (window, self, global)")}).call(e,n(108))},/* 28 */
/***/
function(t,e,n){"use strict";function r(){try{return o.apply(this,arguments)}catch(t){return s.errorObject.e=t,s.errorObject}}function i(t){return o=t,r}var o,s=n(24);e.tryCatch=i},/* 29 */
,/* 30 */
,/* 31 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){var o=t.DenseMatrix;return function(t,e,n,s){
// dense matrix arrays
var a=t._data,u=t._size,c=t._datatype,l=e._values,f=e._index,p=e._ptr,h=e._size,d=e._datatype;
// validate dimensions
if(u.length!==h.length)throw new i(u.length,h.length);
// check rows & columns
if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");
// sparse matrix cannot be a Pattern matrix
if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");
// rows & columns
var m,v=u[0],y=u[1],g=0,b=n;
// process data types
"string"==typeof c&&c===d&&(
// datatype
m=c,
// convert 0 to the same datatype
g=r.convert(0,m),
// callback
b=r.find(n,[m,m]));
// initialize dense matrix
for(var w=[],_=0;_<v;_++)
// initialize row
w[_]=[];
// loop columns in b
for(var x=[],E=[],C=0;C<y;C++){
// values in column j
for(var S=C+1,N=p[C],M=p[C+1],O=N;O<M;O++){
// row
var T=f[O];
// update workspace
x[T]=s?b(l[O],a[T][C]):b(a[T][C],l[O]),E[T]=S}
// process workspace
for(var A=0;A<v;A++)
// check we have a calculated value for current row
E[A]===S?
// use calculated value
w[A][C]=x[A]:
// calculate value
w[A][C]=s?b(g,a[A][C]):b(a[A][C],g)}
// return dense matrix
return new o({data:w,size:[v,y],datatype:m})}}var i=n(18);e.name="algorithm03",e.factory=r},/* 32 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(19)),s=t.SparseMatrix;return function(t,e,n,r){
// sparse matrix arrays
var a=t._values,u=t._index,c=t._ptr,l=t._size,f=t._datatype;
// sparse matrix cannot be a Pattern matrix
if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");
// rows & columns
var p,h=l[0],d=l[1],m=o,v=0,y=n;
// process data types
"string"==typeof f&&(
// datatype
p=f,
// find signature that matches (dt, dt)
m=i.find(o,[p,p]),
// convert 0 to the same datatype
v=i.convert(0,p),
// convert b to the same datatype
e=i.convert(e,p),
// callback
y=i.find(n,[p,p]));
// loop columns
for(var g=[],b=[],w=[],_=new s({values:g,index:b,ptr:w,size:[h,d],datatype:p}),x=0;x<d;x++){
// initialize ptr
w[x]=b.length;
// values in j
for(var E=c[x],C=c[x+1],S=E;S<C;S++){
// row
var N=u[S],M=r?y(e,a[S]):y(a[S],e);
// check value is zero
m(M,v)||(
// push index & value
b.push(N),g.push(M))}}
// return sparse matrix
// update ptr
return w[d]=b.length,_}}e.name="algorithm11",e.factory=r},/* 33 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){var i=t.DenseMatrix;return function(t,e,n,o){
// sparse matrix arrays
var s=t._values,a=t._index,u=t._ptr,c=t._size,l=t._datatype;
// sparse matrix cannot be a Pattern matrix
if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");
// rows & columns
var f,p=c[0],h=c[1],d=n;
// process data types
"string"==typeof l&&(
// datatype
f=l,
// convert b to the same datatype
e=r.convert(e,f),
// callback
d=r.find(n,[f,f]));
// loop columns
for(var m=[],v=new i({data:m,size:[p,h],datatype:f}),y=[],g=[],b=0;b<h;b++){
// values in j
for(var w=b+1,_=u[b],x=u[b+1],E=_;E<x;E++){
// row
var C=a[E];
// update workspace
y[C]=s[E],g[C]=w}
// loop rows
for(var S=0;S<p;S++)
// initialize C on first column
0===b&&(
// create row array
m[S]=[]),
// check sparse matrix has a value @ i,j
g[S]===w?
// invoke callback, update C
m[S][b]=o?d(e,y[S]):d(y[S],e):
// dense matrix value @ i, j
m[S][b]=o?d(e,0):d(0,e)}
// return sparse matrix
return v}}e.name="algorithm12",e.factory=r},/* 34 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){var s=r(n(2)),a=r(n(40)),u=n(6),c=r(n(62)),l=r(n(172)),f=r(n(68)),p=r(n(12)),h=r(n(10)),d=o("add",i({
// we extend the signatures of addScalar with signatures dealing with matrices
"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse + sparse
n=l(t,e,a);break;default:
// sparse + dense
n=c(e,t,a,!0)}break;default:switch(e.storage()){case"sparse":
// dense + sparse
n=c(t,e,a,!1);break;default:
// dense + dense
n=p(t,e,a)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return d(s(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return d(t,s(e))},"Matrix, any":function(t,e){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=f(t,e,a,!1);break;default:n=h(t,e,a,!1)}return n},"any, Matrix":function(t,e){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=f(e,t,a,!0);break;default:n=h(e,t,a,!0)}return n},"Array, any":function(t,e){
// use matrix implementation
return h(s(t),e,a,!1).valueOf()},"any, Array":function(t,e){
// use matrix implementation
return h(s(e),t,a,!0).valueOf()},"any, any":a,"any, any, ...any":function(t,e,n){for(var r=d(t,e),i=0;i<n.length;i++)r=d(r,n[i]);return r}},a.signatures));return d.toTex={2:"\\left(${args[0]}"+u.operators.add+"${args[1]}\\right)"},d}var i=n(9).extend;e.name="add",e.factory=r},/* 35 */
/***/
function(t,e,n){"use strict";var r=n(104),i=n(105);e.async=new i.AsyncScheduler(r.AsyncAction)},/* 36 */
,/* 37 */
,/* 38 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(47)),s=i("divide",{"number, number":function(t,e){return t/e},"Complex, Complex":function(t,e){return t.div(e)},"BigNumber, BigNumber":function(t,e){return t.div(e)},"Fraction, Fraction":function(t,e){return t.div(e)},"Unit, number | Fraction | BigNumber":function(t,e){var n=t.clone();
// TODO: move the divide function to Unit.js, it uses internals of Unit
return n.value=s(null===n.value?n._normalize(1):n.value,e),n},"number | Fraction | BigNumber, Unit":function(t,e){var n=e.pow(-1);
// TODO: move the divide function to Unit.js, it uses internals of Unit
return n.value=o(null===n.value?n._normalize(1):n.value,t),n},"Unit, Unit":function(t,e){return t.divide(e)}});return s}e.factory=r},/* 39 */
,/* 40 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Add two scalar values, `x + y`.
   * This function is meant for internal use: it is used by the public function
   * `add`
   *
   * This function does not support collections (Array or Matrix), and does
   * not validate the number of of inputs.
   *
   * @param  {number | BigNumber | Fraction | Complex | Unit} x   First value to add
   * @param  {number | BigNumber | Fraction | Complex} y          Second value to add
   * @return {number | BigNumber | Fraction | Complex | Unit}                      Sum of `x` and `y`
   * @private
   */
var i=r("add",{"number, number":function(t,e){return t+e},"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,e){if(null==t.value)throw new Error("Parameter x contains a unit with undefined value");if(null==e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var n=t.clone();return n.value=i(n.value,e.value),n.fixPrefix=!1,n}});return i}e.factory=r},/* 41 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){var s=n(6),a=r(n(2)),u=r(n(40)),c=r(n(81)),l=r(n(62)),f=r(n(31)),p=r(n(128)),h=r(n(68)),d=r(n(12)),m=r(n(10)),v=o("subtract",{"number, number":function(t,e){return t-e},"Complex, Complex":function(t,e){return t.sub(e)},"BigNumber, BigNumber":function(t,e){return t.minus(e)},"Fraction, Fraction":function(t,e){return t.sub(e)},"Unit, Unit":function(t,e){if(null==t.value)throw new Error("Parameter x contains a unit with undefined value");if(null==e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var n=t.clone();return n.value=v(n.value,e.value),n.fixPrefix=!1,n},"Matrix, Matrix":function(t,e){
// matrix sizes
var n=t.size(),r=e.size();
// check dimensions
if(n.length!==r.length)throw new i(n.length,r.length);
// result
var o;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse - sparse
o=p(t,e,v);break;default:
// sparse - dense
o=f(e,t,v,!0)}break;default:switch(e.storage()){case"sparse":
// dense - sparse
o=l(t,e,v,!1);break;default:
// dense - dense
o=d(t,e,v)}}return o},"Array, Array":function(t,e){
// use matrix implementation
return v(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return v(a(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return v(t,a(e))},"Matrix, any":function(t,e){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":
// algorithm 7 is faster than 9 since it calls f() for nonzero items only!
n=h(t,c(e),u);break;default:n=m(t,e,v)}return n},"any, Matrix":function(t,e){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=h(e,t,v,!0);break;default:n=m(e,t,v,!0)}return n},"Array, any":function(t,e){
// use matrix implementation
return m(a(t),e,v,!1).valueOf()},"any, Array":function(t,e){
// use matrix implementation
return m(a(e),t,v,!0).valueOf()}});return v.toTex={2:"\\left(${args[0]}"+s.operators.subtract+"${args[1]}\\right)"},v}var i=n(18);e.name="subtract",e.factory=r},/* 42 */
/***/
function(t,e,n){"use strict";/**
 * Recursively format an n-dimensional matrix
 * Example output: "[[1, 2], [3, 4]]"
 * @param {Array} array
 * @param {Object | number | Function} [options]  Formatting options. See
 *                                                lib/utils/number:format for a
 *                                                description of the available
 *                                                options.
 * @returns {string} str
 */
function r(t,n){if(Array.isArray(t)){for(var i="[",o=t.length,s=0;s<o;s++)0!=s&&(i+=", "),i+=r(t[s],n);return i+="]"}return e.format(t,n)}var i=n(5).format,o=n(841).format;/**
 * Test whether value is a string
 * @param {*} value
 * @return {boolean} isString
 */
e.isString=function(t){return"string"==typeof t},/**
 * Check if a text ends with a certain string.
 * @param {string} text
 * @param {string} search
 */
e.endsWith=function(t,e){var n=t.length-e.length,r=t.length;return t.substring(n,r)===e},/**
 * Format a value of any type into a string.
 *
 * Usage:
 *     math.format(value)
 *     math.format(value, precision)
 *
 * When value is a function:
 *
 * - When the function has a property `syntax`, it returns this
 *   syntax description.
 * - In other cases, a string `'function'` is returned.
 *
 * When `value` is an Object:
 *
 * - When the object contains a property `format` being a function, this
 *   function is invoked as `value.format(options)` and the result is returned.
 * - When the object has its own `toString` method, this method is invoked
 *   and the result is returned.
 * - In other cases the function will loop over all object properties and
 *   return JSON object notation like '{"a": 2, "b": 3}'.
 *
 * Example usage:
 *     math.format(2/7);                // '0.2857142857142857'
 *     math.format(math.pi, 3);         // '3.14'
 *     math.format(new Complex(2, 3));  // '2 + 3i'
 *     math.format('hello');            // '"hello"'
 *
 * @param {*} value             Value to be stringified
 * @param {Object | number | Function} [options]  Formatting options. See
 *                                                lib/utils/number:format for a
 *                                                description of the available
 *                                                options.
 * @return {string} str
 */
e.format=function(t,n){if("number"==typeof t)return i(t,n);if(t&&!0===t.isBigNumber)return o(t,n);if(t&&!0===t.isFraction)return n&&"decimal"===n.fraction?t.toString():t.s*t.n+"/"+t.d;if(Array.isArray(t))return r(t,n);if(e.isString(t))return'"'+t+'"';if("function"==typeof t)return t.syntax?String(t.syntax):"function";if(t&&"object"==typeof t){if("function"==typeof t.format)return t.format(n);if(t&&t.toString()!=={}.toString())
// this object has a non-native toString method, use that one
return t.toString();var s=[];for(var a in t)t.hasOwnProperty(a)&&s.push('"'+a+'": '+e.format(t[a],n));return"{"+s.join(", ")+"}"}return String(t)}},/* 43 */
,/* 44 */
,/* 45 */
,/* 46 */
,/* 47 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Multiply two scalar values, `x * y`.
   * This function is meant for internal use: it is used by the public function
   * `multiply`
   *
   * This function does not support collections (Array or Matrix), and does
   * not validate the number of of inputs.
   *
   * @param  {number | BigNumber | Fraction | Complex | Unit} x   First value to multiply
   * @param  {number | BigNumber | Fraction | Complex} y          Second value to multiply
   * @return {number | BigNumber | Fraction | Complex | Unit}                      Multiplication of `x` and `y`
   * @private
   */
var i=r("multiplyScalar",{"number, number":function(t,e){return t*e},"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":function(t,e){var n=e.clone();return n.value=null===n.value?n._normalize(t):i(n.value,t),n},"Unit, number | Fraction | BigNumber | Complex":function(t,e){var n=t.clone();return n.value=null===n.value?n._normalize(e):i(n.value,e),n},"Unit, Unit":function(t,e){return t.multiply(e)}});return i}e.factory=r},/* 48 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){var s=r(n(19)),a=t.SparseMatrix;return function(t,e,n,r){
// dense matrix arrays
var u=t._data,c=t._size,l=t._datatype,f=e._values,p=e._index,h=e._ptr,d=e._size,m=e._datatype;
// validate dimensions
if(c.length!==d.length)throw new i(c.length,d.length);
// check rows & columns
if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");
// sparse matrix cannot be a Pattern matrix
if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");
// rows & columns
var v,y=c[0],g=c[1],b=s,w=0,_=n;
// process data types
"string"==typeof l&&l===m&&(
// datatype
v=l,
// find signature that matches (dt, dt)
b=o.find(s,[v,v]),
// convert 0 to the same datatype
w=o.convert(0,v),
// callback
_=o.find(n,[v,v]));
// loop columns in b
for(var x=[],E=[],C=[],S=0;S<g;S++){
// update cptr
C[S]=E.length;
// values in column j
for(var N=h[S],M=h[S+1],O=N;O<M;O++){
// row
var T=p[O],A=r?_(f[O],u[T][S]):_(u[T][S],f[O]);
// check for nonzero
b(A,w)||(
// push i & v
E.push(T),x.push(A))}}
// return sparse matrix
// update cptr
return C[g]=E.length,new a({values:x,index:E,ptr:C,size:[y,g],datatype:v})}}var i=n(18);e.name="algorithm02",e.factory=r},/* 49 */
,/* 50 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){var o=t.DenseMatrix,s=function(t,e,n){
// sparse matrix arrays
var s=t._size,u=t._datatype,c=e._size,l=e._datatype;
// validate dimensions
if(s.length!==c.length)throw new i(s.length,c.length);
// check rows & columns
if(s[0]!==c[0]||s[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+c+")");
// rows & columns
var f,p=s[0],h=s[1],d=0,m=n;
// process data types
"string"==typeof u&&u===l&&(
// datatype
f=u,
// convert 0 to the same datatype
d=r.convert(0,f),
// callback
m=r.find(n,[f,f]));
// vars
var v,y,g=[];
// initialize c
for(v=0;v<p;v++)g[v]=[];
// matrix
var b=new o({data:g,size:[p,h],datatype:f}),w=[],_=[],x=[],E=[];
// loop columns
for(y=0;y<h;y++){
// columns mark
var C=y+1;
// loop rows
for(
// scatter the values of A(:,j) into workspace
a(t,y,x,w,C),
// scatter the values of B(:,j) into workspace
a(e,y,E,_,C),v=0;v<p;v++){
// matrix values @ i,j
var S=x[v]===C?w[v]:d,N=E[v]===C?_[v]:d;
// invoke callback
g[v][y]=m(S,N)}}
// return sparse matrix
return b},a=function(t,e,n,r,i){
// loop values in column j
for(var o=t._values,s=t._index,a=t._ptr,u=a[e],c=a[e+1];u<c;u++){
// row
var l=s[u];
// update workspace
n[l]=i,r[l]=o[u]}};return s}var i=n(18);e.name="algorithm07",e.factory=r},/* 51 */
/***/
function(t,e,n){"use strict";e.array=n(11),e.boolean=n(844),e.function=n(71),e.number=n(5),e.object=n(9),e.string=n(42),e.types=n(133),e.emitter=n(285)},/* 52 */
/***/
function(t,e,n){"use strict";e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},/* 53 */
,/* 54 */
,/* 55 */
,/* 56 */
,/* 57 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(0),o=n(179),s=n(63),a=n(64),u=function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}/**
     * Creates an Observable that emits some values you specify as arguments,
     * immediately one after the other, and then emits a complete notification.
     *
     * <span class="informal">Emits the arguments you provide, then completes.
     * </span>
     *
     * <img src="./img/of.png" width="100%">
     *
     * This static operator is useful for creating a simple Observable that only
     * emits the arguments given, and the complete notification thereafter. It can
     * be used for composing with other Observables, such as with {@link concat}.
     * By default, it uses a `null` Scheduler, which means the `next`
     * notifications are sent synchronously, although with a different Scheduler
     * it is possible to determine when those notifications will be delivered.
     *
     * @example <caption>Emit 10, 20, 30, then 'a', 'b', 'c', then start ticking every second.</caption>
     * var numbers = Rx.Observable.of(10, 20, 30);
     * var letters = Rx.Observable.of('a', 'b', 'c');
     * var interval = Rx.Observable.interval(1000);
     * var result = numbers.concat(letters).concat(interval);
     * result.subscribe(x => console.log(x));
     *
     * @see {@link create}
     * @see {@link empty}
     * @see {@link never}
     * @see {@link throw}
     *
     * @param {...T} values Arguments that represent `next` values to be emitted.
     * @param {Scheduler} [scheduler] A {@link Scheduler} to use for scheduling
     * the emissions of the `next` notifications.
     * @return {Observable<T>} An Observable that emits each given input value.
     * @static true
     * @name of
     * @owner Observable
     */
return r(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var r=t[t.length-1];a.isScheduler(r)?t.pop():r=null;var i=t.length;return i>1?new e(t,r):1===i?new o.ScalarObservable(t[0],r):new s.EmptyObservable(r)},e.dispatch=function(t){var e=t.array,n=t.index,r=t.count,i=t.subscriber;if(n>=r)return void i.complete();i.next(e[n]),i.closed||(t.index=n+1,this.schedule(t))},e.prototype._subscribe=function(t){var n=this.array,r=n.length,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{array:n,index:0,count:r,subscriber:t});for(var o=0;o<r&&!t.closed;o++)t.next(n[o]);t.complete()},e}(i.Observable);e.ArrayObservable=u},/* 58 */
,/* 59 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s,a){/**
   * @constructor SymbolNode
   * @extends {Node}
   * A symbol node can hold and resolve a symbol
   * @param {string} name
   * @extends {Node}
   */
function u(t){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");
// validate input
if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');this.name=t}/**
   * Throws an error 'Undefined symbol {name}'
   * @param {string} name
   */
function c(t){throw new Error("Undefined symbol "+t)}var l=r(n(26)),f=r(n(283));/**
   * Compile the node to javascript code
   * @param {Object} defs     Object which can be used to define functions
   *                          or constants globally available for the compiled
   *                          expression
   * @param {Object} args     Object with local function arguments, the key is
   *                          the name of the argument, and the value is `true`.
   *                          The object may not be mutated, but must be
   *                          extended instead.
   * @return {string} js
   * @private
   */
/**
   * Execute a callback for each of the child nodes of this node
   * @param {function(child: Node, path: string, parent: Node)} callback
   */
/**
   * Create a new SymbolNode having it's childs be the results of calling
   * the provided callback function for each of the childs of the original node.
   * @param {function(child: Node, path: string, parent: Node) : Node} callback
   * @returns {SymbolNode} Returns a clone of the node
   */
/**
   * Create a clone of this node, a shallow copy
   * @return {SymbolNode}
   */
/**
   * Get string representation
   * @param {Object} options
   * @return {string} str
   * @override
   */
/**
   * Get LaTeX representation
   * @param {Object} options
   * @return {string} str
   * @override
   */
return u.prototype=new l,u.prototype.type="SymbolNode",u.prototype.isSymbolNode=!0,u.prototype._compile=function(t,e){
// add a function to the definitions
return t.undef=c,t.Unit=f,t.getSafeProperty=o,e[this.name]?this.name:this.name in t.math?'("'+this.name+'" in scope ? getSafeProperty(scope, "'+this.name+'") : getSafeProperty(math, "'+this.name+'"))':'("'+this.name+'" in scope ? getSafeProperty(scope, "'+this.name+'") : '+(f.isValuelessUnit(this.name)?'new Unit(null, "'+this.name+'")':'undef("'+this.name+'")')+")"},u.prototype.forEach=function(t){},u.prototype.map=function(t){return this.clone()},u.prototype.clone=function(){return new u(this.name)},u.prototype._toString=function(t){return this.name},u.prototype._toTex=function(t){var e=!1;void 0===a[this.name]&&f.isValuelessUnit(this.name)&&(e=!0);var n=i.toSymbol(this.name,e);return"\\"===n[0]?n:" "+n},u}var i=n(6),o=n(132).getSafeProperty;e.name="SymbolNode",e.path="expression.node",e.math=!0,// request access to the math namespace as 5th argument of the factory function
e.factory=r},/* 60 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the absolute value of a number. For matrices, the function is
   * evaluated element wise.
   *
   * Syntax:
   *
   *    math.abs(x)
   *
   * Examples:
   *
   *    math.abs(3.5);                // returns number 3.5
   *    math.abs(-4.2);               // returns number 4.2
   *
   *    math.abs([3, -5, -1, 0, 2]);  // returns Array [3, 5, 1, 0, 2]
   *
   * See also:
   *
   *    sign
   *
   * @param  {number | BigNumber | Fraction | Complex | Array | Matrix | Unit} x
   *            A number or matrix for which to get the absolute value
   * @return {number | BigNumber | Fraction | Complex | Array | Matrix | Unit}
   *            Absolute value of `x`
   */
var o=r("abs",{number:Math.abs,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},Fraction:function(t){return t.abs()},"Array | Matrix":function(t){
// deep map collection, skip zeros since abs(0) = 0
return i(t,o,!0)},Unit:function(t){return t.abs()}});return o.toTex={1:"\\left|${args[0]}\\right|"},o}var i=n(3);e.name="abs",e.factory=r},/* 61 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){var a=r(n(2)),u=r(n(31)),c=r(n(50)),l=r(n(33)),f=r(n(12)),p=r(n(10)),h=n(6),d=s("larger",{"boolean, boolean":function(t,e){return t>e},"number, number":function(t,n){return t>n&&!i(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return t.gt(n)&&!o(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return 1===t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"string, string":function(t,e){return t>e},"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse + sparse
n=c(t,e,d);break;default:
// sparse + dense
n=u(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":
// dense + sparse
n=u(t,e,d,!1);break;default:
// dense + dense
n=f(t,e,d)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return d(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return d(a(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return d(t,a(e))},"Matrix, any":function(t,e){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=l(t,e,d,!1);break;default:n=p(t,e,d,!1)}return n},"any, Matrix":function(t,e){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=l(e,t,d,!0);break;default:n=p(e,t,d,!0)}return n},"Array, any":function(t,e){
// use matrix implementation
return p(a(t),e,d,!1).valueOf()},"any, Array":function(t,e){
// use matrix implementation
return p(a(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+h.operators.larger+"${args[1]}\\right)"},d}var i=n(5).nearlyEqual,o=n(69);e.name="larger",e.factory=r},/* 62 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){var o=t.DenseMatrix;return function(t,e,n,s){
// dense matrix arrays
var a=t._data,u=t._size,c=t._datatype,l=e._values,f=e._index,p=e._ptr,h=e._size,d=e._datatype;
// validate dimensions
if(u.length!==h.length)throw new i(u.length,h.length);
// check rows & columns
if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");
// sparse matrix cannot be a Pattern matrix
if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");
// rows & columns
var m,v,y=u[0],g=u[1],b="string"==typeof c&&c===d?c:void 0,w=b?r.find(n,[b,b]):n,_=[];
// initialize c
for(m=0;m<y;m++)_[m]=[];
// workspace
var x=[],E=[];
// loop columns in b
for(v=0;v<g;v++){
// values in column j
for(var C=v+1,S=p[v],N=p[v+1],M=S;M<N;M++)
// row
m=f[M],
// update workspace
x[m]=s?w(l[M],a[m][v]):w(a[m][v],l[M]),
// mark i as updated
E[m]=C;
// loop rows
for(m=0;m<y;m++)
// check row is in workspace
E[m]===C?
// c[i][j] was already calculated
_[m][v]=x[m]:
// item does not exist in S
_[m][v]=a[m][v]}
// return dense matrix
return new o({data:_,size:[y,g],datatype:b})}}var i=n(18);e.name="algorithm01",e.factory=r},/* 63 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(0),o=function(t){function e(e){t.call(this),this.scheduler=e}/**
     * Creates an Observable that emits no items to the Observer and immediately
     * emits a complete notification.
     *
     * <span class="informal">Just emits 'complete', and nothing else.
     * </span>
     *
     * <img src="./img/empty.png" width="100%">
     *
     * This static operator is useful for creating a simple Observable that only
     * emits the complete notification. It can be used for composing with other
     * Observables, such as in a {@link mergeMap}.
     *
     * @example <caption>Emit the number 7, then complete.</caption>
     * var result = Rx.Observable.empty().startWith(7);
     * result.subscribe(x => console.log(x));
     *
     * @example <caption>Map and flatten only odd numbers to the sequence 'a', 'b', 'c'</caption>
     * var interval = Rx.Observable.interval(1000);
     * var result = interval.mergeMap(x =>
     *   x % 2 === 1 ? Rx.Observable.of('a', 'b', 'c') : Rx.Observable.empty()
     * );
     * result.subscribe(x => console.log(x));
     *
     * // Results in the following to the console:
     * // x is equal to the count on the interval eg(0,1,2,3,...)
     * // x will occur every 1000ms
     * // if x % 2 is equal to 1 print abc
     * // if x % 2 is not equal to 1 nothing will be output
     *
     * @see {@link create}
     * @see {@link never}
     * @see {@link of}
     * @see {@link throw}
     *
     * @param {Scheduler} [scheduler] A {@link Scheduler} to use for scheduling
     * the emission of the complete notification.
     * @return {Observable} An "empty" Observable: emits only the complete
     * notification.
     * @static true
     * @name empty
     * @owner Observable
     */
return r(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(i.Observable);e.EmptyObservable=o},/* 64 */
/***/
function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}e.isScheduler=r},/* 65 */
,/* 66 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){/**
   * Parse an expression. Returns a node tree, which can be evaluated by
   * invoking node.eval();
   *
   * Syntax:
   *
   *     parse(expr)
   *     parse(expr, options)
   *     parse([expr1, expr2, expr3, ...])
   *     parse([expr1, expr2, expr3, ...], options)
   *
   * Example:
   *
   *     var node = parse('sqrt(3^2 + 4^2)');
   *     node.compile(math).eval(); // 5
   *
   *     var scope = {a:3, b:4}
   *     var node = parse('a * b'); // 12
   *     var code = node.compile(math);
   *     code.eval(scope); // 12
   *     scope.a = 5;
   *     code.eval(scope); // 20
   *
   *     var nodes = math.parse(['a = 3', 'b = 4', 'a * b']);
   *     nodes[2].compile(math).eval(); // 12
   *
   * @param {string | string[] | Matrix} expr
   * @param {{nodes: Object<string, Node>}} [options]  Available options:
   *                                                   - `nodes` a set of custom nodes
   * @return {Node | Node[]} node
   * @throws {Error}
   */
function a(e,n){if(1!=arguments.length&&2!=arguments.length)throw new i("parse",arguments.length,1,2);if(
// pass extra nodes
ht=n&&n.nodes?n.nodes:{},"string"==typeof e)
// parse a single expression
return dt=e,y();if(Array.isArray(e)||e instanceof t.Matrix)
// parse an array or matrix with expressions
return o(e,function(t){if("string"!=typeof t)throw new TypeError("String expected");return dt=t,y()});
// oops
throw new TypeError("String or matrix expected")}// when a conditional is being parsed, the level of the conditional is stored here
/**
   * Get the first character from the expression.
   * The character is stored into the char c. If the end of the expression is
   * reached, the function puts an empty string in c.
   * @private
   */
function u(){vt=0,yt=dt.charAt(0),wt=0,_t=null}/**
   * Get the next character from the expression.
   * The character is stored into the char c. If the end of the expression is
   * reached, the function puts an empty string in c.
   * @private
   */
function c(){vt++,yt=dt.charAt(vt)}/**
   * Preview the previous character from the expression.
   * @return {string} cNext
   * @private
   */
function l(){return dt.charAt(vt-1)}/**
   * Preview the next character from the expression.
   * @return {string} cNext
   * @private
   */
function f(){return dt.charAt(vt+1)}/**
   * Preview the second next character from the expression.
   * @return {string} cNext
   * @private
   */
function p(){return dt.charAt(vt+2)}/**
   * Get next token in the current string expr.
   * The token and token type are available as token and token_type
   * @private
   */
function h(){
// skip over whitespaces
// space, tab, and newline when inside parameters
for(bt=lt.NULL,gt="",mt="";a.isWhitespace(yt,wt);)c();
// skip comment
if("#"==yt)for(;"\n"!=yt&&""!=yt;)mt+=yt,c();
// check for end of expression
if(""==yt)
// token is still empty
return void(bt=lt.DELIMITER);
// check for new line character
if("\n"==yt&&!wt)return bt=lt.DELIMITER,gt=yt,void c();
// check for delimiters consisting of 3 characters
var t=yt+f(),e=t+p();if(3==e.length&&ft[e])return bt=lt.DELIMITER,gt=e,c(),c(),void c();
// check for delimiters consisting of 2 characters
if(2==t.length&&ft[t])return bt=lt.DELIMITER,gt=t,c(),void c();
// check for delimiters consisting of 1 character
if(ft[yt])return bt=lt.DELIMITER,gt=yt,void c();
// check for a number
if(!a.isDigitDot(yt)){
// check for variables, functions, named operators
if(a.isAlpha(yt,l(),f())){for(;a.isAlpha(yt,l(),f())||a.isDigit(yt);)gt+=yt,c();return void(bt=pt.hasOwnProperty(gt)?lt.DELIMITER:lt.SYMBOL)}for(
// something unknown is found, wrong characters -> a syntax error
bt=lt.UNKNOWN;""!=yt;)gt+=yt,c();throw Y('Syntax error in part "'+gt+'"')}
// get number, can have a single dot
if(bt=lt.NUMBER,"."==yt)gt+=yt,c(),a.isDigit(yt)||(
// this is no number, it is just a dot (can be dot notation)
bt=lt.DELIMITER);else{for(;a.isDigit(yt);)gt+=yt,c();a.isDecimalMark(yt,f())&&(gt+=yt,c())}for(;a.isDigit(yt);)gt+=yt,c();if(
// check for exponential notation like "2.3e-4", "1.23e50" or "2e+4"
t=f(),"E"==yt||"e"==yt)if(a.isDigit(t)||"-"==t||"+"==t){
// Scientific notation MUST be followed by an exponent
if(gt+=yt,c(),"+"!=yt&&"-"!=yt||(gt+=yt,c()),!a.isDigit(yt))throw Y('Digit expected, got "'+yt+'"');for(;a.isDigit(yt);)gt+=yt,c();if(a.isDecimalMark(yt,f()))throw Y('Digit expected, got "'+yt+'"')}else if("."==t)throw c(),Y('Digit expected, got "'+yt+'"')}/**
   * Get next token and skip newline tokens
   */
function d(){do{h()}while("\n"==gt)}/**
   * Open parameters.
   * New line characters will be ignored until closeParams() is called
   */
function m(){wt++}/**
   * Close parameters.
   * New line characters will no longer be ignored
   */
function v(){wt--}/**
   * Start of the parse levels below, in order of precedence
   * @return {Node} node
   * @private
   */
function y(){
// get the first character in expression
u(),h();var t=g();
// check for garbage at the end of the expression
// an expression ends with a empty character '' and token_type DELIMITER
if(""!=gt)throw bt==lt.DELIMITER?X("Unexpected operator "+gt):Y('Unexpected part "'+gt+'"');return t}/**
   * Parse a block with expressions. Expressions can be separated by a newline
   * character '\n', or by a semicolon ';'. In case of a semicolon, no output
   * of the preceding line is returned.
   * @return {Node} node
   * @private
   */
function g(){var t,e,n=[];
// TODO: simplify this loop
for(""!=gt&&"\n"!=gt&&";"!=gt&&(t=b(),t.comment=mt);"\n"==gt||";"==gt;)0==n.length&&t&&(e=";"!=gt,n.push({node:t,visible:e})),h(),"\n"!=gt&&";"!=gt&&""!=gt&&(t=b(),t.comment=mt,e=";"!=gt,n.push({node:t,visible:e}));return n.length>0?new J(n):(t||(t=new et("undefined","undefined"),t.comment=mt),t)}/**
   * Assignment of a function or variable,
   * - can be a variable like 'a=2.3'
   * - or a updating an existing variable like 'matrix(2,3:5)=[6,7,8]'
   * - defining a function like 'f(x) = x^2'
   * @return {Node} node
   * @private
   */
function b(){var t,e,n,r,i=w();if("="==gt){if(i&&i.isSymbolNode)
// parse a variable assignment like 'a = 2/3'
return t=i.name,d(),n=b(),new Q(new ct(t),n);if(i&&i.isAccessorNode)
// parse a matrix subset assignment like 'A[1,2] = 4'
return d(),n=b(),new Q(i.object,i.index,n);if(i&&i.isFunctionNode&&(
// parse function assignment like 'f(x) = x^2'
r=!0,e=[],t=i.name,i.args.forEach(function(t,n){t&&t.isSymbolNode?e[n]=t.name:r=!1}),r))return d(),n=b(),new nt(t,e,n);throw Y("Invalid left hand side of assignment operator =")}return i}/**
   * conditional operation
   *
   *     condition ? truePart : falsePart
   *
   * Note: conditional operator is right-associative
   *
   * @return {Node} node
   * @private
   */
function w(){for(var t=_();"?"==gt;){
// set a conditional level, the range operator will be ignored as long
// as conditional_level == nesting_level.
var e=_t;_t=wt,d();var n=t,r=b();if(":"!=gt)throw Y("False part of conditional expression expected");_t=null,d();var i=b();// Note: check for conditional operator again, right associativity
t=new tt(n,r,i),
// restore the previous conditional level
_t=e}return t}/**
   * logical or, 'x or y'
   * @return {Node} node
   * @private
   */
function _(){for(var t=x();"or"==gt;)d(),t=new ot("or","or",[t,x()]);return t}/**
   * logical exclusive or, 'x xor y'
   * @return {Node} node
   * @private
   */
function x(){for(var t=E();"xor"==gt;)d(),t=new ot("xor","xor",[t,E()]);return t}/**
   * logical and, 'x and y'
   * @return {Node} node
   * @private
   */
function E(){for(var t=C();"and"==gt;)d(),t=new ot("and","and",[t,C()]);return t}/**
   * bitwise or, 'x | y'
   * @return {Node} node
   * @private
   */
function C(){for(var t=S();"|"==gt;)d(),t=new ot("|","bitOr",[t,S()]);return t}/**
   * bitwise exclusive or (xor), 'x ^| y'
   * @return {Node} node
   * @private
   */
function S(){for(var t=N();"^|"==gt;)d(),t=new ot("^|","bitXor",[t,N()]);return t}/**
   * bitwise and, 'x & y'
   * @return {Node} node
   * @private
   */
function N(){for(var t=M();"&"==gt;)d(),t=new ot("&","bitAnd",[t,M()]);return t}/**
   * relational operators
   * @return {Node} node
   * @private
   */
function M(){var t,e,n,r,i;for(t=O(),e={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};gt in e;)n=gt,r=e[n],d(),i=[t,O()],t=new ot(n,r,i);return t}/**
   * Bitwise left shift, bitwise right arithmetic shift, bitwise right logical shift
   * @return {Node} node
   * @private
   */
function O(){var t,e,n,r,i;for(t=T(),e={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};gt in e;)n=gt,r=e[n],d(),i=[t,T()],t=new ot(n,r,i);return t}/**
   * conversion operators 'to' and 'in'
   * @return {Node} node
   * @private
   */
function T(){var t,e,n,r,i;for(t=A(),e={to:"to",in:"to"};gt in e;)n=gt,r=e[n],d(),"in"===n&&""===gt?
// end of expression -> this is the unit 'in' ('inch')
t=new ot("*","multiply",[t,new ct("in")],!0):(
// operator 'a to b' or 'a in b'
i=[t,A()],t=new ot(n,r,i));return t}/**
   * parse range, "start:end", "start:step:end", ":", "start:", ":end", etc
   * @return {Node} node
   * @private
   */
function A(){var t,e=[];if(
// implicit start=1 (one-based)
t=":"==gt?new et("1","number"):P(),":"==gt&&_t!==wt){
// parse step and end
for(
// we ignore the range operator when a conditional operator is being processed on the same level
e.push(t);":"==gt&&e.length<3;)d(),")"==gt||"]"==gt||","==gt||""==gt?
// implicit end
e.push(new ct("end")):
// explicit end
e.push(P());
// params = [start, step, end]
t=3==e.length?new ut(e[0],e[2],e[1]):new ut(e[0],e[1])}return t}/**
   * add or subtract
   * @return {Node} node
   * @private
   */
function P(){var t,e,n,r,i;for(t=k(),e={"+":"add","-":"subtract"};gt in e;)n=gt,r=e[n],d(),i=[t,k()],t=new ot(n,r,i);return t}/**
   * multiply, divide, modulus
   * @return {Node} node
   * @private
   */
function k(){var t,e,n,r,i;for(t=I(),e=t,n={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};;)if(gt in n)
// explicit operators
r=gt,i=n[r],d(),e=I(),t=new ot(r,i,[t,e]);else{if(!(bt==lt.SYMBOL||"in"==gt&&t&&t.isConstantNode)&&(bt!=lt.NUMBER||e.isConstantNode||e.isOperatorNode&&"!"!==e.op)&&"("!=gt)break;
// parse implicit multiplication
//
// symbol:      implicit multiplication like '2a', '(2+3)a', 'a b'
// number:      implicit multiplication like '(2+3)2'
// parenthesis: implicit multiplication like '2(3+4)', '(3+4)(1+2)'
e=I(),t=new ot("*","multiply",[t,e],!0)}return t}/**
   * Unary plus and minus, and logical and bitwise not
   * @return {Node} node
   * @private
   */
function I(){var t,e,n={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"}[gt];return n?(t=gt,d(),e=[I()],new ot(t,n,e)):R()}/**
   * power
   * Note: power operator is right associative
   * @return {Node} node
   * @private
   */
function R(){var t,e,n,r;// Go back to unary, we can have '2^-3'
return t=j(),"^"!=gt&&".^"!=gt||(e=gt,n="^"==e?"pow":"dotPow",d(),r=[t,I()],t=new ot(e,n,r)),t}/**
   * Left hand operators: factorial x!, transpose x'
   * @return {Node} node
   * @private
   */
function j(){var t,e,n,r,i;for(t=D(),e={"!":"factorial","'":"transpose"};gt in e;)n=gt,r=e[n],h(),i=[t],t=new ot(n,r,i),t=F(t);return t}/**
   * Parse a custom node handler. A node handler can be used to process
   * nodes in a custom way, for example for handling a plot.
   *
   * A handler must be passed as second argument of the parse function.
   * - must extend math.expression.node.Node
   * - must contain a function _compile(defs: Object) : string
   * - must contain a function find(filter: Object) : Node[]
   * - must contain a function toString() : string
   * - the constructor is called with a single argument containing all parameters
   *
   * For example:
   *
   *     nodes = {
   *       'plot': PlotHandler
   *     };
   *
   * The constructor of the handler is called as:
   *
   *     node = new PlotHandler(params);
   *
   * The handler will be invoked when evaluating an expression like:
   *
   *     node = math.parse('plot(sin(x), x)', nodes);
   *
   * @return {Node} node
   * @private
   */
function D(){var t,e=[];if(bt==lt.SYMBOL&&ht[gt]){
// parse parameters
if(t=ht[gt],h(),"("==gt){if(e=[],m(),h(),")"!=gt)
// parse a list with parameters
for(e.push(b());","==gt;)h(),e.push(b());if(")"!=gt)throw Y("Parenthesis ) expected");v(),h()}
// create a new node handler
//noinspection JSValidateTypes
return new t(e)}return L()}/**
   * parse symbols: functions, variables, constants, units
   * @return {Node} node
   * @private
   */
function L(){var t,e;
// parse function parameters and matrix index
return bt==lt.SYMBOL||bt==lt.DELIMITER&&gt in pt?(e=gt,h(),t=new ct(e),t=F(t)):U()}/**
   * parse accessors:
   * - function invocation in round brackets (...), for example sqrt(2)
   * - index enclosed in square brackets [...], for example A[2,3]
   * - dot notation for properties, like foo.bar
   * @param {Node} node    Node on which to apply the parameters. If there
   *                       are no parameters in the expression, the node
   *                       itself is returned
   * @param {string[]} [types]  Filter the types of notations
   *                            can be ['(', '[', '.']
   * @return {Node} node
   * @private
   */
function F(t,e){for(var n;!("("!=gt&&"["!=gt&&"."!=gt||e&&-1===e.indexOf(gt));)if(n=[],"("==gt){if(!(t.isSymbolNode||t.isAccessorNode||t.isFunctionNode))
// implicit multiplication like (2+3)(4+5)
// don't parse it here but let it be handled by parseMultiplyDivide
// with correct precedence
return t;if(
// function invocation like fn(2, 3)
m(),h(),")"!=gt)
// parse a list with parameters
for(n.push(b());","==gt;)h(),n.push(b());if(")"!=gt)throw Y("Parenthesis ) expected");v(),h(),t=new at(t,n)}else if("["==gt){if(
// index notation like variable[2, 3]
m(),h(),"]"!=gt)
// parse a list with parameters
for(n.push(b());","==gt;)h(),n.push(b());if("]"!=gt)throw Y("Parenthesis ] expected");v(),h(),t=new Z(t,new rt(n))}else{if(
// dot notation like variable.prop
h(),bt!=lt.SYMBOL)throw Y("Property name expected after dot");n.push(new et(gt)),h();t=new Z(t,new rt(n,!0))}return t}/**
   * parse a string.
   * A string is enclosed by double quotes
   * @return {Node} node
   * @private
   */
function U(){var t,e;
// create constant
// parse index parameters
return'"'==gt?(e=V(),t=new et(e,"string"),t=F(t)):B()}/**
   * Parse a string surrounded by double quotes "..."
   * @return {string}
   */
function V(){for(var t="";""!=yt&&'"'!=yt;)"\\"==yt&&(
// escape character
t+=yt,c()),t+=yt,c();if(h(),'"'!=gt)throw Y('End of string " expected');return h(),t}/**
   * parse the matrix
   * @return {Node} node
   * @private
   */
function B(){var t,e,n,r;if("["==gt){if(
// matrix [...]
m(),h(),"]"!=gt){
// this is a non-empty matrix
var i=z();if(";"==gt){
// the rows of the matrix are separated by dot-comma's
for(
// 2 dimensional array
n=1,e=[i];";"==gt;)h(),e[n]=z(),n++;if("]"!=gt)throw Y("End of matrix ] expected");v(),h(),
// check if the number of columns matches in all rows
r=e[0].items.length;for(var o=1;o<n;o++)if(e[o].items.length!=r)throw X("Column dimensions mismatch ("+e[o].items.length+" != "+r+")");t=new K(e)}else{
// 1 dimensional vector
if("]"!=gt)throw Y("End of matrix ] expected");v(),h(),t=i}}else
// this is an empty matrix "[ ]"
v(),h(),t=new K([]);return F(t)}return q()}/**
   * Parse a single comma-separated row from a matrix, like 'a, b, c'
   * @return {ArrayNode} node
   */
function z(){for(var t=[b()],e=1;","==gt;)h(),
// parse expression
t[e]=b(),e++;return new K(t)}/**
   * parse an object, enclosed in angle brackets{...}, for example {value: 2}
   * @return {Node} node
   * @private
   */
function q(){if("{"==gt){var t,e={};do{if(h(),"}"!=gt){
// parse key
if('"'==gt)t=V();else{if(bt!=lt.SYMBOL)throw Y("Symbol or string expected as object key");t=gt,h()}
// parse key/value separator
if(":"!=gt)throw Y("Colon : expected after object key");h(),
// parse key
e[t]=b()}}while(","==gt);if("}"!=gt)throw Y("Comma , or bracket } expected after object value");h();var n=new it(e);
// parse index parameters
return n=F(n)}return H()}/**
   * parse a number
   * @return {Node} node
   * @private
   */
function H(){var t;
// this is a number
return bt==lt.NUMBER?(t=gt,h(),new et(t,"number")):G()}/**
   * parentheses
   * @return {Node} node
   * @private
   */
function G(){var t;
// check if it is a parenthesized expression
if("("==gt){// start again
if(
// parentheses (...)
m(),h(),t=b(),")"!=gt)throw Y("Parenthesis ) expected");return v(),h(),t=new st(t),t=F(t)}return W()}/**
   * Evaluated when the expression is not yet ended but expected to end
   * @return {Node} res
   * @private
   */
function W(){throw Y(""==gt?"Unexpected end of expression":"Value expected")}/**
   * Shortcut for getting the current row value (one based)
   * Returns the line of the currently handled expression
   * @private
   */
/* TODO: implement keeping track on the row number
  function row () {
    return null;
  }
  */
/**
   * Shortcut for getting the current col value (one based)
   * Returns the column (position) where the last token starts
   * @private
   */
function $(){return vt-gt.length+1}/**
   * Create an error
   * @param {string} message
   * @return {SyntaxError} instantiated error
   * @private
   */
function Y(t){var e=$(),n=new SyntaxError(t+" (char "+e+")");return n.char=e,n}/**
   * Create an error
   * @param {string} message
   * @return {Error} instantiated error
   * @private
   */
function X(t){var e=$(),n=new SyntaxError(t+" (char "+e+")");return n.char=e,n}var Z=r(n(236)),K=r(n(161)),Q=r(n(237)),J=r(n(238)),tt=r(n(239)),et=r(n(96)),nt=r(n(240)),rt=r(n(241)),it=r(n(242)),ot=r(n(120)),st=r(n(121)),at=r(n(97)),ut=r(n(162)),ct=r(n(59)),lt={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},ft={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"'":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},pt={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},ht={},dt="",mt="",vt=0,yt="",gt="",bt=lt.NULL,wt=0,_t=null;/**
   * Checks whether the current character `c` is a valid alpha character:
   *
   * - A latin letter (upper or lower case) Ascii: a-z, A-Z
   * - An underscore                         Ascii: _
   * - A latin letter with accents          Unicode: \u00C0 - \u02AF
   * - A greek letter                       Unicode: \u0370 - \u03FF
   * - A mathematical alphanumeric symbol   Unicode: \u{1D400} - \u{1D7FF} excluding invalid code points
   *
   * The previous and next characters are needed to determine whether
   * this character is part of a unicode surrogate pair.
   *
   * @param {string} c      Current character in the expression
   * @param {string} cPrev  Previous character
   * @param {string} cNext  Next character
   * @return {boolean}
   */
/**
   * Test whether a character is a valid latin, greek, or letter-like character
   * @param {string} c
   * @return {boolean}
   */
/**
   * Test whether two given 16 bit characters form a surrogate pair of a
   * unicode math symbol.
   *
   * http://unicode-table.com/en/
   * http://www.wikiwand.com/en/Mathematical_operators_and_symbols_in_Unicode
   *
   * Note: In ES6 will be unicode aware:
   * http://stackoverflow.com/questions/280712/javascript-unicode-regexes
   * https://mathiasbynens.be/notes/es6-unicode-regex
   *
   * @param {string} high
   * @param {string} low
   * @return {boolean}
   */
/**
   * Check whether given character c is a white space character: space, tab, or enter
   * @param {string} c
   * @param {number} nestingLevel
   * @return {boolean}
   */
/**
   * Test whether the character c is a decimal mark (dot).
   * This is the case when it's not the start of a delimiter '.*', './', or '.^'
   * @param {string} c
   * @param {string} cNext
   * @return {boolean}
   */
/**
   * checks if the given char c is a digit or dot
   * @param {string} c   a string with one character
   * @return {boolean}
   */
/**
   * checks if the given char c is a digit
   * @param {string} c   a string with one character
   * @return {boolean}
   */
return a.isAlpha=function(t,e,n){return a.isValidLatinOrGreek(t)||a.isValidMathSymbol(t,n)||a.isValidMathSymbol(e,t)},a.isValidLatinOrGreek=function(t){return/^[a-zA-Z_\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(t)},a.isValidMathSymbol=function(t,e){return/^[\uD835]$/.test(t)&&/^[\uDC00-\uDFFF]$/.test(e)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(e)},a.isWhitespace=function(t,e){
// TODO: also take '\r' carriage return as newline? Or does that give problems on mac?
return" "==t||"\t"==t||"\n"==t&&e>0},a.isDecimalMark=function(t,e){return"."==t&&"/"!==e&&"*"!==e&&"^"!==e},a.isDigitDot=function(t){return t>="0"&&t<="9"||"."==t},a.isDigit=function(t){return t>="0"&&t<="9"},a}var i=n(94),o=n(3);e.name="parse",e.path="expression",e.factory=r},/* 67 */
/***/
function(t,e,n){var r=n(95);/**
 * Transform zero-based indices to one-based indices in errors
 * @param {Error} err
 * @returns {Error} Returns the transformed error
 */
e.transform=function(t){return t&&t.isIndexError?new r(t.index+1,t.min+1,void 0!==t.max?t.max+1:void 0):t}},/* 68 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){var i=t.DenseMatrix;return function(t,e,n,o){
// sparse matrix arrays
var s=t._values,a=t._index,u=t._ptr,c=t._size,l=t._datatype;
// sparse matrix cannot be a Pattern matrix
if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");
// rows & columns
var f,p=c[0],h=c[1],d=n;
// process data types
"string"==typeof l&&(
// datatype
f=l,
// convert b to the same datatype
e=r.convert(e,f),
// callback
d=r.find(n,[f,f]));
// loop columns
for(var m=[],v=new i({data:m,size:[p,h],datatype:f}),y=[],g=[],b=0;b<h;b++){
// values in j
for(var w=b+1,_=u[b],x=u[b+1],E=_;E<x;E++){
// row
var C=a[E];
// update workspace
y[C]=s[E],g[C]=w}
// loop rows
for(var S=0;S<p;S++)
// initialize C on first column
0===b&&(
// create row array
m[S]=[]),
// check sparse matrix has a value @ i,j
g[S]===w?
// invoke callback, update C
m[S][b]=o?d(e,y[S]):d(y[S],e):
// dense matrix value @ i, j
m[S][b]=e}
// return sparse matrix
return v}}e.name="algorithm10",e.factory=r},/* 69 */
/***/
function(t,e,n){"use strict";/**
 * Compares two BigNumbers.
 * @param {BigNumber} x       First value to compare
 * @param {BigNumber} y       Second value to compare
 * @param {number} [epsilon]  The maximum relative difference between x and y
 *                            If epsilon is undefined or null, the function will
 *                            test whether x and y are exactly equal.
 * @return {boolean} whether the two numbers are nearly equal
 */
t.exports=function(t,e,n){
// if epsilon is null or undefined, test whether x and y are exactly equal
if(null==n)return t.eq(e);
// use "==" operator, handles infinities
if(t.eq(e))return!0;
// NaN
if(t.isNaN()||e.isNaN())return!1;
// at this point x and y should be finite
if(t.isFinite()&&e.isFinite()){
// check numbers are very close, needed when comparing numbers near zero
var r=t.minus(e).abs();if(r.isZero())return!0;
// use relative error
var i=t.constructor.max(t.abs(),e.abs());return r.lte(i.times(n))}
// Infinite and Number or negative Infinite and positive Infinite cases
return!1}},/* 70 */
/***/
function(t,e,n){"use strict";/**
 * Recursively loop over all elements in a given multi dimensional array
 * and invoke the callback on each of the elements.
 * @param {Array | Matrix} array
 * @param {Function} callback     The callback method is invoked with one
 *                                parameter: the current element in the array
 */
t.exports=function t(e,n){e&&!0===e.isMatrix&&(e=e.valueOf());for(var r=0,i=e.length;r<i;r++){var o=e[r];Array.isArray(o)?t(o,n):n(o)}}},/* 71 */
/***/
function(t,e){
// function utils
/*
 * Memoize a given function by caching the computed result.
 * The cache of a memoized function can be cleared by deleting the `cache`
 * property of the function.
 *
 * @param {function} fn                     The function to be memoized.
 *                                          Must be a pure function.
 * @param {function(args: Array)} [hasher]  A custom hash builder.
 *                                          Is JSON.stringify by default.
 * @return {function}                       Returns the memoized function
 */
e.memoize=function(t,e){return function n(){"object"!=typeof n.cache&&(n.cache={});for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e(r):JSON.stringify(r);return o in n.cache?n.cache[o]:n.cache[o]=t.apply(t,r)}},/**
 * Find the maximum number of arguments expected by a typed function.
 * @param {function} fn   A typed function
 * @return {number} Returns the maximum number of expected arguments.
 *                  Returns -1 when no signatures where found on the function.
 */
e.maxArgumentCount=function(t){return Object.keys(t.signatures||{}).reduce(function(t,e){var n=(e.match(/,/g)||[]).length+1;return Math.max(t,n)},-1)}},/* 72 */
/***/
function(t,e,n){"use strict";/**
 * @return {?}
 */
function r(){return U}/**
 * @param {?} adapter
 * @return {?}
 */
/**
 * @param {?} adapter
 * @return {?}
 */
function i(t){U||(U=t)}/**
 * @return {?}
 */
function o(){return $||($=document.querySelector("base"))?$.getAttribute("href"):null}/**
 * @param {?} url
 * @return {?}
 */
function s(t){return G||(G=document.createElement("a")),G.setAttribute("href",t),"/"===G.pathname.charAt(0)?G.pathname:"/"+G.pathname}/**
 * @param {?} cookieStr
 * @param {?} name
 * @return {?}
 */
function a(t,e){e=encodeURIComponent(e);for(var n=0,r=t.split(";");n<r.length;n++){var i=r[n],/** @type {?} */o=i.indexOf("="),s=-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],a=s[0],u=s[1];if(a.trim()===e)return decodeURIComponent(u)}return null}/**
 * @param {?} global
 * @param {?} path
 * @param {?} value
 * @return {?}
 */
function u(t,e,n){for(var/** @type {?} */r=e.split("."),/** @type {?} */i=t;r.length>1;){var/** @type {?} */o=r.shift();i=i.hasOwnProperty(o)&&null!=i[o]?i[o]:i[o]={}}void 0!==i&&null!==i||(i={}),i[r.shift()]=n}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 * @return {?}
 */
function c(){return!!window.history.pushState}/**
 * @param {?} transitionId
 * @param {?} document
 * @return {?}
 */
function l(t,e){return function(){var/** @type {?} */n=r();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})}}/**
 * Returns a {\@link DebugElement} for the given native DOM element, or
 * null if the given native element does not have an Angular view associated
 * with it.
 * @param {?} element
 * @return {?}
 */
function f(t){return n.i(D.getDebugNode)(t)}/**
 * @param {?} extraTokens
 * @param {?} coreTokens
 * @return {?}
 */
function p(t,e){var/** @type {?} */n=(t||[]).concat(e||[]);return r().setGlobalVar(rt,f),r().setGlobalVar(it,et({},nt,h(n||[]))),function(){return f}}/**
 * @param {?} tokens
 * @return {?}
 */
function h(t){return t.reduce(function(t,e){return t[e.name]=e.token,t},{})}/**
 * @param {?} componentShortId
 * @return {?}
 */
function d(t){return mt.replace(ht,t)}/**
 * @param {?} componentShortId
 * @return {?}
 */
function m(t){return dt.replace(ht,t)}/**
 * @param {?} compId
 * @param {?} styles
 * @param {?} target
 * @return {?}
 */
function v(t,e,n){for(var/** @type {?} */r=0;r<e.length;r++){var/** @type {?} */i=e[r];Array.isArray(i)?v(t,i,n):(i=i.replace(ht,t),n.push(i))}return n}/**
 * @param {?} eventHandler
 * @return {?}
 */
function y(t){return function(e){!1===t(e)&&(
// TODO(tbosch): move preventDefault into event plugins...
e.preventDefault(),e.returnValue=!1)}}/**
 * @param {?} name
 * @param {?} nameKind
 * @return {?}
 */
function g(t,e){if(t.charCodeAt(0)===gt)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}/**
 * @param {?} url
 * @return {?}
 */
function b(t){return t=String(t),t.match(Tt)||t.match(At)?t:(n.i(D.isDevMode)()&&r().log("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}/**
 * @param {?} srcset
 * @return {?}
 */
function w(t){return t=String(t),t.split(",").map(function(t){return b(t.trim())}).join(", ")}/**
 * Returns an HTML element that is guaranteed to not execute code when creating elements in it.
 * @return {?}
 */
function _(){if(Pt)return Pt;kt=r();
// Prefer using <template> element if supported.
var/** @type {?} */t=kt.createElement("template");if("content"in t)return t;var/** @type {?} */e=kt.createHtmlDocument();if(null==(Pt=kt.querySelector(e,"body"))){
// usually there should be only one body element in the document, but IE doesn't have any, so we
// need to create one.
var/** @type {?} */n=kt.createElement("html",e);Pt=kt.createElement("body",e),kt.appendChild(n,Pt),kt.appendChild(e,n)}return Pt}/**
 * @param {?} tags
 * @return {?}
 */
function x(t){for(var/** @type {?} */e={},n=0,r=t.split(",");n<r.length;n++){e[r[n]]=!0}return e}/**
 * @param {...?} sets
 * @return {?}
 */
function E(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var/** @type {?} */n={},r=0,i=t;r<i.length;r++){var o=i[r];for(var/** @type {?} */s in o)o.hasOwnProperty(s)&&(n[s]=!0)}return n}/**
 * @param {?} node
 * @param {?} nextNode
 * @return {?}
 */
function C(t,e){if(e&&kt.contains(t,e))throw new Error("Failed to sanitize html because the element is clobbered: "+kt.getOuterHTML(t));return e}/**
 * Escapes all potentially dangerous characters, so that the
 * resulting string can be safely inserted into attribute or
 * element text.
 * @param {?} value
 * @return {?}
 */
function S(t){return t.replace(/&/g,"&amp;").replace(Gt,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Wt,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}/**
 * When IE9-11 comes across an unknown namespaced attribute e.g. 'xlink:foo' it adds 'xmlns:ns1'
 * attribute to declare ns1 namespace and prefixes the attribute with 'ns1' (e.g. 'ns1:xlink:foo').
 *
 * This is undesirable since we don't want to allow any of these custom attributes. This method
 * strips them all.
 * @param {?} el
 * @return {?}
 */
function N(t){kt.attributeMap(t).forEach(function(e,n){"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||kt.removeAttribute(t,n)});for(var e=0,n=kt.childNodesAsList(t);e<n.length;e++){var r=n[e];kt.isElementNode(r)&&N(/** @type {?} */r)}}/**
 * Sanitizes the given unsafe, untrusted HTML fragment, and returns HTML text that is safe to add to
 * the DOM in a browser environment.
 * @param {?} defaultDoc
 * @param {?} unsafeHtmlInput
 * @return {?}
 */
function M(t,e){try{var/** @type {?} */r=_(),/** @type {?} */i=e?String(e):"",/** @type {?} */o=5,/** @type {?} */s=i;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,i=s,kt.setInnerHTML(r,i),t.documentMode&&
// strip custom-namespaced attributes on IE<=11
N(r),s=kt.getInnerHTML(r)}while(i!==s);for(var/** @type {?} */a=new Ht,/** @type {?} */u=a.sanitizeChildren(kt.getTemplateContent(r)||r),/** @type {?} */c=kt.getTemplateContent(r)||r,l=0,f=kt.childNodesAsList(c);l<f.length;l++){var p=f[l];kt.removeChild(c,p)}return n.i(D.isDevMode)()&&a.sanitizedSomething&&kt.log("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),u}catch(t){
// In case anything goes wrong, clear out inertElement to reset the entire DOM structure.
throw Pt=null,t}}/**
 * Checks that quotes (" and ') are properly balanced inside a string. Assumes
 * that neither escape (\) nor any other character that could result in
 * breaking out of a string parsing context are allowed;
 * see http://www.w3.org/TR/css3-syntax/#string-token-diagram.
 *
 * This code was taken from the Closure sanitization library.
 * @param {?} value
 * @return {?}
 */
function O(t){for(var/** @type {?} */e=!0,/** @type {?} */n=!0,/** @type {?} */r=0;r<t.length;r++){var/** @type {?} */i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}/**
 * Sanitizes the given untrusted CSS style property value (i.e. not an entire object, just a single
 * value) and returns a value that is safe to use in a browser environment.
 * @param {?} value
 * @return {?}
 */
function T(t){// Make sure it's actually a string.
if(!(t=String(t).trim()))return"";
// Single url(...) values are supported, but only for URLs that sanitize cleanly. See above for
// reasoning behind this.
var/** @type {?} */e=t.match(Yt);return e&&b(e[1])===e[1]||t.match($t)&&O(t)?t:(n.i(D.isDevMode)()&&r().log("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}/**
 * @return {?}
 */
function A(){W.makeCurrent(),J.init()}/**
 * @return {?}
 */
function P(){return new D.ErrorHandler}/**
 * @return {?}
 */
function k(){return document}/**
 * Enabled Angular debug tools that are accessible via your browser's
 * developer console.
 *
 * Usage:
 *
 * 1. Open developer console (e.g. in Chrome Ctrl + Shift + j)
 * 1. Type `ng.` (usually the console will show auto-complete suggestion)
 * 1. Try the change detection profiler `ng.profiler.timeChangeDetection()`
 *    then hit Enter.
 *
 * \@experimental All debugging apis are currently experimental.
 * @template T
 * @param {?} ref
 * @return {?}
 */
function I(t){return r().setGlobalVar(le,new ce(t)),t}/**
 * Disables Angular tools.
 *
 * \@experimental All debugging apis are currently experimental.
 * @return {?}
 */
function R(){r().setGlobalVar(le,null)}Object.defineProperty(e,"__esModule",{value:!0});/* harmony import */
var j=n(109),D=n(23);/* harmony export (binding) */
n.d(e,"BrowserModule",function(){return se}),/* harmony export (binding) */
n.d(e,"platformBrowser",function(){return oe}),/* harmony export (binding) */
n.d(e,"Meta",function(){return Z}),/* harmony export (binding) */
n.d(e,"Title",function(){return tt}),/* harmony export (binding) */
n.d(e,"disableDebugTools",function(){return R}),/* harmony export (binding) */
n.d(e,"enableDebugTools",function(){return I}),/* harmony export (binding) */
n.d(e,"By",function(){return fe}),/* harmony export (binding) */
n.d(e,"NgProbeToken",function(){return ot}),/* harmony export (binding) */
n.d(e,"DOCUMENT",function(){return Y}),/* harmony export (binding) */
n.d(e,"EVENT_MANAGER_PLUGINS",function(){return at}),/* harmony export (binding) */
n.d(e,"EventManager",function(){return ut}),/* harmony export (binding) */
n.d(e,"HAMMER_GESTURE_CONFIG",function(){return Et}),/* harmony export (binding) */
n.d(e,"HammerGestureConfig",function(){return Ct}),/* harmony export (binding) */
n.d(e,"DomSanitizer",function(){return Xt}),/* harmony export (binding) */
n.d(e,"VERSION",function(){return pe}),/* harmony export (binding) */
n.d(e,"BROWSER_SANITIZATION_PROVIDERS",function(){return ie}),/* harmony export (binding) */
n.d(e,"INTERNAL_BROWSER_PLATFORM_PROVIDERS",function(){return re}),/* harmony export (binding) */
n.d(e,"initDomAdapter",function(){return A}),/* harmony export (binding) */
n.d(e,"BrowserDomAdapter",function(){return W}),/* harmony export (binding) */
n.d(e,"setValueOnPath",function(){return u}),/* harmony export (binding) */
n.d(e,"BrowserPlatformLocation",function(){return X}),/* harmony export (binding) */
n.d(e,"TRANSITION_ID",function(){return K}),/* harmony export (binding) */
n.d(e,"BrowserGetTestability",function(){return J}),/* harmony export (binding) */
n.d(e,"ELEMENT_PROBE_PROVIDERS",function(){return st}),/* harmony export (binding) */
n.d(e,"DomAdapter",function(){return V}),/* harmony export (binding) */
n.d(e,"getDOM",function(){return r}),/* harmony export (binding) */
n.d(e,"setRootDomAdapter",function(){return i}),/* harmony export (binding) */
n.d(e,"DomRendererFactory2",function(){return vt}),/* harmony export (binding) */
n.d(e,"NAMESPACE_URIS",function(){return pt}),/* harmony export (binding) */
n.d(e,"flattenStyles",function(){return v}),/* harmony export (binding) */
n.d(e,"shimContentAttribute",function(){return d}),/* harmony export (binding) */
n.d(e,"shimHostAttribute",function(){return m}),/* harmony export (binding) */
n.d(e,"DomEventsPlugin",function(){return _t}),/* harmony export (binding) */
n.d(e,"HammerGesturesPlugin",function(){return St}),/* harmony export (binding) */
n.d(e,"KeyEventsPlugin",function(){return Ot}),/* harmony export (binding) */
n.d(e,"DomSharedStylesHost",function(){return ft}),/* harmony export (binding) */
n.d(e,"SharedStylesHost",function(){return lt}),/* harmony export (binding) */
n.d(e,"b",function(){return k}),/* harmony export (binding) */
n.d(e,"a",function(){return P}),/* harmony export (binding) */
n.d(e,"h",function(){return B}),/* harmony export (binding) */
n.d(e,"g",function(){return Q}),/* harmony export (binding) */
n.d(e,"f",function(){return l}),/* harmony export (binding) */
n.d(e,"c",function(){return p}),/* harmony export (binding) */
n.d(e,"d",function(){return ct}),/* harmony export (binding) */
n.d(e,"e",function(){return Zt});var L,F=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},U=null,V=function(){function t(){this.resourceLoaderType=null}/**
     * @abstract
     * @param {?} element
     * @param {?} name
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @param {?} name
     * @param {?} value
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @param {?} name
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @param {?} methodName
     * @param {?} args
     * @return {?}
     */
/**
     * @abstract
     * @param {?} error
     * @return {?}
     */
/**
     * @abstract
     * @param {?} error
     * @return {?}
     */
/**
     * @abstract
     * @param {?} error
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @param {?} nodeA
     * @param {?} nodeB
     * @return {?}
     */
/**
     * @abstract
     * @param {?} templateHtml
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @param {?} selector
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @param {?} selector
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @param {?} evt
     * @param {?} listener
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @param {?} evt
     * @param {?} listener
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @param {?} evt
     * @return {?}
     */
/**
     * @abstract
     * @param {?} eventType
     * @return {?}
     */
/**
     * @abstract
     * @param {?} eventType
     * @return {?}
     */
/**
     * @abstract
     * @param {?} evt
     * @return {?}
     */
/**
     * @abstract
     * @param {?} evt
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @return {?}
     */
/**
     * Returns content if el is a <template> element, null otherwise.
     * @abstract
     * @param {?} el
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @return {?}
     */
/**
     * @abstract
     * @param {?} node
     * @return {?}
     */
/**
     * @abstract
     * @param {?} node
     * @return {?}
     */
/**
     * @abstract
     * @param {?} node
     * @return {?}
     */
/**
     * @abstract
     * @param {?} node
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @param {?} node
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @param {?} node
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @param {?} newNode
     * @param {?} oldNode
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @return {?}
     */
/**
     * @abstract
     * @param {?} parent
     * @param {?} ref
     * @param {?} node
     * @return {?}
     */
/**
     * @abstract
     * @param {?} parent
     * @param {?} ref
     * @param {?} nodes
     * @return {?}
     */
/**
     * @abstract
     * @param {?} parent
     * @param {?} el
     * @param {?} node
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @param {?} value
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @param {?} value
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @param {?} value
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @param {?} value
     * @return {?}
     */
/**
     * @abstract
     * @param {?} text
     * @return {?}
     */
/**
     * @abstract
     * @param {?} html
     * @return {?}
     */
/**
     * @abstract
     * @param {?} tagName
     * @param {?=} doc
     * @return {?}
     */
/**
     * @abstract
     * @param {?} ns
     * @param {?} tagName
     * @param {?=} doc
     * @return {?}
     */
/**
     * @abstract
     * @param {?} text
     * @param {?=} doc
     * @return {?}
     */
/**
     * @abstract
     * @param {?} attrName
     * @param {?} attrValue
     * @param {?=} doc
     * @return {?}
     */
/**
     * @abstract
     * @param {?} css
     * @param {?=} doc
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @return {?}
     */
/**
     * @abstract
     * @param {?} node
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @param {?} name
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @param {?} name
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @param {?} className
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @param {?} className
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @param {?} className
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @param {?} styleName
     * @param {?} styleValue
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @param {?} styleName
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @param {?} styleName
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @param {?} styleName
     * @param {?=} styleValue
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @param {?} attribute
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @param {?} ns
     * @param {?} attribute
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @param {?} attribute
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @param {?} ns
     * @param {?} attribute
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @param {?} name
     * @param {?} value
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @param {?} ns
     * @param {?} name
     * @param {?} value
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @param {?} attribute
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @param {?} ns
     * @param {?} attribute
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @return {?}
     */
/**
     * @abstract
     * @param {?} doc
     * @return {?}
     */
/**
     * @abstract
     * @param {?} doc
     * @param {?} newTitle
     * @return {?}
     */
/**
     * @abstract
     * @param {?} n
     * @param {?} selector
     * @return {?}
     */
/**
     * @abstract
     * @param {?} el
     * @return {?}
     */
/**
     * @abstract
     * @param {?} node
     * @return {?}
     */
/**
     * @abstract
     * @param {?} node
     * @return {?}
     */
/**
     * @abstract
     * @param {?} node
     * @return {?}
     */
/**
     * @abstract
     * @param {?} node
     * @return {?}
     */
/**
     * @abstract
     * @param {?} node
     * @return {?}
     */
/**
     * @abstract
     * @param {?} node
     * @return {?}
     */
/**
     * @abstract
     * @param {?} node
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @return {?}
     */
/**
     * @abstract
     * @param {?} event
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @param {?} baseUrl
     * @param {?} href
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @param {?} doc
     * @param {?} target
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @param {?} doc
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @param {?} name
     * @param {?} value
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @param {?} name
     * @return {?}
     */
/**
     * @abstract
     * @param {?} name
     * @param {?} value
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @param {?} name
     * @return {?}
     */
/**
     * @abstract
     * @param {?} name
     * @param {?} value
     * @return {?}
     */
return t.prototype.hasProperty=function(t,e){},t.prototype.setProperty=function(t,e,n){},t.prototype.getProperty=function(t,e){},t.prototype.invoke=function(t,e,n){},t.prototype.logError=function(t){},t.prototype.log=function(t){},t.prototype.logGroup=function(t){},t.prototype.logGroupEnd=function(){},Object.defineProperty(t.prototype,"attrToPropMap",{/**
         * Maps attribute names to their corresponding property names for cases
         * where attribute name doesn't match property name.
         * @return {?}
         */
get:function(){return this._attrToPropMap},/**
         * @param {?} value
         * @return {?}
         */
set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t.prototype.contains=function(t,e){},t.prototype.parse=function(t){},t.prototype.querySelector=function(t,e){},t.prototype.querySelectorAll=function(t,e){},t.prototype.on=function(t,e,n){},t.prototype.onAndCancel=function(t,e,n){},t.prototype.dispatchEvent=function(t,e){},t.prototype.createMouseEvent=function(t){},t.prototype.createEvent=function(t){},t.prototype.preventDefault=function(t){},t.prototype.isPrevented=function(t){},t.prototype.getInnerHTML=function(t){},t.prototype.getTemplateContent=function(t){},t.prototype.getOuterHTML=function(t){},t.prototype.nodeName=function(t){},t.prototype.nodeValue=function(t){},t.prototype.type=function(t){},t.prototype.content=function(t){},t.prototype.firstChild=function(t){},t.prototype.nextSibling=function(t){},t.prototype.parentElement=function(t){},t.prototype.childNodes=function(t){},t.prototype.childNodesAsList=function(t){},t.prototype.clearNodes=function(t){},t.prototype.appendChild=function(t,e){},t.prototype.removeChild=function(t,e){},t.prototype.replaceChild=function(t,e,n){},t.prototype.remove=function(t){},t.prototype.insertBefore=function(t,e,n){},t.prototype.insertAllBefore=function(t,e,n){},t.prototype.insertAfter=function(t,e,n){},t.prototype.setInnerHTML=function(t,e){},t.prototype.getText=function(t){},t.prototype.setText=function(t,e){},t.prototype.getValue=function(t){},t.prototype.setValue=function(t,e){},t.prototype.getChecked=function(t){},t.prototype.setChecked=function(t,e){},t.prototype.createComment=function(t){},t.prototype.createTemplate=function(t){},t.prototype.createElement=function(t,e){},t.prototype.createElementNS=function(t,e,n){},t.prototype.createTextNode=function(t,e){},t.prototype.createScriptTag=function(t,e,n){},t.prototype.createStyleElement=function(t,e){},t.prototype.createShadowRoot=function(t){},t.prototype.getShadowRoot=function(t){},t.prototype.getHost=function(t){},t.prototype.getDistributedNodes=function(t){},t.prototype.clone=function(t){},t.prototype.getElementsByClassName=function(t,e){},t.prototype.getElementsByTagName=function(t,e){},t.prototype.classList=function(t){},t.prototype.addClass=function(t,e){},t.prototype.removeClass=function(t,e){},t.prototype.hasClass=function(t,e){},t.prototype.setStyle=function(t,e,n){},t.prototype.removeStyle=function(t,e){},t.prototype.getStyle=function(t,e){},t.prototype.hasStyle=function(t,e,n){},t.prototype.tagName=function(t){},t.prototype.attributeMap=function(t){},t.prototype.hasAttribute=function(t,e){},t.prototype.hasAttributeNS=function(t,e,n){},t.prototype.getAttribute=function(t,e){},t.prototype.getAttributeNS=function(t,e,n){},t.prototype.setAttribute=function(t,e,n){},t.prototype.setAttributeNS=function(t,e,n,r){},t.prototype.removeAttribute=function(t,e){},t.prototype.removeAttributeNS=function(t,e,n){},t.prototype.templateAwareRoot=function(t){},t.prototype.createHtmlDocument=function(){},t.prototype.getBoundingClientRect=function(t){},t.prototype.getTitle=function(t){},t.prototype.setTitle=function(t,e){},t.prototype.elementMatches=function(t,e){},t.prototype.isTemplateElement=function(t){},t.prototype.isTextNode=function(t){},t.prototype.isCommentNode=function(t){},t.prototype.isElementNode=function(t){},t.prototype.hasShadowRoot=function(t){},t.prototype.isShadowRoot=function(t){},t.prototype.importIntoDoc=function(t){},t.prototype.adoptNode=function(t){},t.prototype.getHref=function(t){},t.prototype.getEventKey=function(t){},t.prototype.resolveAndSetHref=function(t,e,n){},t.prototype.supportsDOMEvents=function(){},t.prototype.supportsNativeShadowDOM=function(){},t.prototype.getGlobalEventTarget=function(t,e){},t.prototype.getHistory=function(){},t.prototype.getLocation=function(){},t.prototype.getBaseHref=function(t){},t.prototype.resetBaseElement=function(){},t.prototype.getUserAgent=function(){},t.prototype.setData=function(t,e,n){},t.prototype.getComputedStyle=function(t){},t.prototype.getData=function(t,e){},t.prototype.setGlobalVar=function(t,e){},t.prototype.supportsWebAnimation=function(){},t.prototype.performanceNow=function(){},t.prototype.getAnimationPrefix=function(){},t.prototype.getTransitionEnd=function(){},t.prototype.supportsAnimation=function(){},t.prototype.supportsCookies=function(){},t.prototype.getCookie=function(t){},t.prototype.setCookie=function(t,e){},t}(),B=function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(t){e._animationPrefix=null,e._transitionEnd=null}return e}/**
     * @param {?} el
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} baseUrl
     * @param {?} href
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
return F(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(V),z={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},q={
// The following values are here for cross-browser compatibility and to match the W3C standard
// cf http://www.w3.org/TR/DOM-Level-3-Events-key/
"\b":"Backspace","\t":"Tab","":"Delete","":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},H={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","":"NumLock"};D["global"].Node&&(L=D["global"].Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var G,W=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}/**
     * @param {?} templateHtml
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} name
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} methodName
     * @param {?} args
     * @return {?}
     */
/**
     * @param {?} error
     * @return {?}
     */
/**
     * @param {?} error
     * @return {?}
     */
/**
     * @param {?} error
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} nodeA
     * @param {?} nodeB
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} selector
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} selector
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} evt
     * @param {?} listener
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} evt
     * @param {?} listener
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} evt
     * @return {?}
     */
/**
     * @param {?} eventType
     * @return {?}
     */
/**
     * @param {?} eventType
     * @return {?}
     */
/**
     * @param {?} evt
     * @return {?}
     */
/**
     * @param {?} evt
     * @return {?}
     */
/**
     * @param {?} el
     * @return {?}
     */
/**
     * @param {?} el
     * @return {?}
     */
/**
     * @param {?} el
     * @return {?}
     */
/**
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} el
     * @return {?}
     */
/**
     * @param {?} el
     * @return {?}
     */
/**
     * @param {?} el
     * @return {?}
     */
/**
     * @param {?} el
     * @return {?}
     */
/**
     * @param {?} el
     * @return {?}
     */
/**
     * @param {?} el
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} newChild
     * @param {?} oldChild
     * @return {?}
     */
/**
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} parent
     * @param {?} ref
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} parent
     * @param {?} ref
     * @param {?} nodes
     * @return {?}
     */
/**
     * @param {?} parent
     * @param {?} ref
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} el
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} el
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} el
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} text
     * @return {?}
     */
/**
     * @param {?} html
     * @return {?}
     */
/**
     * @param {?} tagName
     * @param {?=} doc
     * @return {?}
     */
/**
     * @param {?} ns
     * @param {?} tagName
     * @param {?=} doc
     * @return {?}
     */
/**
     * @param {?} text
     * @param {?=} doc
     * @return {?}
     */
/**
     * @param {?} attrName
     * @param {?} attrValue
     * @param {?=} doc
     * @return {?}
     */
/**
     * @param {?} css
     * @param {?=} doc
     * @return {?}
     */
/**
     * @param {?} el
     * @return {?}
     */
/**
     * @param {?} el
     * @return {?}
     */
/**
     * @param {?} el
     * @return {?}
     */
/**
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} element
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} className
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} className
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} className
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} styleName
     * @param {?} styleValue
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} stylename
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} stylename
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} styleName
     * @param {?=} styleValue
     * @return {?}
     */
/**
     * @param {?} element
     * @return {?}
     */
/**
     * @param {?} element
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} attribute
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} ns
     * @param {?} attribute
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} attribute
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} ns
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} name
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} ns
     * @param {?} name
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} attribute
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} ns
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} el
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} el
     * @return {?}
     */
/**
     * @param {?} doc
     * @return {?}
     */
/**
     * @param {?} doc
     * @param {?} newTitle
     * @return {?}
     */
/**
     * @param {?} n
     * @param {?} selector
     * @return {?}
     */
/**
     * @param {?} el
     * @return {?}
     */
/**
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} el
     * @return {?}
     */
/**
     * @param {?} event
     * @return {?}
     */
/**
     * @param {?} doc
     * @param {?} target
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} doc
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} name
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} element
     * @return {?}
     */
/**
     * @param {?} path
     * @param {?} value
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} name
     * @param {?} value
     * @return {?}
     */
return F(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){i(new e)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){t[e].apply(t,n)},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{/**
         * @return {?}
         */
get:function(){return z},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return L.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){
// Needed to follow Dart's subscription semantic, until fix of
// https://code.google.com/p/dart/issues/detail?id=17406
return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var/** @type {?} */e=document.createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var/** @type {?} */e=document.createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&t instanceof HTMLTemplateElement?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var/** @type {?} */e=t.childNodes,/** @type {?} */n=new Array(e.length),/** @type {?} */r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return document.createComment(t)},e.prototype.createTemplate=function(t){var/** @type {?} */e=document.createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return void 0===e&&(e=document),e.createElement(t)},e.prototype.createElementNS=function(t,e,n){return void 0===n&&(n=document),n.createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return void 0===e&&(e=document),e.createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){void 0===n&&(n=document);var/** @type {?} */r=n.createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){void 0===e&&(e=document);var/** @type {?} */n=e.createElement("style");return this.appendChild(n,this.createTextNode(t)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){
// IE requires '' instead of null
// see https://github.com/angular/angular/issues/7916
t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){void 0===n&&(n=null);var/** @type {?} */r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var/** @type {?} */e=new Map,/** @type {?} */n=t.attributes,/** @type {?} */r=0;r<n.length;r++){var/** @type {?} */i=n[r];e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return document.title},e.prototype.setTitle=function(t,e){document.title=e||""},e.prototype.elementMatches=function(t,e){return t instanceof HTMLElement&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return t instanceof HTMLElement&&"TEMPLATE"==t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.href},e.prototype.getEventKey=function(t){var/** @type {?} */e=t.key;if(null==e){
// keyIdentifier is defined in the old draft of DOM Level 3 Events implemented by Chrome and
// Safari cf
// http://www.w3.org/TR/2007/WD-DOM-Level-3-Events-20071221/events.html#Events-KeyboardEvents-Interfaces
if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&H.hasOwnProperty(e)&&(
// There is a bug in Chrome for numeric keypad keys:
// https://code.google.com/p/chromium/issues/detail?id=155654
// 1, 2, 3 ... are reported as A, B, C ...
e=H[e]))}return q[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?document:"body"===e?document.body:void 0},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var/** @type {?} */e=o();return null==e?null:s(e)},e.prototype.resetBaseElement=function(){$=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.setGlobalVar=function(t,e){u(D["global"],t,e)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){
// performance.now() is not available in all browsers, see
// http://caniuse.com/#search=performance.now
return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return a(document.cookie,t)},e.prototype.setCookie=function(t,e){
// document.cookie is magical, assigning into it assigns/overrides one cookie value, but does
// not clear other cookies.
document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(B),$=null,Y=new D.InjectionToken("DocumentToken"),X=function(t){/**
     * @param {?} _doc
     */
function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}/**
     * \@internal
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} state
     * @param {?} title
     * @param {?} url
     * @return {?}
     */
/**
     * @param {?} state
     * @param {?} title
     * @param {?} url
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
return F(e,t),e.prototype._init=function(){this._location=r().getLocation(),this._history=r().getHistory()},Object.defineProperty(e.prototype,"location",{/**
         * @return {?}
         */
get:function(){return this._location},enumerable:!0,configurable:!0}),e.prototype.getBaseHrefFromDOM=function(){return r().getBaseHref(this._doc)},e.prototype.onPopState=function(t){r().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){r().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{/**
         * @return {?}
         */
get:function(){return this._location.pathname},/**
         * @param {?} newPath
         * @return {?}
         */
set:function(t){this._location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{/**
         * @return {?}
         */
get:function(){return this._location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{/**
         * @return {?}
         */
get:function(){return this._location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){c()?this._history.pushState(t,e,n):this._location.hash=n},e.prototype.replaceState=function(t,e,n){c()?this._history.replaceState(t,e,n):this._location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e}(j.PlatformLocation);X.decorators=[{type:D.Injectable}],/**
 * @nocollapse
 */
X.ctorParameters=function(){return[{type:void 0,decorators:[{type:D.Inject,args:[Y]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * A service that can be used to get and add meta tags.
 *
 * \@experimental
 */
var Z=function(){/**
     * @param {?} _doc
     */
function t(t){this._doc=t,this._dom=r()}/**
     * @param {?} tag
     * @param {?=} forceCreation
     * @return {?}
     */
/**
     * @param {?} tags
     * @param {?=} forceCreation
     * @return {?}
     */
/**
     * @param {?} attrSelector
     * @return {?}
     */
/**
     * @param {?} attrSelector
     * @return {?}
     */
/**
     * @param {?} tag
     * @param {?=} selector
     * @return {?}
     */
/**
     * @param {?} attrSelector
     * @return {?}
     */
/**
     * @param {?} meta
     * @return {?}
     */
/**
     * @param {?} meta
     * @param {?=} forceCreation
     * @return {?}
     */
/**
     * @param {?} tag
     * @param {?} el
     * @return {?}
     */
/**
     * @param {?} tag
     * @return {?}
     */
/**
     * @param {?} tag
     * @param {?} elem
     * @return {?}
     */
return t.prototype.addTag=function(t,e){return void 0===e&&(e=!1),t?this._getOrCreateElement(t,e):null},t.prototype.addTags=function(t,e){var n=this;return void 0===e&&(e=!1),t?t.reduce(function(t,r){return r&&t.push(n._getOrCreateElement(r,e)),t},[]):[]},t.prototype.getTag=function(t){return t?this._dom.querySelector(this._doc,"meta["+t+"]"):null},t.prototype.getTags=function(t){if(!t)return[];var/** @type {?} */e=this._dom.querySelectorAll(this._doc,"meta["+t+"]");return e?[].slice.call(e):[]},t.prototype.updateTag=function(t,e){if(!t)return null;e=e||this._parseSelector(t);var/** @type {?} */n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)},t.prototype.removeTag=function(t){this.removeTagElement(this.getTag(t))},t.prototype.removeTagElement=function(t){t&&this._dom.remove(t)},t.prototype._getOrCreateElement=function(t,e){if(void 0===e&&(e=!1),!e){var/** @type {?} */n=this._parseSelector(t),/** @type {?} */r=this.getTag(n);
// It's allowed to have multiple elements with the same name so it's not enough to
// just check that element with the same name already present on the page. We also need to
// check if element has tag attributes
if(r&&this._containsAttributes(t,r))return r}var/** @type {?} */i=this._dom.createElement("meta");this._setMetaElementAttributes(t,i);var/** @type {?} */o=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(o,i),i},t.prototype._setMetaElementAttributes=function(t,e){var n=this;return Object.keys(t).forEach(function(r){return n._dom.setAttribute(e,r,t[r])}),e},t.prototype._parseSelector=function(t){var/** @type {?} */e=t.name?"name":"property";return e+'="'+t[e]+'"'},t.prototype._containsAttributes=function(t,e){var n=this;return Object.keys(t).every(function(r){return n._dom.getAttribute(e,r)===t[r]})},t}();Z.decorators=[{type:D.Injectable}],/**
 * @nocollapse
 */
Z.ctorParameters=function(){return[{type:void 0,decorators:[{type:D.Inject,args:[Y]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * An id that identifies a particular application being bootstrapped, that should
 * match across the client/server boundary.
 */
var K=new D.InjectionToken("TRANSITION_ID"),Q=[{provide:D.APP_INITIALIZER,useFactory:l,deps:[K,Y],multi:!0}],J=function(){function t(){}/**
     * @return {?}
     */
/**
     * @param {?} registry
     * @return {?}
     */
/**
     * @param {?} registry
     * @param {?} elem
     * @param {?} findInAncestors
     * @return {?}
     */
return t.init=function(){n.i(D.setTestabilityGetter)(new t)},t.prototype.addToWindow=function(t){D["global"].getAngularTestability=function(e,n){void 0===n&&(n=!0);var/** @type {?} */r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},D["global"].getAllAngularTestabilities=function(){return t.getAllTestabilities()},D["global"].getAllAngularRootElements=function(){return t.getAllRootElements()};var/** @type {?} */e=function(t){var/** @type {?} */e=D["global"].getAllAngularTestabilities(),/** @type {?} */n=e.length,/** @type {?} */r=!1,/** @type {?} */i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})};D["global"].frameworkStabilizers||(D["global"].frameworkStabilizers=[]),D["global"].frameworkStabilizers.push(e)},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var/** @type {?} */i=t.getTestability(e);return null!=i?i:n?r().isShadowRoot(e)?this.findTestabilityInTree(t,r().getHost(e),!0):this.findTestabilityInTree(t,r().parentElement(e),!0):null},t}(),tt=function(){/**
     * @param {?} _doc
     */
function t(t){this._doc=t}/**
     * Get the title of the current HTML document.
     * @return {?}
     */
/**
     * Set the title of the current HTML document.
     * @param {?} newTitle
     * @return {?}
     */
return t.prototype.getTitle=function(){return r().getTitle(this._doc)},t.prototype.setTitle=function(t){r().setTitle(this._doc,t)},t}();tt.decorators=[{type:D.Injectable}],/**
 * @nocollapse
 */
tt.ctorParameters=function(){return[{type:void 0,decorators:[{type:D.Inject,args:[Y]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var et=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},nt={ApplicationRef:D.ApplicationRef,NgZone:D.NgZone},rt="ng.probe",it="ng.coreTokens",ot=function(){/**
     * @param {?} name
     * @param {?} token
     */
function t(t,e){this.name=t,this.token=e}return t}(),st=[{provide:D.APP_INITIALIZER,useFactory:p,deps:[[ot,new D.Optional],[D.NgProbeToken,new D.Optional]],multi:!0}],at=new D.InjectionToken("EventManagerPlugins"),ut=function(){/**
     * @param {?} plugins
     * @param {?} _zone
     */
function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}/**
     * @param {?} element
     * @param {?} eventName
     * @param {?} handler
     * @return {?}
     */
/**
     * @param {?} target
     * @param {?} eventName
     * @param {?} handler
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * \@internal
     * @param {?} eventName
     * @return {?}
     */
return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var/** @type {?} */e=this._eventNameToPlugin.get(t);if(e)return e;for(var/** @type {?} */n=this._plugins,/** @type {?} */r=0;r<n.length;r++){var/** @type {?} */i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}();ut.decorators=[{type:D.Injectable}],/**
 * @nocollapse
 */
ut.ctorParameters=function(){return[{type:Array,decorators:[{type:D.Inject,args:[at]}]},{type:D.NgZone}]};/**
 * @abstract
 */
var ct=function(){/**
     * @param {?} _doc
     */
function t(t){this._doc=t}/**
     * @abstract
     * @param {?} eventName
     * @return {?}
     */
/**
     * @abstract
     * @param {?} element
     * @param {?} eventName
     * @param {?} handler
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} eventName
     * @param {?} handler
     * @return {?}
     */
return t.prototype.supports=function(t){},t.prototype.addEventListener=function(t,e,n){},t.prototype.addGlobalEventListener=function(t,e,n){var/** @type {?} */i=r().getGlobalEventTarget(this._doc,t);if(!i)throw new Error("Unsupported event target "+i+" for event "+e);return this.addEventListener(i,e,n)},t}(),lt=function(){function t(){/**
         * \@internal
         */
this._stylesSet=new Set}/**
     * @param {?} styles
     * @return {?}
     */
/**
     * @param {?} additions
     * @return {?}
     */
/**
     * @return {?}
     */
return t.prototype.addStyles=function(t){var e=this,/** @type {?} */n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}();lt.decorators=[{type:D.Injectable}],/**
 * @nocollapse
 */
lt.ctorParameters=function(){return[]};var ft=function(t){/**
     * @param {?} _doc
     */
function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}/**
     * @param {?} styles
     * @param {?} host
     * @return {?}
     */
/**
     * @param {?} hostNode
     * @return {?}
     */
/**
     * @param {?} hostNode
     * @return {?}
     */
/**
     * @param {?} additions
     * @return {?}
     */
/**
     * @return {?}
     */
return F(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var/** @type {?} */r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return r().remove(t)})},e}(lt);ft.decorators=[{type:D.Injectable}],/**
 * @nocollapse
 */
ft.ctorParameters=function(){return[{type:void 0,decorators:[{type:D.Inject,args:[Y]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ht=/%COMP%/g,dt="_nghost-%COMP%",mt="_ngcontent-%COMP%",vt=function(){/**
     * @param {?} eventManager
     * @param {?} sharedStylesHost
     */
function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new yt(t)}/**
     * @param {?} element
     * @param {?} type
     * @return {?}
     */
return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case D.ViewEncapsulation.Emulated:var/** @type {?} */n=this.rendererByCompId.get(e.id);return n||(n=new bt(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case D.ViewEncapsulation.Native:return new wt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var/** @type {?} */r=v(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t}();vt.decorators=[{type:D.Injectable}],/**
 * @nocollapse
 */
vt.ctorParameters=function(){return[{type:ut},{type:ft}]};var yt=function(){/**
     * @param {?} eventManager
     */
function t(t){this.eventManager=t,this.data=Object.create(null)}/**
     * @return {?}
     */
/**
     * @param {?} name
     * @param {?=} namespace
     * @return {?}
     */
/**
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} parent
     * @param {?} newChild
     * @return {?}
     */
/**
     * @param {?} parent
     * @param {?} newChild
     * @param {?} refChild
     * @return {?}
     */
/**
     * @param {?} parent
     * @param {?} oldChild
     * @return {?}
     */
/**
     * @param {?} selectorOrNode
     * @return {?}
     */
/**
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} name
     * @param {?} value
     * @param {?=} namespace
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} name
     * @param {?=} namespace
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} style
     * @param {?} value
     * @param {?} flags
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} style
     * @param {?} flags
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} name
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} node
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} target
     * @param {?} event
     * @param {?} callback
     * @return {?}
     */
return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(pt[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t){var/** @type {?} */e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error('The selector "'+t+'" did not match any elements');return e.textContent="",e},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var/** @type {?} */i=pt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var/** @type {?} */r=pt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&D.RendererStyleFlags2.DashCase?t.style.setProperty(e,n,r&D.RendererStyleFlags2.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&D.RendererStyleFlags2.DashCase?t.style.removeProperty(e):
// IE requires '' instead of null
// see https://github.com/angular/angular/issues/7916
t.style[e]=""},t.prototype.setProperty=function(t,e,n){g(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return g(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,y(n)):this.eventManager.addEventListener(t,e,y(n))},t}(),gt="@".charCodeAt(0),bt=function(t){/**
     * @param {?} eventManager
     * @param {?} sharedStylesHost
     * @param {?} component
     */
function e(e,n,r){var i=t.call(this,e)||this;i.component=r;var o=v(r.id,r.styles,[]);return n.addStyles(o),i.contentAttr=d(r.id),i.hostAttr=m(r.id),i}/**
     * @param {?} element
     * @return {?}
     */
/**
     * @param {?} parent
     * @param {?} name
     * @return {?}
     */
return F(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var/** @type {?} */r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(yt),wt=function(t){/**
     * @param {?} eventManager
     * @param {?} sharedStylesHost
     * @param {?} hostEl
     * @param {?} component
     */
function e(e,n,r,i){var o=t.call(this,e)||this;o.sharedStylesHost=n,o.hostEl=r,o.component=i,o.shadowRoot=r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var s=v(i.id,i.styles,[]),a=0;a<s.length;a++){var u=document.createElement("style");u.textContent=s[a],o.shadowRoot.appendChild(u)}return o}/**
     * @param {?} node
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} parent
     * @param {?} newChild
     * @return {?}
     */
/**
     * @param {?} parent
     * @param {?} newChild
     * @param {?} refChild
     * @return {?}
     */
/**
     * @param {?} parent
     * @param {?} oldChild
     * @return {?}
     */
/**
     * @param {?} node
     * @return {?}
     */
return F(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(yt),_t=function(t){/**
     * @param {?} doc
     */
function e(e){return t.call(this,e)||this}/**
     * @param {?} eventName
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} eventName
     * @param {?} handler
     * @return {?}
     */
return F(e,t),e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){/** @type {?} */
return t.addEventListener(e,n,!1),function(){/** @type {?} */return t.removeEventListener(e,n,!1)}},e}(ct);_t.decorators=[{type:D.Injectable}],/**
 * @nocollapse
 */
_t.ctorParameters=function(){return[{type:void 0,decorators:[{type:D.Inject,args:[Y]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var xt={
// pan
pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,
// pinch
pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,
// press
press:!0,pressup:!0,
// rotate
rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,
// swipe
swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,
// tap
tap:!0},Et=new D.InjectionToken("HammerGestureConfig"),Ct=function(){function t(){this.events=[],this.overrides={}}/**
     * @param {?} element
     * @return {?}
     */
return t.prototype.buildHammer=function(t){var/** @type {?} */e=new Hammer(t);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(var/** @type {?} */n in this.overrides)e.get(n).set(this.overrides[n]);return e},t}();Ct.decorators=[{type:D.Injectable}],/**
 * @nocollapse
 */
Ct.ctorParameters=function(){return[]};var St=function(t){/**
     * @param {?} doc
     * @param {?} _config
     */
function e(e,n){var r=t.call(this,e)||this;return r._config=n,r}/**
     * @param {?} eventName
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} eventName
     * @param {?} handler
     * @return {?}
     */
/**
     * @param {?} eventName
     * @return {?}
     */
return F(e,t),e.prototype.supports=function(t){if(!xt.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t))return!1;if(!window.Hammer)throw new Error("Hammer.js is not loaded, can not bind "+t+" event");return!0},e.prototype.addEventListener=function(t,e,n){var r=this,/** @type {?} */i=this.manager.getZone();return e=e.toLowerCase(),i.runOutsideAngular(function(){
// Creating the manager bind events, must be done outside of angular
var/** @type {?} */o=r._config.buildHammer(t),/** @type {?} */s=function(t){i.runGuarded(function(){n(t)})};return o.on(e,s),function(){return o.off(e,s)}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(ct);St.decorators=[{type:D.Injectable}],/**
 * @nocollapse
 */
St.ctorParameters=function(){return[{type:void 0,decorators:[{type:D.Inject,args:[Y]}]},{type:Ct,decorators:[{type:D.Inject,args:[Et]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Nt=["alt","control","meta","shift"],Mt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Ot=function(t){/**
     * @param {?} doc
     */
function e(e){return t.call(this,e)||this}/**
     * @param {?} eventName
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} eventName
     * @param {?} handler
     * @return {?}
     */
/**
     * @param {?} eventName
     * @return {?}
     */
/**
     * @param {?} event
     * @return {?}
     */
/**
     * @param {?} fullKey
     * @param {?} handler
     * @param {?} zone
     * @return {?}
     */
/**
     * \@internal
     * @param {?} keyName
     * @return {?}
     */
return F(e,t),e.prototype.supports=function(t){return null!=e.parseEventName(t)},e.prototype.addEventListener=function(t,n,i){var/** @type {?} */o=e.parseEventName(n),/** @type {?} */s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return r().onAndCancel(t,o.domEventName,s)})},e.parseEventName=function(t){var/** @type {?} */n=t.toLowerCase().split("."),/** @type {?} */r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var/** @type {?} */i=e._normalizeKey(n.pop()),/** @type {?} */o="";if(Nt.forEach(function(t){var/** @type {?} */e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)
// returning null instead of throwing to let another plugin process the event
return null;var/** @type {?} */s={};return s.domEventName=r,s.fullKey=o,s},e.getEventFullKey=function(t){var/** @type {?} */e="",/** @type {?} */n=r().getEventKey(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Nt.forEach(function(r){if(r!=n){(0,Mt[r])(t)&&(e+=r+".")}}),e+=n},e.eventCallback=function(t,n,r){return function(i){e.getEventFullKey(i)===t&&r.runGuarded(function(){return n(i)})}},e._normalizeKey=function(t){
// TODO: switch to a Map if the mapping grows too much
switch(t){case"esc":return"escape";default:return t}},e}(ct);Ot.decorators=[{type:D.Injectable}],/**
 * @nocollapse
 */
Ot.ctorParameters=function(){return[{type:void 0,decorators:[{type:D.Inject,args:[Y]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * A pattern that recognizes a commonly useful subset of URLs that are safe.
 *
 * This regular expression matches a subset of URLs that will not cause script
 * execution if used in URL context within a HTML document. Specifically, this
 * regular expression matches if (comment from here on and regex copied from
 * Soy's EscapingConventions):
 * (1) Either a protocol in a whitelist (http, https, mailto or ftp).
 * (2) or no protocol.  A protocol must be followed by a colon. The below
 *     allows that by allowing colons only after one of the characters [/?#].
 *     A colon after a hash (#) must be in the fragment.
 *     Otherwise, a colon after a (?) must be in a query.
 *     Otherwise, a colon after a single solidus (/) must be in a path.
 *     Otherwise, a colon after a double solidus (//) must be in the authority
 *     (before port).
 *
 * The pattern disallows &, used in HTML entity declarations before
 * one of the characters in [/?#]. This disallows HTML entities used in the
 * protocol name, which should never happen, e.g. "h&#116;tp" for "http".
 * It also disallows HTML entities in the first path part of a relative path,
 * e.g. "foo&lt;bar/baz".  Our existing escaping functions should not produce
 * that. More importantly, it disallows masking of a colon,
 * e.g. "javascript&#58;...".
 *
 * This regular expression was taken from the Closure sanitization library.
 */
var Tt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,At=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,Pt=null,kt=null,It=x("area,br,col,hr,img,wbr"),Rt=x("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jt=x("rp,rt"),Dt=E(jt,Rt),Lt=E(Rt,x("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ft=E(jt,x("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ut=E(It,Lt,Ft,Dt),Vt=x("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bt=x("srcset"),zt=x("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qt=E(Vt,Bt,zt),Ht=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}/**
     * @param {?} el
     * @return {?}
     */
/**
     * @param {?} element
     * @return {?}
     */
/**
     * @param {?} current
     * @return {?}
     */
/**
     * @param {?} chars
     * @return {?}
     */
return t.prototype.sanitizeChildren=function(t){for(
// This cannot use a TreeWalker, as it has to run on Angular's various DOM adapters.
// However this code never accesses properties off of `document` before deleting its contents
// again, so it shouldn't be vulnerable to DOM clobbering.
var/** @type {?} */e=t.firstChild;e;)if(kt.isElementNode(e)?this.startElement(/** @type {?} */e):kt.isTextNode(e)?this.chars(kt.nodeValue(e)):
// Strip non-element, non-text nodes.
this.sanitizedSomething=!0,kt.firstChild(e))e=kt.firstChild(e);else for(;e;){
// Leaving the element. Walk up and to the right, closing tags as we go.
kt.isElementNode(e)&&this.endElement(/** @type {?} */e);var/** @type {?} */n=C(e,kt.nextSibling(e));if(n){e=n;break}e=C(e,kt.parentElement(e))}return this.buf.join("")},t.prototype.startElement=function(t){var e=this,/** @type {?} */n=kt.nodeName(t).toLowerCase();if(!Ut.hasOwnProperty(n))return void(this.sanitizedSomething=!0);this.buf.push("<"),this.buf.push(n),kt.attributeMap(t).forEach(function(t,n){var/** @type {?} */r=n.toLowerCase();if(!qt.hasOwnProperty(r))return void(e.sanitizedSomething=!0);
// TODO(martinprobst): Special case image URIs for data:image/...
Vt[r]&&(t=b(t)),Bt[r]&&(t=w(t)),e.buf.push(" "),e.buf.push(n),e.buf.push('="'),e.buf.push(S(t)),e.buf.push('"')}),this.buf.push(">")},t.prototype.endElement=function(t){var/** @type {?} */e=kt.nodeName(t).toLowerCase();Ut.hasOwnProperty(e)&&!It.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(S(t))},t}(),Gt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wt=/([^\#-~ |!])/g,$t=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Yt=/^url\(([^)]+)\)$/,Xt=function(){function t(){}/**
     * Sanitizes a value for use in the given SecurityContext.
     *
     * If value is trusted for the context, this method will unwrap the contained safe value and use
     * it directly. Otherwise, value will be sanitized to be safe in the given context, for example
     * by replacing URLs that have an unsafe protocol part (such as `javascript:`). The implementation
     * is responsible to make sure that the value can definitely be safely used in the given context.
     * @abstract
     * @param {?} context
     * @param {?} value
     * @return {?}
     */
/**
     * Bypass security and trust the given value to be safe HTML. Only use this when the bound HTML
     * is unsafe (e.g. contains `<script>` tags) and the code should be executed. The sanitizer will
     * leave safe HTML intact, so in most situations this method should not be used.
     *
     * **WARNING:** calling this method with untrusted user data exposes your application to XSS
     * security risks!
     * @abstract
     * @param {?} value
     * @return {?}
     */
/**
     * Bypass security and trust the given value to be safe style value (CSS).
     *
     * **WARNING:** calling this method with untrusted user data exposes your application to XSS
     * security risks!
     * @abstract
     * @param {?} value
     * @return {?}
     */
/**
     * Bypass security and trust the given value to be safe JavaScript.
     *
     * **WARNING:** calling this method with untrusted user data exposes your application to XSS
     * security risks!
     * @abstract
     * @param {?} value
     * @return {?}
     */
/**
     * Bypass security and trust the given value to be a safe style URL, i.e. a value that can be used
     * in hyperlinks or `<img src>`.
     *
     * **WARNING:** calling this method with untrusted user data exposes your application to XSS
     * security risks!
     * @abstract
     * @param {?} value
     * @return {?}
     */
/**
     * Bypass security and trust the given value to be a safe resource URL, i.e. a location that may
     * be used to load executable code from, like `<script src>`, or `<iframe src>`.
     *
     * **WARNING:** calling this method with untrusted user data exposes your application to XSS
     * security risks!
     * @abstract
     * @param {?} value
     * @return {?}
     */
return t.prototype.sanitize=function(t,e){},t.prototype.bypassSecurityTrustHtml=function(t){},t.prototype.bypassSecurityTrustStyle=function(t){},t.prototype.bypassSecurityTrustScript=function(t){},t.prototype.bypassSecurityTrustUrl=function(t){},t.prototype.bypassSecurityTrustResourceUrl=function(t){},t}(),Zt=function(t){/**
     * @param {?} _doc
     */
function e(e){var n=t.call(this)||this;return n._doc=e,n}/**
     * @param {?} ctx
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} value
     * @param {?} expectedType
     * @return {?}
     */
/**
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} value
     * @return {?}
     */
return F(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case D.SecurityContext.NONE:return e;case D.SecurityContext.HTML:return e instanceof Qt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),M(this._doc,String(e)));case D.SecurityContext.STYLE:return e instanceof Jt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),T(e));case D.SecurityContext.SCRIPT:if(e instanceof te)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case D.SecurityContext.URL:return e instanceof ne||e instanceof ee?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),b(String(e)));case D.SecurityContext.RESOURCE_URL:if(e instanceof ne)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof Kt)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new Qt(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new Jt(t)},e.prototype.bypassSecurityTrustScript=function(t){return new te(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new ee(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new ne(t)},e}(Xt);Zt.decorators=[{type:D.Injectable}],/**
 * @nocollapse
 */
Zt.ctorParameters=function(){return[{type:void 0,decorators:[{type:D.Inject,args:[Y]}]}]};/**
 * @abstract
 */
var Kt=function(){/**
     * @param {?} changingThisBreaksApplicationSecurity
     */
function t(t){this.changingThisBreaksApplicationSecurity=t}/**
     * @abstract
     * @return {?}
     */
/**
     * @return {?}
     */
return t.prototype.getTypeName=function(){},t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),Qt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}/**
     * @return {?}
     */
return F(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(Kt),Jt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}/**
     * @return {?}
     */
return F(e,t),e.prototype.getTypeName=function(){return"Style"},e}(Kt),te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}/**
     * @return {?}
     */
return F(e,t),e.prototype.getTypeName=function(){return"Script"},e}(Kt),ee=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}/**
     * @return {?}
     */
return F(e,t),e.prototype.getTypeName=function(){return"URL"},e}(Kt),ne=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}/**
     * @return {?}
     */
return F(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(Kt),re=[{provide:D.PLATFORM_ID,useValue:j["PLATFORM_BROWSER_ID"]},{provide:D.PLATFORM_INITIALIZER,useValue:A,multi:!0},{provide:j.PlatformLocation,useClass:X},{provide:Y,useFactory:k,deps:[]}],ie=[{provide:D.Sanitizer,useExisting:Xt},{provide:Xt,useClass:Zt}],oe=n.i(D.createPlatformFactory)(D.platformCore,"browser",re),se=function(){/**
     * @param {?} parentModule
     */
function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}/**
     * Configures a browser-based application to transition from a server-rendered app, if
     * one is present on the page. The specified parameters must include an application id,
     * which must match between the client and server applications.
     *
     * \@experimental
     * @param {?} params
     * @return {?}
     */
return t.withServerTransition=function(e){return{ngModule:t,providers:[{provide:D.APP_ID,useValue:e.appId},{provide:K,useExisting:D.APP_ID},Q]}},t}();se.decorators=[{type:D.NgModule,args:[{providers:[ie,{provide:D.ErrorHandler,useFactory:P,deps:[]},{provide:at,useClass:_t,multi:!0},{provide:at,useClass:Ot,multi:!0},{provide:at,useClass:St,multi:!0},{provide:Et,useClass:Ct},vt,{provide:D.RendererFactory2,useExisting:vt},{provide:lt,useExisting:ft},ft,D.Testability,ut,st,Z,tt],exports:[j.CommonModule,D.ApplicationModule]}]}],/**
 * @nocollapse
 */
se.ctorParameters=function(){return[{type:se,decorators:[{type:D.Optional},{type:D.SkipSelf}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var ae="undefined"!=typeof window&&window||{},ue=function(){/**
     * @param {?} msPerTick
     * @param {?} numTicks
     */
function t(t,e){this.msPerTick=t,this.numTicks=e}return t}(),ce=function(){/**
     * @param {?} ref
     */
function t(t){this.appRef=t.injector.get(D.ApplicationRef)}/**
     * Exercises change detection in a loop and then prints the average amount of
     * time in milliseconds how long a single round of change detection takes for
     * the current state of the UI. It runs a minimum of 5 rounds for a minimum
     * of 500 milliseconds.
     *
     * Optionally, a user may pass a `config` parameter containing a map of
     * options. Supported options are:
     *
     * `record` (boolean) - causes the profiler to record a CPU profile while
     * it exercises the change detector. Example:
     *
     * ```
     * ng.profiler.timeChangeDetection({record: true})
     * ```
     * @param {?} config
     * @return {?}
     */
return t.prototype.timeChangeDetection=function(t){var/** @type {?} */e=t&&t.record,/** @type {?} */n=null!=ae.console.profile;e&&n&&ae.console.profile("Change Detection");for(var/** @type {?} */i=r().performanceNow(),/** @type {?} */o=0;o<5||r().performanceNow()-i<500;)this.appRef.tick(),o++;var/** @type {?} */s=r().performanceNow();e&&n&&
// need to cast to <any> because type checker thinks there's no argument
// while in fact there is:
//
// https://developer.mozilla.org/en-US/docs/Web/API/Console/profileEnd
ae.console.profileEnd("Change Detection");var/** @type {?} */a=(s-i)/o;return ae.console.log("ran "+o+" change detection cycles"),ae.console.log(a.toFixed(2)+" ms per check"),new ue(a,o)},t}(),le="ng.profiler",fe=function(){function t(){}/**
     * Match all elements.
     *
     * ## Example
     *
     * {\@example platform-browser/dom/debug/ts/by/by.ts region='by_all'}
     * @return {?}
     */
/**
     * Match elements by the given CSS selector.
     *
     * ## Example
     *
     * {\@example platform-browser/dom/debug/ts/by/by.ts region='by_css'}
     * @param {?} selector
     * @return {?}
     */
/**
     * Match elements that have the given directive present.
     *
     * ## Example
     *
     * {\@example platform-browser/dom/debug/ts/by/by.ts region='by_directive'}
     * @param {?} type
     * @return {?}
     */
return t.all=function(){return function(t){return!0}},t.css=function(t){return function(e){return null!=e.nativeElement&&r().elementMatches(e.nativeElement,t)}},t.directive=function(t){return function(e){return-1!==e.providerTokens.indexOf(t)}},t}(),pe=new D.Version("4.0.1")},/* 73 */
,/* 74 */
,/* 75 */
,/* 76 */
,/* 77 */
,/* 78 */
,/* 79 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){var s=r(n(38)),a=r(n(21)),u=r(n(262)),c=r(n(2)),l=r(n(32)),f=r(n(10)),p=o("divide",i({
// we extend the signatures of divideScalar with signatures dealing with matrices
"Array | Matrix, Array | Matrix":function(t,e){
// TODO: implement matrix right division using pseudo inverse
// http://www.mathworks.nl/help/matlab/ref/mrdivide.html
// http://www.gnu.org/software/octave/doc/interpreter/Arithmetic-Ops.html
// http://stackoverflow.com/questions/12263932/how-does-gnu-octave-matrix-division-work-getting-unexpected-behaviour
return a(t,u(e))},"Matrix, any":function(t,e){
// result
var n;
// process storage format
switch(t.storage()){case"sparse":n=l(t,e,s,!1);break;case"dense":n=f(t,e,s,!1)}return n},"Array, any":function(t,e){
// use matrix implementation
return f(c(t),e,s,!1).valueOf()},"any, Array | Matrix":function(t,e){return a(t,u(e))}},s.signatures));return p.toTex={2:"\\frac{${args[0]}}{${args[1]}}"},p}var i=n(9).extend;e.name="divide",e.factory=r},/* 80 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){/**
   * Calculates the power of x to y, x^y, for two numbers.
   * @param {number} x
   * @param {number} y
   * @return {number | Complex} res
   * @private
   */
function a(n,r){
// Alternatively could define a 'realmode' config option or something, but
// 'predictable' will work for now
if(e.predictable&&!i(r)&&n<0)
// Check to see if y can be represented as a fraction
try{var o=d(r),s=m(o);if((r===s||Math.abs((r-s)/r)<1e-14)&&o.d%2==1)return(o.n%2==0?1:-1)*Math.pow(-n,r)}catch(t){}return i(r)||n>=0||e.predictable?Math.pow(n,r):new t.Complex(n,0).pow(r,0)}/**
   * Calculate the power of a 2d array
   * @param {Array} x     must be a 2 dimensional, square matrix
   * @param {number} y    a positive, integer value
   * @returns {Array}
   * @private
   */
function u(t,e){if(!i(e)||e<0)throw new TypeError("For A^b, b must be a positive integer (value is "+e+")");
// verify that A is a 2 dimensional square matrix
var n=o(t);if(2!=n.length)throw new Error("For A^b, A must be 2 dimensional (A has "+n.length+" dimensions)");if(n[0]!=n[1])throw new Error("For A^b, A must be square (size is "+n[0]+"x"+n[1]+")");for(var r=f(n[0]).valueOf(),s=t;e>=1;)1==(1&e)&&(r=p(s,r)),e>>=1,s=p(s,s);return r}/**
   * Calculate the power of a 2d matrix
   * @param {Matrix} x     must be a 2 dimensional, square matrix
   * @param {number} y    a positive, integer value
   * @returns {Matrix}
   * @private
   */
function c(t,e){return h(u(t.valueOf(),e))}var l=n(6),f=r(n(165)),p=r(n(21)),h=r(n(2)),d=r(n(278)),m=r(n(174)),v=s("pow",{"number, number":a,"Complex, Complex":function(t,e){return t.pow(e)},"BigNumber, BigNumber":function(n,r){return r.isInteger()||n>=0||e.predictable?n.pow(r):new t.Complex(n.toNumber(),0).pow(r.toNumber(),0)},"Fraction, Fraction":function(t,n){if(1!==n.d){if(e.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return a(t.valueOf(),n.valueOf())}return t.pow(n)},"Array, number":u,"Array, BigNumber":function(t,e){return u(t,e.toNumber())},"Matrix, number":c,"Matrix, BigNumber":function(t,e){return c(t,e.toNumber())},"Unit, number":function(t,e){return t.pow(e)}});return v.toTex={2:"\\left(${args[0]}\\right)"+l.operators.pow+"{${args[1]}}"},v}var i=n(5).isInteger,o=n(11).size;e.name="pow",e.factory=r},/* 81 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){var s=n(6),a=o("unaryMinus",{number:function(t){return-t},Complex:function(t){return t.neg()},BigNumber:function(t){return t.neg()},Fraction:function(t){return t.neg()},Unit:function(t){var e=t.clone();return e.value=a(t.value),e},"Array | Matrix":function(t){
// deep map collection, skip zeros since unaryMinus(0) = 0
return i(t,a,!0)}});return a.toTex={1:s.operators.unaryMinus+"\\left(${args[0]}\\right)"},a}var i=n(3);e.name="unaryMinus",e.factory=r},/* 82 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){/**
   * Create an Array or Matrix with zeros
   * @param {Array} size
   * @param {string} [format='default']
   * @return {Array | Matrix}
   * @private
   */
function a(e,n){var r=u(e),i=r?new t.BigNumber(0):0;if(c(e),n){
// return a matrix
var s=l(n);return e.length>0?s.resize(e,i):s}
// return an Array
var a=[];return e.length>0?o(a,e,i):a}
// replace BigNumbers with numbers, returns true if size contained BigNumbers
function u(t){var e=!1;return t.forEach(function(t,n,r){t&&!0===t.isBigNumber&&(e=!0,r[n]=t.toNumber())}),e}
// validate arguments
function c(t){t.forEach(function(t){if("number"!=typeof t||!i(t)||t<0)throw new Error("Parameters in function zeros must be positive integers")})}var l=r(n(2)),f=s("zeros",{"":function(){return"Array"===e.matrix?a([]):a([],"default")},
// math.zeros(m, n, p, ..., format)
// TODO: more accurate signature '...number | BigNumber, string' as soon as typed-function supports this
"...number | BigNumber | string":function(t){if("string"==typeof t[t.length-1])return a(t,t.pop());return"Array"===e.matrix?a(t):a(t,"default")},Array:a,Matrix:function(t){var e=t.storage();return a(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return a(t.valueOf(),e)}});// use default template
return f.toTex=void 0,f}var i=n(5).isInteger,o=n(11).resize;
// TODO: zeros contains almost the same code as ones. Reuse this?
e.name="zeros",e.factory=r},/* 83 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){var a=r(n(2)),u=r(n(31)),c=r(n(50)),l=r(n(33)),f=r(n(12)),p=r(n(10)),h=n(6),d=s("smaller",{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,n){return t<n&&!i(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return t.lt(n)&&!o(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return-1===t.compare(e)},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"string, string":function(t,e){return t<e},"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse + sparse
n=c(t,e,d);break;default:
// sparse + dense
n=u(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":
// dense + sparse
n=u(t,e,d,!1);break;default:
// dense + dense
n=f(t,e,d)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return d(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return d(a(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return d(t,a(e))},"Matrix, any":function(t,e){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=l(t,e,d,!1);break;default:n=p(t,e,d,!1)}return n},"any, Matrix":function(t,e){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=l(e,t,d,!0);break;default:n=p(e,t,d,!0)}return n},"Array, any":function(t,e){
// use matrix implementation
return p(a(t),e,d,!1).valueOf()},"any, Array":function(t,e){
// use matrix implementation
return p(a(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+h.operators.smaller+"${args[1]}\\right)"},d}var i=n(5).nearlyEqual,o=n(69);e.name="smaller",e.factory=r},/* 84 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Test whether a value is an integer number.
   * The function supports `number`, `BigNumber`, and `Fraction`.
   *
   * The function is evaluated element-wise in case of Array or Matrix input.
   *
   * Syntax:
   *
   *     math.isInteger(x)
   *
   * Examples:
   *
   *    math.isInteger(2);                     // returns true
   *    math.isInteger(0);                     // returns true
   *    math.isInteger(0.5);                   // returns false
   *    math.isInteger(math.bignumber(500));   // returns true
   *    math.isInteger(math.fraction(4));      // returns true
   *    math.isInteger('3');                   // returns true
   *    math.isInteger([3, 0.5, -2]);          // returns [true, false, true]
   *    math.isInteger(math.complex('2-4i');   // throws an error
   *
   * See also:
   *
   *    isNumeric, isPositive, isNegative, isZero
   *
   * @param {number | BigNumber | Fraction | Array | Matrix} x   Value to be tested
   * @return {boolean}  Returns true when `x` contains a numeric, integer value.
   *                    Throws an error in case of an unknown data type.
   */
var s=r("isInteger",{number:o.isInteger,// TODO: what to do with isInteger(add(0.1, 0.2))  ?
BigNumber:function(t){return t.isInt()},Fraction:function(t){return 1===t.d&&isFinite(t.n)},"Array | Matrix":function(t){return i(t,s)}});return s}var i=n(3),o=n(5);e.name="isInteger",e.factory=r},/* 85 */
/***/
function(t,e,n){"use strict";/**
 * Test whether a value is a collection: an Array or Matrix
 * @param {*} x
 * @returns {boolean} isCollection
 */
t.exports=function(t){return Array.isArray(t)||t&&!0===t.isMatrix}},/* 86 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Returns an Observable that emits the results of invoking a specified selector on items
 * emitted by a ConnectableObservable that shares a single subscription to the underlying stream.
 *
 * <img src="./img/multicast.png" width="100%">
 *
 * @param {Function|Subject} Factory function to create an intermediate subject through
 * which the source sequence's elements will be multicast to the selector function
 * or Subject to push source elements into.
 * @param {Function} Optional selector function that can use the multicasted source stream
 * as many times as needed, without causing multiple subscriptions to the source stream.
 * Subscribers to the given source will receive all notifications of the source from the
 * time of the subscription forward.
 * @return {Observable} an Observable that emits the results of invoking the selector
 * on the items emitted by a `ConnectableObservable` that shares a single subscription to
 * the underlying stream.
 * @method multicast
 * @owner Observable
 */
function r(t,e){var n;if(n="function"==typeof t?t:function(){return t},"function"==typeof e)return this.lift(new o(n,e));var r=Object.create(this,i.connectableObservableDescriptor);return r.source=this,r.subjectFactory=n,r}var i=n(289);e.multicast=r;var o=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},t}();e.MulticastOperator=o},/* 87 */
,/* 88 */
,/* 89 */
,/* 90 */
,/* 91 */
,/* 92 */
,/* 93 */
,/* 94 */
/***/
function(t,e,n){"use strict";/**
 * Create a syntax error with the message:
 *     'Wrong number of arguments in function <fn> (<count> provided, <min>-<max> expected)'
 * @param {string} fn     Function name
 * @param {number} count  Actual argument count
 * @param {number} min    Minimum required argument count
 * @param {number} [max]  Maximum required argument count
 * @extends Error
 */
function r(t,e,n,i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=n,this.max=i,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+n+(void 0!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}r.prototype=new Error,r.prototype.constructor=Error,r.prototype.name="ArgumentsError",r.prototype.isArgumentsError=!0,t.exports=r},/* 95 */
/***/
function(t,e,n){"use strict";/**
 * Create a range error with the message:
 *     'Index out of range (index < min)'
 *     'Index out of range (index < max)'
 *
 * @param {number} index     The actual index
 * @param {number} [min=0]   Minimum index (included)
 * @param {number} [max]     Maximum index (excluded)
 * @extends RangeError
 */
function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}r.prototype=new RangeError,r.prototype.constructor=RangeError,r.prototype.name="IndexError",r.prototype.isIndexError=!0,t.exports=r},/* 96 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){/**
   * A ConstantNode holds a constant value like a number or string. A ConstantNode
   * stores a stringified version of the value and uses this to compile to
   * JavaScript.
   *
   * In case of a stringified number as input, this may be compiled to a BigNumber
   * when the math instance is configured for BigNumbers.
   *
   * Usage:
   *
   *     // stringified values with type
   *     new ConstantNode('2.3', 'number');
   *     new ConstantNode('true', 'boolean');
   *     new ConstantNode('hello', 'string');
   *
   *     // non-stringified values, type will be automatically detected
   *     new ConstantNode(2.3);
   *     new ConstantNode('hello');
   *
   * @param {string | number | boolean | null | undefined} value
   *                            When valueType is provided, value must contain
   *                            an uninterpreted string representing the value.
   *                            When valueType is undefined, value can be a
   *                            number, string, boolean, null, or undefined, and
   *                            the type will be determined automatically.
   * @param {string} [valueType]  The type of value. Choose from 'number', 'string',
   *                              'boolean', 'undefined', 'null'
   * @constructor ConstantNode
   * @extends {Node}
   */
function s(t,e){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(e){if("string"!=typeof e)throw new TypeError('String expected for parameter "valueType"');if("string"!=typeof t)throw new TypeError('String expected for parameter "value"');this.value=t,this.valueType=e}else
// stringify the value and determine the type
this.value=t+"",this.valueType=i(t);if(!u[this.valueType])throw new TypeError('Unsupported type of value "'+this.valueType+'"')}var a=r(n(26)),u={number:!0,string:!0,boolean:!0,undefined:!0,null:!0};/**
   * Compile the node to javascript code
   * @param {Object} defs     Object which can be used to define functions
   *                          or constants globally available for the compiled
   *                          expression
   * @param {Object} args     Object with local function arguments, the key is
   *                          the name of the argument, and the value is `true`.
   *                          The object may not be mutated, but must be
   *                          extended instead.
   * @return {string} js
   * @private
   */
/**
   * Execute a callback for each of the child nodes of this node
   * @param {function(child: Node, path: string, parent: Node)} callback
   */
/**
   * Create a new ConstantNode having it's childs be the results of calling
   * the provided callback function for each of the childs of the original node.
   * @param {function(child: Node, path: string, parent: Node) : Node} callback
   * @returns {ConstantNode} Returns a clone of the node
   */
/**
   * Create a clone of this node, a shallow copy
   * @return {ConstantNode}
   */
/**
   * Get string representation
   * @param {Object} options
   * @return {string} str
   */
/**
   * Get LaTeX representation
   * @param {Object} options
   * @return {string} str
   */
return s.prototype=new a,s.prototype.type="ConstantNode",s.prototype.isConstantNode=!0,s.prototype._compile=function(t,e){switch(this.valueType){case"number":
// TODO: replace this with using config.number
var n=t.math.config().number;return"BigNumber"===n?'math.bignumber("'+this.value+'")':"Fraction"===n?'math.fraction("'+this.value+'")':this.value.replace(/^(0*)[0-9]/,function(t,e){return t.substring(e.length)});case"string":return'"'+this.value+'"';case"boolean":case"undefined":case"null":return this.value;default:
// TODO: move this error to the constructor?
throw new TypeError('Unsupported type of constant "'+this.valueType+'"')}},s.prototype.forEach=function(t){},s.prototype.map=function(t){return this.clone()},s.prototype.clone=function(){return new s(this.value,this.valueType)},s.prototype._toString=function(t){switch(this.valueType){case"string":return'"'+this.value+'"';default:return this.value}},s.prototype._toTex=function(t){var e,n=this.value;switch(this.valueType){case"string":return'\\mathtt{"'+n+'"}';case"number":return e=n.toLowerCase().indexOf("e"),-1!==e?n.substring(0,e)+"\\cdot10^{"+n.substring(e+1)+"}":n;default:return n}},s}var i=n(133).type;e.name="ConstantNode",e.path="expression.node",e.factory=r},/* 97 */
/***/
function(t,e,n){"use strict";function r(t,e,r,a,u){/**
   * @constructor FunctionNode
   * @extends {./Node}
   * invoke a list with arguments on a node
   * @param {./Node | string} fn Node resolving with a function on which to invoke
   *                             the arguments, typically a SymboNode or AccessorNode
   * @param {./Node[]} args
   */
function c(t,e){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator");
// validate input
if("string"==typeof t&&(t=new p(t)),!t||!t.isNode)throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(e)||!e.every(function(t){return t&&t.isNode}))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=t,this.args=e||[],
// readonly property name
Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});
// TODO: deprecated since v3, remove some day
var n=function(){throw new Error("Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead")};Object.defineProperty(this,"object",{get:n,set:n})}/*
   * Expand a LaTeX template
   *
   * @param {string} template
   * @param {Node} node
   * @param {Object} options
   * @private
   **/
function l(t,e,n){for(var r,i="",o=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),s=0;null!==(r=o.exec(t));)if(//go through all matches
// add everything in front of the match to the LaTeX string
i+=t.substring(s,r.index),s=r.index,"$$"===r[0])// escaped dollar sign
i+="$",s++;else{// template parameter
s+=r[0].length;var a=e[r[1]];if(!a)throw new ReferenceError("Template: Property "+r[1]+" does not exist.");if(void 0===r[2])//no square brackets
switch(typeof a){case"string":i+=a;break;case"object":if(a.isNode)i+=a.toTex(n);else{if(!Array.isArray(a))throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes");
//make array of Nodes into comma separated list
i+=a.map(function(t,e){if(t&&t.isNode)return t.toTex(n);throw new TypeError("Template: "+r[1]+"["+e+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes")}else{//with square brackets
if(!a[r[2]]||!a[r[2]].isNode)throw new TypeError("Template: "+r[1]+"["+r[2]+"] is not a Node.");i+=a[r[2]].toTex(n)}}//append rest of the template
return i+=t.slice(s)}var f=r(n(26)),p=r(n(59));c.prototype=new f,c.prototype.type="FunctionNode",c.prototype.isFunctionNode=!0,/**
   * Compile the node to javascript code
   * @param {Object} defs     Object which can be used to define functions
   *                          or constants globally available for the compiled
   *                          expression
   * @param {Object} args     Object with local function arguments, the key is
   *                          the name of the argument, and the value is `true`.
   *                          The object may not be mutated, but must be
   *                          extended instead.
   * @return {string} js
   * @private
   */
c.prototype._compile=function(t,e){
// compile fn and arguments
var n,r=this.fn._compile(t,e),i=this.args.map(function(n){return n._compile(t,e)}),o=this._compileScope(t,e);if(this.fn.isSymbolNode){
// we can statically determine whether the function has an rawArgs property
var a=this.fn.name,u=t.math[a];
// pass unevaluated parameters (nodes) to the function
return"function"==typeof u&&1==u.rawArgs?(n=this._getUniqueArgumentsName(t),t[n]=this.args,r+"("+n+", math, "+o+")"):r+"("+i.join(", ")+")"}if(this.fn.isAccessorNode&&this.fn.index.isObjectProperty()){
// execute the function with the right context: the object of the AccessorNode
n=this._getUniqueArgumentsName(t),t[n]=this.args,t.getSafeProperty=s;var c=this.fn.object._compile(t,e),l=this.fn.index.getObjectProperty();return"(function () {var object = "+c+';var value = getSafeProperty(object, "'+l+'");return (value && value.rawArgs)  ? object["'+l+'"]('+n+", math, "+o+') : object["'+l+'"]('+i.join(", ")+")})()"}// this.fn.isAccessorNode && !this.fn.index.isObjectProperty()
// we have to dynamically determine whether the function has a rawArgs property
return n=this._getUniqueArgumentsName(t),t[n]=this.args,"(function () {var fn = "+r+";return (fn && fn.rawArgs)  ? fn("+n+", math, "+o+") : fn("+i.join(", ")+")})()"},/**
   * Merge function arguments into scope before passing to the actual function.
   * This is needed when the function has `rawArgs=true`. In that case we have
   * to pass the `scope` as third argument, including any variables of
   * enclosing functions.
   * @param {Object} defs     Object which can be used to define functions
   *                          or constants globally available for the compiled
   *                          expression
   * @param {Object} args     Object with local function arguments, the key is
   *                          the name of the argument, and the value is `true`.
   *                          The object may not be mutated, but must be
   *                          extended instead.
   * @return {string} js
   * @private
   */
c.prototype._compileScope=function(t,e){var n=Object.keys(e);
// merge arguments into scope
return 0===n.length?"scope":(t.extend=o,"extend(extend({}, scope), {"+n.map(function(t){return'"'+t+'": '+t}).join(", ")+"})")},/**
   * Get a unique name for a arguments to store in defs
   * @param {Object} defs
   * @return {string} A string like 'args1', 'args2', ...
   * @private
   */
c.prototype._getUniqueArgumentsName=function(t){var e,n=0;do{e="args"+n,n++}while(e in t);return e},/**
   * Execute a callback for each of the child nodes of this node
   * @param {function(child: Node, path: string, parent: Node)} callback
   */
c.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},/**
   * Create a new FunctionNode having it's childs be the results of calling
   * the provided callback function for each of the childs of the original node.
   * @param {function(child: Node, path: string, parent: Node): Node} callback
   * @returns {FunctionNode} Returns a transformed copy of the node
   */
c.prototype.map=function(t){for(var e=this.fn.map(t),n=[],r=0;r<this.args.length;r++)n[r]=this._ifNode(t(this.args[r],"args["+r+"]",this));return new c(e,n)},/**
   * Create a clone of this node, a shallow copy
   * @return {FunctionNode}
   */
c.prototype.clone=function(){return new c(this.fn,this.args.slice(0))};
//backup Node's toString function
//@private
var h=c.prototype.toString;/**
   * Get string representation. (wrapper function)
   * This overrides parts of Node's toString function.
   * If callback is an object containing callbacks, it
   * calls the correct callback for the current node,
   * otherwise it falls back to calling Node's toString
   * function.
   *
   * @param {Object} options
   * @return {string} str
   * @override
   */
c.prototype.toString=function(t){var e,n=this.fn.toString(t);
//callback is a map of callback functions
return t&&"object"==typeof t.handler&&t.handler.hasOwnProperty(n)&&(e=t.handler[n](this,t)),void 0!==e?e:h.call(this,t)},/**
   * Get string representation
   * @param {Object} options
   * @return {string} str
   */
c.prototype._toString=function(t){var e=this.args.map(function(e){return e.toString(t)});
// format the arguments like "add(2, 4.2)"
return this.fn.toString(t)+"("+e.join(", ")+")"};
//backup Node's toTex function
//@private
var d=c.prototype.toTex;/**
   * Get LaTeX representation. (wrapper function)
   * This overrides parts of Node's toTex function.
   * If callback is an object containing callbacks, it
   * calls the correct callback for the current node,
   * otherwise it falls back to calling Node's toTex
   * function.
   *
   * @param {Object} options
   * @return {string}
   */
/**
   * Get LaTeX representation
   * @param {Object} options
   * @return {string} str
   */
/**
   * Get identifier.
   * @return {string}
   */
return c.prototype.toTex=function(t){var e;
//callback is a map of callback functions
return t&&"object"==typeof t.handler&&t.handler.hasOwnProperty(this.name)&&(e=t.handler[this.name](this,t)),void 0!==e?e:d.call(this,t)},c.prototype._toTex=function(t){var e,n=this.args.map(function(e){//get LaTeX of the arguments
return e.toTex(t)});!u[this.name]||"function"!=typeof u[this.name].toTex&&"object"!=typeof u[this.name].toTex&&"string"!=typeof u[this.name].toTex||(
//.toTex is a callback function
e=u[this.name].toTex);var r;switch(typeof e){case"function"://a callback function
r=e(this,t);break;case"string"://a template string
r=l(e,this,t);break;case"object"://an object with different "converters" for different numbers of arguments
switch(typeof e[n.length]){case"function":r=e[n.length](this,t);break;case"string":r=l(e[n.length],this,t)}}return void 0!==r?r:l(i.defaultTemplate,this,t)},c.prototype.getIdentifier=function(){return this.type+":"+this.name},c}var i=n(6),o=n(9).extend,s=n(132).getSafeProperty;e.name="FunctionNode",e.path="expression.node",e.math=!0,// request access to the math namespace as 5th argument of the factory function
e.factory=r},/* 98 */
/***/
function(t,e,n){"use strict";/**
 * Get the precedence of a Node.
 * Higher number for higher precedence, starting with 0.
 * Returns null if the precedence is undefined.
 *
 * @param {Node}
 * @param {string} parenthesis
 * @return {number|null}
 */
function r(t,e){var n=t;"keep"!==e&&(
//ParenthesisNodes are only ignored when not in 'keep' mode
n=t.getContent());for(var r=n.getIdentifier(),i=0;i<s.length;i++)if(r in s[i])return i;return null}/**
 * Get the associativity of an operator (left or right).
 * Returns a string containing 'left' or 'right' or null if
 * the associativity is not defined.
 *
 * @param {Node}
 * @param {string} parenthesis
 * @return {string|null}
 * @throws {Error}
 */
function i(t,e){var n=t;"keep"!==e&&(
//ParenthesisNodes are only ignored when not in 'keep' mode
n=t.getContent());var i=n.getIdentifier(),o=r(n,e);if(null===o)
//node isn't in the list
return null;var a=s[o][i];if(a.hasOwnProperty("associativity")){if("left"===a.associativity)return"left";if("right"===a.associativity)return"right";
//associativity is invalid
throw Error("'"+i+"' has the invalid associativity '"+a.associativity+"'.")}
//associativity is undefined
return null}/**
 * Check if an operator is associative with another operator.
 * Returns either true or false or null if not defined.
 *
 * @param {Node} nodeA
 * @param {Node} nodeB
 * @param {string} parenthesis
 * @return {bool|null}
 */
function o(t,e,n){var i=t,o=e;if("keep"!==n)
//ParenthesisNodes are only ignored when not in 'keep' mode
var i=t.getContent(),o=e.getContent();var a=i.getIdentifier(),u=o.getIdentifier(),c=r(i,n);if(null===c)
//node isn't in the list
return null;var l=s[c][a];if(l.hasOwnProperty("associativeWith")&&l.associativeWith instanceof Array){for(var f=0;f<l.associativeWith.length;f++)if(l.associativeWith[f]===u)return!0;return!1}
//associativeWith is not defined
return null}
//list of identifiers of nodes in order of their precedence
//also contains information about left/right associativity
//and which other operator the operator is associative with
//Example:
// addition is associative with addition and subtraction, because:
// (a+b)+c=a+(b+c)
// (a+b)-c=a+(b-c)
//
// postfix operators are left associative, prefix operators 
// are right associative
//
//It's also possible to set the following properties:
// latexParens: if set to false, this node doesn't need to be enclosed
//              in parentheses when using LaTeX
// latexLeftParens: if set to false, this !OperatorNode's! 
//                  left argument doesn't need to be enclosed
//                  in parentheses
// latexRightParens: the same for the right argument
var s=[{//assignment
AssignmentNode:{},FunctionAssignmentNode:{}},{//conditional expression
ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{//logical or
"OperatorNode:or":{associativity:"left",associativeWith:[]}},{//logical xor
"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{//logical and
"OperatorNode:and":{associativity:"left",associativeWith:[]}},{//bitwise or
"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{//bitwise xor
"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{//bitwise and
"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{//relational operators
"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]}},{//bitshift operators
"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{//unit conversion
"OperatorNode:to":{associativity:"left",associativeWith:[]}},{//range
RangeNode:{}},{//addition, subtraction
"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{//multiply, divide, modulus
"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{//unary prefix operators
"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{//exponentiation
"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{//factorial
"OperatorNode:factorial":{associativity:"left"}},{//matrix transpose
"OperatorNode:transpose":{associativity:"left"}}];t.exports.properties=s,t.exports.getPrecedence=r,t.exports.getAssociativity=i,t.exports.isAssociativeWith=o},/* 99 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){var a=r(n(2)),u=r(n(31)),c=r(n(128)),l=r(n(33)),f=r(n(12)),p=r(n(10)),h=s("compare",{"boolean, boolean":function(t,e){return t===e?0:t>e?1:-1},"number, number":function(t,n){return t===n||i(t,n,e.epsilon)?0:t>n?1:-1},"BigNumber, BigNumber":function(n,r){return n.eq(r)||o(n,r,e.epsilon)?new t.BigNumber(0):new t.BigNumber(n.cmp(r))},"Fraction, Fraction":function(e,n){return new t.Fraction(e.compare(n))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return h(t.value,e.value)},"string, string":function(t,e){return t===e?0:t>e?1:-1},"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse + sparse
n=c(t,e,h);break;default:
// sparse + dense
n=u(e,t,h,!0)}break;default:switch(e.storage()){case"sparse":
// dense + sparse
n=u(t,e,h,!1);break;default:
// dense + dense
n=f(t,e,h)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return h(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return h(a(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return h(t,a(e))},"Matrix, any":function(t,e){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=l(t,e,h,!1);break;default:n=p(t,e,h,!1)}return n},"any, Matrix":function(t,e){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=l(e,t,h,!0);break;default:n=p(e,t,h,!0)}return n},"Array, any":function(t,e){
// use matrix implementation
return p(a(t),e,h,!1).valueOf()},"any, Array":function(t,e){
// use matrix implementation
return p(a(e),t,h,!0).valueOf()}});// use default template
return h.toTex=void 0,h}var i=n(5).nearlyEqual,o=n(69);e.name="compare",e.factory=r},/* 100 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Test whether a value is negative: smaller than zero.
   * The function supports types `number`, `BigNumber`, `Fraction`, and `Unit`.
   *
   * The function is evaluated element-wise in case of Array or Matrix input.
   *
   * Syntax:
   *
   *     math.isNegative(x)
   *
   * Examples:
   *
   *    math.isNegative(3);                     // returns false
   *    math.isNegative(-2);                    // returns true
   *    math.isNegative(0);                     // returns false
   *    math.isNegative(-0);                    // returns false
   *    math.isNegative(math.bignumber(2));     // returns false
   *    math.isNegative(math.fraction(-2, 5));  // returns true
   *    math.isNegative('-2');                  // returns true
   *    math.isNegative([2, 0, -3]');           // returns [false, false, true]
   *
   * See also:
   *
   *    isNumeric, isPositive, isZero, isInteger
   *
   * @param {number | BigNumber | Fraction | Unit | Array | Matrix} x  Value to be tested
   * @return {boolean}  Returns true when `x` is larger than zero.
   *                    Throws an error in case of an unknown data type.
   */
var o=r("isNegative",{number:function(t){return t<0},BigNumber:function(t){return t.isNeg()&&!t.isZero()&&!t.isNaN()},Fraction:function(t){return t.s<0},Unit:function(t){return o(t.value)},"Array | Matrix":function(t){return i(t,o)}});return o}var i=n(3);n(5);e.name="isNegative",e.factory=r},/* 101 */
/***/
function(t,e,n){"use strict";var r=n(0),i=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}/**
     * Delivers to the given `observer` the value wrapped by this Notification.
     * @param {Observer} observer
     * @return
     */
/**
     * Given some {@link Observer} callbacks, deliver the value represented by the
     * current Notification to the correctly corresponding callback.
     * @param {function(value: T): void} next An Observer `next` callback.
     * @param {function(err: any): void} [error] An Observer `error` callback.
     * @param {function(): void} [complete] An Observer `complete` callback.
     * @return {any}
     */
/**
     * Takes an Observer or its individual callback functions, and calls `observe`
     * or `do` methods accordingly.
     * @param {Observer|function(value: T): void} nextOrObserver An Observer or
     * the `next` callback.
     * @param {function(err: any): void} [error] An Observer `error` callback.
     * @param {function(): void} [complete] An Observer `complete` callback.
     * @return {any}
     */
/**
     * Returns a simple Observable that just delivers the notification represented
     * by this Notification instance.
     * @return {any}
     */
/**
     * A shortcut to create a Notification instance of the type `next` from a
     * given value.
     * @param {T} value The `next` value.
     * @return {Notification<T>} The "next" Notification representing the
     * argument.
     */
/**
     * A shortcut to create a Notification instance of the type `error` from a
     * given error.
     * @param {any} [err] The `error` error.
     * @return {Notification<T>} The "error" Notification representing the
     * argument.
     */
/**
     * A shortcut to create a Notification instance of the type `complete`.
     * @return {Notification<any>} The valueless "complete" Notification.
     */
return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return r.Observable.of(this.value);case"E":return r.Observable.throw(this.error);case"C":return r.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):this.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return this.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();e.Notification=i},/* 102 */
/***/
function(t,e,n){"use strict";/**
 * Applies a given `project` function to each value emitted by the source
 * Observable, and emits the resulting values as an Observable.
 *
 * <span class="informal">Like [Array.prototype.map()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map),
 * it passes each source value through a transformation function to get
 * corresponding output values.</span>
 *
 * <img src="./img/map.png" width="100%">
 *
 * Similar to the well known `Array.prototype.map` function, this operator
 * applies a projection to each value and emits that projection in the output
 * Observable.
 *
 * @example <caption>Map every every click to the clientX position of that click</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var positions = clicks.map(ev => ev.clientX);
 * positions.subscribe(x => console.log(x));
 *
 * @see {@link mapTo}
 * @see {@link pluck}
 *
 * @param {function(value: T, index: number): R} project The function to apply
 * to each `value` emitted by the source Observable. The `index` parameter is
 * the number `i` for the i-th emission that has happened since the
 * subscription, starting from the number `0`.
 * @param {any} [thisArg] An optional argument to define what `this` is in the
 * `project` function.
 * @return {Observable<R>} An Observable that emits the values from the source
 * Observable transformed by the given `project` function.
 * @method map
 * @owner Observable
 */
function r(t,e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.map=r;var s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}();e.MapOperator=s;/**
 * We need this JSDoc comment for affecting ESDoc.
 * @ignore
 * @extends {Ignored}
 */
var a=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.count=0,this.thisArg=r||this}
// NOTE: This looks unoptimized, but it's actually purposefully NOT
// using try/catch optimizations.
return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.Subscriber)},/* 103 */
/***/
function(t,e,n){"use strict";/**
 * Converts a higher-order Observable into a first-order Observable which
 * concurrently delivers all values that are emitted on the inner Observables.
 *
 * <span class="informal">Flattens an Observable-of-Observables.</span>
 *
 * <img src="./img/mergeAll.png" width="100%">
 *
 * `mergeAll` subscribes to an Observable that emits Observables, also known as
 * a higher-order Observable. Each time it observes one of these emitted inner
 * Observables, it subscribes to that and delivers all the values from the
 * inner Observable on the output Observable. The output Observable only
 * completes once all inner Observables have completed. Any error delivered by
 * a inner Observable will be immediately emitted on the output Observable.
 *
 * @example <caption>Spawn a new interval Observable for each click event, and blend their outputs as one Observable</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000));
 * var firstOrder = higherOrder.mergeAll();
 * firstOrder.subscribe(x => console.log(x));
 *
 * @example <caption>Count from 0 to 9 every second for each click, but only allow 2 concurrent timers</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000).take(10));
 * var firstOrder = higherOrder.mergeAll(2);
 * firstOrder.subscribe(x => console.log(x));
 *
 * @see {@link combineAll}
 * @see {@link concatAll}
 * @see {@link exhaust}
 * @see {@link merge}
 * @see {@link mergeMap}
 * @see {@link mergeMapTo}
 * @see {@link mergeScan}
 * @see {@link switch}
 * @see {@link zipAll}
 *
 * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of inner
 * Observables being subscribed to concurrently.
 * @return {Observable} An Observable that emits values coming from all the
 * inner Observables emitted by the source Observable.
 * @method mergeAll
 * @owner Observable
 */
function r(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),s=n(8);e.mergeAll=r;var a=function(){function t(t){this.concurrent=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.concurrent))},t}();e.MergeAllOperator=a;/**
 * We need this JSDoc comment for affecting ESDoc.
 * @ignore
 * @extends {Ignored}
 */
var u=function(t){function e(e,n){t.call(this,e),this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?(this.active++,this.add(s.subscribeToResult(this,t))):this.buffer.push(t)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);e.MergeAllSubscriber=u},/* 104 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(27),o=n(1093),s=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n,this.pending=!1}/**
     * Immediately executes this action and the `work` it contains.
     * @return {any}
     */
return r(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;
// Always replace the current state with the new state.
this.state=t,
// Set the pending flag indicating that this action has been scheduled, or
// has recursively rescheduled itself.
this.pending=!0;var n=this.id,r=this.scheduler;
//
// Important implementation note:
//
// Actions only execute once by default, unless rescheduled from within the
// scheduled callback. This allows us to implement single and repeat
// actions via the same code path, without adding API surface area, as well
// as mimic traditional recursion but across asynchronous boundaries.
//
// However, JS runtimes and timers distinguish between intervals achieved by
// serial `setTimeout` calls vs. a single `setInterval` call. An interval of
// serial `setTimeout` calls can be individually delayed, which delays
// scheduling the next `setTimeout`, and so on. `setInterval` attempts to
// guarantee the interval callback will be invoked more precisely to the
// interval period, regardless of load.
//
// Therefore, we use `setInterval` to schedule single and repeat actions.
// If the action reschedules itself with the same delay, the interval is not
// canceled. If the action doesn't reschedule, or reschedules with a
// different delay, the interval will be canceled after scheduled callback
// execution.
//
// If this action has already an async Id, don't request a new one.
return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),i.root.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){
// If this action is rescheduled with the same delay time, don't clear the interval id.
// If this action is rescheduled with the same delay time, don't clear the interval id.
return void 0===n&&(n=0),null!==n&&this.delay===n?e:i.root.clearInterval(e)&&void 0||void 0},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(
// Dequeue if the action didn't reschedule itself. Don't call
// unsubscribe(), because the action could reschedule later.
// For example:
// ```
// scheduler.schedule(function doWork(counter) {
//   /* ... I'm a busy worker bee ... */
//   var originalAction = this;
//   /* wait 100ms before rescheduling the action */
//   setTimeout(function () {
//     originalAction.schedule(counter + 1);
//   }, 100);
// }, 1000);
// ```
this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.delay=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null))},e}(o.Action);e.AsyncAction=s},/* 105 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(852),o=function(t){function e(){t.apply(this,arguments),this.actions=[],/**
         * A flag to indicate whether the Scheduler is currently executing a batch of
         * queued actions.
         * @type {boolean}
         */
this.active=!1,/**
         * An internal ID used to track the latest asynchronous task such as those
         * coming from `setTimeout`, `setInterval`, `requestAnimationFrame`, and
         * others.
         * @type {any}
         */
this.scheduled=void 0}return r(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)return void e.push(t);var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(// exhaust the scheduler queue
this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}},e}(i.Scheduler);e.AsyncScheduler=o},/* 106 */
/***/
function(t,e,n){"use strict";function r(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;
// [for Mozilla Gecko 27-35:](https://mzl.la/2ewE1zC)
var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=t.Map;
// required for compatability with es6-shim
if(r)for(var i=Object.getOwnPropertyNames(r.prototype),o=0;o<i.length;++o){var s=i[o];
// according to spec, Map.prototype[@@iterator] and Map.orototype.entries must be equal.
if("entries"!==s&&"size"!==s&&r.prototype[s]===r.prototype.entries)return s}return"@@iterator"}var i=n(27);e.symbolIteratorPonyfill=r,e.$$iterator=r(i.root)},/* 107 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.EmptyError=i},/* 108 */
,/* 109 */
/***/
function(t,e,n){"use strict";/**
 * @param {?} baseHref
 * @param {?} url
 * @return {?}
 */
function r(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}/**
 * @param {?} url
 * @return {?}
 */
function i(t){return t.replace(/\/index.html$/,"")}/**
 * Returns the plural category for a given value.
 * - "=value" when the case exists,
 * - the plural category otherwise
 *
 * \@internal
 * @param {?} value
 * @param {?} cases
 * @param {?} ngLocalization
 * @return {?}
 */
function o(t,e,n){var/** @type {?} */r="="+t;if(e.indexOf(r)>-1)return r;if(r=n.getPluralCategory(t),e.indexOf(r)>-1)return r;if(e.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'+t+'"')}/**
 * Returns the plural case based on the locale
 *
 * \@experimental
 * @param {?} locale
 * @param {?} nLike
 * @return {?}
 */
function s(t,e){
// TODO(vicb): lazy compute
"string"==typeof e&&(e=parseInt(/** @type {?} */e,10));var/** @type {?} */n=e,/** @type {?} */r=n.toString().replace(/^[^.]*\.?/,""),/** @type {?} */i=Math.floor(Math.abs(n)),/** @type {?} */o=r.length,/** @type {?} */s=parseInt(r,10),/** @type {?} */a=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(t.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?q.One:q.Other;case"agq":case"bas":case"cu":case"dav":case"dje":case"dua":case"dyo":case"ebu":case"ewo":case"guz":case"kam":case"khq":case"ki":case"kln":case"kok":case"ksf":case"lrc":case"lu":case"luo":case"luy":case"mer":case"mfe":case"mgh":case"mua":case"mzn":case"nmg":case"nus":case"qu":case"rn":case"rw":case"sbp":case"twq":case"vai":case"yav":case"yue":case"zgh":case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?q.One:q.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===i||1===n?q.One:q.Other;case"ar":return 0===n?q.Zero:1===n?q.One:2===n?q.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?q.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?q.Many:q.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===i&&0===o?q.One:q.Other;case"be":return n%10==1&&n%100!=11?q.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?q.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?q.Many:q.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?q.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?q.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?q.Few:0!==n&&n%1e6==0?q.Many:q.Other;case"bs":case"hr":case"sr":return 0===o&&i%10==1&&i%100!=11||s%10==1&&s%100!=11?q.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)||s%10===Math.floor(s%10)&&s%10>=2&&s%10<=4&&!(s%100>=12&&s%100<=14)?q.Few:q.Other;case"cs":case"sk":return 1===i&&0===o?q.One:i===Math.floor(i)&&i>=2&&i<=4&&0===o?q.Few:0!==o?q.Many:q.Other;case"cy":return 0===n?q.Zero:1===n?q.One:2===n?q.Two:3===n?q.Few:6===n?q.Many:q.Other;case"da":return 1===n||0!==a&&(0===i||1===i)?q.One:q.Other;case"dsb":case"hsb":return 0===o&&i%100==1||s%100==1?q.One:0===o&&i%100==2||s%100==2?q.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||s%100===Math.floor(s%100)&&s%100>=3&&s%100<=4?q.Few:q.Other;case"ff":case"fr":case"hy":case"kab":return 0===i||1===i?q.One:q.Other;case"fil":return 0===o&&(1===i||2===i||3===i)||0===o&&i%10!=4&&i%10!=6&&i%10!=9||0!==o&&s%10!=4&&s%10!=6&&s%10!=9?q.One:q.Other;case"ga":return 1===n?q.One:2===n?q.Two:n===Math.floor(n)&&n>=3&&n<=6?q.Few:n===Math.floor(n)&&n>=7&&n<=10?q.Many:q.Other;case"gd":return 1===n||11===n?q.One:2===n||12===n?q.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?q.Few:q.Other;case"gv":return 0===o&&i%10==1?q.One:0===o&&i%10==2?q.Two:0!==o||i%100!=0&&i%100!=20&&i%100!=40&&i%100!=60&&i%100!=80?0!==o?q.Many:q.Other:q.Few;case"he":return 1===i&&0===o?q.One:2===i&&0===o?q.Two:0!==o||n>=0&&n<=10||n%10!=0?q.Other:q.Many;case"is":return 0===a&&i%10==1&&i%100!=11||0!==a?q.One:q.Other;case"ksh":return 0===n?q.Zero:1===n?q.One:q.Other;case"kw":case"naq":case"se":case"smn":return 1===n?q.One:2===n?q.Two:q.Other;case"lag":return 0===n?q.Zero:0!==i&&1!==i||0===n?q.Other:q.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?q.Few:0!==s?q.Many:q.Other:q.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===o&&s%100===Math.floor(s%100)&&s%100>=11&&s%100<=19?q.Zero:n%10==1&&n%100!=11||2===o&&s%10==1&&s%100!=11||2!==o&&s%10==1?q.One:q.Other;case"mk":return 0===o&&i%10==1||s%10==1?q.One:q.Other;case"mt":return 1===n?q.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?q.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?q.Many:q.Other;case"pl":return 1===i&&0===o?q.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?q.Few:0===o&&1!==i&&i%10===Math.floor(i%10)&&i%10>=0&&i%10<=1||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=12&&i%100<=14?q.Many:q.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?q.One:q.Other;case"ro":return 1===i&&0===o?q.One:0!==o||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?q.Few:q.Other;case"ru":case"uk":return 0===o&&i%10==1&&i%100!=11?q.One:0===o&&i%10===Math.floor(i%10)&&i%10>=2&&i%10<=4&&!(i%100>=12&&i%100<=14)?q.Few:0===o&&i%10==0||0===o&&i%10===Math.floor(i%10)&&i%10>=5&&i%10<=9||0===o&&i%100===Math.floor(i%100)&&i%100>=11&&i%100<=14?q.Many:q.Other;case"shi":return 0===i||1===n?q.One:n===Math.floor(n)&&n>=2&&n<=10?q.Few:q.Other;case"si":return 0===n||1===n||0===i&&1===s?q.One:q.Other;case"sl":return 0===o&&i%100==1?q.One:0===o&&i%100==2?q.Two:0===o&&i%100===Math.floor(i%100)&&i%100>=3&&i%100<=4||0!==o?q.Few:q.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?q.One:q.Other;default:return q.Other}}/**
 * @param {?} type
 * @return {?}
 */
function a(t){return t.name||typeof t}/**
 * A collection of deprecated directives that are no longer part of the core module.
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} type
 * @param {?} value
 * @return {?}
 */
function u(t,e){return Error("InvalidPipeArgument: '"+e+"' for pipe '"+n.i(k["stringify"])(t)+"'")}/**
 * Helper method to transform a single word to titlecase.
 *
 * \@stable
 * @param {?} word
 * @return {?}
 */
function c(t){return t?t[0].toUpperCase()+t.substr(1).toLowerCase():t}/**
 * @param {?} inner
 * @return {?}
 */
function l(t){return function(e,n){var/** @type {?} */r=t(e,n);return 1==r.length?"0"+r:r}}/**
 * @param {?} inner
 * @return {?}
 */
function f(t){return function(e,n){return t(e,n).split(" ")[0]}}/**
 * @param {?} date
 * @param {?} locale
 * @param {?} options
 * @return {?}
 */
function p(t,e,n){return new Intl.DateTimeFormat(e,n).format(t).replace(/[\u200e\u200f]/g,"")}/**
 * @param {?} timezone
 * @return {?}
 */
function h(t){
// To workaround `Intl` API restriction for single timezone let format with 24 hours
var/** @type {?} */e={hour:"2-digit",hour12:!1,timeZoneName:t};return function(t,n){var/** @type {?} */r=p(t,n,e);
// Then extract first 3 letters that related to hours
return r?r.substring(3):""}}/**
 * @param {?} options
 * @param {?} value
 * @return {?}
 */
function d(t,e){return t.hour12=e,t}/**
 * @param {?} prop
 * @param {?} len
 * @return {?}
 */
function m(t,e){var/** @type {?} */n={};return n[t]=2===e?"2-digit":"numeric",n}/**
 * @param {?} prop
 * @param {?} len
 * @return {?}
 */
function v(t,e){var/** @type {?} */n={};return n[t]=e<4?e>1?"short":"narrow":"long",n}/**
 * @param {?} options
 * @return {?}
 */
function y(t){return Object.assign.apply(Object,[{}].concat(t))}/**
 * @param {?} ret
 * @return {?}
 */
function g(t){return function(e,n){return p(e,n,t)}}/**
 * @param {?} format
 * @param {?} date
 * @param {?} locale
 * @return {?}
 */
function b(t,e,n){var/** @type {?} */r=gt[t];if(r)return r(e,n);var/** @type {?} */i=t,/** @type {?} */o=wt.get(i);if(!o){o=[];var/** @type {?} */s=void 0;for(yt.exec(t);t;)s=yt.exec(t),s?(o=o.concat(s.slice(1)),t=o.pop()):(o.push(t),t=null);wt.set(i,o)}return o.reduce(function(t,r){var/** @type {?} */i=bt[r];return t+(i?i(e,n):w(r))},"")}/**
 * @param {?} part
 * @return {?}
 */
function w(t){return"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}/**
 * @param {?} pipe
 * @param {?} locale
 * @param {?} value
 * @param {?} style
 * @param {?} digits
 * @param {?=} currency
 * @param {?=} currencyAsSymbol
 * @return {?}
 */
function _(t,e,n,r,i,o,s){if(void 0===o&&(o=null),void 0===s&&(s=!1),null==n)return null;if("number"!=typeof(
// Convert strings to numbers
n="string"==typeof n&&E(n)?+n:n))throw u(t,n);var/** @type {?} */a,/** @type {?} */c,/** @type {?} */l;if(r!==mt.Currency&&(
// rely on Intl default for currency
a=1,c=0,l=3),i){var/** @type {?} */f=i.match(xt);if(null===f)throw new Error(i+" is not a valid digit info for number pipes");null!=f[1]&&(a=x(f[1])),null!=f[3]&&(c=x(f[3])),null!=f[5]&&(l=x(f[5]))}/** @type {?} */
return vt.format(n,e,r,{minimumIntegerDigits:a,minimumFractionDigits:c,maximumFractionDigits:l,currency:o,currencyAsSymbol:s})}/**
 * @param {?} text
 * @return {?}
 */
function x(t){var/** @type {?} */e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}/**
 * @param {?} value
 * @return {?}
 */
function E(t){return!isNaN(t-parseFloat(t))}/**
 * @param {?} obj
 * @return {?}
 */
function C(t){return null==t||""===t}/**
 * @param {?} obj
 * @return {?}
 */
function S(t){return t instanceof Date&&!isNaN(t.valueOf())}/**
 * @param {?} match
 * @return {?}
 */
function N(t){var/** @type {?} */e=new Date(0),/** @type {?} */n=0,/** @type {?} */r=0,/** @type {?} */i=t[8]?e.setUTCFullYear:e.setFullYear,/** @type {?} */o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=M(t[9]+t[10]),r=M(t[9]+t[11])),i.call(e,M(t[1]),M(t[2])-1,M(t[3]));var/** @type {?} */s=M(t[4]||"0")-n,/** @type {?} */a=M(t[5]||"0")-r,/** @type {?} */u=M(t[6]||"0"),/** @type {?} */c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}/**
 * @param {?} str
 * @return {?}
 */
function M(t){return parseInt(t,10)}/**
 * Returns whether a platform id represents a browser platform.
 * \@experimental
 * @param {?} platformId
 * @return {?}
 */
function O(t){return t===It}/**
 * Returns whether a platform id represents a server platform.
 * \@experimental
 * @param {?} platformId
 * @return {?}
 */
function T(t){return t===Rt}/**
 * Returns whether a platform id represents a web worker app platform.
 * \@experimental
 * @param {?} platformId
 * @return {?}
 */
function A(t){return t===jt}/**
 * Returns whether a platform id represents a web worker UI platform.
 * \@experimental
 * @param {?} platformId
 * @return {?}
 */
function P(t){return t===Dt}Object.defineProperty(e,"__esModule",{value:!0});/* harmony import */
var k=n(23);/* harmony export (binding) */
n.d(e,"NgLocaleLocalization",function(){return z}),/* harmony export (binding) */
n.d(e,"NgLocalization",function(){return B}),/* harmony export (binding) */
n.d(e,"CommonModule",function(){return kt}),/* harmony export (binding) */
n.d(e,"NgClass",function(){return H}),/* harmony export (binding) */
n.d(e,"NgFor",function(){return X}),/* harmony export (binding) */
n.d(e,"NgForOf",function(){return $}),/* harmony export (binding) */
n.d(e,"NgForOfContext",function(){return W}),/* harmony export (binding) */
n.d(e,"NgIf",function(){return Z}),/* harmony export (binding) */
n.d(e,"NgIfContext",function(){return K}),/* harmony export (binding) */
n.d(e,"NgPlural",function(){return nt}),/* harmony export (binding) */
n.d(e,"NgPluralCase",function(){return rt}),/* harmony export (binding) */
n.d(e,"NgStyle",function(){return it}),/* harmony export (binding) */
n.d(e,"NgSwitch",function(){return J}),/* harmony export (binding) */
n.d(e,"NgSwitchCase",function(){return tt}),/* harmony export (binding) */
n.d(e,"NgSwitchDefault",function(){return et}),/* harmony export (binding) */
n.d(e,"NgTemplateOutlet",function(){return ot}),/* harmony export (binding) */
n.d(e,"NgComponentOutlet",function(){return G}),/* harmony export (binding) */
n.d(e,"AsyncPipe",function(){return ft}),/* harmony export (binding) */
n.d(e,"DatePipe",function(){return Nt}),/* harmony export (binding) */
n.d(e,"I18nPluralPipe",function(){return Mt}),/* harmony export (binding) */
n.d(e,"I18nSelectPipe",function(){return Ot}),/* harmony export (binding) */
n.d(e,"JsonPipe",function(){return Tt}),/* harmony export (binding) */
n.d(e,"LowerCasePipe",function(){return pt}),/* harmony export (binding) */
n.d(e,"CurrencyPipe",function(){return St}),/* harmony export (binding) */
n.d(e,"DecimalPipe",function(){return Et}),/* harmony export (binding) */
n.d(e,"PercentPipe",function(){return Ct}),/* harmony export (binding) */
n.d(e,"SlicePipe",function(){return At}),/* harmony export (binding) */
n.d(e,"UpperCasePipe",function(){return dt}),/* harmony export (binding) */
n.d(e,"TitleCasePipe",function(){return ht}),/* harmony export (binding) */
n.d(e,"PLATFORM_BROWSER_ID",function(){return It}),/* harmony export (binding) */
n.d(e,"PLATFORM_SERVER_ID",function(){return Rt}),/* harmony export (binding) */
n.d(e,"PLATFORM_WORKER_APP_ID",function(){return jt}),/* harmony export (binding) */
n.d(e,"PLATFORM_WORKER_UI_ID",function(){return Dt}),/* harmony export (binding) */
n.d(e,"isPlatformBrowser",function(){return O}),/* harmony export (binding) */
n.d(e,"isPlatformServer",function(){return T}),/* harmony export (binding) */
n.d(e,"isPlatformWorkerApp",function(){return A}),/* harmony export (binding) */
n.d(e,"isPlatformWorkerUi",function(){return P}),/* harmony export (binding) */
n.d(e,"VERSION",function(){return Lt}),/* harmony export (binding) */
n.d(e,"PlatformLocation",function(){return R}),/* harmony export (binding) */
n.d(e,"LOCATION_INITIALIZED",function(){return j}),/* harmony export (binding) */
n.d(e,"LocationStrategy",function(){return D}),/* harmony export (binding) */
n.d(e,"APP_BASE_HREF",function(){return L}),/* harmony export (binding) */
n.d(e,"HashLocationStrategy",function(){return U}),/* harmony export (binding) */
n.d(e,"PathLocationStrategy",function(){return V}),/* harmony export (binding) */
n.d(e,"Location",function(){return F}),/* harmony export (binding) */
n.d(e,"a",function(){return st}),/* harmony export (binding) */
n.d(e,"b",function(){return Pt});var I=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},R=function(){function t(){}/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @param {?} fn
     * @return {?}
     */
/**
     * @abstract
     * @param {?} fn
     * @return {?}
     */
/**
     * @abstract
     * @param {?} state
     * @param {?} title
     * @param {?} url
     * @return {?}
     */
/**
     * @abstract
     * @param {?} state
     * @param {?} title
     * @param {?} url
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
return t.prototype.getBaseHrefFromDOM=function(){},t.prototype.onPopState=function(t){},t.prototype.onHashChange=function(t){},Object.defineProperty(t.prototype,"pathname",{/**
         * @return {?}
         */
get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"search",{/**
         * @return {?}
         */
get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hash",{/**
         * @return {?}
         */
get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.replaceState=function(t,e,n){},t.prototype.pushState=function(t,e,n){},t.prototype.forward=function(){},t.prototype.back=function(){},t}(),j=new k.InjectionToken("Location Initialized"),D=function(){function t(){}/**
     * @abstract
     * @param {?=} includeHash
     * @return {?}
     */
/**
     * @abstract
     * @param {?} internal
     * @return {?}
     */
/**
     * @abstract
     * @param {?} state
     * @param {?} title
     * @param {?} url
     * @param {?} queryParams
     * @return {?}
     */
/**
     * @abstract
     * @param {?} state
     * @param {?} title
     * @param {?} url
     * @param {?} queryParams
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @param {?} fn
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
return t.prototype.path=function(t){},t.prototype.prepareExternalUrl=function(t){},t.prototype.pushState=function(t,e,n,r){},t.prototype.replaceState=function(t,e,n,r){},t.prototype.forward=function(){},t.prototype.back=function(){},t.prototype.onPopState=function(t){},t.prototype.getBaseHref=function(){},t}(),L=new k.InjectionToken("appBaseHref"),F=function(){/**
     * @param {?} platformStrategy
     */
function t(e){var n=this;/**
         * \@internal
         */
this._subject=new k.EventEmitter,this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(i(r)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,type:t.type})})}/**
     * @param {?=} includeHash
     * @return {?}
     */
/**
     * Normalizes the given path and compares to the current normalized path.
     * @param {?} path
     * @param {?=} query
     * @return {?}
     */
/**
     * Given a string representing a URL, returns the normalized URL path without leading or
     * trailing slashes.
     * @param {?} url
     * @return {?}
     */
/**
     * Given a string representing a URL, returns the platform-specific external URL path.
     * If the given URL doesn't begin with a leading slash (`'/'`), this method adds one
     * before normalizing. This method will also add a hash if `HashLocationStrategy` is
     * used, or the `APP_BASE_HREF` if the `PathLocationStrategy` is in use.
     * @param {?} url
     * @return {?}
     */
/**
     * Changes the browsers URL to the normalized version of the given URL, and pushes a
     * new item onto the platform's history.
     * @param {?} path
     * @param {?=} query
     * @return {?}
     */
/**
     * Changes the browsers URL to the normalized version of the given URL, and replaces
     * the top item on the platform's history stack.
     * @param {?} path
     * @param {?=} query
     * @return {?}
     */
/**
     * Navigates forward in the platform's history.
     * @return {?}
     */
/**
     * Navigates back in the platform's history.
     * @return {?}
     */
/**
     * Subscribe to the platform's `popState` events.
     * @param {?} onNext
     * @param {?=} onThrow
     * @param {?=} onReturn
     * @return {?}
     */
/**
     * Given a string of url parameters, prepend with '?' if needed, otherwise return parameters as
     * is.
     * @param {?} params
     * @return {?}
     */
/**
     * Given 2 parts of a url, join them with a slash if needed.
     * @param {?} start
     * @param {?} end
     * @return {?}
     */
/**
     * If url has a trailing slash, remove it, otherwise return url as is.
     * @param {?} url
     * @return {?}
     */
return t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},t.prototype.normalize=function(e){return t.stripTrailingSlash(r(this._baseHref,i(e)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e){void 0===e&&(e=""),this._platformStrategy.pushState(null,"",t,e)},t.prototype.replaceState=function(t,e){void 0===e&&(e=""),this._platformStrategy.replaceState(null,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var/** @type {?} */n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){return t.replace(/\/$/,"")},t}();F.decorators=[{type:k.Injectable}],/**
 * @nocollapse
 */
F.ctorParameters=function(){return[{type:D}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * \@whatItDoes Use URL hash for storing application location data.
 * \@description
 * `HashLocationStrategy` is a {\@link LocationStrategy} used to configure the
 * {\@link Location} service to represent its state in the
 * [hash fragment](https://en.wikipedia.org/wiki/Uniform_Resource_Locator#Syntax)
 * of the browser's URL.
 *
 * For instance, if you call `location.go('/foo')`, the browser's URL will become
 * `example.com#/foo`.
 *
 * ### Example
 *
 * {\@example common/location/ts/hash_location_component.ts region='LocationComponent'}
 *
 * \@stable
 */
var U=function(t){/**
     * @param {?} _platformLocation
     * @param {?=} _baseHref
     */
function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?=} includeHash
     * @return {?}
     */
/**
     * @param {?} internal
     * @return {?}
     */
/**
     * @param {?} state
     * @param {?} title
     * @param {?} path
     * @param {?} queryParams
     * @return {?}
     */
/**
     * @param {?} state
     * @param {?} title
     * @param {?} path
     * @param {?} queryParams
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
return I(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);
// the hash value is always prefixed with a `#`
// and if it is empty then it will stay empty
var/** @type {?} */e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var/** @type {?} */e=F.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var/** @type {?} */i=this.prepareExternalUrl(n+F.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var/** @type {?} */i=this.prepareExternalUrl(n+F.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(D);U.decorators=[{type:k.Injectable}],/**
 * @nocollapse
 */
U.ctorParameters=function(){return[{type:R},{type:void 0,decorators:[{type:k.Optional},{type:k.Inject,args:[L]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * \@whatItDoes Use URL for storing application location data.
 * \@description
 * `PathLocationStrategy` is a {\@link LocationStrategy} used to configure the
 * {\@link Location} service to represent its state in the
 * [path](https://en.wikipedia.org/wiki/Uniform_Resource_Locator#Syntax) of the
 * browser's URL.
 *
 * If you're using `PathLocationStrategy`, you must provide a {\@link APP_BASE_HREF}
 * or add a base element to the document. This URL prefix that will be preserved
 * when generating and recognizing URLs.
 *
 * For instance, if you provide an `APP_BASE_HREF` of `'/my/app'` and call
 * `location.go('/foo')`, the browser's URL will become
 * `example.com/my/app/foo`.
 *
 * Similarly, if you add `<base href='/my/app'/>` to the document and call
 * `location.go('/foo')`, the browser's URL will become
 * `example.com/my/app/foo`.
 *
 * ### Example
 *
 * {\@example common/location/ts/path_location_component.ts region='LocationComponent'}
 *
 * \@stable
 */
var V=function(t){/**
     * @param {?} _platformLocation
     * @param {?=} href
     */
function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} internal
     * @return {?}
     */
/**
     * @param {?=} includeHash
     * @return {?}
     */
/**
     * @param {?} state
     * @param {?} title
     * @param {?} url
     * @param {?} queryParams
     * @return {?}
     */
/**
     * @param {?} state
     * @param {?} title
     * @param {?} url
     * @param {?} queryParams
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
return I(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return F.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var/** @type {?} */e=this._platformLocation.pathname+F.normalizeQueryParams(this._platformLocation.search),/** @type {?} */n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var/** @type {?} */i=this.prepareExternalUrl(n+F.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var/** @type {?} */i=this.prepareExternalUrl(n+F.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(D);V.decorators=[{type:k.Injectable}],/**
 * @nocollapse
 */
V.ctorParameters=function(){return[{type:R},{type:void 0,decorators:[{type:k.Optional},{type:k.Inject,args:[L]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * \@experimental
 * @abstract
 */
var B=function(){function t(){}/**
     * @abstract
     * @param {?} value
     * @return {?}
     */
return t.prototype.getPluralCategory=function(t){},t}(),z=function(t){/**
     * @param {?} locale
     */
function e(e){var n=t.call(this)||this;return n.locale=e,n}/**
     * @param {?} value
     * @return {?}
     */
return I(e,t),e.prototype.getPluralCategory=function(t){switch(s(this.locale,t)){case q.Zero:return"zero";case q.One:return"one";case q.Two:return"two";case q.Few:return"few";case q.Many:return"many";default:return"other"}},e}(B);z.decorators=[{type:k.Injectable}],/**
 * @nocollapse
 */
z.ctorParameters=function(){return[{type:void 0,decorators:[{type:k.Inject,args:[k.LOCALE_ID]}]}]};var q={};q.Zero=0,q.One=1,q.Two=2,q.Few=3,q.Many=4,q.Other=5,q[q.Zero]="Zero",q[q.One]="One",q[q.Two]="Two",q[q.Few]="Few",q[q.Many]="Many",q[q.Other]="Other";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * \@ngModule CommonModule
 *
 * \@whatItDoes Adds and removes CSS classes on an HTML element.
 *
 * \@howToUse
 * ```
 *     <some-element [ngClass]="'first second'">...</some-element>
 *
 *     <some-element [ngClass]="['first', 'second']">...</some-element>
 *
 *     <some-element [ngClass]="{'first': true, 'second': true, 'third': false}">...</some-element>
 *
 *     <some-element [ngClass]="stringExp|arrayExp|objExp">...</some-element>
 *
 *     <some-element [ngClass]="{'class1 class2 class3' : true}">...</some-element>
 * ```
 *
 * \@description
 *
 * The CSS classes are updated as follows, depending on the type of the expression evaluation:
 * - `string` - the CSS classes listed in the string (space delimited) are added,
 * - `Array` - the CSS classes declared as Array elements are added,
 * - `Object` - keys are CSS classes that get added when the expression given in the value
 *              evaluates to a truthy value, otherwise they are removed.
 *
 * \@stable
 */
var H=function(){/**
     * @param {?} _iterableDiffers
     * @param {?} _keyValueDiffers
     * @param {?} _ngEl
     * @param {?} _renderer
     */
function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}/**
     * @return {?}
     */
/**
     * @param {?} rawClassVal
     * @return {?}
     */
/**
     * @param {?} changes
     * @return {?}
     */
/**
     * @param {?} changes
     * @return {?}
     */
/**
     * @param {?} isCleanup
     * @return {?}
     */
/**
     * @param {?} rawClassVal
     * @param {?} isCleanup
     * @return {?}
     */
/**
     * @param {?} klass
     * @param {?} enabled
     * @return {?}
     */
return Object.defineProperty(t.prototype,"klass",{/**
         * @param {?} v
         * @return {?}
         */
set:function(t){this._applyInitialClasses(!0),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyInitialClasses(!1),this._applyClasses(this._rawClass,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{/**
         * @param {?} v
         * @return {?}
         */
set:function(t){this._cleanupClasses(this._rawClass),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(n.i(k["isListLikeIterable"])(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var/** @type {?} */t=this._iterableDiffer.diff(/** @type {?} */this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var/** @type {?} */e=this._keyValueDiffer.diff(/** @type {?} */this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._cleanupClasses=function(t){this._applyClasses(t,!0),this._applyInitialClasses(!1)},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+n.i(k["stringify"])(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyInitialClasses=function(t){var e=this;this._initialClasses.forEach(function(n){return e._toggleClass(n,!t)})},t.prototype._applyClasses=function(t,e){var n=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return n._toggleClass(t,!e)}):Object.keys(t).forEach(function(r){null!=t[r]&&n._toggleClass(r,!e)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){n._renderer.setElementClass(n._ngEl.nativeElement,t,!!e)})},t}();H.decorators=[{type:k.Directive,args:[{selector:"[ngClass]"}]}],/**
 * @nocollapse
 */
H.ctorParameters=function(){return[{type:k.IterableDiffers},{type:k.KeyValueDiffers},{type:k.ElementRef},{type:k.Renderer}]},H.propDecorators={klass:[{type:k.Input,args:["class"]}],ngClass:[{type:k.Input}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Instantiates a single {\@link Component} type and inserts its Host View into current View.
 * `NgComponentOutlet` provides a declarative approach for dynamic component creation.
 *
 * `NgComponentOutlet` requires a component type, if a falsy value is set the view will clear and
 * any existing component will get destroyed.
 *
 * ### Fine tune control
 *
 * You can control the component creation process by using the following optional attributes:
 *
 * * `ngComponentOutletInjector`: Optional custom {\@link Injector} that will be used as parent for
 * the Component. Defaults to the injector of the current view container.
 *
 * * `ngComponentOutletProviders`: Optional injectable objects ({\@link Provider}) that are visible
 * to the component.
 *
 * * `ngComponentOutletContent`: Optional list of projectable nodes to insert into the content
 * section of the component, if exists.
 *
 * * `ngComponentOutletNgModuleFactory`: Optional module factory to allow dynamically loading other
 * module, then load a component from that module.
 *
 * ### Syntax
 *
 * Simple
 * ```
 * <ng-container *ngComponentOutlet="componentTypeExpression"></ng-container>
 * ```
 *
 * Customized injector/content
 * ```
 * <ng-container *ngComponentOutlet="componentTypeExpression;
 *                                   injector: injectorExpression;
 *                                   content: contentNodesExpression;">
 * </ng-container>
 * ```
 *
 * Customized ngModuleFactory
 * ```
 * <ng-container *ngComponentOutlet="componentTypeExpression;
 *                                   ngModuleFactory: moduleFactory;">
 * </ng-container>
 * ```
 * # Example
 *
 * {\@example common/ngComponentOutlet/ts/module.ts region='SimpleExample'}
 *
 * A more complete example with additional options:
 *
 * {\@example common/ngComponentOutlet/ts/module.ts region='CompleteExample'}
 * A more complete example with ngModuleFactory:
 *
 * {\@example common/ngComponentOutlet/ts/module.ts region='NgModuleFactoryExample'}
 *
 * \@experimental
 */
var G=function(){/**
     * @param {?} _viewContainerRef
     */
function t(t){this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}/**
     * @param {?} changes
     * @return {?}
     */
/**
     * @return {?}
     */
return t.prototype.ngOnChanges=function(t){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var/** @type {?} */e=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(t.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var/** @type {?} */n=e.get(k.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var/** @type {?} */r=this._moduleRef?this._moduleRef.componentFactoryResolver:e.get(k.ComponentFactoryResolver),/** @type {?} */i=r.resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(i,this._viewContainerRef.length,e,this.ngComponentOutletContent)}},t.prototype.ngOnDestroy=function(){this._moduleRef&&this._moduleRef.destroy()},t}();G.decorators=[{type:k.Directive,args:[{selector:"[ngComponentOutlet]"}]}],/**
 * @nocollapse
 */
G.ctorParameters=function(){return[{type:k.ViewContainerRef}]},G.propDecorators={ngComponentOutlet:[{type:k.Input}],ngComponentOutletInjector:[{type:k.Input}],ngComponentOutletContent:[{type:k.Input}],ngComponentOutletNgModuleFactory:[{type:k.Input}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * \@stable
 */
var W=function(){/**
     * @param {?} $implicit
     * @param {?} ngForOf
     * @param {?} index
     * @param {?} count
     */
function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{/**
         * @return {?}
         */
get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{/**
         * @return {?}
         */
get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{/**
         * @return {?}
         */
get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{/**
         * @return {?}
         */
get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),$=function(){/**
     * @param {?} _viewContainer
     * @param {?} _template
     * @param {?} _differs
     */
function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._differ=null}/**
     * @param {?} changes
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} changes
     * @return {?}
     */
/**
     * @param {?} view
     * @param {?} record
     * @return {?}
     */
return Object.defineProperty(t.prototype,"ngForTrackBy",{/**
         * @return {?}
         */
get:function(){return this._trackByFn},/**
         * @param {?} fn
         * @return {?}
         */
set:function(t){n.i(k.isDevMode)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{/**
         * @param {?} value
         * @return {?}
         */
set:function(t){
// TODO(TS2.1): make TemplateRef<Partial<NgForRowOf<T>>> once we move to TS v2.1
// The current type is too restrictive; a template that just uses index, for example,
// should be acceptable.
t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if("ngForOf"in t){
// React on ngForOf changes only once all inputs have been initialized
var/** @type {?} */e=t.ngForOf.currentValue;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+a(e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}},t.prototype.ngDoCheck=function(){if(this._differ){var/** @type {?} */t=this._differ.diff(this.ngForOf);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this,/** @type {?} */n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var/** @type {?} */o=e._viewContainer.createEmbeddedView(e._template,new W(null,e.ngForOf,null,null),i),/** @type {?} */s=new Y(t,o);n.push(s)}else if(null==i)e._viewContainer.remove(r);else{var/** @type {?} */o=e._viewContainer.get(r);e._viewContainer.move(o,i);var/** @type {?} */s=new Y(t,/** @type {?} */o);n.push(s)}});for(var/** @type {?} */r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var/** @type {?} */r=0,/** @type {?} */i=this._viewContainer.length;r<i;r++){var/** @type {?} */o=this._viewContainer.get(r);o.context.index=r,o.context.count=i}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t}();$.decorators=[{type:k.Directive,args:[{selector:"[ngFor][ngForOf]"}]}],/**
 * @nocollapse
 */
$.ctorParameters=function(){return[{type:k.ViewContainerRef},{type:k.TemplateRef},{type:k.IterableDiffers}]},$.propDecorators={ngForOf:[{type:k.Input}],ngForTrackBy:[{type:k.Input}],ngForTemplate:[{type:k.Input}]};var Y=function(){/**
     * @param {?} record
     * @param {?} view
     */
function t(t,e){this.record=t,this.view=e}return t}(),X=$,Z=function(){/**
     * @param {?} _viewContainer
     * @param {?} templateRef
     */
function t(t,e){this._viewContainer=t,this._context=new K,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}/**
     * @return {?}
     */
return Object.defineProperty(t.prototype,"ngIf",{/**
         * @param {?} condition
         * @return {?}
         */
set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{/**
         * @param {?} templateRef
         * @return {?}
         */
set:function(t){this._thenTemplateRef=t,this._thenViewRef=null,// clear previous view if any.
this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{/**
         * @param {?} templateRef
         * @return {?}
         */
set:function(t){this._elseTemplateRef=t,this._elseViewRef=null,// clear previous view if any.
this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t}();Z.decorators=[{type:k.Directive,args:[{selector:"[ngIf]"}]}],/**
 * @nocollapse
 */
Z.ctorParameters=function(){return[{type:k.ViewContainerRef},{type:k.TemplateRef}]},Z.propDecorators={ngIf:[{type:k.Input}],ngIfThen:[{type:k.Input}],ngIfElse:[{type:k.Input}]};/**
 * \@stable
 */
var K=function(){function t(){this.$implicit=null,this.ngIf=null}return t}(),Q=function(){/**
     * @param {?} _viewContainerRef
     * @param {?} _templateRef
     */
function t(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} created
     * @return {?}
     */
return t.prototype.create=function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)},t.prototype.destroy=function(){this._created=!1,this._viewContainerRef.clear()},t.prototype.enforceState=function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()},t}(),J=function(){function t(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}/**
     * \@internal
     * @return {?}
     */
/**
     * \@internal
     * @param {?} view
     * @return {?}
     */
/**
     * \@internal
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} useDefault
     * @return {?}
     */
return Object.defineProperty(t.prototype,"ngSwitch",{/**
         * @param {?} newValue
         * @return {?}
         */
set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)},enumerable:!0,configurable:!0}),t.prototype._addCase=function(){return this._caseCount++},t.prototype._addDefault=function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)},t.prototype._matchCase=function(t){var/** @type {?} */e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e},t.prototype._updateDefaultCases=function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var/** @type {?} */e=0;e<this._defaultViews.length;e++){this._defaultViews[e].enforceState(t)}}},t}();J.decorators=[{type:k.Directive,args:[{selector:"[ngSwitch]"}]}],/**
 * @nocollapse
 */
J.ctorParameters=function(){return[]},J.propDecorators={ngSwitch:[{type:k.Input}]};/**
 * \@ngModule CommonModule
 *
 * \@whatItDoes Creates a view that will be added/removed from the parent {\@link NgSwitch} when the
 *             given expression evaluate to respectively the same/different value as the switch
 *             expression.
 *
 * \@howToUse
 * ```
 * <container-element [ngSwitch]="switch_expression">
 *   <some-element *ngSwitchCase="match_expression_1">...</some-element>
 * </container-element>
 * ```
 * \@description
 *
 * Insert the sub-tree when the expression evaluates to the same value as the enclosing switch
 * expression.
 *
 * If multiple match expressions match the switch expression value, all of them are displayed.
 *
 * See {\@link NgSwitch} for more details and example.
 *
 * \@stable
 */
var tt=function(){/**
     * @param {?} viewContainer
     * @param {?} templateRef
     * @param {?} ngSwitch
     */
function t(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Q(t,e)}/**
     * @return {?}
     */
return t.prototype.ngDoCheck=function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))},t}();tt.decorators=[{type:k.Directive,args:[{selector:"[ngSwitchCase]"}]}],/**
 * @nocollapse
 */
tt.ctorParameters=function(){return[{type:k.ViewContainerRef},{type:k.TemplateRef},{type:J,decorators:[{type:k.Host}]}]},tt.propDecorators={ngSwitchCase:[{type:k.Input}]};/**
 * \@ngModule CommonModule
 * \@whatItDoes Creates a view that is added to the parent {\@link NgSwitch} when no case expressions
 * match the
 *             switch expression.
 *
 * \@howToUse
 * ```
 * <container-element [ngSwitch]="switch_expression">
 *   <some-element *ngSwitchCase="match_expression_1">...</some-element>
 *   <some-other-element *ngSwitchDefault>...</some-other-element>
 * </container-element>
 * ```
 *
 * \@description
 *
 * Insert the sub-tree when no case expressions evaluate to the same value as the enclosing switch
 * expression.
 *
 * See {\@link NgSwitch} for more details and example.
 *
 * \@stable
 */
var et=function(){/**
     * @param {?} viewContainer
     * @param {?} templateRef
     * @param {?} ngSwitch
     */
function t(t,e,n){n._addDefault(new Q(t,e))}return t}();et.decorators=[{type:k.Directive,args:[{selector:"[ngSwitchDefault]"}]}],/**
 * @nocollapse
 */
et.ctorParameters=function(){return[{type:k.ViewContainerRef},{type:k.TemplateRef},{type:J,decorators:[{type:k.Host}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * \@ngModule CommonModule
 *
 * \@whatItDoes Adds / removes DOM sub-trees based on a numeric value. Tailored for pluralization.
 *
 * \@howToUse
 * ```
 * <some-element [ngPlural]="value">
 *   <ng-template ngPluralCase="=0">there is nothing</ng-template>
 *   <ng-template ngPluralCase="=1">there is one</ng-template>
 *   <ng-template ngPluralCase="few">there are a few</ng-template>
 * </some-element>
 * ```
 *
 * \@description
 *
 * Displays DOM sub-trees that match the switch expression value, or failing that, DOM sub-trees
 * that match the switch expression's pluralization category.
 *
 * To use this directive you must provide a container element that sets the `[ngPlural]` attribute
 * to a switch expression. Inner elements with a `[ngPluralCase]` will display based on their
 * expression:
 * - if `[ngPluralCase]` is set to a value starting with `=`, it will only display if the value
 *   matches the switch expression exactly,
 * - otherwise, the view will be treated as a "category match", and will only display if exact
 *   value matches aren't found and the value maps to its category for the defined locale.
 *
 * See http://cldr.unicode.org/index/cldr-spec/plural-rules
 *
 * \@experimental
 */
var nt=function(){/**
     * @param {?} _localization
     */
function t(t){this._localization=t,this._caseViews={}}/**
     * @param {?} value
     * @param {?} switchView
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} view
     * @return {?}
     */
return Object.defineProperty(t.prototype,"ngPlural",{/**
         * @param {?} value
         * @return {?}
         */
set:function(t){this._switchValue=t,this._updateView()},enumerable:!0,configurable:!0}),t.prototype.addCase=function(t,e){this._caseViews[t]=e},t.prototype._updateView=function(){this._clearViews();var/** @type {?} */t=Object.keys(this._caseViews),/** @type {?} */e=o(this._switchValue,t,this._localization);this._activateView(this._caseViews[e])},t.prototype._clearViews=function(){this._activeView&&this._activeView.destroy()},t.prototype._activateView=function(t){t&&(this._activeView=t,this._activeView.create())},t}();nt.decorators=[{type:k.Directive,args:[{selector:"[ngPlural]"}]}],/**
 * @nocollapse
 */
nt.ctorParameters=function(){return[{type:B}]},nt.propDecorators={ngPlural:[{type:k.Input}]};/**
 * \@ngModule CommonModule
 *
 * \@whatItDoes Creates a view that will be added/removed from the parent {\@link NgPlural} when the
 *             given expression matches the plural expression according to CLDR rules.
 *
 * \@howToUse
 * ```
 * <some-element [ngPlural]="value">
 *   <ng-template ngPluralCase="=0">...</ng-template>
 *   <ng-template ngPluralCase="other">...</ng-template>
 * </some-element>
 * ```
 *
 * See {\@link NgPlural} for more details and example.
 *
 * \@experimental
 */
var rt=function(){/**
     * @param {?} value
     * @param {?} template
     * @param {?} viewContainer
     * @param {?} ngPlural
     */
function t(t,e,n,r){this.value=t;var i=!isNaN(Number(t));r.addCase(i?"="+t:t,new Q(n,e))}return t}();rt.decorators=[{type:k.Directive,args:[{selector:"[ngPluralCase]"}]}],/**
 * @nocollapse
 */
rt.ctorParameters=function(){return[{type:void 0,decorators:[{type:k.Attribute,args:["ngPluralCase"]}]},{type:k.TemplateRef},{type:k.ViewContainerRef},{type:nt,decorators:[{type:k.Host}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * \@ngModule CommonModule
 *
 * \@whatItDoes Update an HTML element styles.
 *
 * \@howToUse
 * ```
 * <some-element [ngStyle]="{'font-style': styleExp}">...</some-element>
 *
 * <some-element [ngStyle]="{'max-width.px': widthExp}">...</some-element>
 *
 * <some-element [ngStyle]="objExp">...</some-element>
 * ```
 *
 * \@description
 *
 * The styles are updated according to the value of the expression evaluation:
 * - keys are style names with an optional `.<unit>` suffix (ie 'top.px', 'font-style.em'),
 * - values are the values assigned to those properties (expressed in the given unit).
 *
 * \@stable
 */
var it=function(){/**
     * @param {?} _differs
     * @param {?} _ngEl
     * @param {?} _renderer
     */
function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}/**
     * @return {?}
     */
/**
     * @param {?} changes
     * @return {?}
     */
/**
     * @param {?} nameAndUnit
     * @param {?} value
     * @return {?}
     */
return Object.defineProperty(t.prototype,"ngStyle",{/**
         * @param {?} v
         * @return {?}
         */
set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var/** @type {?} */t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=t.split("."),r=n[0],i=n[1];e=null!=e&&i?""+e+i:e,this._renderer.setElementStyle(this._ngEl.nativeElement,r,/** @type {?} */e)},t}();it.decorators=[{type:k.Directive,args:[{selector:"[ngStyle]"}]}],/**
 * @nocollapse
 */
it.ctorParameters=function(){return[{type:k.KeyValueDiffers},{type:k.ElementRef},{type:k.Renderer}]},it.propDecorators={ngStyle:[{type:k.Input}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * \@ngModule CommonModule
 *
 * \@whatItDoes Inserts an embedded view from a prepared `TemplateRef`
 *
 * \@howToUse
 * ```
 * <ng-container *ngTemplateOutlet="templateRefExp; context: contextExp"></ng-container>
 * ```
 *
 * \@description
 *
 * You can attach a context object to the `EmbeddedViewRef` by setting `[ngTemplateOutletContext]`.
 * `[ngTemplateOutletContext]` should be an object, the object's keys will be available for binding
 * by the local template `let` declarations.
 *
 * Note: using the key `$implicit` in the context object will set it's value as default.
 *
 * # Example
 *
 * {\@example common/ngTemplateOutlet/ts/module.ts region='NgTemplateOutlet'}
 *
 * \@experimental
 */
var ot=function(){/**
     * @param {?} _viewContainerRef
     */
function t(t){this._viewContainerRef=t}/**
     * @param {?} changes
     * @return {?}
     */
return Object.defineProperty(t.prototype,"ngOutletContext",{/**
         * @deprecated v4.0.0 - Renamed to ngTemplateOutletContext.
         * @param {?} context
         * @return {?}
         */
set:function(t){this.ngTemplateOutletContext=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))},t}();ot.decorators=[{type:k.Directive,args:[{selector:"[ngTemplateOutlet]"}]}],/**
 * @nocollapse
 */
ot.ctorParameters=function(){return[{type:k.ViewContainerRef}]},ot.propDecorators={ngTemplateOutletContext:[{type:k.Input}],ngTemplateOutlet:[{type:k.Input}],ngOutletContext:[{type:k.Input}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * A collection of Angular directives that are likely to be used in each and every Angular
 * application.
 */
var st=[H,G,$,Z,ot,it,J,tt,et,nt,rt],at=function(){function t(){}/**
     * @param {?} async
     * @param {?} updateLatestValue
     * @return {?}
     */
/**
     * @param {?} subscription
     * @return {?}
     */
/**
     * @param {?} subscription
     * @return {?}
     */
return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),ut=function(){function t(){}/**
     * @param {?} async
     * @param {?} updateLatestValue
     * @return {?}
     */
/**
     * @param {?} subscription
     * @return {?}
     */
/**
     * @param {?} subscription
     * @return {?}
     */
return t.prototype.createSubscription=function(t,e){return t.then(e,function(t){throw t})},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}(),ct=new ut,lt=new at,ft=function(){/**
     * @param {?} _ref
     */
function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}/**
     * @return {?}
     */
/**
     * @param {?} obj
     * @return {?}
     */
/**
     * @param {?} obj
     * @return {?}
     */
/**
     * @param {?} obj
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} async
     * @param {?} value
     * @return {?}
     */
return t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){/** @type {?} */
return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,k.WrappedValue.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})},t.prototype._selectStrategy=function(e){if(n.i(k["isPromise"])(e))return ct;if(n.i(k["isObservable"])(e))return lt;throw u(t,e)},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t}();ft.decorators=[{type:k.Pipe,args:[{name:"async",pure:!1}]}],/**
 * @nocollapse
 */
ft.ctorParameters=function(){return[{type:k.ChangeDetectorRef}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Transforms text to lowercase.
 *
 * {\@example  common/pipes/ts/lowerupper_pipe.ts region='LowerUpperPipe' }
 *
 * \@stable
 */
var pt=function(){function t(){}/**
     * @param {?} value
     * @return {?}
     */
return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw u(t,e);return e.toLowerCase()},t}();pt.decorators=[{type:k.Pipe,args:[{name:"lowercase"}]}],/**
 * @nocollapse
 */
pt.ctorParameters=function(){return[]};/**
 * Transforms text to titlecase.
 *
 * \@stable
 */
var ht=function(){function t(){}/**
     * @param {?} value
     * @return {?}
     */
return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw u(t,e);return e.split(/\b/g).map(function(t){return c(t)}).join("")},t}();ht.decorators=[{type:k.Pipe,args:[{name:"titlecase"}]}],/**
 * @nocollapse
 */
ht.ctorParameters=function(){return[]};/**
 * Transforms text to uppercase.
 *
 * \@stable
 */
var dt=function(){function t(){}/**
     * @param {?} value
     * @return {?}
     */
return t.prototype.transform=function(e){if(!e)return e;if("string"!=typeof e)throw u(t,e);return e.toUpperCase()},t}();dt.decorators=[{type:k.Pipe,args:[{name:"uppercase"}]}],/**
 * @nocollapse
 */
dt.ctorParameters=function(){return[]};var mt={};mt.Decimal=0,mt.Percent=1,mt.Currency=2,mt[mt.Decimal]="Decimal",mt[mt.Percent]="Percent",mt[mt.Currency]="Currency";var vt=function(){function t(){}/**
     * @param {?} num
     * @param {?} locale
     * @param {?} style
     * @param {?=} __3
     * @return {?}
     */
return t.format=function(t,e,n,r){var i=void 0===r?{}:r,o=i.minimumIntegerDigits,s=i.minimumFractionDigits,a=i.maximumFractionDigits,u=i.currency,c=i.currencyAsSymbol,l=void 0!==c&&c,/** @type {?} */f={minimumIntegerDigits:o,minimumFractionDigits:s,maximumFractionDigits:a,style:mt[n].toLowerCase()};return n==mt.Currency&&(f.currency=u,f.currencyDisplay=l?"symbol":"code"),new Intl.NumberFormat(e,f).format(t)},t}(),yt=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,gt={
// Keys are quoted so they do not get renamed during closure compilation.
yMMMdjms:g(y([m("year",1),v("month",3),m("day",1),m("hour",1),m("minute",1),m("second",1)])),yMdjm:g(y([m("year",1),m("month",1),m("day",1),m("hour",1),m("minute",1)])),yMMMMEEEEd:g(y([m("year",1),v("month",4),v("weekday",4),m("day",1)])),yMMMMd:g(y([m("year",1),v("month",4),m("day",1)])),yMMMd:g(y([m("year",1),v("month",3),m("day",1)])),yMd:g(y([m("year",1),m("month",1),m("day",1)])),jms:g(y([m("hour",1),m("second",1),m("minute",1)])),jm:g(y([m("hour",1),m("minute",1)]))},bt={
// Keys are quoted so they do not get renamed.
yyyy:g(m("year",4)),yy:g(m("year",2)),y:g(m("year",1)),MMMM:g(v("month",4)),MMM:g(v("month",3)),MM:g(m("month",2)),M:g(m("month",1)),LLLL:g(v("month",4)),L:g(v("month",1)),dd:g(m("day",2)),d:g(m("day",1)),HH:l(f(g(d(m("hour",2),!1)))),H:f(g(d(m("hour",1),!1))),hh:l(f(g(d(m("hour",2),!0)))),h:f(g(d(m("hour",1),!0))),jj:g(m("hour",2)),j:g(m("hour",1)),mm:l(g(m("minute",2))),m:g(m("minute",1)),ss:l(g(m("second",2))),s:g(m("second",1)),
// while ISO 8601 requires fractions to be prefixed with `.` or `,`
// we can be just safely rely on using `sss` since we currently don't support single or two digit
// fractions
sss:g(m("second",3)),EEEE:g(v("weekday",4)),EEE:g(v("weekday",3)),EE:g(v("weekday",2)),E:g(v("weekday",1)),a:/**
 * @param {?} inner
 * @return {?}
 */
function(t){return function(e,n){return t(e,n).split(" ")[1]}}(g(d(m("hour",1),!0))),Z:h("short"),z:h("long"),ww:g({}),
// first Thursday of the year. not support ?
w:g({}),
// of the year not support ?
G:g(v("era",1)),GG:g(v("era",2)),GGG:g(v("era",3)),GGGG:g(v("era",4))},wt=new Map,_t=function(){function t(){}/**
     * @param {?} date
     * @param {?} locale
     * @param {?} pattern
     * @return {?}
     */
return t.format=function(t,e,n){return b(n,t,e)},t}(),xt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Et=function(){/**
     * @param {?} _locale
     */
function t(t){this._locale=t}/**
     * @param {?} value
     * @param {?=} digits
     * @return {?}
     */
return t.prototype.transform=function(e,n){return void 0===n&&(n=null),_(t,this._locale,e,mt.Decimal,n)},t}();Et.decorators=[{type:k.Pipe,args:[{name:"number"}]}],/**
 * @nocollapse
 */
Et.ctorParameters=function(){return[{type:void 0,decorators:[{type:k.Inject,args:[k.LOCALE_ID]}]}]};/**
 * \@ngModule CommonModule
 * \@whatItDoes Formats a number as a percentage according to locale rules.
 * \@howToUse `number_expression | percent[:digitInfo]`
 *
 * \@description
 *
 * Formats a number as percentage.
 *
 * - `digitInfo` See {\@link DecimalPipe} for detailed description.
 *
 * WARNING: this pipe uses the Internationalization API which is not yet available in all browsers
 * and may require a polyfill. See {\@linkDocs guide/browser-support} for details.
 *
 * ### Example
 *
 * {\@example common/pipes/ts/number_pipe.ts region='PercentPipe'}
 *
 * \@stable
 */
var Ct=function(){/**
     * @param {?} _locale
     */
function t(t){this._locale=t}/**
     * @param {?} value
     * @param {?=} digits
     * @return {?}
     */
return t.prototype.transform=function(e,n){return void 0===n&&(n=null),_(t,this._locale,e,mt.Percent,n)},t}();Ct.decorators=[{type:k.Pipe,args:[{name:"percent"}]}],/**
 * @nocollapse
 */
Ct.ctorParameters=function(){return[{type:void 0,decorators:[{type:k.Inject,args:[k.LOCALE_ID]}]}]};/**
 * \@ngModule CommonModule
 * \@whatItDoes Formats a number as currency using locale rules.
 * \@howToUse `number_expression | currency[:currencyCode[:symbolDisplay[:digitInfo]]]`
 * \@description
 *
 * Use `currency` to format a number as currency.
 *
 * - `currencyCode` is the [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code, such
 *    as `USD` for the US dollar and `EUR` for the euro.
 * - `symbolDisplay` is a boolean indicating whether to use the currency symbol or code.
 *   - `true`: use symbol (e.g. `$`).
 *   - `false`(default): use code (e.g. `USD`).
 * - `digitInfo` See {\@link DecimalPipe} for detailed description.
 *
 * WARNING: this pipe uses the Internationalization API which is not yet available in all browsers
 * and may require a polyfill. See {\@linkDocs guide/browser-support} for details.
 *
 * ### Example
 *
 * {\@example common/pipes/ts/number_pipe.ts region='CurrencyPipe'}
 *
 * \@stable
 */
var St=function(){/**
     * @param {?} _locale
     */
function t(t){this._locale=t}/**
     * @param {?} value
     * @param {?=} currencyCode
     * @param {?=} symbolDisplay
     * @param {?=} digits
     * @return {?}
     */
return t.prototype.transform=function(e,n,r,i){return void 0===n&&(n="USD"),void 0===r&&(r=!1),void 0===i&&(i=null),_(t,this._locale,e,mt.Currency,i,n,r)},t}();St.decorators=[{type:k.Pipe,args:[{name:"currency"}]}],/**
 * @nocollapse
 */
St.ctorParameters=function(){return[{type:void 0,decorators:[{type:k.Inject,args:[k.LOCALE_ID]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Nt=function(){/**
     * @param {?} _locale
     */
function t(t){this._locale=t}/**
     * @param {?} value
     * @param {?=} pattern
     * @return {?}
     */
return t.prototype.transform=function(e,n){void 0===n&&(n="mediumDate");var/** @type {?} */r;if(C(e)||e!==e)return null;if("string"==typeof e&&(e=e.trim()),S(e))r=e;else if(E(e))r=new Date(parseFloat(e));else if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){/**
            * For ISO Strings without time the day, month and year must be extracted from the ISO String
            * before Date creation to avoid time offset and errors in the new Date.
            * If we only replace '-' with ',' in the ISO String ("2015,01,01"), and try to create a new
            * date, some browsers (e.g. IE 9) will throw an invalid Date error
            * If we leave the '-' ("2015-01-01") and try to create a new Date("2015-01-01") the timeoffset
            * is applied
            * Note: ISO months are 0 for January, 1 for February, ...
            */
var i=e.split("-").map(function(t){return parseInt(t,10)}),o=i[0],s=i[1],a=i[2];r=new Date(o,s-1,a)}else r=new Date(e);if(!S(r)){var/** @type {?} */c=void 0;if("string"!=typeof e||!(c=e.match(/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/)))throw u(t,e);r=N(c)}return _t.format(r,this._locale,t._ALIASES[n]||n)},t}();/**
 * \@internal
 */
Nt._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},Nt.decorators=[{type:k.Pipe,args:[{name:"date",pure:!0}]}],/**
 * @nocollapse
 */
Nt.ctorParameters=function(){return[{type:void 0,decorators:[{type:k.Inject,args:[k.LOCALE_ID]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Mt=function(){/**
     * @param {?} _localization
     */
function t(t){this._localization=t}/**
     * @param {?} value
     * @param {?} pluralMap
     * @return {?}
     */
return t.prototype.transform=function(e,n){if(null==e)return"";if("object"!=typeof n||null===n)throw u(t,n);return n[o(e,Object.keys(n),this._localization)].replace(/#/g,e.toString())},t}();Mt.decorators=[{type:k.Pipe,args:[{name:"i18nPlural",pure:!0}]}],/**
 * @nocollapse
 */
Mt.ctorParameters=function(){return[{type:B}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * \@ngModule CommonModule
 * \@whatItDoes Generic selector that displays the string that matches the current value.
 * \@howToUse `expression | i18nSelect:mapping`
 * \@description
 *
 *  Where `mapping` is an object that indicates the text that should be displayed
 *  for different values of the provided `expression`.
 *  If none of the keys of the mapping match the value of the `expression`, then the content
 *  of the `other` key is returned when present, otherwise an empty string is returned.
 *
 *  ## Example
 *
 * {\@example common/pipes/ts/i18n_pipe.ts region='I18nSelectPipeComponent'}
 *
 *  \@experimental
 */
var Ot=function(){function t(){}/**
     * @param {?} value
     * @param {?} mapping
     * @return {?}
     */
return t.prototype.transform=function(e,n){if(null==e)return"";if("object"!=typeof n||"string"!=typeof e)throw u(t,n);return n.hasOwnProperty(e)?n[e]:n.hasOwnProperty("other")?n.other:""},t}();Ot.decorators=[{type:k.Pipe,args:[{name:"i18nSelect",pure:!0}]}],/**
 * @nocollapse
 */
Ot.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * \@ngModule CommonModule
 * \@whatItDoes Converts value into JSON string.
 * \@howToUse `expression | json`
 * \@description
 *
 * Converts value into string using `JSON.stringify`. Useful for debugging.
 *
 * ### Example
 * {\@example common/pipes/ts/json_pipe.ts region='JsonPipe'}
 *
 * \@stable
 */
var Tt=function(){function t(){}/**
     * @param {?} value
     * @return {?}
     */
return t.prototype.transform=function(t){return JSON.stringify(t,null,2)},t}();Tt.decorators=[{type:k.Pipe,args:[{name:"json",pure:!1}]}],/**
 * @nocollapse
 */
Tt.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * \@ngModule CommonModule
 * \@whatItDoes Creates a new List or String containing a subset (slice) of the elements.
 * \@howToUse `array_or_string_expression | slice:start[:end]`
 * \@description
 *
 * Where the input expression is a `List` or `String`, and:
 * - `start`: The starting index of the subset to return.
 *   - **a positive integer**: return the item at `start` index and all items after
 *     in the list or string expression.
 *   - **a negative integer**: return the item at `start` index from the end and all items after
 *     in the list or string expression.
 *   - **if positive and greater than the size of the expression**: return an empty list or string.
 *   - **if negative and greater than the size of the expression**: return entire list or string.
 * - `end`: The ending index of the subset to return.
 *   - **omitted**: return all items until the end.
 *   - **if positive**: return all items before `end` index of the list or string.
 *   - **if negative**: return all items before `end` index from the end of the list or string.
 *
 * All behavior is based on the expected behavior of the JavaScript API `Array.prototype.slice()`
 * and `String.prototype.slice()`.
 *
 * When operating on a [List], the returned list is always a copy even when all
 * the elements are being returned.
 *
 * When operating on a blank value, the pipe returns the blank value.
 *
 * ## List Example
 *
 * This `ngFor` example:
 *
 * {\@example common/pipes/ts/slice_pipe.ts region='SlicePipe_list'}
 *
 * produces the following:
 *
 *     <li>b</li>
 *     <li>c</li>
 *
 * ## String Examples
 *
 * {\@example common/pipes/ts/slice_pipe.ts region='SlicePipe_string'}
 *
 * \@stable
 */
var At=function(){function t(){}/**
     * @param {?} value
     * @param {?} start
     * @param {?=} end
     * @return {?}
     */
/**
     * @param {?} obj
     * @return {?}
     */
return t.prototype.transform=function(e,n,r){if(null==e)return e;if(!this.supports(e))throw u(t,e);return e.slice(n,r)},t.prototype.supports=function(t){return"string"==typeof t||Array.isArray(t)},t}();At.decorators=[{type:k.Pipe,args:[{name:"slice",pure:!1}]}],/**
 * @nocollapse
 */
At.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @module
 * @description
 * This module provides a set of common Pipes.
 */
/**
 * A collection of Angular pipes that are likely to be used in each and every application.
 */
var Pt=[ft,dt,pt,Tt,At,Et,Ct,ht,St,Nt,Mt,Ot],kt=function(){function t(){}return t}();kt.decorators=[{type:k.NgModule,args:[{declarations:[st,Pt],exports:[st,Pt],providers:[{provide:B,useClass:z}]}]}],/**
 * @nocollapse
 */
kt.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var It="browser",Rt="server",jt="browserWorkerApp",Dt="browserWorkerUi",Lt=new k.Version("4.0.1")},/* 110 */
,/* 111 */
,/* 112 */
,/* 113 */
,/* 114 */
,/* 115 */
,/* 116 */
,/* 117 */
,/* 118 */
,/* 119 */
,/* 120 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s,a){/**
   * @constructor OperatorNode
   * @extends {Node}
   * An operator with two arguments, like 2+3
   *
   * @param {string} op           Operator name, for example '+'
   * @param {string} fn           Function name, for example 'add'
   * @param {Node[]} args         Operator arguments
   * @param {boolean} [implicit]  Is this an implicit multiplication?
   */
function u(t,e,n,r){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");
//validate input
if("string"!=typeof t)throw new TypeError('string expected for parameter "op"');if("string"!=typeof e)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(n)||!n.every(function(t){return t&&t.isNode}))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===r,this.op=t,this.fn=e,this.args=n||[]}/**
   * Calculate which parentheses are necessary. Gets an OperatorNode
   * (which is the root of the tree) and an Array of Nodes
   * (this.args) and returns an array where 'true' means that an argument
   * has to be enclosed in parentheses whereas 'false' means the opposite.
   *
   * @param {OperatorNode} root
   * @param {string} parenthesis
   * @param {Node[]} args
   * @param {boolean} latex
   * @return {boolean[]}
   * @private
   */
function c(t,e,n,r){
//precedence of the root OperatorNode
var i=o.getPrecedence(t,e),s=o.getAssociativity(t,e);if("all"===e||n.length>2&&"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier()){return n.map(function(t){switch(t.getContent().type){//Nodes that don't need extra parentheses
case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}})}if(0===n.length)return[];if(1===n.length){//unary operators
//precedence of the operand
var a=o.getPrecedence(n[0],e);
//handle special cases for LaTeX, where some of the parentheses aren't needed
if(r&&null!==a){var u,c;if("keep"===e?(u=n[0].getIdentifier(),c=t.getIdentifier()):(
//Ignore Parenthesis Nodes when not in 'keep' mode
u=n[0].getContent().getIdentifier(),c=t.getContent().getIdentifier()),!1===o.properties[i][c].latexLeftParens)return[!1];if(!1===o.properties[a][u].latexParens)return[!1]}return null===a?[!1]:a<=i?[!0]:[!1]}if(2===n.length){//binary operators
var l,f=o.getPrecedence(n[0],e),p=o.isAssociativeWith(t,n[0],e);
//if the left hand side has no defined precedence, no parens are needed
//FunctionNode for example
l=null!==f&&(f===i&&"right"===s&&!p||f<i);var h,d=o.getPrecedence(n[1],e),m=o.isAssociativeWith(t,n[1],e);
//handle special cases for LaTeX, where some of the parentheses aren't needed
if(
//if the right hand side has no defined precedence, no parens are needed
//FunctionNode for example
h=null!==d&&(d===i&&"left"===s&&!m||d<i),r){var c,v,y;"keep"===e?(c=t.getIdentifier(),v=t.args[0].getIdentifier(),y=t.args[1].getIdentifier()):(
//Ignore ParenthesisNodes when not in 'keep' mode
c=t.getContent().getIdentifier(),v=t.args[0].getContent().getIdentifier(),y=t.args[1].getContent().getIdentifier()),null!==f&&(!1===o.properties[i][c].latexLeftParens&&(l=!1),!1===o.properties[f][v].latexParens&&(l=!1)),null!==d&&(!1===o.properties[i][c].latexRightParens&&(h=!1),!1===o.properties[d][y].latexParens&&(h=!1))}return[l,h]}if(n.length>2&&("OperatorNode:add"===t.getIdentifier()||"OperatorNode:multiply"===t.getIdentifier())){return n.map(function(n){var r=o.getPrecedence(n,e),a=o.isAssociativeWith(t,n,e),u=o.getAssociativity(n,e);return null!==r&&(i===r&&s===u&&!a||r<i)})}}var l=r(n(26));r(n(96)),r(n(59)),r(n(97));/**
   * Compile the node to javascript code
   * @param {Object} defs     Object which can be used to define functions
   *                          or constants globally available for the compiled
   *                          expression
   * @param {Object} args     Object with local function arguments, the key is
   *                          the name of the argument, and the value is `true`.
   *                          The object may not be mutated, but must be
   *                          extended instead.
   * @return {string} js
   * @private
   */
/**
   * Execute a callback for each of the child nodes of this node
   * @param {function(child: Node, path: string, parent: Node)} callback
   */
/**
   * Create a new OperatorNode having it's childs be the results of calling
   * the provided callback function for each of the childs of the original node.
   * @param {function(child: Node, path: string, parent: Node): Node} callback
   * @returns {OperatorNode} Returns a transformed copy of the node
   */
/**
   * Create a clone of this node, a shallow copy
   * @return {OperatorNode}
   */
/**
   * Get string representation.
   * @param {Object} options
   * @return {string} str
   */
/**
   * Get LaTeX representation
   * @param {Object} options
   * @return {string} str
   */
/**
   * Get identifier.
   * @return {string}
   */
return u.prototype=new l,u.prototype.type="OperatorNode",u.prototype.isOperatorNode=!0,u.prototype._compile=function(t,e){if(!t.math[this.fn])throw new Error("Function "+this.fn+' missing in provided namespace "math"');var n=this.args.map(function(n){return n._compile(t,e)});return"math."+this.fn+"("+n.join(", ")+")"},u.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},u.prototype.map=function(t){for(var e=[],n=0;n<this.args.length;n++)e[n]=this._ifNode(t(this.args[n],"args["+n+"]",this));return new u(this.op,this.fn,e)},u.prototype.clone=function(){return new u(this.op,this.fn,this.args.slice(0),this.implicit)},u.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=t&&t.implicit?t.implicit:"hide",r=this.args,i=c(this,e,r,!1);if(1===r.length){//unary operators
var s=o.getAssociativity(this,e),a=r[0].toString(t);return i[0]&&(a="("+a+")"),"right"===s?this.op+a:a+this.op}if(2==r.length){var u=r[0].toString(t),l=r[1].toString(t);//right hand side
//left hand side in parenthesis?
//right hand side in parenthesis?
return i[0]&&(u="("+u+")"),i[1]&&(l="("+l+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"==n?u+" "+l:u+" "+this.op+" "+l}if(r.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var f=r.map(function(e,n){//put in parenthesis?
return e=e.toString(t),i[n]&&(e="("+e+")"),e});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?f.join(" "):f.join(" "+this.op+" ")}
//fallback to formatting as a function call
return this.fn+"("+this.args.join(", ")+")"},u.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=t&&t.implicit?t.implicit:"hide",r=this.args,s=c(this,e,r,!0),a=i.operators[this.fn];//fall back to using this.op
if(a=void 0===a?this.op:a,1===r.length){//unary operators
var u=o.getAssociativity(this,e),l=r[0].toTex(t);return s[0]&&(l="\\left("+l+"\\right)"),"right"===u?a+l:l+a}if(2===r.length){//binary operators
var f=r[0],p=f.toTex(t);s[0]&&(p="\\left("+p+"\\right)");var h=r[1],d=h.toTex(t);s[1]&&(d="\\left("+d+"\\right)");
//handle some exceptions (due to the way LaTeX works)
var m;switch(m="keep"===e?f.getIdentifier():f.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":
//op contains '\\frac' at this point
return a+"{"+p+"}{"+d+"}";case"OperatorNode:pow":switch(p="{"+p+"}",d="{"+d+"}",m){case"ConditionalNode"://
case"OperatorNode:divide":p="\\left("+p+"\\right)"}case"OperatorNode:multiply":if(this.implicit&&"hide"===n)return p+"~"+d}return p+a+d}if(r.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var v=r.map(function(e,n){return e=e.toTex(t),s[n]&&(e="\\left("+e+"\\right)"),e});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?v.join("~"):v.join(a)}
//fall back to formatting as a function call
//as this is a fallback, it doesn't use
//fancy function names
return"\\mathrm{"+this.fn+"}\\left("+r.map(function(e){return e.toTex(t)}).join(",")+"\\right)"},u.prototype.getIdentifier=function(){return this.type+":"+this.fn},u}var i=n(6),o=n(98);e.name="OperatorNode",e.path="expression.node",e.math=!0,// request access to the math namespace as 5th argument of the factory function
e.factory=r},/* 121 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){/**
   * @constructor ParenthesisNode
   * @extends {Node}
   * A parenthesis node describes manual parenthesis from the user input
   * @param {Node} content
   * @extends {Node}
   */
function o(t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");
// validate input
if(!t||!t.isNode)throw new TypeError('Node expected for parameter "content"');this.content=t}var s=r(n(26));/**
   * Compile the node to javascript code
   * @param {Object} defs     Object which can be used to define functions
   *                          or constants globally available for the compiled
   *                          expression
   * @param {Object} args     Object with local function arguments, the key is
   *                          the name of the argument, and the value is `true`.
   *                          The object may not be mutated, but must be
   *                          extended instead.
   * @return {string} js
   * @private
   */
/**
   * Get the content of the current Node.
   * @return {Node} content
   * @override
   **/
/**
   * Execute a callback for each of the child nodes of this node
   * @param {function(child: Node, path: string, parent: Node)} callback
   */
/**
   * Create a new ParenthesisNode having it's childs be the results of calling
   * the provided callback function for each of the childs of the original node.
   * @param {function(child: Node, path: string, parent: Node) : Node} callback
   * @returns {ParenthesisNode} Returns a clone of the node
   */
/**
   * Create a clone of this node, a shallow copy
   * @return {ParenthesisNode}
   */
/**
   * Get string representation
   * @param {Object} options
   * @return {string} str
   * @override
   */
/**
   * Get LaTeX representation
   * @param {Object} options
   * @return {string} str
   * @override
   */
return o.prototype=new s,o.prototype.type="ParenthesisNode",o.prototype.isParenthesisNode=!0,o.prototype._compile=function(t,e){return this.content._compile(t,e)},o.prototype.getContent=function(){return this.content.getContent()},o.prototype.forEach=function(t){t(this.content,"content",this)},o.prototype.map=function(t){return new o(t(this.content,"content",this))},o.prototype.clone=function(){return new o(this.content)},o.prototype._toString=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"("+this.content.toString(t)+")":this.content.toString(t)},o.prototype._toTex=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"\\left("+this.content.toTex(t)+"\\right)":this.content.toTex(t)},o}e.name="ParenthesisNode",e.path="expression.node",e.factory=r},/* 122 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate sqrt for a number
   * @param {number} x
   * @returns {number | Complex} Returns the square root of x
   * @private
   */
function o(n){return n>=0||e.predictable?Math.sqrt(n):new t.Complex(n,0).sqrt()}/**
   * Calculate the square root of a value.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.sqrt(x)
   *
   * Examples:
   *
   *    math.sqrt(25);                // returns 5
   *    math.square(5);               // returns 25
   *    math.sqrt(-4);                // returns Complex 2i
   *
   * See also:
   *
   *    square, multiply, cube, cbrt
   *
   * @param {number | BigNumber | Complex | Array | Matrix | Unit} x
   *            Value for which to calculate the square root.
   * @return {number | BigNumber | Complex | Array | Matrix | Unit}
   *            Returns the square root of `x`
   */
var s=r("sqrt",{number:o,Complex:function(t){return t.sqrt()},BigNumber:function(t){return!t.isNegative()||e.predictable?t.sqrt():o(t.toNumber())},"Array | Matrix":function(t){
// deep map collection, skip zeros since sqrt(0) = 0
return i(t,s,!0)},Unit:function(t){
// Someday will work for complex units when they are implemented
return t.pow(.5)}});return s.toTex={1:"\\sqrt{${args[0]}}"},s}var i=n(3);e.name="sqrt",e.factory=r},/* 123 */
/***/
function(t,e,n){"use strict";function r(t,e,r,c){/**
   * Retrieve a subset of a string
   * @param {string} str            string from which to get a substring
   * @param {Index} index           An index containing ranges for each dimension
   * @returns {string} substring
   * @private
   */
function l(t,e){if(!e||!0!==e.isIndex)
// TODO: better error message
throw new TypeError("Index expected");if(1!=e.size().length)throw new u(e.size().length,1);
// validate whether the range is out of range
var n=t.length;a(e.min()[0],n),a(e.max()[0],n);var r=e.dimension(0),i="";return r.forEach(function(e){i+=t.charAt(e)}),i}/**
   * Replace a substring in a string
   * @param {string} str            string to be replaced
   * @param {Index} index           An index containing ranges for each dimension
   * @param {string} replacement    Replacement string
   * @param {string} [defaultValue] Default value to be uses when resizing
   *                                the string. is ' ' by default
   * @returns {string} result
   * @private
   */
function f(t,e,n,r){if(!e||!0!==e.isIndex)
// TODO: better error message
throw new TypeError("Index expected");if(1!=e.size().length)throw new u(e.size().length,1);if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=e.dimension(0),o=i.size()[0];if(o!=n.length)throw new u(i.size()[0],n.length);
// validate whether the range is out of range
var s=t.length;a(e.min()[0]),a(e.max()[0]);for(var c=[],l=0;l<s;l++)c[l]=t.charAt(l);
// initialize undefined characters with a space
if(i.forEach(function(t,e){c[t]=n.charAt(e[0])}),c.length>s)for(l=s-1,o=c.length;l<o;l++)c[l]||(c[l]=r);return c.join("")}var p=r(n(2)),h=c("subset",{
// get subset
"Array, Index":function(t,e){var n=p(t),r=n.subset(e);// returns a Matrix
return r&&r.valueOf()},"Matrix, Index":function(t,e){return t.subset(e)},"Object, Index":i,"string, Index":l,
// set subset
"Array, Index, any":function(t,e,n){return p(s(t)).subset(e,n,void 0).valueOf()},"Array, Index, any, any":function(t,e,n,r){return p(s(t)).subset(e,n,r).valueOf()},"Matrix, Index, any":function(t,e,n){return t.clone().subset(e,n)},"Matrix, Index, any, any":function(t,e,n,r){return t.clone().subset(e,n,r)},"string, Index, string":f,"string, Index, string, string":f,"Object, Index, any":o});// use default template
return h.toTex=void 0,h}/**
 * Retrieve a property from an object
 * @param {Object} object
 * @param {Index} index
 * @return {*} Returns the value of the property
 * @private
 */
function i(t,e){if(1!==e.size().length)throw new u(e.size(),1);var n=e.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");return t[n]}/**
 * Set a property on an object
 * @param {Object} object
 * @param {Index} index
 * @param {*} replacement
 * @return {*} Returns the updated object
 * @private
 */
function o(t,e,n){if(1!==e.size().length)throw new u(e.size(),1);var r=e.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");
// clone the object, and apply the property to the clone
var i=s(t);return i[r]=n,i}var s=n(9).clone,a=n(11).validateIndex,u=n(18);e.name="subset",e.factory=r},/* 124 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){var a=n(6),u=r(n(2)),c=t.DenseMatrix,l=t.SparseMatrix,f=s("transpose",{Array:function(t){
// use dense matrix implementation
return f(u(t)).valueOf()},Matrix:function(t){
// matrix size
var e,n=t.size();
// process dimensions
switch(n.length){case 1:
// vector
e=t.clone();break;case 2:
// rows and columns
var r=n[0],i=n[1];
// check columns
if(0===i)
// throw exception
throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+o(n)+")");
// process storage format
switch(t.storage()){case"dense":e=p(t,r,i);break;case"sparse":e=h(t,r,i)}break;default:
// multi dimensional
throw new RangeError("Matrix must be a vector or two dimensional (size: "+o(this._size)+")")}return e},
// scalars
any:function(t){return i(t)}}),p=function(t,e,n){
// loop columns
for(var r,o=t._data,s=[],a=0;a<n;a++){
// initialize row
r=s[a]=[];
// loop rows
for(var u=0;u<e;u++)
// set data
r[u]=i(o[u][a])}
// return matrix
return new c({data:s,size:[n,e],datatype:t._datatype})},h=function(t,e,n){for(var r=t._values,o=t._index,s=t._ptr,a=r?[]:void 0,u=[],c=[],f=[],p=0;p<e;p++)f[p]=0;
// vars
var h,d,m;
// loop values in matrix
for(h=0,d=o.length;h<d;h++)
// number of values in row
f[o[h]]++;
// initialize cptr with the cummulative sum of row counts
for(var v=0,y=0;y<e;y++)
// update cptr
c.push(v),
// update sum
v+=f[y],
// update w
f[y]=c[y];
// loop columns
for(
// update cptr
c.push(v),m=0;m<n;m++)
// values & index in column
for(var g=s[m],b=s[m+1],w=g;w<b;w++){
// C values & index
var _=f[o[w]]++;
// C[j, i] = A[i, j]
u[_]=m,
// check we need to process values (pattern matrix)
r&&(a[_]=i(r[w]))}
// return matrix
return new l({values:a,index:u,ptr:c,size:[n,e],datatype:t._datatype})};return f.toTex={1:"\\left(${args[0]}\\right)"+a.operators.transpose},f}var i=n(9).clone,o=n(42).format;e.name="transpose",e.factory=r},/* 125 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Compute the number of ways of picking `k` unordered outcomes from `n`
   * possibilities.
   *
   * Combinations only takes integer arguments.
   * The following condition must be enforced: k <= n.
   *
   * Syntax:
   *
   *     math.combinations(n, k)
   *
   * Examples:
   *
   *    math.combinations(7, 5); // returns 21
   *
   * See also:
   *
   *    permutations, factorial
   *
   * @param {number | BigNumber} n    Total number of objects in the set
   * @param {number | BigNumber} k    Number of objects in the subset
   * @return {number | BigNumber}     Number of possible combinations.
   */
var s=r("combinations",{"number, number":function(t,e){var n,r,i;if(!o(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!o(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");for(n=Math.max(e,t-e),r=1,i=1;i<=t-n;i++)r=r*(n+i)/i;return r},"BigNumber, BigNumber":function(e,n){var r,o,s,a,u=new t.BigNumber(1);if(!i(e)||!i(n))throw new TypeError("Positive integer value expected in function combinations");if(n.gt(e))throw new TypeError("k must be less than n in function combinations");for(r=e.minus(n),n.lt(r)&&(r=n),o=u,s=u,a=e.minus(r);s.lte(a);s=s.plus(1))o=o.times(r.plus(s)).dividedBy(s);return o}});return s.toTex={2:"\\binom{${args[0]}}{${args[1]}}"},s}/**
 * Test whether BigNumber n is a positive integer
 * @param {BigNumber} n
 * @returns {boolean} isPositiveInteger
 */
function i(t){return t.isInteger()&&t.gte(0)}var o=n(5).isInteger;e.name="combinations",e.factory=r},/* 126 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){var s=r(n(265)),a=n(6),u=o("factorial",{number:function(t){if(t<0)throw new Error("Value must be non-negative");return s(t+1)},BigNumber:function(t){if(t.isNegative())throw new Error("Value must be non-negative");return s(t.plus(1))},"Array | Matrix":function(t){return i(t,u)}});return u.toTex={1:"\\left(${args[0]}\\right)"+a.operators.factorial},u}var i=n(3);e.name="factorial",e.factory=r},/* 127 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Test whether a value is positive: larger than zero.
   * The function supports types `number`, `BigNumber`, `Fraction`, and `Unit`.
   *
   * The function is evaluated element-wise in case of Array or Matrix input.
   *
   * Syntax:
   *
   *     math.isPositive(x)
   *
   * Examples:
   *
   *    math.isPositive(3);                     // returns true
   *    math.isPositive(-2);                    // returns false
   *    math.isPositive(0);                     // returns false
   *    math.isPositive(-0);                    // returns false
   *    math.isPositive(0.5);                   // returns true
   *    math.isPositive(math.bignumber(2));     // returns true
   *    math.isPositive(math.fraction(-2, 5));  // returns false
   *    math.isPositive(math.fraction(1,3));    // returns false
   *    math.isPositive('2');                   // returns true
   *    math.isPositive([2, 0, -3]');           // returns [true, false, false]
   *
   * See also:
   *
   *    isNumeric, isZero, isNegative, isInteger
   *
   * @param {number | BigNumber | Fraction | Unit | Array | Matrix} x  Value to be tested
   * @return {boolean}  Returns true when `x` is larger than zero.
   *                    Throws an error in case of an unknown data type.
   */
var o=r("isPositive",{number:function(t){return t>0},BigNumber:function(t){return!t.isNeg()&&!t.isZero()&&!t.isNaN()},Fraction:function(t){return t.s>0&&t.n>0},Unit:function(t){return o(t.value)},"Array | Matrix":function(t){return i(t,o)}});return o}var i=n(3);n(5);e.name="isPositive",e.factory=r},/* 128 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){var s=r(n(19)),a=t.SparseMatrix;return function(t,e,n){
// sparse matrix arrays
var r=t._values,u=t._index,c=t._ptr,l=t._size,f=t._datatype,p=e._values,h=e._index,d=e._ptr,m=e._size,v=e._datatype;
// validate dimensions
if(l.length!==m.length)throw new i(l.length,m.length);
// check rows & columns
if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");
// rows & columns
var y,g=l[0],b=l[1],w=s,_=0,x=n;
// process data types
"string"==typeof f&&f===v&&(
// datatype
y=f,
// find signature that matches (dt, dt)
w=o.find(s,[y,y]),
// convert 0 to the same datatype
_=o.convert(0,y),
// callback
x=o.find(n,[y,y]));
// result arrays
var E,C,S,N,M=r&&p?[]:void 0,O=[],T=[],A=new a({values:M,index:O,ptr:T,size:[g,b],datatype:y}),P=M?[]:void 0,k=M?[]:void 0,I=[],R=[];
// loop columns
for(C=0;C<b;C++){
// update cptr
T[C]=O.length;
// columns mark
var j=C+1;
// loop values A(:,j)
for(S=c[C],N=c[C+1];S<N;S++)
// row
E=u[S],
// push index
O.push(E),
// update workspace
I[E]=j,
// check we need to process values
P&&(P[E]=r[S]);
// loop values B(:,j)
for(S=d[C],N=d[C+1];S<N;S++)
// row
E=h[S],
// check row existed in A
I[E]!==j&&
// push index
O.push(E),
// update workspace
R[E]=j,
// check we need to process values
k&&(k[E]=p[S]);
// check we need to process values (non pattern matrix)
if(M)
// loop index in j
for(
// initialize first index in j
S=T[C];S<O.length;){
// row
E=O[S];
// marks
var D=I[E],L=R[E];
// check Aij or Bij are nonzero
if(D===j||L===j){
// matrix values @ i,j
var F=D===j?P[E]:_,U=L===j?k[E]:_,V=x(F,U);
// check for zero
w(V,_)?
// remove value @ i, do not increment pointer
O.splice(S,1):(
// push value
M.push(V),
// increment pointer
S++)}}}
// return sparse matrix
// update cptr
return T[b]=O.length,A}}var i=n(18);e.name="algorithm05",e.factory=r},/* 129 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){var a=r(n(19)),u=t.SparseMatrix;return function(t,e,n){
// sparse matrix arrays
var r=t._values,c=t._size,l=t._datatype,f=e._values,p=e._size,h=e._datatype;
// validate dimensions
if(c.length!==p.length)throw new o(c.length,p.length);
// check rows & columns
if(c[0]!==p[0]||c[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+p+")");
// rows & columns
var d,m=c[0],v=c[1],y=a,g=0,b=n;
// process data types
"string"==typeof l&&l===h&&(
// datatype
d=l,
// find signature that matches (dt, dt)
y=s.find(a,[d,d]),
// convert 0 to the same datatype
g=s.convert(0,d),
// callback
b=s.find(n,[d,d]));
// loop columns
for(var w=r&&f?[]:void 0,_=[],x=[],E=new u({values:w,index:_,ptr:x,size:[m,v],datatype:d}),C=w?[]:void 0,S=[],N=[],M=0;M<v;M++){
// update cptr
x[M]=_.length;
// columns mark
var O=M+1;
// check we need to process values (non pattern matrix)
if(
// scatter the values of A(:,j) into workspace
i(t,M,S,C,N,O,E,b),
// scatter the values of B(:,j) into workspace
i(e,M,S,C,N,O,E,b),C)
// loop index in j
for(
// initialize first index in j
var T=x[M];T<_.length;){
// row
var A=_[T];
// check function was invoked on current row (Aij !=0 && Bij != 0)
if(N[A]===O){
// value @ i
var P=C[A];
// check for zero value
y(P,g)?
// remove value @ i, do not increment pointer
_.splice(T,1):(
// push value
w.push(P),
// increment pointer
T++)}else
// remove value @ i, do not increment pointer
_.splice(T,1)}else
// loop index in j
for(
// initialize first index in j
var k=x[M];k<_.length;){
// row
var I=_[k];
// check function was invoked on current row (Aij !=0 && Bij != 0)
N[I]!==O?
// remove value @ i, do not increment pointer
_.splice(k,1):
// increment pointer
k++}}
// return sparse matrix
// update cptr
return x[v]=_.length,E}}var i=n(845),o=n(18);e.name="algorithm06",e.factory=r},/* 130 */
/***/
function(t,e,n){"use strict";var r=n(85);/**
 * Test whether an array contains collections
 * @param {Array} array
 * @returns {boolean} Returns true when the array contains one or multiple
 *                    collections (Arrays or Matrices). Returns false otherwise.
 */
t.exports=function(t){for(var e=0;e<t.length;e++)if(r(t[e]))return!0;return!1}},/* 131 */
/***/
function(t,e,n){"use strict";/**
 * Recursively reduce a matrix
 * @param {Array} mat
 * @param {number} dim
 * @param {Function} callback
 * @returns {Array} ret
 * @private
 */
function r(t,e,n){var o,s,a,u;if(e<=0){if(Array.isArray(t[0])){for(u=i(t),s=[],o=0;o<u.length;o++)s[o]=r(u[o],e-1,n);return s}for(a=t[0],o=1;o<t.length;o++)a=n(a,t[o]);return a}for(s=[],o=0;o<t.length;o++)s[o]=r(t[o],e-1,n);return s}/**
 * Transpose a matrix
 * @param {Array} mat
 * @returns {Array} ret
 * @private
 */
function i(t){var e,n,r=t.length,i=t[0].length,o=[];for(n=0;n<i;n++){var s=[];for(e=0;e<r;e++)s.push(t[e][n]);o.push(s)}return o}var o=n(11).size,s=n(95);/**
 * Reduce a given matrix or array to a new matrix or
 * array with one less dimension, applying the given
 * callback in the selected dimension.
 * @param {Array | Matrix} mat
 * @param {number} dim
 * @param {Function} callback
 * @return {Array | Matrix} res
 */
t.exports=function(t,e,n){var i=Array.isArray(t)?o(t):t.size();if(e<0||e>=i.length)
// TODO: would be more clear when throwing a DimensionError here
throw new s(e,i.length);return t&&!0===t.isMatrix?t.create(r(t.valueOf(),e,n)):r(t,e,n)}},/* 132 */
/***/
function(t,e){/**
 * Get a property of an object and check whether the property value is
 * safe and allowed. When the returned value is for example Function,
 * an error is thrown.
 * @param {Object} object
 * @param {String} prop
 * @return {*} Returns the property value when safe, else throws an error
 */
function n(t,e){
// Note: checking for property names like "constructor" is not
// helpful since you can work around it.
var n=t[e];if(n===Function||n===Object||n===Function.bind)throw new Error('Access to "'+n.name+'" is disabled');return n}e.getSafeProperty=n},/* 133 */
/***/
function(t,e,n){"use strict";/**
 * Determine the type of a variable
 *
 *     type(x)
 *
 * The following types are recognized:
 *
 *     'undefined'
 *     'null'
 *     'boolean'
 *     'number'
 *     'string'
 *     'Array'
 *     'Function'
 *     'Date'
 *     'RegExp'
 *     'Object'
 *
 * @param {*} x
 * @return {string} Returns the name of the type. Primitive types are lower case,
 *                  non-primitive types are upper-camel-case.
 *                  For example 'number', 'string', 'Array', 'Date'.
 */
e.type=function(t){var e=typeof t;return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":"Object":"function"===e?"Function":e},/**
 * Test whether a value is a scalar
 * @param x
 * @return {boolean} Returns true when x is a scalar, returns false when
 *                   x is a Matrix or Array.
 */
e.isScalar=function(t){return!(t&&t.isMatrix||Array.isArray(t))}},/* 134 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(17),o=n(22),s=function(t){function e(){t.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return r(e,t),e.prototype._subscribe=function(e){return this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),o.Subscription.EMPTY):this.hasError?(e.error(this.thrownError),o.Subscription.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(i.Subject);e.AsyncSubject=s},/* 135 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Applies an accumulator function over the source Observable, and returns the
 * accumulated result when the source completes, given an optional seed value.
 *
 * <span class="informal">Combines together all values emitted on the source,
 * using an accumulator function that knows how to join a new source value into
 * the accumulation from the past.</span>
 *
 * <img src="./img/reduce.png" width="100%">
 *
 * Like
 * [Array.prototype.reduce()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce),
 * `reduce` applies an `accumulator` function against an accumulation and each
 * value of the source Observable (from the past) to reduce it to a single
 * value, emitted on the output Observable. Note that `reduce` will only emit
 * one value, only when the source Observable completes. It is equivalent to
 * applying operator {@link scan} followed by operator {@link last}.
 *
 * Returns an Observable that applies a specified `accumulator` function to each
 * item emitted by the source Observable. If a `seed` value is specified, then
 * that value will be used as the initial value for the accumulator. If no seed
 * value is specified, the first item of the source is used as the seed.
 *
 * @example <caption>Count the number of click events that happened in 5 seconds</caption>
 * var clicksInFiveSeconds = Rx.Observable.fromEvent(document, 'click')
 *   .takeUntil(Rx.Observable.interval(5000));
 * var ones = clicksInFiveSeconds.mapTo(1);
 * var seed = 0;
 * var count = ones.reduce((acc, one) => acc + one, seed);
 * count.subscribe(x => console.log(x));
 *
 * @see {@link count}
 * @see {@link expand}
 * @see {@link mergeScan}
 * @see {@link scan}
 *
 * @param {function(acc: R, value: T): R} accumulator The accumulator function
 * called on each source value.
 * @param {R} [seed] The initial accumulation value.
 * @return {Observable<R>} An observable of the accumulated values.
 * @return {Observable<R>} An Observable that emits a single value that is the
 * result of accumulating the values emitted by the source Observable.
 * @method reduce
 * @owner Observable
 */
function r(t,e){var n=!1;
// providing a seed of `undefined` *should* be valid and trigger
// hasSeed! so don't use `seed !== undefined` checks!
// For this reason, we have to check it here at the original call site
// otherwise inside Operator/Subscriber we won't know if `undefined`
// means they didn't provide anything or if they literally provided `undefined`
return arguments.length>=2&&(n=!0),this.lift(new s(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.reduce=r;var s=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.hasSeed))},t}();e.ReduceOperator=s;/**
 * We need this JSDoc comment for affecting ESDoc.
 * @ignore
 * @extends {Ignored}
 */
var a=function(t){function e(e,n,r,i){t.call(this,e),this.accumulator=n,this.hasSeed=i,this.hasValue=!1,this.acc=r}return i(e,t),e.prototype._next=function(t){this.hasValue||(this.hasValue=this.hasSeed)?this._tryReduce(t):(this.acc=t,this.hasValue=!0)},e.prototype._tryReduce=function(t){var e;try{e=this.accumulator(this.acc,t)}catch(t){return void this.destination.error(t)}this.acc=e},e.prototype._complete=function(){(this.hasValue||this.hasSeed)&&this.destination.next(this.acc),this.destination.complete()},e}(o.Subscriber);e.ReduceSubscriber=a},/* 136 */
/***/
function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}var i=n(27);e.getSymbolObservable=r,e.$$observable=r(i.root)},/* 137 */
/***/
function(t,e,n){"use strict";var r=n(27),i=r.root.Symbol;e.$$rxSubscriber="function"==typeof i&&"function"==typeof i.for?i.for("rxSubscriber"):"@@rxSubscriber"},/* 138 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.ArgumentOutOfRangeError=i},/* 139 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.ObjectUnsubscribedError=i},/* 140 */
/***/
function(t,e,n){"use strict";function r(t){return t instanceof Date&&!isNaN(+t)}e.isDate=r},/* 141 */
/***/
function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});/* harmony import */
var r=n(345),i=n(23),o=n(109),s=n(72);/* harmony export (binding) */
n.d(e,"RESOURCE_CACHE_PROVIDER",function(){return p}),/* harmony export (binding) */
n.d(e,"platformBrowserDynamic",function(){return h}),/* harmony export (binding) */
n.d(e,"VERSION",function(){return f}),/* harmony export (binding) */
n.d(e,"INTERNAL_BROWSER_DYNAMIC_PLATFORM_PROVIDERS",function(){return c}),/* harmony export (binding) */
n.d(e,"ResourceLoaderImpl",function(){return u});var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.get=function(t){var e,n,r=new Promise(function(t,r){e=t,n=r}),i=new XMLHttpRequest;return i.open("GET",t,!0),i.responseType="text",i.onload=function(){
// responseText is the old-school way of retrieving response (supported by IE8 & 9)
// response/responseType properties were introduced in ResourceLoader Level2 spec (supported
// by IE10)
var r=i.response||i.responseText,o=1223===i.status?204:i.status;
// fix status code when it is 0 (0 status is undocumented).
// Occurs when accessing file resources or on Android 4.1 stock browser
// while retrieving files from application cache.
0===o&&(o=r?200:0),200<=o&&o<=300?e(r):n("Failed to load "+t)},i.onerror=function(){n("Failed to load "+t)},i.send(),r},e}(r.a);u.decorators=[{type:i.Injectable}],/** @nocollapse */
u.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var c=[s["INTERNAL_BROWSER_PLATFORM_PROVIDERS"],{provide:i.COMPILER_OPTIONS,useValue:{providers:[{provide:r.a,useClass:u}]},multi:!0},{provide:i.PLATFORM_ID,useValue:o["PLATFORM_BROWSER_ID"]}],l=function(t){function e(){var e=t.call(this)||this;if(e._cache=i["global"].$templateCache,null==e._cache)throw new Error("CachedResourceLoader: Template cache was not found in $templateCache.");return e}return a(e,t),e.prototype.get=function(t){return this._cache.hasOwnProperty(t)?Promise.resolve(this._cache[t]):Promise.reject("CachedResourceLoader: Did not find cached template for "+t)},e}(r.a),f=new i.Version("4.0.1"),p=[{provide:r.a,useClass:l}],h=n.i(i.createPlatformFactory)(r.b,"browserDynamic",c)},/* 142 */
,/* 143 */
,/* 144 */
,/* 145 */
,/* 146 */
,/* 147 */
,/* 148 */
,/* 149 */
,/* 150 */
,/* 151 */
,/* 152 */
,/* 153 */
,/* 154 */
,/* 155 */
,/* 156 */
,/* 157 */
,/* 158 */
,/* 159 */
,/* 160 */
/***/
function(t,e,n){"use strict";
// Reserved keywords not allowed to use in the parser
t.exports={end:!0}},/* 161 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){/**
   * @constructor ArrayNode
   * @extends {Node}
   * Holds an 1-dimensional array with items
   * @param {Node[]} [items]   1 dimensional array with items
   */
function o(t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");
// validate input
if(this.items=t||[],!Array.isArray(this.items)||!this.items.every(function(t){return t&&t.isNode}))throw new TypeError("Array containing Nodes expected");
// TODO: deprecated since v3, remove some day
var e=function(){throw new Error("Property `ArrayNode.nodes` is deprecated, use `ArrayNode.items` instead")};Object.defineProperty(this,"nodes",{get:e,set:e})}var s=r(n(26));/**
   * Compile the node to javascript code
   * @param {Object} defs     Object which can be used to define functions
   *                          or constants globally available for the compiled
   *                          expression
   * @param {Object} args     Object with local function arguments, the key is
   *                          the name of the argument, and the value is `true`.
   *                          The object may not be mutated, but must be
   *                          extended instead.
   * @private
   */
/**
   * Execute a callback for each of the child nodes of this node
   * @param {function(child: Node, path: string, parent: Node)} callback
   */
/**
   * Create a new ArrayNode having it's childs be the results of calling
   * the provided callback function for each of the childs of the original node.
   * @param {function(child: Node, path: string, parent: Node): Node} callback
   * @returns {ArrayNode} Returns a transformed copy of the node
   */
/**
   * Create a clone of this node, a shallow copy
   * @return {ArrayNode}
   */
/**
   * Get string representation
   * @param {Object} options
   * @return {string} str
   * @override
   */
/**
   * Get LaTeX representation
   * @param {Object} options
   * @return {string} str
   */
return o.prototype=new s,o.prototype.type="ArrayNode",o.prototype.isArrayNode=!0,o.prototype._compile=function(t,e){var n="Array"!==t.math.config().matrix,r=this.items.map(function(n){return n._compile(t,e)});return(n?"math.matrix([":"[")+r.join(",")+(n?"])":"]")},o.prototype.forEach=function(t){for(var e=0;e<this.items.length;e++){t(this.items[e],"items["+e+"]",this)}},o.prototype.map=function(t){for(var e=[],n=0;n<this.items.length;n++)e[n]=this._ifNode(t(this.items[n],"items["+n+"]",this));return new o(e)},o.prototype.clone=function(){return new o(this.items.slice(0))},o.prototype._toString=function(t){return"["+this.items.map(function(e){return e.toString(t)}).join(", ")+"]"},o.prototype._toTex=function(t){var e="\\begin{bmatrix}";return this.items.forEach(function(n){n.items?e+=n.items.map(function(e){return e.toTex(t)}).join("&"):e+=n.toTex(t),
// new line
e+="\\\\"}),e+="\\end{bmatrix}"},o}e.name="ArrayNode",e.path="expression.node",e.factory=r},/* 162 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){/**
   * @constructor RangeNode
   * @extends {Node}
   * create a range
   * @param {Node} start  included lower-bound
   * @param {Node} end    included upper-bound
   * @param {Node} [step] optional step
   */
function s(t,e,n){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");
// validate inputs
if(!t||!t.isNode)throw new TypeError("Node expected");if(!e||!e.isNode)throw new TypeError("Node expected");if(n&&(!n||!n.isNode))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=t,// included lower-bound
this.end=e,// included upper-bound
this.step=n||null}/**
   * Calculate the necessary parentheses
   * @param {Node} node
   * @param {string} parenthesis
   * @return {Object} parentheses
   * @private
   */
function a(t,e){var n=i.getPrecedence(t,e),r={},o=i.getPrecedence(t.start,e);if(r.start=null!==o&&o<=n||"all"===e,t.step){var s=i.getPrecedence(t.step,e);r.step=null!==s&&s<=n||"all"===e}var a=i.getPrecedence(t.end,e);return r.end=null!==a&&a<=n||"all"===e,r}var u=r(n(26));/**
   * Check whether the RangeNode needs the `end` symbol to be defined.
   * This end is the size of the Matrix in current dimension.
   * @return {boolean}
   */
/**
   * Compile the node to javascript code
   *
   * When the range has a symbol `end` defined, the RangeNode requires
   * a variable `end` to be defined in the current closure, which must contain
   * the length of the of the matrix that's being handled in the range's
   * dimension. To check whether the `end` variable is needed, call
   * RangeNode.needsEnd().
   *
   * @param {Object} defs     Object which can be used to define functions
   *                          or constants globally available for the compiled
   *                          expression
   * @param {Object} args     Object with local function arguments, the key is
   *                          the name of the argument, and the value is `true`.
   *                          The object may not be mutated, but must be
   *                          extended instead.
   * @return {string} js
   * @private
   */
/**
   * Execute a callback for each of the child nodes of this node
   * @param {function(child: Node, path: string, parent: Node)} callback
   */
/**
   * Create a new RangeNode having it's childs be the results of calling
   * the provided callback function for each of the childs of the original node.
   * @param {function(child: Node, path: string, parent: Node): Node} callback
   * @returns {RangeNode} Returns a transformed copy of the node
   */
/**
   * Create a clone of this node, a shallow copy
   * @return {RangeNode}
   */
/**
   * Get string representation
   * @param {Object} options
   * @return {string} str
   */
/**
   * Get LaTeX representation
   * @params {Object} options
   * @return {string} str
   */
return s.prototype=new u,s.prototype.type="RangeNode",s.prototype.isRangeNode=!0,s.prototype.needsEnd=function(){return this.filter(function(t){return t&&t.isSymbolNode&&"end"==t.name}).length>0},s.prototype._compile=function(t,e){return"math.range("+this.start._compile(t,e)+", "+this.end._compile(t,e)+(this.step?", "+this.step._compile(t,e):"")+")"},s.prototype.forEach=function(t){t(this.start,"start",this),t(this.end,"end",this),this.step&&t(this.step,"step",this)},s.prototype.map=function(t){return new s(this._ifNode(t(this.start,"start",this)),this._ifNode(t(this.end,"end",this)),this.step&&this._ifNode(t(this.step,"step",this)))},s.prototype.clone=function(){return new s(this.start,this.end,this.step&&this.step)},s.prototype._toString=function(t){var e,n=t&&t.parenthesis?t.parenthesis:"keep",r=a(this,n),i=this.start.toString(t);if(r.start&&(i="("+i+")"),e=i,this.step){var o=this.step.toString(t);r.step&&(o="("+o+")"),e+=":"+o}var s=this.end.toString(t);return r.end&&(s="("+s+")"),e+=":"+s},s.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=a(this,e),r=this.start.toTex(t);if(n.start&&(r="\\left("+r+"\\right)"),this.step){var i=this.step.toTex(t);n.step&&(i="\\left("+i+"\\right)"),r+=":"+i}var o=this.end.toTex(t);return n.end&&(o="\\left("+o+"\\right)"),r+=":"+o},s}var i=n(98);e.name="RangeNode",e.path="expression.node",e.factory=r},/* 163 */
/***/
function(t,e,n){"use strict";function r(t){var e=t.DenseMatrix;return function(t,n,r){
// matrix size
var i=t.size();
// validate matrix dimensions
if(2!==i.length)throw new RangeError("Matrix must be two dimensional (size: "+o.format(i)+")");
// rows & columns
var u=i[0];
// validate rows & columns
if(u!==i[1])throw new RangeError("Matrix must be square (size: "+o.format(i)+")");
// vars
var c,l,f;
// check b is matrix
if(n&&!0===n.isMatrix){
// matrix size
var p=n.size();
// vector
if(1===p.length){
// check vector length
if(p[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");
// loop b data
for(
// create data array
c=[],
// matrix data (DenseMatrix)
f=n._data,l=0;l<u;l++)
// row array
c[l]=[f[l]];
// return Dense Matrix
return new e({data:c,size:[u,1],datatype:n._datatype})}
// two dimensions
if(2===p.length){
// array must be a column vector
if(p[0]!==u||1!==p[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");
// check matrix type
if(!0===n.isDenseMatrix){
// check a copy is needed
if(r){
// loop b data
for(
// create data array
c=[],
// matrix data (DenseMatrix)
f=n._data,l=0;l<u;l++)
// row array
c[l]=[f[l][0]];
// return Dense Matrix
return new e({data:c,size:[u,1],datatype:n._datatype})}
// b is already a column vector
return n}for(
// create data array
c=[],l=0;l<u;l++)c[l]=[0];
// loop values in column 0
for(var h=n._values,d=n._index,m=n._ptr,v=m[1],y=m[0];y<v;y++)
// row
l=d[y],
// add to data
c[l][0]=h[y];
// return Dense Matrix
return new e({data:c,size:[u,1],datatype:n._datatype})}
// throw error
throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}
// check b is array
if(a(n)){
// size
var g=s.size(n);
// check matrix dimensions, vector
if(1===g.length){
// check vector length
if(g[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");
// loop b
for(
// create data array
c=[],l=0;l<u;l++)
// row array
c[l]=[n[l]];
// return Dense Matrix
return new e({data:c,size:[u,1]})}if(2===g.length){
// array must be a column vector
if(g[0]!==u||1!==g[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");
// loop b data
for(
// create data array
c=[],l=0;l<u;l++)
// row array
c[l]=[n[l][0]];
// return Dense Matrix
return new e({data:c,size:[u,1]})}
// throw error
throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}}}var i=n(51),o=i.string,s=i.array,a=Array.isArray;e.factory=r},/* 164 */
/***/
function(t,e,n){"use strict";function r(){return function(t){
// flip the value
return-t-2}}e.name="cs_flip",e.path="sparse",e.factory=r},/* 165 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){function a(t,e){switch(t.length){case 0:return e?c(e):[];case 1:return u(t[0],t[0],e);case 2:return u(t[0],t[1],e);default:throw new Error("Vector containing two values expected")}}/**
   * Create an identity matrix
   * @param {number | BigNumber} rows
   * @param {number | BigNumber} cols
   * @param {string} [format]
   * @returns {Matrix}
   * @private
   */
function u(e,n,r){
// BigNumber constructor with the right precision
var s=e&&!0===e.isBigNumber?t.BigNumber:n&&!0===n.isBigNumber?t.BigNumber:null;if(e&&!0===e.isBigNumber&&(e=e.toNumber()),n&&!0===n.isBigNumber&&(n=n.toNumber()),!o(e)||e<1)throw new Error("Parameters in function eye must be positive integers");if(!o(n)||n<1)throw new Error("Parameters in function eye must be positive integers");var a=s?new t.BigNumber(1):1,u=s?new s(0):0,c=[e,n];
// check we need to return a matrix
if(r){
// create diagonal matrix (use optimized implementation for storage format)
return t.Matrix.storage(r).diagonal(c,a,0,u)}
// fill diagonal
for(var l=i.resize([],c,u),f=e<n?e:n,p=0;p<f;p++)l[p][p]=a;return l}var c=r(n(2)),l=s("eye",{"":function(){return"Matrix"===e.matrix?c([]):[]},string:function(t){return c(t)},"number | BigNumber":function(t){return u(t,t,"Matrix"===e.matrix?"default":void 0)},"number | BigNumber, string":function(t,e){return u(t,t,e)},"number | BigNumber, number | BigNumber":function(t,n){return u(t,n,"Matrix"===e.matrix?"default":void 0)},"number | BigNumber, number | BigNumber, string":function(t,e,n){return u(t,e,n)},Array:function(t){return a(t)},"Array, string":function(t,e){return a(t,e)},Matrix:function(t){return a(t.valueOf(),t.storage())},"Matrix, string":function(t,e){return a(t.valueOf(),e)}});// use default template
return l.toTex=void 0,l}var i=n(11),o=n(5).isInteger;e.name="eye",e.factory=r},/* 166 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Create a new matrix or array with the results of the callback function executed on
   * each entry of the matrix/array.
   *
   * Syntax:
   *
   *    math.map(x, callback)
   *
   * Examples:
   *
   *    math.map([1, 2, 3], function(value) {
   *      return value * value;
   *    });  // returns [1, 4, 9]
   *
   * See also:
   *
   *    filter, forEach, sort
   *
   * @param {Matrix | Array} x    The matrix to iterate on.
   * @param {Function} callback   The callback method is invoked with three
   *                              parameters: the value of the element, the index
   *                              of the element, and the matrix being traversed.
   * @return {Matrix | array}     Transformed map of x
   */
var o=r("map",{"Array, function":i,"Matrix, function":function(t,e){return t.map(e)}});// use default template
return o.toTex=void 0,o}/**
 * Map for a multi dimensional array
 * @param {Array} array
 * @param {Function} callback
 * @return {Array}
 * @private
 */
function i(t,e){
// figure out what number of arguments the callback function expects
var n=o(e),r=function(i,o){
// invoke the callback function with the right number of arguments
return Array.isArray(i)?i.map(function(t,e){
// we create a copy of the index array and append the new index value
return r(t,o.concat(e))}):1===n?e(i):2===n?e(i,o):e(i,o,t)};return r(t,[])}var o=n(71).maxArgumentCount;e.name="map",e.factory=r},/* 167 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){function s(t,e){return-c(t,e)}function a(t,e,n){if(!i(e)||e<0)throw new Error("k must be a non-negative integer");if(t&&t.isMatrix){if(t.size().length>1)throw new Error("Only one dimensional matrices supported");return u(t.valueOf(),e,n)}if(Array.isArray(t))return u(t,e,n)}/**
   * Quickselect algorithm.
   * Code adapted from:
   * http://blog.teamleadnet.com/2012/07/quick-select-algorithm-find-kth-element.html
   *
   * @param {Array} arr
   * @param {Number} k
   * @param {Function} compare
   * @private
   */
function u(t,e,n){if(e>=t.length)throw new Error("k out of bounds");
// if from == to we reached the kth element
for(var r=0,i=t.length-1;r<i;){
// stop if the reader and writer meets
for(var o=r,s=i,a=t[Math.floor(Math.random()*(i-r+1))+r];o<s;)
// arr[r] >= pivot
if(n(t[o],a)>=0){// put the large values at the end
var u=t[s];t[s]=t[o],t[o]=u,--s}else// the value is smaller than the pivot, skip
++o;
// if we stepped up (r++) we need to step one down (arr[r] > pivot)
n(t[o],a)>0&&--o,
// the r pointer is on the end of the first k elements
e<=o?i=o:r=o+1}return t[e]}var c=r(n(99));/**
   * Partition-based selection of an array or 1D matrix.
   * Will find the kth smallest value, and mutates the input array.
   * Uses Quickselect.
   *
   * Syntax:
   *
   *    math.partitionSelect(x, k)
   *    math.partitionSelect(x, k, compare)
   *
   * Examples:
   *
   *    math.partitionSelect([5, 10, 1], 2);           // returns 10
   *    math.partitionSelect(['C', 'B', 'A', 'D'], 1); // returns 'B'
   *
   *    function sortByLength (a, b) {
   *      return a.length - b.length;
   *    }
   *    math.partitionSelect(['Langdon', 'Tom', 'Sara'], 2, sortByLength); // returns 'Langdon'
   *
   * See also:
   *
   *    sort
   *
   * @param {Matrix | Array} x    A one dimensional matrix or array to sort
   * @param {Number} k            The kth smallest value to be retrieved; zero-based index
   * @param {Function | 'asc' | 'desc'} [compare='asc']
   *        An optional comparator function. The function is called as
   *        `compare(a, b)`, and must return 1 when a > b, -1 when a < b,
   *        and 0 when a == b.
   * @return {*} Returns the kth lowest value.
   */
return o("partitionSelect",{"Array | Matrix, number":function(t,e){return a(t,e,c)},"Array | Matrix, number, string":function(t,e,n){if("asc"===n)return a(t,e,c);if("desc"===n)return a(t,e,s);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":a})}var i=n(5).isInteger;e.name="partitionSelect",e.factory=r},/* 168 */
/***/
function(t,e,n){"use strict";
// TODO: rethink math.distribution
// TODO: rework to a typed function
function r(t,e,r,a,u){/**
   * Create a distribution object with a set of random functions for given
   * random distribution.
   *
   * Syntax:
   *
   *     math.distribution(name)
   *
   * Examples:
   *
   *     var normalDist = math.distribution('normal'); // create a normal distribution
   *     normalDist.random(0, 10);                     // get a random value between 0 and 10
   *
   * See also:
   *
   *     random, randomInt, pickRandom
   *
   * @param {string} name   Name of a distribution. Choose from 'uniform', 'normal'.
   * @return {Object}       Returns a distribution object containing functions:
   *                        `random([size] [, min] [, max])`,
   *                        `randomInt([min] [, max])`,
   *                        `pickRandom(array)`
   */
function c(t){if(!h.hasOwnProperty(t))throw new Error("Unknown distribution "+t);var e=Array.prototype.slice.call(arguments,1),n=h[t].apply(this,e);return function(t){
// This is the public API for all distributions
var e={random:function(t,e,n){var a,u,f;if(arguments.length>3)throw new i("random",arguments.length,0,3);
// TODO: validate type of size
if(1===arguments.length?
// `random(max)` or `random(size)`
o(t)?a=t:f=t:2===arguments.length?
// `random(min, max)` or `random(size, max)`
o(t)?(a=t,f=e):(u=t,f=e):(
// `random(size, min, max)`
a=t,u=e,f=n),void 0!==u&&!s(u)||void 0!==f&&!s(f))throw new TypeError("Invalid argument in function random");if(void 0===f&&(f=1),void 0===u&&(u=0),void 0!==a){var p=c(a.valueOf(),u,f,r);return a&&!0===a.isMatrix?l(p):p}return r(u,f)},randomInt:a({"number | Array":function(t){if(o(t)){var e=t,n=1,r=c(e.valueOf(),0,n,u);return e&&!0===e.isMatrix?l(r):r}var n=t;return u(0,n)},"number | Array, number":function(t,e){if(o(t)){var n=t,r=e,i=0,s=c(n.valueOf(),i,r,u);return n&&!0===n.isMatrix?l(s):s}var i=t,r=e;return u(i,r)},"Array, number, number":function(t,e,n){var r=c(t.valueOf(),e,n,u);return t&&!0===t.isMatrix?l(r):r}}),pickRandom:a({Array:function(t){return n(t)},"Array, number | Array":function(t,e){var r,i;if(Array.isArray(e))i=e;else{if(!s(e))throw new TypeError("Invalid argument in function pickRandom");r=e}return n(t,r,i)},"Array, number | Array, Array | number":function(t,e,r){var i,o;if(Array.isArray(e)?(o=e,i=r):(o=r,i=e),!Array.isArray(o)||!s(i))throw new TypeError("Invalid argument in function pickRandom");return n(t,i,o)}})},n=function(t,e,n){var r=void 0===e;if(r&&(e=1),t&&!0===t.isMatrix)t=t.valueOf();else if(!Array.isArray(t))throw new TypeError("Unsupported type of value in function pickRandom");if(f.size(t).length>1)throw new Error("Only one dimensional vectors supported");if(void 0!==n){if(n.length!=t.length)throw new Error("Weights must have the same length as possibles");for(var i=0,o=0,a=n.length;o<a;o++){if(!s(n[o])||n[o]<0)throw new Error("Weights must be an array of positive numbers");i+=n[o]}}var u=t.length;if(0==u)return[];if(e>=u)return t;for(var c,l=[];l.length<e;){if(void 0===n)c=t[Math.floor(p()*u)];else for(var h=p()*i,o=0,a=t.length;o<a;o++)if((h-=n[o])<0){c=t[o];break}-1==l.indexOf(c)&&l.push(c)}return r?l[0]:l},r=function(e,n){return e+t()*(n-e)},u=function(e,n){return Math.floor(e+t()*(n-e))},c=function(t,e,n,r){var i,o,s=[];if(t=t.slice(0),t.length>1)for(var o=0,i=t.shift();o<i;o++)s.push(c(t,e,n,r));else for(var o=0,i=t.shift();o<i;o++)s.push(r(e,n));return s};return e}(n)}var l=r(n(2)),f=n(11),p=r(n(762)),h={uniform:function(){return p},
// Implementation of normal distribution using Box-Muller transform
// ref : http://en.wikipedia.org/wiki/Box%E2%80%93Muller_transform
// We take : mean = 0.5, standard deviation = 1/6
// so that 99.7% values are in [0, 1].
normal:function(){return function(){
// We reject values outside of the interval [0, 1]
// TODO: check if it is ok to do that?
for(var t,e,n=-1;n<0||n>1;)t=p(),e=p(),n=1/6*Math.pow(-2*Math.log(t),.5)*Math.cos(2*Math.PI*e)+.5;return n}}};// use default template
return c.toTex=void 0,c}var i=n(94),o=n(85),s=n(5).isNumber;e.name="distribution",e.factory=r},/* 169 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(2)),s=r(n(19)),a=r(n(31)),u=r(n(50)),c=r(n(33)),l=r(n(12)),f=r(n(10)),p=n(6),h=i("equal",{"any, any":function(t,e){
// strict equality for null and undefined?
// strict equality for null and undefined?
return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:s(t,e)},"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse + sparse
n=u(t,e,s);break;default:
// sparse + dense
n=a(e,t,s,!0)}break;default:switch(e.storage()){case"sparse":
// dense + sparse
n=a(t,e,s,!1);break;default:
// dense + dense
n=l(t,e,s)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return h(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return h(o(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return h(t,o(e))},"Matrix, any":function(t,e){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=c(t,e,s,!1);break;default:n=f(t,e,s,!1)}return n},"any, Matrix":function(t,e){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=c(e,t,s,!0);break;default:n=f(e,t,s,!0)}return n},"Array, any":function(t,e){
// use matrix implementation
return f(o(t),e,s,!1).valueOf()},"any, Array":function(t,e){
// use matrix implementation
return f(o(e),t,s,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}"+p.operators.equal+"${args[1]}\\right)"},h}e.name="equal",e.factory=r},/* 170 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Test whether a value is an numeric value.
   *
   * The function is evaluated element-wise in case of Array or Matrix input.
   *
   * Syntax:
   *
   *     math.isNumeric(x)
   *
   * Examples:
   *
   *    math.isNumeric(2);                     // returns true
   *    math.isNumeric(0);                     // returns true
   *    math.isNumeric(math.bignumber(500));   // returns true
   *    math.isNumeric(math.fraction(4));      // returns true
   *    math.isNumeric(math.complex('2-4i');   // returns false
   *    math.isNumeric('3');                   // returns false
   *    math.isNumeric([2.3, 'foo', false]);   // returns [true, false, true]
   *
   * See also:
   *
   *    isZero, isPositive, isNegative, isInteger
   *
   * @param {*} x       Value to be tested
   * @return {boolean}  Returns true when `x` is a `number`, `BigNumber`,
   *                    `Fraction`, or `boolean`. Returns false for other types.
   *                    Throws an error in case of unknown types.
   */
var o=r("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string":function(){return!1},"Array | Matrix":function(t){return i(t,o)}});return o}var i=n(3);n(5);e.name="isNumeric",e.factory=r},/* 171 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * @constructor Matrix
   *
   * A Matrix is a wrapper around an Array. A matrix can hold a multi dimensional
   * array. A matrix can be constructed as:
   *     var matrix = math.matrix(data)
   *
   * Matrix contains the functions to resize, get and set values, get the size,
   * clone the matrix and to convert the matrix to a vector, array, or scalar.
   * Furthermore, one can iterate over the matrix using map and forEach.
   * The internal Array of the Matrix can be accessed using the function valueOf.
   *
   * Example usage:
   *     var matrix = math.matrix([[1, 2], [3, 4]]);
   *     matix.size();              // [2, 2]
   *     matrix.resize([3, 2], 5);
   *     matrix.valueOf();          // [[1, 2], [3, 4], [5, 5]]
   *     matrix.subset([1,2])       // 3 (indexes are zero-based)
   *
   */
function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator")}
// exports
/**
   * Attach type information
   */
/**
   * Get the Matrix storage constructor for the given format.
   *
   * @param {string} format       The Matrix storage format.
   *
   * @return {Function}           The Matrix storage constructor.
   */
// a map with all constructors for all storage types
/**
   * Get the storage format used by the matrix.
   *
   * Usage:
   *     var format = matrix.storage()                   // retrieve storage format
   *
   * @return {string}           The storage format.
   */
/**
   * Get the datatype of the data stored in the matrix.
   *
   * Usage:
   *     var format = matrix.datatype()                   // retrieve matrix datatype
   *
   * @return {string}           The datatype.
   */
/**
   * Create a new Matrix With the type of the current matrix instance
   * @param {Array | Object} data
   * @param {string} [datatype]
   */
/**
   * Get a subset of the matrix, or replace a subset of the matrix.
   *
   * Usage:
   *     var subset = matrix.subset(index)               // retrieve subset
   *     var value = matrix.subset(index, replacement)   // replace subset
   *
   * @param {Index} index
   * @param {Array | Matrix | *} [replacement]
   * @param {*} [defaultValue=0]      Default value, filled in on new entries when
   *                                  the matrix is resized. If not provided,
   *                                  new matrix elements will be filled with zeros.
   */
/**
   * Get a single element from the matrix.
   * @param {number[]} index   Zero-based index
   * @return {*} value
   */
/**
   * Replace a single element in the matrix.
   * @param {number[]} index   Zero-based index
   * @param {*} value
   * @param {*} [defaultValue]        Default value, filled in on new entries when
   *                                  the matrix is resized. If not provided,
   *                                  new matrix elements will be left undefined.
   * @return {Matrix} self
   */
/**
   * Resize the matrix to the given size. Returns a copy of the matrix when 
   * `copy=true`, otherwise return the matrix itself (resize in place).
   *
   * @param {number[]} size           The new size the matrix should have.
   * @param {*} [defaultValue=0]      Default value, filled in on new entries.
   *                                  If not provided, the matrix elements will
   *                                  be filled with zeros.
   * @param {boolean} [copy]          Return a resized copy of the matrix
   *
   * @return {Matrix}                 The resized matrix
   */
/**
   * Reshape the matrix to the given size. Returns a copy of the matrix when
   * `copy=true`, otherwise return the matrix itself (reshape in place).
   *
   * @param {number[]} size           The new size the matrix should have.
   * @param {boolean} [copy]          Return a reshaped copy of the matrix
   *
   * @return {Matrix}                 The reshaped matrix
   */
/**
   * Create a clone of the matrix
   * @return {Matrix} clone
   */
/**
   * Retrieve the size of the matrix.
   * @returns {number[]} size
   */
/**
   * Create a new matrix with the results of the callback function executed on
   * each entry of the matrix.
   * @param {Function} callback   The callback function is invoked with three
   *                              parameters: the value of the element, the index
   *                              of the element, and the Matrix being traversed.
   * @param {boolean} [skipZeros] Invoke callback function for non-zero values only.
   *
   * @return {Matrix} matrix
   */
/**
   * Execute a callback function on each entry of the matrix.
   * @param {Function} callback   The callback function is invoked with three
   *                              parameters: the value of the element, the index
   *                              of the element, and the Matrix being traversed.
   */
/**
   * Create an Array with a copy of the data of the Matrix
   * @returns {Array} array
   */
/**
   * Get the primitive value of the Matrix: a multidimensional array
   * @returns {Array} array
   */
/**
   * Get a string representation of the matrix, with optional formatting options.
   * @param {Object | number | Function} [options]  Formatting options. See
   *                                                lib/utils/number:format for a
   *                                                description of the available
   *                                                options.
   * @returns {string} str
   */
/**
   * Get a string representation of the matrix
   * @returns {string} str
   */
return i.prototype.type="Matrix",i.prototype.isMatrix=!0,i.storage=function(t){
// check storage format is a string
if(!s(t))throw new TypeError("format must be a string value");
// get storage format constructor
var e=i._storage[t];if(!e)throw new SyntaxError("Unsupported matrix storage format: "+t);
// return storage constructor
return e},i._storage={},i.prototype.storage=function(){
// must be implemented by each of the Matrix implementations
throw new Error("Cannot invoke storage on a Matrix interface")},i.prototype.datatype=function(){
// must be implemented by each of the Matrix implementations
throw new Error("Cannot invoke datatype on a Matrix interface")},i.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},i.prototype.subset=function(t,e,n){
// must be implemented by each of the Matrix implementations
throw new Error("Cannot invoke subset on a Matrix interface")},i.prototype.get=function(t){
// must be implemented by each of the Matrix implementations
throw new Error("Cannot invoke get on a Matrix interface")},i.prototype.set=function(t,e,n){
// must be implemented by each of the Matrix implementations
throw new Error("Cannot invoke set on a Matrix interface")},i.prototype.resize=function(t,e){
// must be implemented by each of the Matrix implementations
throw new Error("Cannot invoke resize on a Matrix interface")},i.prototype.reshape=function(t,e){
// must be implemented by each of the Matrix implementations
throw new Error("Cannot invoke reshape on a Matrix interface")},i.prototype.clone=function(){
// must be implemented by each of the Matrix implementations
throw new Error("Cannot invoke clone on a Matrix interface")},i.prototype.size=function(){
// must be implemented by each of the Matrix implementations
throw new Error("Cannot invoke size on a Matrix interface")},i.prototype.map=function(t,e){
// must be implemented by each of the Matrix implementations
throw new Error("Cannot invoke map on a Matrix interface")},i.prototype.forEach=function(t){
// must be implemented by each of the Matrix implementations
throw new Error("Cannot invoke forEach on a Matrix interface")},i.prototype.toArray=function(){
// must be implemented by each of the Matrix implementations
throw new Error("Cannot invoke toArray on a Matrix interface")},i.prototype.valueOf=function(){
// must be implemented by each of the Matrix implementations
throw new Error("Cannot invoke valueOf on a Matrix interface")},i.prototype.format=function(t){
// must be implemented by each of the Matrix implementations
throw new Error("Cannot invoke format on a Matrix interface")},i.prototype.toString=function(){
// must be implemented by each of the Matrix implementations
throw new Error("Cannot invoke toString on a Matrix interface")},i}var i=n(51),o=i.string,s=o.isString;e.name="Matrix",e.path="type",e.factory=r},/* 172 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){var s=r(n(19)),a=t.SparseMatrix;return function(t,e,n){
// sparse matrix arrays
var r=t._values,u=t._index,c=t._ptr,l=t._size,f=t._datatype,p=e._values,h=e._index,d=e._ptr,m=e._size,v=e._datatype;
// validate dimensions
if(l.length!==m.length)throw new i(l.length,m.length);
// check rows & columns
if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");
// rows & columns
var y,g=l[0],b=l[1],w=s,_=0,x=n;
// process data types
"string"==typeof f&&f===v&&(
// datatype
y=f,
// find signature that matches (dt, dt)
w=o.find(s,[y,y]),
// convert 0 to the same datatype
_=o.convert(0,y),
// callback
x=o.find(n,[y,y]));
// result arrays
var E,C,S,N,M,O=r&&p?[]:void 0,T=[],A=[],P=new a({values:O,index:T,ptr:A,size:[g,b],datatype:y}),k=r&&p?[]:void 0,I=r&&p?[]:void 0,R=[],j=[];
// loop columns
for(C=0;C<b;C++){
// update cptr
A[C]=T.length;
// columns mark
var D=C+1;
// loop A(:,j)
for(N=c[C],M=c[C+1],S=N;S<M;S++)
// row
E=u[S],
// update c
T.push(E),
// update workspace
R[E]=D,
// check we need to process values
k&&(k[E]=r[S]);
// loop B(:,j)
for(N=d[C],M=d[C+1],S=N;S<M;S++)
// check row exists in A
if(
// row
E=h[S],R[E]===D){
// update record in xa @ i
if(k){
// invoke callback
var L=x(k[E],p[S]);
// check for zero
w(L,_)?
// remove mark (index will be removed later)
R[E]=null:
// update workspace
k[E]=L}}else
// update c
T.push(E),
// update workspace
j[E]=D,
// check we need to process values
I&&(I[E]=p[S]);
// check we need to process values (non pattern matrix)
if(k&&I)
// loop index in j
for(
// initialize first index in j
S=A[C];S<T.length;)
// row
E=T[S],
// check workspace has value @ i
R[E]===D?(
// push value (Aij != 0 || (Aij != 0 && Bij != 0))
O[S]=k[E],
// increment pointer
S++):j[E]===D?(
// push value (bij != 0)
O[S]=I[E],
// increment pointer
S++):
// remove index @ k
T.splice(S,1)}
// return sparse matrix
// update cptr
return A[b]=T.length,P}}var i=n(18);e.name="algorithm04",e.factory=r},/* 173 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){var s=r(n(19)),a=t.SparseMatrix;return function(t,e,n){
// sparse matrix arrays
var r=t._values,u=t._index,c=t._ptr,l=t._size,f=t._datatype,p=e._values,h=e._index,d=e._ptr,m=e._size,v=e._datatype;
// validate dimensions
if(l.length!==m.length)throw new i(l.length,m.length);
// check rows & columns
if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");
// sparse matrix cannot be a Pattern matrix
if(!r||!p)throw new Error("Cannot perform operation on Pattern Sparse Matrices");
// rows & columns
var y,g=l[0],b=l[1],w=s,_=0,x=n;
// process data types
"string"==typeof f&&f===v&&(
// datatype
y=f,
// find signature that matches (dt, dt)
w=o.find(s,[y,y]),
// convert 0 to the same datatype
_=o.convert(0,y),
// callback
x=o.find(n,[y,y]));
// loop columns
for(var E,C,S,N,M=[],O=[],T=[],A=new a({values:M,index:O,ptr:T,size:[g,b],datatype:y}),P=[],k=[],I=0;I<b;I++){
// update cptr
T[I]=O.length;
// columns mark
var R=I+1;
// loop values in a
for(C=c[I],S=c[I+1],E=C;E<S;E++)
// row
N=u[E],
// mark workspace
k[N]=R,
// set value
P[N]=r[E],
// add index
O.push(N);
// loop values in b
for(C=d[I],S=d[I+1],E=C;E<S;E++)
// row
N=h[E],
// check value exists in workspace
k[N]===R&&(
// evaluate callback
P[N]=x(P[N],p[E]));
// loop index in j
for(
// initialize first index in j
E=T[I];E<O.length;){
// row
N=O[E];
// value @ i
var j=P[N];
// check for zero value
w(j,_)?
// remove value @ i, do not increment pointer
O.splice(E,1):(
// push value
M.push(j),
// increment pointer
E++)}}
// return sparse matrix
// update cptr
return T[b]=O.length,A}}var i=n(18);e.name="algorithm08",e.factory=r},/* 174 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Create a number or convert a string, boolean, or unit to a number.
   * When value is a matrix, all elements will be converted to number.
   *
   * Syntax:
   *
   *    math.number(value)
   *    math.number(unit, valuelessUnit)
   *
   * Examples:
   *
   *    math.number(2);                         // returns number 2
   *    math.number('7.2');                     // returns number 7.2
   *    math.number(true);                      // returns number 1
   *    math.number([true, false, true, true]); // returns [1, 0, 1, 1]
   *    math.number(math.unit('52cm'), 'm');    // returns 0.52
   *
   * See also:
   *
   *    bignumber, boolean, complex, index, matrix, string, unit
   *
   * @param {string | number | BigNumber | Fraction | boolean | Array | Matrix | Unit | null} [value]  Value to be converted
   * @param {Unit | string} [valuelessUnit] A valueless unit, used to convert a unit to a number
   * @return {number | Array | Matrix} The created number
   */
var o=r("number",{"":function(){return 0},number:function(t){return t},string:function(t){var e=Number(t);if(isNaN(e))throw new SyntaxError('String "'+t+'" is no valid number');return e},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},"Unit, string | Unit":function(t,e){return t.toNumber(e)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},o}var i=n(3);e.name="number",e.factory=r},/* 175 */
/***/
function(t,e){/**
 * Bitwise not
 * @param {BigNumber} value
 * @return {BigNumber} Result of ~`x`, fully precise
 *
 */
t.exports=function(t){if(t.isFinite()&&!t.isInteger())throw new Error("Integer expected in function bitNot");var e=t.constructor,n=e.precision;e.config({precision:1e9});var t=t.plus(new e(1));return t.s=-t.s||null,e.config({precision:n}),t}},/* 176 */
/***/
function(t,e,n){/* Extracted from decimal.js, and edited to specialize. */
function r(t){for(var e=t.d,n=e[0]+"",r=1;r<e.length;++r){for(var i=e[r]+"",o=7-i.length;o--;)i="0"+i;n+=i}var s;for(s=n.length-1;"0"==n.charAt(s);--s);var a=t.e,u=n.slice(0,s+1||1),c=u.length;if(a>0)if(++a>c)
// Append zeros.
for(a-=c;a--;u+="0");else a<c&&(u=u.slice(0,a)+"."+u.slice(a));for(var l=[0],r=0;r<u.length;){for(var f=l.length;f--;l[f]*=10);l[0]+=u.charAt(r++)<<0;// convert to int
for(var s=0;s<l.length;++s)l[s]>1&&(null==l[s+1]&&(l[s+1]=0),l[s+1]+=l[s]>>1,l[s]&=1)}return l.reverse()}var i=n(175);/**
 * Applies bitwise function to numbers
 * @param {BigNumber} x
 * @param {BigNumber} y
 * @param {function (a, b)} func
 * @return {BigNumber}
 */
t.exports=function(t,e,n){var o,s,a=t.constructor,u=+(t.s<0),c=+(e.s<0);if(u){o=r(i(t));for(var l=0;l<o.length;++l)o[l]^=1}else o=r(t);if(c){s=r(i(e));for(var l=0;l<s.length;++l)s[l]^=1}else s=r(e);var f,p,h;o.length<=s.length?(f=o,p=s,h=u):(f=s,p=o,h=c);var d=f.length,m=p.length,v=1^n(u,c),y=new a(1^v),g=new a(1),b=new a(2),w=a.precision;for(a.config({precision:1e9});d>0;)n(f[--d],p[--m])==v&&(y=y.plus(g)),g=g.times(b);for(;m>0;)n(h,p[--m])==v&&(y=y.plus(g)),g=g.times(b);return a.config({precision:w}),0==v&&(y.s=-y.s),y}},/* 177 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(17),o=n(139),s=function(t){function e(e){t.call(this),this._value=e}return r(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.Subject);e.BehaviorSubject=s},/* 178 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(17),o=n(314),s=n(22),a=n(185),u=n(139),c=n(288),l=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY),t.call(this),this.scheduler=r,this._events=[],this._bufferSize=e<1?1:e,this._windowTime=n<1?1:n}return r(e,t),e.prototype.next=function(e){var n=this._getNow();this._events.push(new f(n,e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._trimBufferThenGetEvents(),r=this.scheduler;if(this.closed)throw new u.ObjectUnsubscribedError;this.hasError?e=s.Subscription.EMPTY:this.isStopped?e=s.Subscription.EMPTY:(this.observers.push(t),e=new c.SubjectSubscription(this,t)),r&&t.add(t=new a.ObserveOnSubscriber(t,r));for(var i=n.length,o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||o.queue).now()},e.prototype._trimBufferThenGetEvents=function(){
// Trim events that fall out of the time window.
// Start at the front of the list. Break early once
// we encounter an event that falls within the window.
for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(i.Subject);e.ReplaySubject=l;var f=function(){function t(t,e){this.time=t,this.value=e}return t}()},/* 179 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(0),o=function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return r(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.done,n=t.value,r=t.subscriber;if(e)return void r.complete();r.next(n),r.closed||(t.done=!0,this.schedule(t))},e.prototype._subscribe=function(t){var n=this.value,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t});t.next(n),t.closed||t.complete()},e}(i.Observable);e.ScalarObservable=o},/* 180 */
/***/
function(t,e,n){"use strict";var r=n(291);e.fromPromise=r.PromiseObservable.create},/* 181 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Combines multiple Observables to create an Observable whose values are
 * calculated from the latest values of each of its input Observables.
 *
 * <span class="informal">Whenever any input Observable emits a value, it
 * computes a formula using the latest values from all the inputs, then emits
 * the output of that formula.</span>
 *
 * <img src="./img/combineLatest.png" width="100%">
 *
 * `combineLatest` combines the values from this Observable with values from
 * Observables passed as arguments. This is done by subscribing to each
 * Observable, in order, and collecting an array of each of the most recent
 * values any time any of the input Observables emits, then either taking that
 * array and passing it as arguments to an optional `project` function and
 * emitting the return value of that, or just emitting the array of recent
 * values directly if there is no `project` function.
 *
 * @example <caption>Dynamically calculate the Body-Mass Index from an Observable of weight and one for height</caption>
 * var weight = Rx.Observable.of(70, 72, 76, 79, 75);
 * var height = Rx.Observable.of(1.76, 1.77, 1.78);
 * var bmi = weight.combineLatest(height, (w, h) => w / (h * h));
 * bmi.subscribe(x => console.log('BMI is ' + x));
 *
 * // With output to console:
 * // BMI is 24.212293388429753
 * // BMI is 23.93948099205209
 * // BMI is 23.671253629592222
 *
 * @see {@link combineAll}
 * @see {@link merge}
 * @see {@link withLatestFrom}
 *
 * @param {Observable} other An input Observable to combine with the source
 * Observable. More than one input Observables may be given as argument.
 * @param {function} [project] An optional function to project the values from
 * the combined latest values into a new value on the output Observable.
 * @return {Observable} An Observable of projected values from the most recent
 * values from each input Observable, or an array of the most recent values from
 * each input Observable.
 * @method combineLatest
 * @owner Observable
 */
function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null;
// if the first and only other argument besides the resultSelector is an array
// assume it's been called with `combineLatest([obs1, obs2, obs3], project)`
return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&s.isArray(t[0])&&(t=t[0]),t.unshift(this),this.lift.call(new o.ArrayObservable(t),new l(n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(57),s=n(52),a=n(7),u=n(8),c={};e.combineLatest=r;var l=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.project))},t}();e.CombineLatestOperator=l;/**
 * We need this JSDoc comment for affecting ESDoc.
 * @ignore
 * @extends {Ignored}
 */
var f=function(t){function e(e,n){t.call(this,e),this.project=n,this.active=0,this.values=[],this.observables=[]}return i(e,t),e.prototype._next=function(t){this.values.push(c),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(u.subscribeToResult(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,s=o[n],a=this.toRespond?s===c?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.project?this._tryProject(o):this.destination.next(o.slice()))},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(a.OuterSubscriber);e.CombineLatestSubscriber=f},/* 182 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Creates an output Observable which sequentially emits all values from every
 * given input Observable after the current Observable.
 *
 * <span class="informal">Concatenates multiple Observables together by
 * sequentially emitting their values, one Observable after the other.</span>
 *
 * <img src="./img/concat.png" width="100%">
 *
 * Joins this Observable with multiple other Observables by subscribing to them
 * one at a time, starting with the source, and merging their results into the
 * output Observable. Will wait for each Observable to complete before moving
 * on to the next.
 *
 * @example <caption>Concatenate a timer counting from 0 to 3 with a synchronous sequence from 1 to 10</caption>
 * var timer = Rx.Observable.interval(1000).take(4);
 * var sequence = Rx.Observable.range(1, 10);
 * var result = timer.concat(sequence);
 * result.subscribe(x => console.log(x));
 *
 * // results in:
 * // 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3 -immediate-> 1 ... 10
 *
 * @example <caption>Concatenate 3 Observables</caption>
 * var timer1 = Rx.Observable.interval(1000).take(10);
 * var timer2 = Rx.Observable.interval(2000).take(6);
 * var timer3 = Rx.Observable.interval(500).take(10);
 * var result = timer1.concat(timer2, timer3);
 * result.subscribe(x => console.log(x));
 *
 * // results in the following:
 * // (Prints to console sequentially)
 * // -1000ms-> 0 -1000ms-> 1 -1000ms-> ... 9
 * // -2000ms-> 0 -2000ms-> 1 -2000ms-> ... 5
 * // -500ms-> 0 -500ms-> 1 -500ms-> ... 9
 *
 * @see {@link concatAll}
 * @see {@link concatMap}
 * @see {@link concatMapTo}
 *
 * @param {Observable} other An input Observable to concatenate after the source
 * Observable. More than one input Observables may be given as argument.
 * @param {Scheduler} [scheduler=null] An optional Scheduler to schedule each
 * Observable subscription on.
 * @return {Observable} All values of each passed Observable merged into a
 * single Observable, in order, in serial fashion.
 * @method concat
 * @owner Observable
 */
function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(i.apply(void 0,[this].concat(t)))}/* tslint:enable:max-line-length */
/**
 * Creates an output Observable which sequentially emits all values from every
 * given input Observable after the current Observable.
 *
 * <span class="informal">Concatenates multiple Observables together by
 * sequentially emitting their values, one Observable after the other.</span>
 *
 * <img src="./img/concat.png" width="100%">
 *
 * Joins multiple Observables together by subscribing to them one at a time and
 * merging their results into the output Observable. Will wait for each
 * Observable to complete before moving on to the next.
 *
 * @example <caption>Concatenate a timer counting from 0 to 3 with a synchronous sequence from 1 to 10</caption>
 * var timer = Rx.Observable.interval(1000).take(4);
 * var sequence = Rx.Observable.range(1, 10);
 * var result = Rx.Observable.concat(timer, sequence);
 * result.subscribe(x => console.log(x));
 *
 * // results in:
 * // 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3 -immediate-> 1 ... 10
 *
 * @example <caption>Concatenate 3 Observables</caption>
 * var timer1 = Rx.Observable.interval(1000).take(10);
 * var timer2 = Rx.Observable.interval(2000).take(6);
 * var timer3 = Rx.Observable.interval(500).take(10);
 * var result = Rx.Observable.concat(timer1, timer2, timer3);
 * result.subscribe(x => console.log(x));
 *
 * // results in the following:
 * // (Prints to console sequentially)
 * // -1000ms-> 0 -1000ms-> 1 -1000ms-> ... 9
 * // -2000ms-> 0 -2000ms-> 1 -2000ms-> ... 5
 * // -500ms-> 0 -500ms-> 1 -500ms-> ... 9
 *
 * @see {@link concatAll}
 * @see {@link concatMap}
 * @see {@link concatMapTo}
 *
 * @param {Observable} input1 An input Observable to concatenate with others.
 * @param {Observable} input2 An input Observable to concatenate with others.
 * More than one input Observables may be given as argument.
 * @param {Scheduler} [scheduler=null] An optional Scheduler to schedule each
 * Observable subscription on.
 * @return {Observable} All values of each passed Observable merged into a
 * single Observable, in order, in serial fashion.
 * @static true
 * @name concat
 * @owner Observable
 */
function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null,r=t;return o.isScheduler(r[t.length-1])&&(n=r.pop()),null===n&&1===t.length?t[0]:new s.ArrayObservable(t,n).lift(new a.MergeAllOperator(1))}var o=n(64),s=n(57),a=n(103);e.concat=r,e.concatStatic=i},/* 183 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Filter items emitted by the source Observable by only emitting those that
 * satisfy a specified predicate.
 *
 * <span class="informal">Like
 * [Array.prototype.filter()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter),
 * it only emits a value from the source if it passes a criterion function.</span>
 *
 * <img src="./img/filter.png" width="100%">
 *
 * Similar to the well-known `Array.prototype.filter` method, this operator
 * takes values from the source Observable, passes them through a `predicate`
 * function and only emits those values that yielded `true`.
 *
 * @example <caption>Emit only click events whose target was a DIV element</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var clicksOnDivs = clicks.filter(ev => ev.target.tagName === 'DIV');
 * clicksOnDivs.subscribe(x => console.log(x));
 *
 * @see {@link distinct}
 * @see {@link distinctUntilChanged}
 * @see {@link distinctUntilKeyChanged}
 * @see {@link ignoreElements}
 * @see {@link partition}
 * @see {@link skip}
 *
 * @param {function(value: T, index: number): boolean} predicate A function that
 * evaluates each value emitted by the source Observable. If it returns `true`,
 * the value is emitted, if `false` the value is not passed to the output
 * Observable. The `index` parameter is the number `i` for the i-th source
 * emission that has happened since the subscription, starting from the number
 * `0`.
 * @param {any} [thisArg] An optional argument to determine the value of `this`
 * in the `predicate` function.
 * @return {Observable} An Observable of values from the source that were
 * allowed by the `predicate` function.
 * @method filter
 * @owner Observable
 */
function r(t,e){return this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.filter=r;var s=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.thisArg=r,this.count=0,this.predicate=n}
// the try catch block below is left specifically for
// optimization and perf reasons. a tryCatcher is not necessary here.
return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(o.Subscriber)},/* 184 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Projects each source value to an Observable which is merged in the output
 * Observable.
 *
 * <span class="informal">Maps each value to an Observable, then flattens all of
 * these inner Observables using {@link mergeAll}.</span>
 *
 * <img src="./img/mergeMap.png" width="100%">
 *
 * Returns an Observable that emits items based on applying a function that you
 * supply to each item emitted by the source Observable, where that function
 * returns an Observable, and then merging those resulting Observables and
 * emitting the results of this merger.
 *
 * @example <caption>Map and flatten each letter to an Observable ticking every 1 second</caption>
 * var letters = Rx.Observable.of('a', 'b', 'c');
 * var result = letters.mergeMap(x =>
 *   Rx.Observable.interval(1000).map(i => x+i)
 * );
 * result.subscribe(x => console.log(x));
 *
 * // Results in the following:
 * // a0
 * // b0
 * // c0
 * // a1
 * // b1
 * // c1
 * // continues to list a,b,c with respective ascending integers
 *
 * @see {@link concatMap}
 * @see {@link exhaustMap}
 * @see {@link merge}
 * @see {@link mergeAll}
 * @see {@link mergeMapTo}
 * @see {@link mergeScan}
 * @see {@link switchMap}
 *
 * @param {function(value: T, ?index: number): Observable} project A function
 * that, when applied to an item emitted by the source Observable, returns an
 * Observable.
 * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]
 * A function to produce the value on the output Observable based on the values
 * and the indices of the source (outer) emission and the inner Observable
 * emission. The arguments passed to this function are:
 * - `outerValue`: the value that came from the source
 * - `innerValue`: the value that came from the projected Observable
 * - `outerIndex`: the "index" of the value that came from the source
 * - `innerIndex`: the "index" of the value from the projected Observable
 * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input
 * Observables being subscribed to concurrently.
 * @return {Observable} An Observable that emits the result of applying the
 * projection function (and the optional `resultSelector`) to each item emitted
 * by the source Observable and merging the results of the Observables obtained
 * from this transformation.
 * @method mergeMap
 * @owner Observable
 */
function r(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"number"==typeof e&&(n=e,e=null),this.lift(new a(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(8),s=n(7);e.mergeMap=r;var a=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.resultSelector,this.concurrent))},t}();e.MergeMapOperator=a;/**
 * We need this JSDoc comment for affecting ESDoc.
 * @ignore
 * @extends {Ignored}
 */
var u=function(t){function e(e,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.project=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(o.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._notifyResultSelector(t,e,n,r):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(s.OuterSubscriber);e.MergeMapSubscriber=u},/* 185 */
/***/
function(t,e,n){"use strict";/**
 * @see {@link Notification}
 *
 * @param scheduler
 * @param delay
 * @return {Observable<R>|WebSocketSubject<T>|Observable<T>}
 * @method observeOn
 * @owner Observable
 */
function r(t,e){return void 0===e&&(e=0),this.lift(new a(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),s=n(101);e.observeOn=r;var a=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.scheduler,this.delay))},t}();e.ObserveOnOperator=a;/**
 * We need this JSDoc comment for affecting ESDoc.
 * @ignore
 * @extends {Ignored}
 */
var u=function(t){function e(e,n,r){void 0===r&&(r=0),t.call(this,e),this.scheduler=n,this.delay=r}return i(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n)},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new c(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(s.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(s.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(s.Notification.createComplete())},e}(o.Subscriber);e.ObserveOnSubscriber=u;var c=function(){function t(t,e){this.notification=t,this.destination=e}return t}();e.ObserveOnMessage=c},/* 186 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * @param observables
 * @return {Observable<R>}
 * @method zip
 * @owner Observable
 */
function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(i.apply(void 0,[this].concat(t)))}/* tslint:enable:max-line-length */
/**
 * @param observables
 * @return {Observable<R>}
 * @static true
 * @name zip
 * @owner Observable
 */
function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),new s.ArrayObservable(t).lift(new p(n))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n(57),a=n(52),u=n(4),c=n(7),l=n(8),f=n(106);e.zipProto=r,e.zipStatic=i;var p=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.project))},t}();e.ZipOperator=p;/**
 * We need this JSDoc comment for affecting ESDoc.
 * @ignore
 * @extends {Ignored}
 */
var h=function(t){function e(e,n,r){void 0===r&&(r=Object.create(null)),t.call(this,e),this.iterators=[],this.active=0,this.project="function"==typeof n?n:null,this.values=r}return o(e,t),e.prototype._next=function(t){var e=this.iterators;a.isArray(t)?e.push(new m(t)):"function"==typeof t[f.$$iterator]?e.push(new d(t[f.$$iterator]())):e.push(new v(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.add(r.subscribe(r,n)):this.active--}},e.prototype.notifyInactive=function(){0===--this.active&&this.destination.complete()},e.prototype.checkIterators=function(){
// abort if not all of them have values
for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){var i=t[r];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,s=[],r=0;r<e;r++){var i=t[r],a=i.next();if(
// check to see if it's completed now that you've gotten
// the next value.
i.hasCompleted()&&(o=!0),a.done)return void n.complete();s.push(a.value)}this.project?this._tryProject(s):n.next(s),o&&n.complete()},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(u.Subscriber);e.ZipSubscriber=h;var d=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),m=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[f.$$iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),v=function(t){function e(e,n,r){t.call(this,e),this.parent=n,this.observable=r,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}
// NOTE: there is actually a name collision here with Subscriber.next and Iterator.next
//    this is legit because `next()` will never be called by a subscription in this case.
return o(e,t),e.prototype[f.$$iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return l.subscribeToResult(this,this.observable,this,e)},e}(c.OuterSubscriber)},/* 187 */
/***/
function(t,e,n){"use strict";function r(t){return"function"==typeof t}e.isFunction=r},/* 188 */
/***/
function(t,e,n){"use strict";function r(t){
// parseFloat NaNs numeric-cast false positives (null|true|false|"")
// ...but misinterprets leading-number strings, particularly hex literals ("0x...")
// subtraction forces infinities to NaN
// adding 1 corrects loss of precision from parseFloat (#15100)
return!i.isArray(t)&&t-parseFloat(t)+1>=0}var i=n(52);e.isNumeric=r},/* 189 */
,/* 190 */
/***/
function(t,e,n){"use strict";/**
 * @param {?} value
 * @return {?}
 */
function r(t){
// we don't check for string here so it also works with arrays
return null==t||0===t.length}/**
 * @param {?} o
 * @return {?}
 */
function i(t){return null!=t}/**
 * @param {?} r
 * @return {?}
 */
function o(t){var/** @type {?} */e=n.i(I["isPromise"])(t)?n.i(j.fromPromise)(t):t;if(!n.i(I["isObservable"])(e))throw new Error("Expected validator to return Promise or Observable.");return e}/**
 * @param {?} control
 * @param {?} validators
 * @return {?}
 */
function s(t,e){return e.map(function(e){return e(t)})}/**
 * @param {?} control
 * @param {?} validators
 * @return {?}
 */
function a(t,e){return e.map(function(e){return e(t)})}/**
 * @param {?} arrayOfErrors
 * @return {?}
 */
function u(t){var/** @type {?} */e=t.reduce(function(t,e){return null!=e?B({},t,e):t},{});return 0===Object.keys(e).length?null:e}/**
 * We must check whether the agent is Android because composition events
 * behave differently between iOS and Android.
 * @return {?}
 */
function c(){var/** @type {?} */t=n.i(L["getDOM"])()?n.i(L["getDOM"])().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} validator
 * @return {?}
 */
function l(t){return t.validate?function(e){return t.validate(e)}:t}/**
 * @param {?} validator
 * @return {?}
 */
function f(t){return t.validate?function(e){return t.validate(e)}:t}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @return {?}
 */
function p(){throw new Error("unimplemented")}/**
 * @param {?} id
 * @param {?} value
 * @return {?}
 */
function h(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}/**
 * @param {?} valueString
 * @return {?}
 */
function d(t){return t.split(":")[0]}/**
 * @param {?} id
 * @param {?} value
 * @return {?}
 */
function m(t,e){return null==t?""+e:("string"==typeof e&&(e="'"+e+"'"),e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}/**
 * @param {?} valueString
 * @return {?}
 */
function v(t){return t.split(":")[0]}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} name
 * @param {?} parent
 * @return {?}
 */
function y(t,e){return e.path.concat([t])}/**
 * @param {?} control
 * @param {?} dir
 * @return {?}
 */
function g(t,e){t||x(e,"Cannot find control with"),e.valueAccessor||x(e,"No value accessor for form control with"),t.validator=G.compose([t.validator,e.validator]),t.asyncValidator=G.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),
// view -> model
e.valueAccessor.registerOnChange(function(n){e.viewToModelUpdate(n),t.markAsDirty(),t.setValue(n,{emitModelToViewChange:!1})}),
// touched
e.valueAccessor.registerOnTouched(function(){return t.markAsTouched()}),t.registerOnChange(function(t,n){
// control -> view
e.valueAccessor.writeValue(t),
// control -> ngModel
n&&e.viewToModelUpdate(t)}),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),
// re-run validation when validator binding changes, e.g. minlength=3 -> minlength=4
e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}/**
 * @param {?} control
 * @param {?} dir
 * @return {?}
 */
function b(t,e){e.valueAccessor.registerOnChange(function(){return _(e)}),e.valueAccessor.registerOnTouched(function(){return _(e)}),e._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}/**
 * @param {?} control
 * @param {?} dir
 * @return {?}
 */
function w(t,e){null==t&&x(e,"Cannot find control with"),t.validator=G.compose([t.validator,e.validator]),t.asyncValidator=G.composeAsync([t.asyncValidator,e.asyncValidator])}/**
 * @param {?} dir
 * @return {?}
 */
function _(t){return x(t,"There is no FormControl instance attached to form control element with")}/**
 * @param {?} dir
 * @param {?} message
 * @return {?}
 */
function x(t,e){var/** @type {?} */n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}/**
 * @param {?} validators
 * @return {?}
 */
function E(t){return null!=t?G.compose(t.map(l)):null}/**
 * @param {?} validators
 * @return {?}
 */
function C(t){return null!=t?G.composeAsync(t.map(f)):null}/**
 * @param {?} changes
 * @param {?} viewModel
 * @return {?}
 */
function S(t,e){if(!t.hasOwnProperty("model"))return!1;var/** @type {?} */r=t.model;return!!r.isFirstChange()||!n.i(I["looseIdentical"])(e,r.currentValue)}/**
 * @param {?} valueAccessor
 * @return {?}
 */
function N(t){return pt.some(function(e){return t.constructor===e})}/**
 * @param {?} dir
 * @param {?} valueAccessors
 * @return {?}
 */
function M(t,e){if(!e)return null;var/** @type {?} */n,/** @type {?} */r,/** @type {?} */i;return e.forEach(function(e){e.constructor===K?n=e:N(e)?(r&&x(t,"More than one built-in value accessor matches form control with"),r=e):(i&&x(t,"More than one custom value accessor matches form control with"),i=e)}),i||(r||(n||(x(t,"No valid value accessor for form control with"),null)))}/**
 * @param {?} control
 * @param {?} path
 * @param {?} delimiter
 * @return {?}
 */
function O(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(n)),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){/** @type {?} */
return t instanceof wt?t.controls[e]||null:t instanceof _t?t.at(e)||null:null},t))}/**
 * @param {?} validator
 * @return {?}
 */
function T(t){return Array.isArray(t)?E(t):t}/**
 * @param {?} asyncValidator
 * @return {?}
 */
function A(t){return Array.isArray(t)?C(t):t}/**
 * @template T
 * @param {?} list
 * @param {?} el
 * @return {?}
 */
function P(t,e){var/** @type {?} */n=t.indexOf(e);n>-1&&t.splice(n,1)}/**
 * @param {?} parent
 * @return {?}
 */
function k(t){return!(t instanceof Ft||t instanceof Dt||t instanceof Vt)}Object.defineProperty(e,"__esModule",{value:!0});/* harmony import */
var I=n(23),R=n(293),j=(n.n(R),n(180)),D=(n.n(j),n(102)),L=(n.n(D),n(72));/* harmony export (binding) */
n.d(e,"AbstractControlDirective",function(){return U}),/* harmony export (binding) */
n.d(e,"AbstractFormGroupDirective",function(){return ht}),/* harmony export (binding) */
n.d(e,"CheckboxControlValueAccessor",function(){return Y}),/* harmony export (binding) */
n.d(e,"ControlContainer",function(){return V}),/* harmony export (binding) */
n.d(e,"NG_VALUE_ACCESSOR",function(){return W}),/* harmony export (binding) */
n.d(e,"COMPOSITION_BUFFER_MODE",function(){return Z}),/* harmony export (binding) */
n.d(e,"DefaultValueAccessor",function(){return K}),/* harmony export (binding) */
n.d(e,"NgControl",function(){return tt}),/* harmony export (binding) */
n.d(e,"NgControlStatus",function(){return vt}),/* harmony export (binding) */
n.d(e,"NgControlStatusGroup",function(){return yt}),/* harmony export (binding) */
n.d(e,"NgForm",function(){return Ct}),/* harmony export (binding) */
n.d(e,"NgModel",function(){return Pt}),/* harmony export (binding) */
n.d(e,"NgModelGroup",function(){return Ot}),/* harmony export (binding) */
n.d(e,"RadioControlValueAccessor",function(){return rt}),/* harmony export (binding) */
n.d(e,"FormControlDirective",function(){return Rt}),/* harmony export (binding) */
n.d(e,"FormControlName",function(){return zt}),/* harmony export (binding) */
n.d(e,"FormGroupDirective",function(){return Dt}),/* harmony export (binding) */
n.d(e,"FormArrayName",function(){return Vt}),/* harmony export (binding) */
n.d(e,"FormGroupName",function(){return Ft}),/* harmony export (binding) */
n.d(e,"NgSelectOption",function(){return ut}),/* harmony export (binding) */
n.d(e,"SelectControlValueAccessor",function(){return at}),/* harmony export (binding) */
n.d(e,"SelectMultipleControlValueAccessor",function(){return lt}),/* harmony export (binding) */
n.d(e,"CheckboxRequiredValidator",function(){return Wt}),/* harmony export (binding) */
n.d(e,"EmailValidator",function(){return Yt}),/* harmony export (binding) */
n.d(e,"MaxLengthValidator",function(){return Qt}),/* harmony export (binding) */
n.d(e,"MinLengthValidator",function(){return Zt}),/* harmony export (binding) */
n.d(e,"PatternValidator",function(){return te}),/* harmony export (binding) */
n.d(e,"RequiredValidator",function(){return Gt}),/* harmony export (binding) */
n.d(e,"FormBuilder",function(){return ee}),/* harmony export (binding) */
n.d(e,"AbstractControl",function(){return gt}),/* harmony export (binding) */
n.d(e,"FormArray",function(){return _t}),/* harmony export (binding) */
n.d(e,"FormControl",function(){return bt}),/* harmony export (binding) */
n.d(e,"FormGroup",function(){return wt}),/* harmony export (binding) */
n.d(e,"NG_ASYNC_VALIDATORS",function(){return q}),/* harmony export (binding) */
n.d(e,"NG_VALIDATORS",function(){return z}),/* harmony export (binding) */
n.d(e,"Validators",function(){return G}),/* harmony export (binding) */
n.d(e,"VERSION",function(){return ne}),/* harmony export (binding) */
n.d(e,"FormsModule",function(){return ue}),/* harmony export (binding) */
n.d(e,"ReactiveFormsModule",function(){return ce}),/* harmony export (binding) */
n.d(e,"ba",function(){return ae}),/* harmony export (binding) */
n.d(e,"z",function(){return se}),/* harmony export (binding) */
n.d(e,"x",function(){return ie}),/* harmony export (binding) */
n.d(e,"y",function(){return oe}),/* harmony export (binding) */
n.d(e,"a",function(){return $}),/* harmony export (binding) */
n.d(e,"b",function(){return X}),/* harmony export (binding) */
n.d(e,"c",function(){return dt}),/* harmony export (binding) */
n.d(e,"d",function(){return mt}),/* harmony export (binding) */
n.d(e,"e",function(){return xt}),/* harmony export (binding) */
n.d(e,"f",function(){return Tt}),/* harmony export (binding) */
n.d(e,"g",function(){return Mt}),/* harmony export (binding) */
n.d(e,"bf",function(){return re}),/* harmony export (binding) */
n.d(e,"bb",function(){return Q}),/* harmony export (binding) */
n.d(e,"bc",function(){return J}),/* harmony export (binding) */
n.d(e,"h",function(){return et}),/* harmony export (binding) */
n.d(e,"i",function(){return nt}),/* harmony export (binding) */
n.d(e,"bd",function(){return it}),/* harmony export (binding) */
n.d(e,"be",function(){return ot}),/* harmony export (binding) */
n.d(e,"j",function(){return It}),/* harmony export (binding) */
n.d(e,"k",function(){return Bt}),/* harmony export (binding) */
n.d(e,"l",function(){return jt}),/* harmony export (binding) */
n.d(e,"n",function(){return Ut}),/* harmony export (binding) */
n.d(e,"m",function(){return Lt}),/* harmony export (binding) */
n.d(e,"o",function(){return st}),/* harmony export (binding) */
n.d(e,"q",function(){return ft}),/* harmony export (binding) */
n.d(e,"p",function(){return ct}),/* harmony export (binding) */
n.d(e,"s",function(){return Ht}),/* harmony export (binding) */
n.d(e,"t",function(){return $t}),/* harmony export (binding) */
n.d(e,"v",function(){return Kt}),/* harmony export (binding) */
n.d(e,"u",function(){return Xt}),/* harmony export (binding) */
n.d(e,"w",function(){return Jt}),/* harmony export (binding) */
n.d(e,"r",function(){return qt});var F=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},U=function(){function t(){}/**
     * @param {?=} value
     * @return {?}
     */
/**
     * @param {?} errorCode
     * @param {?=} path
     * @return {?}
     */
/**
     * @param {?} errorCode
     * @param {?=} path
     * @return {?}
     */
return Object.defineProperty(t.prototype,"control",{/**
         * @return {?}
         */
get:function(){throw new Error("unimplemented")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{/**
         * @return {?}
         */
get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{/**
         * @return {?}
         */
get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{/**
         * @return {?}
         */
get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{/**
         * @return {?}
         */
get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{/**
         * @return {?}
         */
get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{/**
         * @return {?}
         */
get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{/**
         * @return {?}
         */
get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{/**
         * @return {?}
         */
get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{/**
         * @return {?}
         */
get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{/**
         * @return {?}
         */
get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{/**
         * @return {?}
         */
get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{/**
         * @return {?}
         */
get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{/**
         * @return {?}
         */
get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{/**
         * @return {?}
         */
get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return void 0===e&&(e=null),!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return void 0===e&&(e=null),this.control?this.control.getError(t,e):null},t}(),V=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return F(e,t),Object.defineProperty(e.prototype,"formDirective",{/**
         * Get the form to which this container belongs.
         * @return {?}
         */
get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{/**
         * Get the path to this container.
         * @return {?}
         */
get:function(){return null},enumerable:!0,configurable:!0}),e}(U),B=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},z=new I.InjectionToken("NgValidators"),q=new I.InjectionToken("NgAsyncValidators"),H=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,G=function(){function t(){}/**
     * Validator that requires controls to have a non-empty value.
     * @param {?} control
     * @return {?}
     */
/**
     * Validator that requires control value to be true.
     * @param {?} control
     * @return {?}
     */
/**
     * Validator that performs email validation.
     * @param {?} control
     * @return {?}
     */
/**
     * Validator that requires controls to have a value of a minimum length.
     * @param {?} minLength
     * @return {?}
     */
/**
     * Validator that requires controls to have a value of a maximum length.
     * @param {?} maxLength
     * @return {?}
     */
/**
     * Validator that requires a control to match a regex to its value.
     * @param {?} pattern
     * @return {?}
     */
/**
     * No-op validator.
     * @param {?} c
     * @return {?}
     */
/**
     * Compose multiple validators into a single function that returns the union
     * of the individual error maps.
     * @param {?} validators
     * @return {?}
     */
/**
     * @param {?} validators
     * @return {?}
     */
return t.required=function(t){return r(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return H.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(r(e.value))return null;var/** @type {?} */n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var/** @type {?} */n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){if(!e)return t.nullValidator;var/** @type {?} */n,/** @type {?} */i;return"string"==typeof e?(i="^"+e+"$",n=new RegExp(i)):(i=e.toString(),n=e),function(t){if(r(t.value))return null;var/** @type {?} */e=t.value;return n.test(e)?null:{pattern:{requiredPattern:i,actualValue:e}}}},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var/** @type {?} */e=t.filter(i);return 0==e.length?null:function(t){return u(s(t,e))}},t.composeAsync=function(t){if(!t)return null;var/** @type {?} */e=t.filter(i);return 0==e.length?null:function(t){var/** @type {?} */r=a(t,e).map(o);return D.map.call(n.i(R.forkJoin)(r),u)}},t}(),W=new I.InjectionToken("NgValueAccessor"),$={provide:W,useExisting:n.i(I.forwardRef)(function(){return Y}),multi:!0},Y=function(){/**
     * @param {?} _renderer
     * @param {?} _elementRef
     */
function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}/**
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} isDisabled
     * @return {?}
     */
return t.prototype.writeValue=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t}();Y.decorators=[{type:I.Directive,args:[{selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[$]}]}],/**
 * @nocollapse
 */
Y.ctorParameters=function(){return[{type:I.Renderer},{type:I.ElementRef}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var X={provide:W,useExisting:n.i(I.forwardRef)(function(){return K}),multi:!0},Z=new I.InjectionToken("CompositionEventMode"),K=function(){/**
     * @param {?} _renderer
     * @param {?} _elementRef
     * @param {?} _compositionMode
     */
function t(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!c())}/**
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} isDisabled
     * @return {?}
     */
/**
     * @param {?} value
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} value
     * @return {?}
     */
return t.prototype.writeValue=function(t){var/** @type {?} */e=null==t?"":t;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",e)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}();K.decorators=[{type:I.Directive,args:[{selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",
// TODO: vsavkin replace the above selector with the one below it once
// https://github.com/angular/angular/issues/3011 is implemented
// selector: '[ngModel],[formControl],[formControlName]',
host:{"(input)":"_handleInput($event.target.value)","(blur)":"onTouched()","(compositionstart)":"_compositionStart()","(compositionend)":"_compositionEnd($event.target.value)"},providers:[X]}]}],/**
 * @nocollapse
 */
K.ctorParameters=function(){return[{type:I.Renderer},{type:I.ElementRef},{type:void 0,decorators:[{type:I.Optional},{type:I.Inject,args:[Z]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Q={provide:W,useExisting:n.i(I.forwardRef)(function(){return J}),multi:!0},J=function(){/**
     * @param {?} _renderer
     * @param {?} _elementRef
     */
function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}/**
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} isDisabled
     * @return {?}
     */
return t.prototype.writeValue=function(t){
// The value needs to be normalized for IE9, otherwise it is set to 'null' when null
var/** @type {?} */e=null==t?"":t;this._renderer.setElementProperty(this._elementRef.nativeElement,"value",e)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t}();J.decorators=[{type:I.Directive,args:[{selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[Q]}]}],/**
 * @nocollapse
 */
J.ctorParameters=function(){return[{type:I.Renderer},{type:I.ElementRef}]};/**
 * A base class that all control directive extend.
 * It binds a {\@link FormControl} object to a DOM element.
 *
 * Used internally by Angular forms.
 *
 * \@stable
 * @abstract
 */
var tt=function(t){function e(){var e=t.apply(this,arguments)||this;/**
         * \@internal
         */
/**
         * \@internal
         */
/**
         * \@internal
         */
return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}/**
     * @abstract
     * @param {?} newValue
     * @return {?}
     */
return F(e,t),Object.defineProperty(e.prototype,"validator",{/**
         * @return {?}
         */
get:function(){return p()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{/**
         * @return {?}
         */
get:function(){return p()},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){},e}(U),et={provide:W,useExisting:n.i(I.forwardRef)(function(){return rt}),multi:!0},nt=function(){function t(){this._accessors=[]}/**
     * @param {?} control
     * @param {?} accessor
     * @return {?}
     */
/**
     * @param {?} accessor
     * @return {?}
     */
/**
     * @param {?} accessor
     * @return {?}
     */
/**
     * @param {?} controlPair
     * @param {?} accessor
     * @return {?}
     */
return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var/** @type {?} */e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&(t[0]._parent===e._control._parent&&t[1].name===e.name)},t}();nt.decorators=[{type:I.Injectable}],/**
 * @nocollapse
 */
nt.ctorParameters=function(){return[]};/**
 * \@whatItDoes Writes radio control values and listens to radio control changes.
 *
 * Used by {\@link NgModel}, {\@link FormControlDirective}, and {\@link FormControlName}
 * to keep the view synced with the {\@link FormControl} model.
 *
 * \@howToUse
 *
 * If you have imported the {\@link FormsModule} or the {\@link ReactiveFormsModule}, this
 * value accessor will be active on any radio control that has a form directive. You do
 * **not** need to add a special selector to activate it.
 *
 * ### How to use radio buttons with form directives
 *
 * To use radio buttons in a template-driven form, you'll want to ensure that radio buttons
 * in the same group have the same `name` attribute.  Radio buttons with different `name`
 * attributes do not affect each other.
 *
 * {\@example forms/ts/radioButtons/radio_button_example.ts region='TemplateDriven'}
 *
 * When using radio buttons in a reactive form, radio buttons in the same group should have the
 * same `formControlName`. You can also add a `name` attribute, but it's optional.
 *
 * {\@example forms/ts/reactiveRadioButtons/reactive_radio_button_example.ts region='Reactive'}
 *
 *  * **npm package**: `\@angular/forms`
 *
 *  \@stable
 */
var rt=function(){/**
     * @param {?} _renderer
     * @param {?} _elementRef
     * @param {?} _registry
     * @param {?} _injector
     */
function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} isDisabled
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
return t.prototype.ngOnInit=function(){this._control=this._injector.get(tt),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setElementProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}();rt.decorators=[{type:I.Directive,args:[{selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[et]}]}],/**
 * @nocollapse
 */
rt.ctorParameters=function(){return[{type:I.Renderer},{type:I.ElementRef},{type:nt},{type:I.Injector}]},rt.propDecorators={name:[{type:I.Input}],formControlName:[{type:I.Input}],value:[{type:I.Input}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var it={provide:W,useExisting:n.i(I.forwardRef)(function(){return ot}),multi:!0},ot=function(){/**
     * @param {?} _renderer
     * @param {?} _elementRef
     */
function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}/**
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} isDisabled
     * @return {?}
     */
return t.prototype.writeValue=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t}();ot.decorators=[{type:I.Directive,args:[{selector:"input[type=range][formControlName],input[type=range][formControl],input[type=range][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[it]}]}],/**
 * @nocollapse
 */
ot.ctorParameters=function(){return[{type:I.Renderer},{type:I.ElementRef}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var st={provide:W,useExisting:n.i(I.forwardRef)(function(){return at}),multi:!0},at=function(){/**
     * @param {?} _renderer
     * @param {?} _elementRef
     */
function t(t,e){this._renderer=t,this._elementRef=e,/**
         * \@internal
         */
this._optionMap=new Map,/**
         * \@internal
         */
this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=I["looseIdentical"]}/**
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} isDisabled
     * @return {?}
     */
/**
     * \@internal
     * @return {?}
     */
/**
     * \@internal
     * @param {?} value
     * @return {?}
     */
/**
     * \@internal
     * @param {?} valueString
     * @return {?}
     */
return Object.defineProperty(t.prototype,"compareWith",{/**
         * @param {?} fn
         * @return {?}
         */
set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var/** @type {?} */e=this._getOptionId(t);null==e&&this._renderer.setElementProperty(this._elementRef.nativeElement,"selectedIndex",-1);var/** @type {?} */n=h(e,t);this._renderer.setElementProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=n,t(e._getOptionValue(n))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null},t.prototype._getOptionValue=function(t){var/** @type {?} */e=d(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}();at.decorators=[{type:I.Directive,args:[{selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[st]}]}],/**
 * @nocollapse
 */
at.ctorParameters=function(){return[{type:I.Renderer},{type:I.ElementRef}]},at.propDecorators={compareWith:[{type:I.Input}]};/**
 * \@whatItDoes Marks `<option>` as dynamic, so Angular can be notified when options change.
 *
 * \@howToUse
 *
 * See docs for {\@link SelectControlValueAccessor} for usage examples.
 *
 * \@stable
 */
var ut=function(){/**
     * @param {?} _element
     * @param {?} _renderer
     * @param {?} _select
     */
function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}/**
     * \@internal
     * @param {?} value
     * @return {?}
     */
/**
     * @return {?}
     */
return Object.defineProperty(t.prototype,"ngValue",{/**
         * @param {?} value
         * @return {?}
         */
set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(h(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{/**
         * @param {?} value
         * @return {?}
         */
set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setElementProperty(this._element.nativeElement,"value",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();ut.decorators=[{type:I.Directive,args:[{selector:"option"}]}],/**
 * @nocollapse
 */
ut.ctorParameters=function(){return[{type:I.ElementRef},{type:I.Renderer},{type:at,decorators:[{type:I.Optional},{type:I.Host}]}]},ut.propDecorators={ngValue:[{type:I.Input,args:["ngValue"]}],value:[{type:I.Input,args:["value"]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var ct={provide:W,useExisting:n.i(I.forwardRef)(function(){return lt}),multi:!0},lt=function(){/**
     * @param {?} _renderer
     * @param {?} _elementRef
     */
function t(t,e){this._renderer=t,this._elementRef=e,/**
         * \@internal
         */
this._optionMap=new Map,/**
         * \@internal
         */
this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=I["looseIdentical"]}/**
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @param {?} isDisabled
     * @return {?}
     */
/**
     * \@internal
     * @param {?} value
     * @return {?}
     */
/**
     * \@internal
     * @param {?} value
     * @return {?}
     */
/**
     * \@internal
     * @param {?} valueString
     * @return {?}
     */
return Object.defineProperty(t.prototype,"compareWith",{/**
         * @param {?} fn
         * @return {?}
         */
set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e=this;this.value=t;var/** @type {?} */n;if(Array.isArray(t)){
// convert values to ids
var/** @type {?} */r=t.map(function(t){return e._getOptionId(t)});n=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else n=function(t,e){t._setSelected(!1)};this._optionMap.forEach(n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var/** @type {?} */r=[];if(n.hasOwnProperty("selectedOptions"))for(var/** @type {?} */i=n.selectedOptions,/** @type {?} */o=0;o<i.length;o++){var/** @type {?} */s=i.item(o),/** @type {?} */a=e._getOptionValue(s.value);r.push(a)}else for(var/** @type {?} */i=n.options,/** @type {?} */o=0;o<i.length;o++){var/** @type {?} */s=i.item(o);if(s.selected){var/** @type {?} */a=e._getOptionValue(s.value);r.push(a)}}e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setElementProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var/** @type {?} */e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null},t.prototype._getOptionValue=function(t){var/** @type {?} */e=v(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}();lt.decorators=[{type:I.Directive,args:[{selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[ct]}]}],/**
 * @nocollapse
 */
lt.ctorParameters=function(){return[{type:I.Renderer},{type:I.ElementRef}]},lt.propDecorators={compareWith:[{type:I.Input}]};/**
 * Marks `<option>` as dynamic, so Angular can be notified when options change.
 *
 * ### Example
 *
 * ```
 * <select multiple name="city" ngModel>
 *   <option *ngFor="let c of cities" [value]="c"></option>
 * </select>
 * ```
 */
var ft=function(){/**
     * @param {?} _element
     * @param {?} _renderer
     * @param {?} _select
     */
function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}/**
     * \@internal
     * @param {?} value
     * @return {?}
     */
/**
     * \@internal
     * @param {?} selected
     * @return {?}
     */
/**
     * @return {?}
     */
return Object.defineProperty(t.prototype,"ngValue",{/**
         * @param {?} value
         * @return {?}
         */
set:function(t){null!=this._select&&(this._value=t,this._setElementValue(m(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{/**
         * @param {?} value
         * @return {?}
         */
set:function(t){this._select?(this._value=t,this._setElementValue(m(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setElementProperty(this._element.nativeElement,"value",t)},t.prototype._setSelected=function(t){this._renderer.setElementProperty(this._element.nativeElement,"selected",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();ft.decorators=[{type:I.Directive,args:[{selector:"option"}]}],/**
 * @nocollapse
 */
ft.ctorParameters=function(){return[{type:I.ElementRef},{type:I.Renderer},{type:lt,decorators:[{type:I.Optional},{type:I.Host}]}]},ft.propDecorators={ngValue:[{type:I.Input,args:["ngValue"]}],value:[{type:I.Input,args:["value"]}]};var pt=[Y,ot,J,at,lt,rt],ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * \@internal
     * @return {?}
     */
return F(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{/**
         * Get the {\@link FormGroup} backing this binding.
         * @return {?}
         */
get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{/**
         * Get the path to this control group.
         * @return {?}
         */
get:function(){return y(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{/**
         * Get the {\@link Form} to which this group belongs.
         * @return {?}
         */
get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{/**
         * @return {?}
         */
get:function(){return E(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{/**
         * @return {?}
         */
get:function(){return C(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(V),dt=function(){/**
     * @param {?} cd
     */
function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{/**
         * @return {?}
         */
get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{/**
         * @return {?}
         */
get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{/**
         * @return {?}
         */
get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{/**
         * @return {?}
         */
get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{/**
         * @return {?}
         */
get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{/**
         * @return {?}
         */
get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{/**
         * @return {?}
         */
get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),mt={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"},vt=function(t){/**
     * @param {?} cd
     */
function e(e){return t.call(this,e)||this}return F(e,t),e}(dt);vt.decorators=[{type:I.Directive,args:[{selector:"[formControlName],[ngModel],[formControl]",host:mt}]}],/**
 * @nocollapse
 */
vt.ctorParameters=function(){return[{type:tt,decorators:[{type:I.Self}]}]};/**
 * Directive automatically applied to Angular form groups that sets CSS classes
 * based on control status (valid/invalid/dirty/etc).
 *
 * \@stable
 */
var yt=function(t){/**
     * @param {?} cd
     */
function e(e){return t.call(this,e)||this}return F(e,t),e}(dt);yt.decorators=[{type:I.Directive,args:[{selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]",host:mt}]}],/**
 * @nocollapse
 */
yt.ctorParameters=function(){return[{type:V,decorators:[{type:I.Self}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Indicates that a FormControl is valid, i.e. that no errors exist in the input value.
 */
var gt=function(){/**
     * @param {?} validator
     * @param {?} asyncValidator
     */
function t(t,e){this.validator=t,this.asyncValidator=e,/**
         * \@internal
         */
this._onCollectionChange=function(){},this._pristine=!0,this._touched=!1,/**
         * \@internal
         */
this._onDisabledChange=[]}/**
     * Sets the synchronous validators that are active on this control.  Calling
     * this will overwrite any existing sync validators.
     * @param {?} newValidator
     * @return {?}
     */
/**
     * Sets the async validators that are active on this control. Calling this
     * will overwrite any existing async validators.
     * @param {?} newValidator
     * @return {?}
     */
/**
     * Empties out the sync validator list.
     * @return {?}
     */
/**
     * Empties out the async validator list.
     * @return {?}
     */
/**
     * Marks the control as `touched`.
     *
     * This will also mark all direct ancestors as `touched` to maintain
     * the model.
     * @param {?=} __0
     * @return {?}
     */
/**
     * Marks the control as `untouched`.
     *
     * If the control has any children, it will also mark all children as `untouched`
     * to maintain the model, and re-calculate the `touched` status of all parent
     * controls.
     * @param {?=} __0
     * @return {?}
     */
/**
     * Marks the control as `dirty`.
     *
     * This will also mark all direct ancestors as `dirty` to maintain
     * the model.
     * @param {?=} __0
     * @return {?}
     */
/**
     * Marks the control as `pristine`.
     *
     * If the control has any children, it will also mark all children as `pristine`
     * to maintain the model, and re-calculate the `pristine` status of all parent
     * controls.
     * @param {?=} __0
     * @return {?}
     */
/**
     * Marks the control as `pending`.
     * @param {?=} __0
     * @return {?}
     */
/**
     * Disables the control. This means the control will be exempt from validation checks and
     * excluded from the aggregate value of any parent. Its status is `DISABLED`.
     *
     * If the control has children, all children will be disabled to maintain the model.
     * @param {?=} __0
     * @return {?}
     */
/**
     * Enables the control. This means the control will be included in validation checks and
     * the aggregate value of its parent. Its status is re-calculated based on its value and
     * its validators.
     *
     * If the control has children, all children will be enabled.
     * @param {?=} __0
     * @return {?}
     */
/**
     * @param {?} onlySelf
     * @return {?}
     */
/**
     * @param {?} parent
     * @return {?}
     */
/**
     * Sets the value of the control. Abstract method (implemented in sub-classes).
     * @abstract
     * @param {?} value
     * @param {?=} options
     * @return {?}
     */
/**
     * Patches the value of the control. Abstract method (implemented in sub-classes).
     * @abstract
     * @param {?} value
     * @param {?=} options
     * @return {?}
     */
/**
     * Resets the control. Abstract method (implemented in sub-classes).
     * @abstract
     * @param {?=} value
     * @param {?=} options
     * @return {?}
     */
/**
     * Re-calculates the value and validation status of the control.
     *
     * By default, it will also update the value and validity of its ancestors.
     * @param {?=} __0
     * @return {?}
     */
/**
     * \@internal
     * @param {?=} __0
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} emitEvent
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * Sets errors on a form control.
     *
     * This is used when validations are run manually by the user, rather than automatically.
     *
     * Calling `setErrors` will also update the validity of the parent control.
     *
     * ### Example
     *
     * ```
     * const login = new FormControl("someLogin");
     * login.setErrors({
     *   "notUnique": true
     * });
     *
     * expect(login.valid).toEqual(false);
     * expect(login.errors).toEqual({"notUnique": true});
     *
     * login.setValue("someOtherLogin");
     *
     * expect(login.valid).toEqual(true);
     * ```
     * @param {?} errors
     * @param {?=} __1
     * @return {?}
     */
/**
     * Retrieves a child control given the control's name or path.
     *
     * Paths can be passed in as an array or a string delimited by a dot.
     *
     * To get a control nested within a `person` sub-group:
     *
     * * `this.form.get('person.name');`
     *
     * -OR-
     *
     * * `this.form.get(['person', 'name']);`
     * @param {?} path
     * @return {?}
     */
/**
     * Returns true if the control with the given path has the error specified. Otherwise
     * returns null or undefined.
     *
     * If no path is given, it checks for the error on the present control.
     * @param {?} errorCode
     * @param {?=} path
     * @return {?}
     */
/**
     * Returns true if the control with the given path has the error specified. Otherwise
     * returns false.
     *
     * If no path is given, it checks for the error on the present control.
     * @param {?} errorCode
     * @param {?=} path
     * @return {?}
     */
/**
     * \@internal
     * @param {?} emitEvent
     * @return {?}
     */
/**
     * \@internal
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * \@internal
     * @abstract
     * @return {?}
     */
/**
     * \@internal
     * @abstract
     * @param {?} cb
     * @return {?}
     */
/**
     * \@internal
     * @abstract
     * @param {?} condition
     * @return {?}
     */
/**
     * \@internal
     * @abstract
     * @return {?}
     */
/**
     * \@internal
     * @param {?} status
     * @return {?}
     */
/**
     * \@internal
     * @return {?}
     */
/**
     * \@internal
     * @return {?}
     */
/**
     * \@internal
     * @param {?=} __0
     * @return {?}
     */
/**
     * \@internal
     * @param {?=} __0
     * @return {?}
     */
/**
     * \@internal
     * @param {?} formState
     * @return {?}
     */
/**
     * \@internal
     * @param {?} fn
     * @return {?}
     */
return Object.defineProperty(t.prototype,"value",{/**
         * The value of the control.
         * @return {?}
         */
get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{/**
         * The parent control.
         * @return {?}
         */
get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{/**
         * The validation status of the control. There are four possible
         * validation statuses:
         *
         * * **VALID**:  control has passed all validation checks
         * * **INVALID**: control has failed at least one validation check
         * * **PENDING**: control is in the midst of conducting a validation check
         * * **DISABLED**: control is exempt from validation checks
         *
         * These statuses are mutually exclusive, so a control cannot be
         * both valid AND invalid or invalid AND disabled.
         * @return {?}
         */
get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{/**
         * A control is `valid` when its `status === VALID`.
         *
         * In order to have this status, the control must have passed all its
         * validation checks.
         * @return {?}
         */
get:function(){return"VALID"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{/**
         * A control is `invalid` when its `status === INVALID`.
         *
         * In order to have this status, the control must have failed
         * at least one of its validation checks.
         * @return {?}
         */
get:function(){return"INVALID"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{/**
         * A control is `pending` when its `status === PENDING`.
         *
         * In order to have this status, the control must be in the
         * middle of conducting a validation check.
         * @return {?}
         */
get:function(){return"PENDING"==this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{/**
         * A control is `disabled` when its `status === DISABLED`.
         *
         * Disabled controls are exempt from validation checks and
         * are not included in the aggregate value of their ancestor
         * controls.
         * @return {?}
         */
get:function(){return"DISABLED"===this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{/**
         * A control is `enabled` as long as its `status !== DISABLED`.
         *
         * In other words, it has a status of `VALID`, `INVALID`, or
         * `PENDING`.
         * @return {?}
         */
get:function(){return"DISABLED"!==this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{/**
         * Returns any errors generated by failing validation. If there
         * are no errors, it will return null.
         * @return {?}
         */
get:function(){return this._errors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{/**
         * A control is `pristine` if the user has not yet changed
         * the value in the UI.
         *
         * Note that programmatic changes to a control's value will
         * *not* mark it dirty.
         * @return {?}
         */
get:function(){return this._pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{/**
         * A control is `dirty` if the user has changed the value
         * in the UI.
         *
         * Note that programmatic changes to a control's value will
         * *not* mark it dirty.
         * @return {?}
         */
get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{/**
         * A control is marked `touched` once the user has triggered
         * a `blur` event on it.
         * @return {?}
         */
get:function(){return this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{/**
         * A control is `untouched` if the user has not yet triggered
         * a `blur` event on it.
         * @return {?}
         */
get:function(){return!this._touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{/**
         * Emits an event every time the value of the control changes, in
         * the UI or programmatically.
         * @return {?}
         */
get:function(){return this._valueChanges},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{/**
         * Emits an event every time the validation status of the control
         * is re-calculated.
         * @return {?}
         */
get:function(){return this._statusChanges},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=T(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=A(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){var e=(void 0===t?{}:t).onlySelf;this._touched=!0,this._parent&&!e&&this._parent.markAsTouched({onlySelf:e})},t.prototype.markAsUntouched=function(t){var e=(void 0===t?{}:t).onlySelf;this._touched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!e&&this._parent._updateTouched({onlySelf:e})},t.prototype.markAsDirty=function(t){var e=(void 0===t?{}:t).onlySelf;this._pristine=!1,this._parent&&!e&&this._parent.markAsDirty({onlySelf:e})},t.prototype.markAsPristine=function(t){var e=(void 0===t?{}:t).onlySelf;this._pristine=!0,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!e&&this._parent._updatePristine({onlySelf:e})},t.prototype.markAsPending=function(t){var e=(void 0===t?{}:t).onlySelf;this._status="PENDING",this._parent&&!e&&this._parent.markAsPending({onlySelf:e})},t.prototype.disable=function(t){var e=void 0===t?{}:t,n=e.onlySelf,r=e.emitEvent;this._status="DISABLED",this._errors=null,this._forEachChild(function(t){t.disable({onlySelf:!0})}),this._updateValue(),!1!==r&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._updateAncestors(n),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){var e=void 0===t?{}:t,n=e.onlySelf,r=e.emitEvent;this._status="VALID",this._forEachChild(function(t){t.enable({onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r}),this._updateAncestors(n),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t&&(this._parent.updateValueAndValidity(),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.setValue=function(t,e){},t.prototype.patchValue=function(t,e){},t.prototype.reset=function(t,e){},t.prototype.updateValueAndValidity=function(t){var e=void 0===t?{}:t,n=e.onlySelf,r=e.emitEvent;this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this._errors=this._runValidator(),this._status=this._calculateStatus(),"VALID"!==this._status&&"PENDING"!==this._status||this._runAsyncValidator(r)),!1!==r&&(this._valueChanges.emit(this._value),this._statusChanges.emit(this._status)),this._parent&&!n&&this._parent.updateValueAndValidity({onlySelf:n,emitEvent:r})},t.prototype._updateTreeValidity=function(t){var e=(void 0===t?{emitEvent:!0}:t).emitEvent;this._forEachChild(function(t){return t._updateTreeValidity({emitEvent:e})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e})},t.prototype._setInitialStatus=function(){this._status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this._status="PENDING";var/** @type {?} */n=o(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){var n=(void 0===e?{}:e).emitEvent;this._errors=t,this._updateControlsErrors(!1!==n)},t.prototype.get=function(t){return O(this,t,".")},t.prototype.getError=function(t,e){void 0===e&&(e=null);var/** @type {?} */n=e?this.get(e):this;return n&&n._errors?n._errors[t]:null},t.prototype.hasError=function(t,e){return void 0===e&&(e=null),!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{/**
         * Retrieves the top-level ancestor of this control.
         * @return {?}
         */
get:function(){for(var/** @type {?} */t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this._status=this._calculateStatus(),t&&this._statusChanges.emit(this._status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this._valueChanges=new I.EventEmitter,this._statusChanges=new I.EventEmitter},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this._errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._updateValue=function(){},t.prototype._forEachChild=function(t){},t.prototype._anyControls=function(t){},t.prototype._allControlsDisabled=function(){},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){var e=(void 0===t?{}:t).onlySelf;this._pristine=!this._anyControlsDirty(),this._parent&&!e&&this._parent._updatePristine({onlySelf:e})},t.prototype._updateTouched=function(t){var e=(void 0===t?{}:t).onlySelf;this._touched=this._anyControlsTouched(),this._parent&&!e&&this._parent._updateTouched({onlySelf:e})},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t}(),bt=function(t){/**
     * @param {?=} formState
     * @param {?=} validator
     * @param {?=} asyncValidator
     */
function e(e,n,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=null);var i=t.call(this,T(n),A(r))||this;/**
         * \@internal
         */
return i._onChange=[],i._applyFormState(e),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i._initObservables(),i}/**
     * Set the value of the form control to `value`.
     *
     * If `onlySelf` is `true`, this change will only affect the validation of this `FormControl`
     * and not its parent component. This defaults to false.
     *
     * If `emitEvent` is `true`, this
     * change will cause a `valueChanges` event on the `FormControl` to be emitted. This defaults
     * to true (as it falls through to `updateValueAndValidity`).
     *
     * If `emitModelToViewChange` is `true`, the view will be notified about the new value
     * via an `onChange` event. This is the default behavior if `emitModelToViewChange` is not
     * specified.
     *
     * If `emitViewToModelChange` is `true`, an ngModelChange event will be fired to update the
     * model.  This is the default behavior if `emitViewToModelChange` is not specified.
     * @param {?} value
     * @param {?=} __1
     * @return {?}
     */
/**
     * Patches the value of a control.
     *
     * This function is functionally the same as {\@link FormControl.setValue} at this level.
     * It exists for symmetry with {\@link FormGroup.patchValue} on `FormGroups` and `FormArrays`,
     * where it does behave differently.
     * @param {?} value
     * @param {?=} options
     * @return {?}
     */
/**
     * Resets the form control. This means by default:
     *
     * * it is marked as `pristine`
     * * it is marked as `untouched`
     * * value is set to null
     *
     * You can also reset to a specific form state by passing through a standalone
     * value or a form state object that contains both a value and a disabled state
     * (these are the only two properties that cannot be calculated).
     *
     * Ex:
     *
     * ```ts
     * this.control.reset('Nancy');
     *
     * console.log(this.control.value);  // 'Nancy'
     * ```
     *
     * OR
     *
     * ```
     * this.control.reset({value: 'Nancy', disabled: true});
     *
     * console.log(this.control.value);  // 'Nancy'
     * console.log(this.control.status);  // 'DISABLED'
     * ```
     * @param {?=} formState
     * @param {?=} __1
     * @return {?}
     */
/**
     * \@internal
     * @return {?}
     */
/**
     * \@internal
     * @param {?} condition
     * @return {?}
     */
/**
     * \@internal
     * @return {?}
     */
/**
     * Register a listener for change events.
     * @param {?} fn
     * @return {?}
     */
/**
     * \@internal
     * @return {?}
     */
/**
     * Register a listener for disabled events.
     * @param {?} fn
     * @return {?}
     */
/**
     * \@internal
     * @param {?} cb
     * @return {?}
     */
/**
     * @param {?} formState
     * @return {?}
     */
return F(e,t),e.prototype.setValue=function(t,e){var n=this,r=void 0===e?{}:e,i=r.onlySelf,o=r.emitEvent,s=r.emitModelToViewChange,a=r.emitViewToModelChange;this._value=t,this._onChange.length&&!1!==s&&this._onChange.forEach(function(t){return t(n._value,!1!==a)}),this.updateValueAndValidity({onlySelf:i,emitEvent:o})},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null);var n=void 0===e?{}:e,r=n.onlySelf,i=n.emitEvent;this._applyFormState(t),this.markAsPristine({onlySelf:r}),this.markAsUntouched({onlySelf:r}),this.setValue(this._value,{onlySelf:r,emitEvent:i})},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this._value=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this._value=t},e}(gt),wt=function(t){/**
     * @param {?} controls
     * @param {?=} validator
     * @param {?=} asyncValidator
     */
function e(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null);var i=t.call(this,n,r)||this;return i.controls=e,i._initObservables(),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}/**
     * Registers a control with the group's list of controls.
     *
     * This method does not update value or validity of the control, so for
     * most cases you'll want to use {\@link FormGroup.addControl} instead.
     * @param {?} name
     * @param {?} control
     * @return {?}
     */
/**
     * Add a control to this group.
     * @param {?} name
     * @param {?} control
     * @return {?}
     */
/**
     * Remove a control from this group.
     * @param {?} name
     * @return {?}
     */
/**
     * Replace an existing control.
     * @param {?} name
     * @param {?} control
     * @return {?}
     */
/**
     * Check whether there is an enabled control with the given name in the group.
     *
     * It will return false for disabled controls. If you'd like to check for
     * existence in the group only, use {\@link AbstractControl.get} instead.
     * @param {?} controlName
     * @return {?}
     */
/**
     *  Sets the value of the {\@link FormGroup}. It accepts an object that matches
     *  the structure of the group, with control names as keys.
     *
     * This method performs strict checks, so it will throw an error if you try
     * to set the value of a control that doesn't exist or if you exclude the
     * value of a control.
     *
     *  ### Example
     *
     *  ```
     *  const form = new FormGroup({
     *     first: new FormControl(),
     *     last: new FormControl()
     *  });
     *  console.log(form.value);   // {first: null, last: null}
     *
     *  form.setValue({first: 'Nancy', last: 'Drew'});
     *  console.log(form.value);   // {first: 'Nancy', last: 'Drew'}
     *
     *  ```
     * @param {?} value
     * @param {?=} __1
     * @return {?}
     */
/**
     *  Patches the value of the {\@link FormGroup}. It accepts an object with control
     *  names as keys, and will do its best to match the values to the correct controls
     *  in the group.
     *
     *  It accepts both super-sets and sub-sets of the group without throwing an error.
     *
     *  ### Example
     *
     *  ```
     *  const form = new FormGroup({
     *     first: new FormControl(),
     *     last: new FormControl()
     *  });
     *  console.log(form.value);   // {first: null, last: null}
     *
     *  form.patchValue({first: 'Nancy'});
     *  console.log(form.value);   // {first: 'Nancy', last: null}
     *
     *  ```
     * @param {?} value
     * @param {?=} __1
     * @return {?}
     */
/**
     * Resets the {\@link FormGroup}. This means by default:
     *
     * * The group and all descendants are marked `pristine`
     * * The group and all descendants are marked `untouched`
     * * The value of all descendants will be null or null maps
     *
     * You can also reset to a specific form state by passing in a map of states
     * that matches the structure of your form, with control names as keys. The state
     * can be a standalone value or a form state object with both a value and a disabled
     * status.
     *
     * ### Example
     *
     * ```ts
     * this.form.reset({first: 'name', last: 'last name'});
     *
     * console.log(this.form.value);  // {first: 'name', last: 'last name'}
     * ```
     *
     * - OR -
     *
     * ```
     * this.form.reset({
     *   first: {value: 'name', disabled: true},
     *   last: 'last'
     * });
     *
     * console.log(this.form.value);  // {first: 'name', last: 'last name'}
     * console.log(this.form.get('first').status);  // 'DISABLED'
     * ```
     * @param {?=} value
     * @param {?=} __1
     * @return {?}
     */
/**
     * The aggregate value of the {\@link FormGroup}, including any disabled controls.
     *
     * If you'd like to include all values regardless of disabled status, use this method.
     * Otherwise, the `value` property is the best way to get the value of the group.
     * @return {?}
     */
/**
     * \@internal
     * @param {?} name
     * @return {?}
     */
/**
     * \@internal
     * @param {?} cb
     * @return {?}
     */
/**
     * \@internal
     * @return {?}
     */
/**
     * \@internal
     * @return {?}
     */
/**
     * \@internal
     * @param {?} condition
     * @return {?}
     */
/**
     * \@internal
     * @return {?}
     */
/**
     * \@internal
     * @param {?} initValue
     * @param {?} fn
     * @return {?}
     */
/**
     * \@internal
     * @return {?}
     */
/**
     * \@internal
     * @param {?} value
     * @return {?}
     */
return F(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this,r=void 0===e?{}:e,i=r.onlySelf,o=r.emitEvent;this._checkAllValuesPresent(t),Object.keys(t).forEach(function(e){n._throwIfControlMissing(e),n.controls[e].setValue(t[e],{onlySelf:!0,emitEvent:o})}),this.updateValueAndValidity({onlySelf:i,emitEvent:o})},e.prototype.patchValue=function(t,e){var n=this,r=void 0===e?{}:e,i=r.onlySelf,o=r.emitEvent;Object.keys(t).forEach(function(e){n.controls[e]&&n.controls[e].patchValue(t[e],{onlySelf:!0,emitEvent:o})}),this.updateValueAndValidity({onlySelf:i,emitEvent:o})},e.prototype.reset=function(t,e){void 0===t&&(t={});var n=void 0===e?{}:e,r=n.onlySelf,i=n.emitEvent;this._forEachChild(function(e,n){e.reset(t[n],{onlySelf:!0,emitEvent:i})}),this.updateValueAndValidity({onlySelf:r,emitEvent:i}),this._updatePristine({onlySelf:r}),this._updateTouched({onlySelf:r})},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof bt?e.value:e.getRawValue(),t})},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this._value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,/** @type {?} */n=!1;return this._forEachChild(function(r,i){n=n||e.contains(i)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var/** @type {?} */n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(gt),_t=function(t){/**
     * @param {?} controls
     * @param {?=} validator
     * @param {?=} asyncValidator
     */
function e(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null);var i=t.call(this,n,r)||this;return i.controls=e,i._initObservables(),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}/**
     * Get the {\@link AbstractControl} at the given `index` in the array.
     * @param {?} index
     * @return {?}
     */
/**
     * Insert a new {\@link AbstractControl} at the end of the array.
     * @param {?} control
     * @return {?}
     */
/**
     * Insert a new {\@link AbstractControl} at the given `index` in the array.
     * @param {?} index
     * @param {?} control
     * @return {?}
     */
/**
     * Remove the control at the given `index` in the array.
     * @param {?} index
     * @return {?}
     */
/**
     * Replace an existing control.
     * @param {?} index
     * @param {?} control
     * @return {?}
     */
/**
     *  Sets the value of the {\@link FormArray}. It accepts an array that matches
     *  the structure of the control.
     *
     * This method performs strict checks, so it will throw an error if you try
     * to set the value of a control that doesn't exist or if you exclude the
     * value of a control.
     *
     *  ### Example
     *
     *  ```
     *  const arr = new FormArray([
     *     new FormControl(),
     *     new FormControl()
     *  ]);
     *  console.log(arr.value);   // [null, null]
     *
     *  arr.setValue(['Nancy', 'Drew']);
     *  console.log(arr.value);   // ['Nancy', 'Drew']
     *  ```
     * @param {?} value
     * @param {?=} __1
     * @return {?}
     */
/**
     *  Patches the value of the {\@link FormArray}. It accepts an array that matches the
     *  structure of the control, and will do its best to match the values to the correct
     *  controls in the group.
     *
     *  It accepts both super-sets and sub-sets of the array without throwing an error.
     *
     *  ### Example
     *
     *  ```
     *  const arr = new FormArray([
     *     new FormControl(),
     *     new FormControl()
     *  ]);
     *  console.log(arr.value);   // [null, null]
     *
     *  arr.patchValue(['Nancy']);
     *  console.log(arr.value);   // ['Nancy', null]
     *  ```
     * @param {?} value
     * @param {?=} __1
     * @return {?}
     */
/**
     * Resets the {\@link FormArray}. This means by default:
     *
     * * The array and all descendants are marked `pristine`
     * * The array and all descendants are marked `untouched`
     * * The value of all descendants will be null or null maps
     *
     * You can also reset to a specific form state by passing in an array of states
     * that matches the structure of the control. The state can be a standalone value
     * or a form state object with both a value and a disabled status.
     *
     * ### Example
     *
     * ```ts
     * this.arr.reset(['name', 'last name']);
     *
     * console.log(this.arr.value);  // ['name', 'last name']
     * ```
     *
     * - OR -
     *
     * ```
     * this.arr.reset([
     *   {value: 'name', disabled: true},
     *   'last'
     * ]);
     *
     * console.log(this.arr.value);  // ['name', 'last name']
     * console.log(this.arr.get(0).status);  // 'DISABLED'
     * ```
     * @param {?=} value
     * @param {?=} __1
     * @return {?}
     */
/**
     * The aggregate value of the array, including any disabled controls.
     *
     * If you'd like to include all values regardless of disabled status, use this method.
     * Otherwise, the `value` property is the best way to get the value of the array.
     * @return {?}
     */
/**
     * \@internal
     * @param {?} index
     * @return {?}
     */
/**
     * \@internal
     * @param {?} cb
     * @return {?}
     */
/**
     * \@internal
     * @return {?}
     */
/**
     * \@internal
     * @param {?} condition
     * @return {?}
     */
/**
     * \@internal
     * @return {?}
     */
/**
     * \@internal
     * @param {?} value
     * @return {?}
     */
/**
     * \@internal
     * @return {?}
     */
/**
     * @param {?} control
     * @return {?}
     */
return F(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{/**
         * Length of the control array.
         * @return {?}
         */
get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this,r=void 0===e?{}:e,i=r.onlySelf,o=r.emitEvent;this._checkAllValuesPresent(t),t.forEach(function(t,e){n._throwIfControlMissing(e),n.at(e).setValue(t,{onlySelf:!0,emitEvent:o})}),this.updateValueAndValidity({onlySelf:i,emitEvent:o})},e.prototype.patchValue=function(t,e){var n=this,r=void 0===e?{}:e,i=r.onlySelf,o=r.emitEvent;t.forEach(function(t,e){n.at(e)&&n.at(e).patchValue(t,{onlySelf:!0,emitEvent:o})}),this.updateValueAndValidity({onlySelf:i,emitEvent:o})},e.prototype.reset=function(t,e){void 0===t&&(t=[]);var n=void 0===e?{}:e,r=n.onlySelf,i=n.emitEvent;this._forEachChild(function(e,n){e.reset(t[n],{onlySelf:!0,emitEvent:i})}),this.updateValueAndValidity({onlySelf:r,emitEvent:i}),this._updatePristine({onlySelf:r}),this._updateTouched({onlySelf:r})},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof bt?t.value:t.getRawValue()})},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this._value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){for(var t=0,e=this.controls;t<e.length;t++){if(e[t].enabled)return!1}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(gt),xt={provide:V,useExisting:n.i(I.forwardRef)(function(){return Ct})},Et=Promise.resolve(null),Ct=function(t){/**
     * @param {?} validators
     * @param {?} asyncValidators
     */
function e(e,n){var r=t.call(this)||this;return r._submitted=!1,r.ngSubmit=new I.EventEmitter,r.form=new wt({},E(e),C(n)),r}/**
     * @param {?} dir
     * @return {?}
     */
/**
     * @param {?} dir
     * @return {?}
     */
/**
     * @param {?} dir
     * @return {?}
     */
/**
     * @param {?} dir
     * @return {?}
     */
/**
     * @param {?} dir
     * @return {?}
     */
/**
     * @param {?} dir
     * @return {?}
     */
/**
     * @param {?} dir
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} $event
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?=} value
     * @return {?}
     */
/**
     * \@internal
     * @param {?} path
     * @return {?}
     */
return F(e,t),Object.defineProperty(e.prototype,"submitted",{/**
         * @return {?}
         */
get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{/**
         * @return {?}
         */
get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{/**
         * @return {?}
         */
get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{/**
         * @return {?}
         */
get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{/**
         * @return {?}
         */
get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;Et.then(function(){var/** @type {?} */n=e._findContainer(t.path);t._control=n.registerControl(t.name,t.control),g(t.control,t),t.control.updateValueAndValidity({emitEvent:!1})})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;Et.then(function(){var/** @type {?} */n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.addFormGroup=function(t){var e=this;Et.then(function(){var/** @type {?} */n=e._findContainer(t.path),/** @type {?} */r=new wt({});w(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;Et.then(function(){var/** @type {?} */n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;Et.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this._submitted=!0,this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this._submitted=!1},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(V);Ct.decorators=[{type:I.Directive,args:[{selector:"form:not([ngNoForm]):not([formGroup]),ngForm,[ngForm]",providers:[xt],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],/**
 * @nocollapse
 */
Ct.ctorParameters=function(){return[{type:Array,decorators:[{type:I.Optional},{type:I.Self},{type:I.Inject,args:[z]}]},{type:Array,decorators:[{type:I.Optional},{type:I.Self},{type:I.Inject,args:[q]}]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var St={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '},Nt=function(){function t(){}/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '+St.formControlName+"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      "+St.ngModelWithFormGroup)},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+St.formGroupName+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+St.ngModelGroup)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+St.formGroupName+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+St.ngModelGroup)},t}(),Mt={provide:V,useExisting:n.i(I.forwardRef)(function(){return Ot})},Ot=function(t){/**
     * @param {?} parent
     * @param {?} validators
     * @param {?} asyncValidators
     */
function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}/**
     * \@internal
     * @return {?}
     */
return F(e,t),e.prototype._checkParentType=function(){this._parent instanceof e||this._parent instanceof Ct||Nt.modelGroupParentException()},e}(ht);Ot.decorators=[{type:I.Directive,args:[{selector:"[ngModelGroup]",providers:[Mt],exportAs:"ngModelGroup"}]}],/**
 * @nocollapse
 */
Ot.ctorParameters=function(){return[{type:V,decorators:[{type:I.Host},{type:I.SkipSelf}]},{type:Array,decorators:[{type:I.Optional},{type:I.Self},{type:I.Inject,args:[z]}]},{type:Array,decorators:[{type:I.Optional},{type:I.Self},{type:I.Inject,args:[q]}]}]},Ot.propDecorators={name:[{type:I.Input,args:["ngModelGroup"]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Tt={provide:tt,useExisting:n.i(I.forwardRef)(function(){return Pt})},At=Promise.resolve(null),Pt=function(t){/**
     * @param {?} parent
     * @param {?} validators
     * @param {?} asyncValidators
     * @param {?} valueAccessors
     */
function e(e,n,r,i){var o=t.call(this)||this;/**
         * \@internal
         */
/**
         * \@internal
         */
return o._control=new bt,o._registered=!1,o.update=new I.EventEmitter,o._parent=e,o._rawValidators=n||[],o._rawAsyncValidators=r||[],o.valueAccessor=M(o,i),o}/**
     * @param {?} changes
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} newValue
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} changes
     * @return {?}
     */
return F(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),S(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"control",{/**
         * @return {?}
         */
get:function(){return this._control},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{/**
         * @return {?}
         */
get:function(){return this._parent?y(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{/**
         * @return {?}
         */
get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{/**
         * @return {?}
         */
get:function(){return E(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{/**
         * @return {?}
         */
get:function(){return C(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._isStandalone=function(){return!this._parent||this.options&&this.options.standalone},e.prototype._setUpStandalone=function(){g(this._control,this),this._control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof Ot)&&this._parent instanceof ht?Nt.formGroupNameException():this._parent instanceof Ot||this._parent instanceof Ct||Nt.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Nt.missingNameException()},e.prototype._updateValue=function(t){var e=this;At.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,/** @type {?} */n=t.isDisabled.currentValue,/** @type {?} */r=""===n||n&&"false"!==n;At.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},e}(tt);Pt.decorators=[{type:I.Directive,args:[{selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[Tt],exportAs:"ngModel"}]}],/**
 * @nocollapse
 */
Pt.ctorParameters=function(){return[{type:V,decorators:[{type:I.Optional},{type:I.Host}]},{type:Array,decorators:[{type:I.Optional},{type:I.Self},{type:I.Inject,args:[z]}]},{type:Array,decorators:[{type:I.Optional},{type:I.Self},{type:I.Inject,args:[q]}]},{type:Array,decorators:[{type:I.Optional},{type:I.Self},{type:I.Inject,args:[W]}]}]},Pt.propDecorators={name:[{type:I.Input}],isDisabled:[{type:I.Input,args:["disabled"]}],model:[{type:I.Input,args:["ngModel"]}],options:[{type:I.Input,args:["ngModelOptions"]}],update:[{type:I.Output,args:["ngModelChange"]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var kt=function(){function t(){}/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
return t.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+St.formControlName)},t.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+St.formGroupName+"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        "+St.ngModelGroup)},t.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+St.formControlName)},t.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+St.formGroupName)},t.arrayParentException=function(){throw new Error("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        "+St.formArrayName)},t.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},t}(),It={provide:tt,useExisting:n.i(I.forwardRef)(function(){return Rt})},Rt=function(t){/**
     * @param {?} validators
     * @param {?} asyncValidators
     * @param {?} valueAccessors
     */
function e(e,n,r){var i=t.call(this)||this;return i.update=new I.EventEmitter,i._rawValidators=e||[],i._rawAsyncValidators=n||[],i.valueAccessor=M(i,r),i}/**
     * @param {?} changes
     * @return {?}
     */
/**
     * @param {?} newValue
     * @return {?}
     */
/**
     * @param {?} changes
     * @return {?}
     */
return F(e,t),Object.defineProperty(e.prototype,"isDisabled",{/**
         * @param {?} isDisabled
         * @return {?}
         */
set:function(t){kt.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._isControlChanged(t)&&(g(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),S(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)},Object.defineProperty(e.prototype,"path",{/**
         * @return {?}
         */
get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{/**
         * @return {?}
         */
get:function(){return E(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{/**
         * @return {?}
         */
get:function(){return C(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{/**
         * @return {?}
         */
get:function(){return this.form},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._isControlChanged=function(t){return t.hasOwnProperty("form")},e}(tt);Rt.decorators=[{type:I.Directive,args:[{selector:"[formControl]",providers:[It],exportAs:"ngForm"}]}],/**
 * @nocollapse
 */
Rt.ctorParameters=function(){return[{type:Array,decorators:[{type:I.Optional},{type:I.Self},{type:I.Inject,args:[z]}]},{type:Array,decorators:[{type:I.Optional},{type:I.Self},{type:I.Inject,args:[q]}]},{type:Array,decorators:[{type:I.Optional},{type:I.Self},{type:I.Inject,args:[W]}]}]},Rt.propDecorators={form:[{type:I.Input,args:["formControl"]}],model:[{type:I.Input,args:["ngModel"]}],update:[{type:I.Output,args:["ngModelChange"]}],isDisabled:[{type:I.Input,args:["disabled"]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var jt={provide:V,useExisting:n.i(I.forwardRef)(function(){return Dt})},Dt=function(t){/**
     * @param {?} _validators
     * @param {?} _asyncValidators
     */
function e(e,n){var r=t.call(this)||this;return r._validators=e,r._asyncValidators=n,r._submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new I.EventEmitter,r}/**
     * @param {?} changes
     * @return {?}
     */
/**
     * @param {?} dir
     * @return {?}
     */
/**
     * @param {?} dir
     * @return {?}
     */
/**
     * @param {?} dir
     * @return {?}
     */
/**
     * @param {?} dir
     * @return {?}
     */
/**
     * @param {?} dir
     * @return {?}
     */
/**
     * @param {?} dir
     * @return {?}
     */
/**
     * @param {?} dir
     * @return {?}
     */
/**
     * @param {?} dir
     * @return {?}
     */
/**
     * @param {?} dir
     * @return {?}
     */
/**
     * @param {?} dir
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} $event
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?=} value
     * @return {?}
     */
/**
     * \@internal
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
return F(e,t),e.prototype.ngOnChanges=function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(e.prototype,"submitted",{/**
         * @return {?}
         */
get:function(){return this._submitted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{/**
         * @return {?}
         */
get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{/**
         * @return {?}
         */
get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{/**
         * @return {?}
         */
get:function(){return[]},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var/** @type {?} */e=this.form.get(t.path);return g(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){P(this.directives,t)},e.prototype.addFormGroup=function(t){var/** @type {?} */e=this.form.get(t.path);w(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormGroup=function(t){},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.addFormArray=function(t){var/** @type {?} */e=this.form.get(t.path);w(e,t),e.updateValueAndValidity({emitEvent:!1})},e.prototype.removeFormArray=function(t){},e.prototype.getFormArray=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){this.form.get(t.path).setValue(e)},e.prototype.onSubmit=function(t){return this._submitted=!0,this.ngSubmit.emit(t),!1},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this._submitted=!1},e.prototype._updateDomValue=function(){var t=this;this.directives.forEach(function(e){var/** @type {?} */n=t.form.get(e.path);e._control!==n&&(b(e._control,e),n&&g(n,e),e._control=n)}),this.form._updateTreeValidity({emitEvent:!1})},e.prototype._updateRegistrations=function(){var t=this;this.form._registerOnCollectionChange(function(){return t._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},e.prototype._updateValidators=function(){var/** @type {?} */t=E(this._validators);this.form.validator=G.compose([this.form.validator,t]);var/** @type {?} */e=C(this._asyncValidators);this.form.asyncValidator=G.composeAsync([this.form.asyncValidator,e])},e.prototype._checkFormPresent=function(){this.form||kt.missingFormException()},e}(V);Dt.decorators=[{type:I.Directive,args:[{selector:"[formGroup]",providers:[jt],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},exportAs:"ngForm"}]}],/**
 * @nocollapse
 */
Dt.ctorParameters=function(){return[{type:Array,decorators:[{type:I.Optional},{type:I.Self},{type:I.Inject,args:[z]}]},{type:Array,decorators:[{type:I.Optional},{type:I.Self},{type:I.Inject,args:[q]}]}]},Dt.propDecorators={form:[{type:I.Input,args:["formGroup"]}],ngSubmit:[{type:I.Output}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Lt={provide:V,useExisting:n.i(I.forwardRef)(function(){return Ft})},Ft=function(t){/**
     * @param {?} parent
     * @param {?} validators
     * @param {?} asyncValidators
     */
function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}/**
     * \@internal
     * @return {?}
     */
return F(e,t),e.prototype._checkParentType=function(){k(this._parent)&&kt.groupParentException()},e}(ht);Ft.decorators=[{type:I.Directive,args:[{selector:"[formGroupName]",providers:[Lt]}]}],/**
 * @nocollapse
 */
Ft.ctorParameters=function(){return[{type:V,decorators:[{type:I.Optional},{type:I.Host},{type:I.SkipSelf}]},{type:Array,decorators:[{type:I.Optional},{type:I.Self},{type:I.Inject,args:[z]}]},{type:Array,decorators:[{type:I.Optional},{type:I.Self},{type:I.Inject,args:[q]}]}]},Ft.propDecorators={name:[{type:I.Input,args:["formGroupName"]}]};var Ut={provide:V,useExisting:n.i(I.forwardRef)(function(){return Vt})},Vt=function(t){/**
     * @param {?} parent
     * @param {?} validators
     * @param {?} asyncValidators
     */
function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
return F(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(e.prototype,"control",{/**
         * @return {?}
         */
get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{/**
         * @return {?}
         */
get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{/**
         * @return {?}
         */
get:function(){return y(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{/**
         * @return {?}
         */
get:function(){return E(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{/**
         * @return {?}
         */
get:function(){return C(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){k(this._parent)&&kt.arrayParentException()},e}(V);Vt.decorators=[{type:I.Directive,args:[{selector:"[formArrayName]",providers:[Ut]}]}],/**
 * @nocollapse
 */
Vt.ctorParameters=function(){return[{type:V,decorators:[{type:I.Optional},{type:I.Host},{type:I.SkipSelf}]},{type:Array,decorators:[{type:I.Optional},{type:I.Self},{type:I.Inject,args:[z]}]},{type:Array,decorators:[{type:I.Optional},{type:I.Self},{type:I.Inject,args:[q]}]}]},Vt.propDecorators={name:[{type:I.Input,args:["formArrayName"]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Bt={provide:tt,useExisting:n.i(I.forwardRef)(function(){return zt})},zt=function(t){/**
     * @param {?} parent
     * @param {?} validators
     * @param {?} asyncValidators
     * @param {?} valueAccessors
     */
function e(e,n,r,i){var o=t.call(this)||this;return o._added=!1,o.update=new I.EventEmitter,o._parent=e,o._rawValidators=n||[],o._rawAsyncValidators=r||[],o.valueAccessor=M(o,i),o}/**
     * @param {?} changes
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} newValue
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
return F(e,t),Object.defineProperty(e.prototype,"isDisabled",{/**
         * @param {?} isDisabled
         * @return {?}
         */
set:function(t){kt.disabledAttrWarning()},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(t){this._added||this._setUpControl(),S(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},Object.defineProperty(e.prototype,"path",{/**
         * @return {?}
         */
get:function(){return y(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{/**
         * @return {?}
         */
get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{/**
         * @return {?}
         */
get:function(){return E(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{/**
         * @return {?}
         */
get:function(){return C(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{/**
         * @return {?}
         */
get:function(){return this._control},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){!(this._parent instanceof Ft)&&this._parent instanceof ht?kt.ngModelGroupException():this._parent instanceof Ft||this._parent instanceof Dt||this._parent instanceof Vt||kt.controlParentException()},e.prototype._setUpControl=function(){this._checkParentType(),this._control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},e}(tt);zt.decorators=[{type:I.Directive,args:[{selector:"[formControlName]",providers:[Bt]}]}],/**
 * @nocollapse
 */
zt.ctorParameters=function(){return[{type:V,decorators:[{type:I.Optional},{type:I.Host},{type:I.SkipSelf}]},{type:Array,decorators:[{type:I.Optional},{type:I.Self},{type:I.Inject,args:[z]}]},{type:Array,decorators:[{type:I.Optional},{type:I.Self},{type:I.Inject,args:[q]}]},{type:Array,decorators:[{type:I.Optional},{type:I.Self},{type:I.Inject,args:[W]}]}]},zt.propDecorators={name:[{type:I.Input,args:["formControlName"]}],model:[{type:I.Input,args:["ngModel"]}],update:[{type:I.Output,args:["ngModelChange"]}],isDisabled:[{type:I.Input,args:["disabled"]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var qt={provide:z,useExisting:n.i(I.forwardRef)(function(){return Gt}),multi:!0},Ht={provide:z,useExisting:n.i(I.forwardRef)(function(){return Wt}),multi:!0},Gt=function(){function t(){}/**
     * @param {?} c
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
return Object.defineProperty(t.prototype,"required",{/**
         * @return {?}
         */
get:function(){return this._required},/**
         * @param {?} value
         * @return {?}
         */
set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this.required?G.required(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}();Gt.decorators=[{type:I.Directive,args:[{selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",providers:[qt],host:{"[attr.required]":'required ? "" : null'}}]}],/**
 * @nocollapse
 */
Gt.ctorParameters=function(){return[]},Gt.propDecorators={required:[{type:I.Input}]};/**
 * A Directive that adds the `required` validator to checkbox controls marked with the
 * `required` attribute, via the {\@link NG_VALIDATORS} binding.
 *
 * ### Example
 *
 * ```
 * <input type="checkbox" name="active" ngModel required>
 * ```
 *
 * \@experimental
 */
var Wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}/**
     * @param {?} c
     * @return {?}
     */
return F(e,t),e.prototype.validate=function(t){return this.required?G.requiredTrue(t):null},e}(Gt);Wt.decorators=[{type:I.Directive,args:[{selector:"input[type=checkbox][required][formControlName],input[type=checkbox][required][formControl],input[type=checkbox][required][ngModel]",providers:[Ht],host:{"[attr.required]":'required ? "" : null'}}]}],/**
 * @nocollapse
 */
Wt.ctorParameters=function(){return[]};/**
 * Provider which adds {@link EmailValidator} to {@link NG_VALIDATORS}.
 */
var $t={provide:z,useExisting:n.i(I.forwardRef)(function(){return Yt}),multi:!0},Yt=function(){function t(){}/**
     * @param {?} c
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
return Object.defineProperty(t.prototype,"email",{/**
         * @param {?} value
         * @return {?}
         */
set:function(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){return this._enabled?G.email(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t}();Yt.decorators=[{type:I.Directive,args:[{selector:"[email][formControlName],[email][formControl],[email][ngModel]",providers:[$t]}]}],/**
 * @nocollapse
 */
Yt.ctorParameters=function(){return[]},Yt.propDecorators={email:[{type:I.Input}]};/**
 * Provider which adds {@link MinLengthValidator} to {@link NG_VALIDATORS}.
 *
 * ## Example:
 *
 * {@example common/forms/ts/validators/validators.ts region='min'}
 */
var Xt={provide:z,useExisting:n.i(I.forwardRef)(function(){return Zt}),multi:!0},Zt=function(){function t(){}/**
     * @param {?} changes
     * @return {?}
     */
/**
     * @param {?} c
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @return {?}
     */
return t.prototype.ngOnChanges=function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null==this.minlength?null:this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=G.minLength(parseInt(this.minlength,10))},t}();Zt.decorators=[{type:I.Directive,args:[{selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[Xt],host:{"[attr.minlength]":"minlength ? minlength : null"}}]}],/**
 * @nocollapse
 */
Zt.ctorParameters=function(){return[]},Zt.propDecorators={minlength:[{type:I.Input}]};/**
 * Provider which adds {@link MaxLengthValidator} to {@link NG_VALIDATORS}.
 *
 * ## Example:
 *
 * {@example common/forms/ts/validators/validators.ts region='max'}
 */
var Kt={provide:z,useExisting:n.i(I.forwardRef)(function(){return Qt}),multi:!0},Qt=function(){function t(){}/**
     * @param {?} changes
     * @return {?}
     */
/**
     * @param {?} c
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @return {?}
     */
return t.prototype.ngOnChanges=function(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return null!=this.maxlength?this._validator(t):null},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=G.maxLength(parseInt(this.maxlength,10))},t}();Qt.decorators=[{type:I.Directive,args:[{selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[Kt],host:{"[attr.maxlength]":"maxlength ? maxlength : null"}}]}],/**
 * @nocollapse
 */
Qt.ctorParameters=function(){return[]},Qt.propDecorators={maxlength:[{type:I.Input}]};var Jt={provide:z,useExisting:n.i(I.forwardRef)(function(){return te}),multi:!0},te=function(){function t(){}/**
     * @param {?} changes
     * @return {?}
     */
/**
     * @param {?} c
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * @return {?}
     */
return t.prototype.ngOnChanges=function(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())},t.prototype.validate=function(t){return this._validator(t)},t.prototype.registerOnValidatorChange=function(t){this._onChange=t},t.prototype._createValidator=function(){this._validator=G.pattern(this.pattern)},t}();te.decorators=[{type:I.Directive,args:[{selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[Jt],host:{"[attr.pattern]":"pattern ? pattern : null"}}]}],/**
 * @nocollapse
 */
te.ctorParameters=function(){return[]},te.propDecorators={pattern:[{type:I.Input}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * \@whatItDoes Creates an {\@link AbstractControl} from a user-specified configuration.
 *
 * It is essentially syntactic sugar that shortens the `new FormGroup()`,
 * `new FormControl()`, and `new FormArray()` boilerplate that can build up in larger
 * forms.
 *
 * \@howToUse
 *
 * To use, inject `FormBuilder` into your component class. You can then call its methods
 * directly.
 *
 * {\@example forms/ts/formBuilder/form_builder_example.ts region='Component'}
 *
 *  * **npm package**: `\@angular/forms`
 *
 *  * **NgModule**: {\@link ReactiveFormsModule}
 *
 * \@stable
 */
var ee=function(){function t(){}/**
     * Construct a new {\@link FormGroup} with the given map of configuration.
     * Valid keys for the `extra` parameter map are `validator` and `asyncValidator`.
     *
     * See the {\@link FormGroup} constructor for more details.
     * @param {?} controlsConfig
     * @param {?=} extra
     * @return {?}
     */
/**
     * Construct a new {\@link FormControl} with the given `formState`,`validator`, and
     * `asyncValidator`.
     *
     * `formState` can either be a standalone value for the form control or an object
     * that contains both a value and a disabled status.
     *
     * @param {?} formState
     * @param {?=} validator
     * @param {?=} asyncValidator
     * @return {?}
     */
/**
     * Construct a {\@link FormArray} from the given `controlsConfig` array of
     * configuration, with the given optional `validator` and `asyncValidator`.
     * @param {?} controlsConfig
     * @param {?=} validator
     * @param {?=} asyncValidator
     * @return {?}
     */
/**
     * \@internal
     * @param {?} controlsConfig
     * @return {?}
     */
/**
     * \@internal
     * @param {?} controlConfig
     * @return {?}
     */
return t.prototype.group=function(t,e){void 0===e&&(e=null);var/** @type {?} */n=this._reduceControls(t),/** @type {?} */r=null!=e?e.validator:null,/** @type {?} */i=null!=e?e.asyncValidator:null;return new wt(n,r,i)},t.prototype.control=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),new bt(t,e,n)},t.prototype.array=function(t,e,n){var r=this;void 0===e&&(e=null),void 0===n&&(n=null);var/** @type {?} */i=t.map(function(t){return r._createControl(t)});return new _t(i,e,n)},t.prototype._reduceControls=function(t){var e=this,/** @type {?} */n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n},t.prototype._createControl=function(t){if(t instanceof bt||t instanceof wt||t instanceof _t)return t;if(Array.isArray(t)){var/** @type {?} */e=t[0],/** @type {?} */n=t.length>1?t[1]:null,/** @type {?} */r=t.length>2?t[2]:null;return this.control(e,n,r)}return this.control(t)},t}();ee.decorators=[{type:I.Injectable}],/**
 * @nocollapse
 */
ee.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @module
 * @description
 * Entry point for all public APIs of the common package.
 */
/**
 * \@stable
 */
var ne=new I.Version("4.0.1"),re=function(){function t(){}return t}();re.decorators=[{type:I.Directive,args:[{selector:"form:not([ngNoForm]):not([ngNativeValidate])",host:{novalidate:""}}]}],/**
 * @nocollapse
 */
re.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var ie=[re,ut,ft,K,J,ot,Y,at,lt,rt,vt,yt,Gt,Zt,Qt,te,Wt,Yt],oe=[Pt,Ot,Ct],se=[Rt,Dt,zt,Ft,Vt],ae=function(){function t(){}return t}();ae.decorators=[{type:I.NgModule,args:[{declarations:ie,exports:ie}]}],/**
 * @nocollapse
 */
ae.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * The ng module for forms.
 * \@stable
 */
var ue=function(){function t(){}return t}();ue.decorators=[{type:I.NgModule,args:[{declarations:oe,providers:[nt],exports:[ae,oe]}]}],/**
 * @nocollapse
 */
ue.ctorParameters=function(){return[]};/**
 * The ng module for reactive forms.
 * \@stable
 */
var ce=function(){function t(){}return t}();ce.decorators=[{type:I.NgModule,args:[{declarations:[se],providers:[ee,nt],exports:[ae,se]}]}],/**
 * @nocollapse
 */
ce.ctorParameters=function(){return[]}},/* 191 */
/***/
function(t,e,n){"use strict";/**
 * Convert a {\@link Params} instance to a {\@link ParamMap}.
 *
 * \@stable
 * @param {?} params
 * @return {?}
 */
function r(t){return new Ue(t)}/**
 * @param {?} message
 * @return {?}
 */
function i(t){var/** @type {?} */e=Error("NavigationCancelingError: "+t);return e[Ve]=!0,e}/**
 * @param {?} error
 * @return {?}
 */
function o(t){return t[Ve]}/**
 * @param {?} segments
 * @param {?} segmentGroup
 * @param {?} route
 * @return {?}
 */
function s(t,e,n){for(var/** @type {?} */r=n.path,/** @type {?} */i=r.split("/"),/** @type {?} */o={},/** @type {?} */s=[],/** @type {?} */a=0,/** @type {?} */u=0;u<i.length;++u){if(a>=t.length)return null;var/** @type {?} */c=t[a],/** @type {?} */l=i[u],/** @type {?} */f=l.startsWith(":");if(!f&&l!==c.path)return null;f&&(o[l.substring(1)]=c),s.push(c),a++}return"full"===n.pathMatch&&(e.hasChildren()||a<t.length)?null:{consumed:s,posParams:o}}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} a
 * @param {?} b
 * @return {?}
 */
function a(t,e){if(t.length!==e.length)return!1;for(var/** @type {?} */n=0;n<t.length;++n)if(!u(t[n],e[n]))return!1;return!0}/**
 * @param {?} a
 * @param {?} b
 * @return {?}
 */
function u(t,e){var/** @type {?} */n=Object.keys(t),/** @type {?} */r=Object.keys(e);if(n.length!=r.length)return!1;for(var/** @type {?} */i,/** @type {?} */o=0;o<n.length;o++)if(i=n[o],t[i]!==e[i])return!1;return!0}/**
 * @template T
 * @param {?} arr
 * @return {?}
 */
function c(t){return Array.prototype.concat.apply([],t)}/**
 * @template T
 * @param {?} a
 * @return {?}
 */
/**
 * @template T
 * @param {?} a
 * @return {?}
 */
function l(t){return t.length>0?t[t.length-1]:null}/**
 * @param {?} bools
 * @return {?}
 */
/**
 * @template K, V
 * @param {?} map
 * @param {?} callback
 * @return {?}
 */
function f(t,e){for(var/** @type {?} */n in t)t.hasOwnProperty(n)&&e(t[n],n)}/**
 * @template A, B
 * @param {?} obj
 * @param {?} fn
 * @return {?}
 */
function p(t,e){var/** @type {?} */r=[],/** @type {?} */i={};if(f(t,function(t,n){n===Fe&&r.push(ge.map.call(e(n,t),function(t){return i[n]=t,t}))}),f(t,function(t,n){n!==Fe&&r.push(ge.map.call(e(n,t),function(t){return i[n]=t,t}))}),r.length>0){var/** @type {?} */o=Ee.concatAll.call(de.of.apply(void 0,r)),/** @type {?} */s=Ne.last.call(o);return ge.map.call(s,function(){return i})}return n.i(de.of)(i)}/**
 * @param {?} observables
 * @return {?}
 */
function h(t){var/** @type {?} */e=Me.mergeAll.call(t);return ve.every.call(e,function(t){return!0===t})}/**
 * @template T
 * @param {?} value
 * @return {?}
 */
function d(t){return n.i(le["isObservable"])(t)?t:n.i(le["isPromise"])(t)?n.i(Se.fromPromise)(t):n.i(de.of)(t)}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @return {?}
 */
function m(){return new He(new Ge([],{}),{},null)}/**
 * @param {?} container
 * @param {?} containee
 * @param {?} exact
 * @return {?}
 */
function v(t,e,n){return n?y(t.queryParams,e.queryParams)&&g(t.root,e.root):b(t.queryParams,e.queryParams)&&w(t.root,e.root)}/**
 * @param {?} container
 * @param {?} containee
 * @return {?}
 */
function y(t,e){return u(t,e)}/**
 * @param {?} container
 * @param {?} containee
 * @return {?}
 */
function g(t,e){if(!E(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var/** @type {?} */n in e.children){if(!t.children[n])return!1;if(!g(t.children[n],e.children[n]))return!1}return!0}/**
 * @param {?} container
 * @param {?} containee
 * @return {?}
 */
function b(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}/**
 * @param {?} container
 * @param {?} containee
 * @return {?}
 */
function w(t,e){return _(t,e,e.segments)}/**
 * @param {?} container
 * @param {?} containee
 * @param {?} containeePaths
 * @return {?}
 */
function _(t,e,n){if(t.segments.length>n.length){var/** @type {?} */r=t.segments.slice(0,n.length);return!!E(r,n)&&!e.hasChildren()}if(t.segments.length===n.length){if(!E(t.segments,n))return!1;for(var/** @type {?} */i in e.children){if(!t.children[i])return!1;if(!w(t.children[i],e.children[i]))return!1}return!0}var/** @type {?} */r=n.slice(0,t.segments.length),/** @type {?} */o=n.slice(t.segments.length);return!!E(t.segments,r)&&(!!t.children[Fe]&&_(t.children[Fe],e,o))}/**
 * @param {?} a
 * @param {?} b
 * @return {?}
 */
function x(t,e){if(t.length!==e.length)return!1;for(var/** @type {?} */n=0;n<t.length;++n){if(t[n].path!==e[n].path)return!1;if(!u(t[n].parameters,e[n].parameters))return!1}return!0}/**
 * @param {?} a
 * @param {?} b
 * @return {?}
 */
function E(t,e){if(t.length!==e.length)return!1;for(var/** @type {?} */n=0;n<t.length;++n)if(t[n].path!==e[n].path)return!1;return!0}/**
 * @template T
 * @param {?} segment
 * @param {?} fn
 * @return {?}
 */
function C(t,e){var/** @type {?} */n=[];return f(t.children,function(t,r){r===Fe&&(n=n.concat(e(t,r)))}),f(t.children,function(t,r){r!==Fe&&(n=n.concat(e(t,r)))}),n}/**
 * @param {?} segment
 * @return {?}
 */
function S(t){return t.segments.map(function(t){return T(t)}).join("/")}/**
 * @param {?} segment
 * @param {?} root
 * @return {?}
 */
function N(t,e){if(t.hasChildren()&&e){var/** @type {?} */n=t.children[Fe]?N(t.children[Fe],!1):"",/** @type {?} */r=[];return f(t.children,function(t,e){e!==Fe&&r.push(e+":"+N(t,!1))}),r.length>0?n+"("+r.join("//")+")":""+n}if(t.hasChildren()&&!e){var/** @type {?} */i=C(t,function(e,n){return n===Fe?[N(t.children[Fe],!1)]:[n+":"+N(e,!1)]});return S(t)+"/("+i.join("//")+")"}return S(t)}/**
 * @param {?} s
 * @return {?}
 */
function M(t){return encodeURIComponent(t)}/**
 * @param {?} s
 * @return {?}
 */
function O(t){return decodeURIComponent(t)}/**
 * @param {?} path
 * @return {?}
 */
function T(t){return""+M(t.path)+A(t.parameters)}/**
 * @param {?} params
 * @return {?}
 */
function A(t){return Object.keys(t).map(function(e){return";"+M(e)+"="+M(t[e])}).join("")}/**
 * @param {?} params
 * @return {?}
 */
function P(t){var/** @type {?} */e=Object.keys(t).map(function(e){var/** @type {?} */n=t[e];return Array.isArray(n)?n.map(function(t){return M(e)+"="+M(t)}).join("&"):M(e)+"="+M(n)});return e.length?"?"+e.join("&"):""}/**
 * @param {?} str
 * @return {?}
 */
function k(t){Ze.lastIndex=0;var/** @type {?} */e=t.match(Ze);return e?e[0]:""}/**
 * @param {?} str
 * @return {?}
 */
function I(t){Ke.lastIndex=0;var/** @type {?} */e=t.match(Ze);return e?e[0]:""}/**
 * @param {?} str
 * @return {?}
 */
function R(t){Qe.lastIndex=0;var/** @type {?} */e=t.match(Qe);return e?e[0]:""}/**
 * @param {?} segmentGroup
 * @return {?}
 */
function j(t){return new _e.Observable(function(e){return e.error(new en(t))})}/**
 * @param {?} newTree
 * @return {?}
 */
function D(t){return new _e.Observable(function(e){return e.error(new nn(t))})}/**
 * @param {?} redirectTo
 * @return {?}
 */
function L(t){return new _e.Observable(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}/**
 * @param {?} route
 * @return {?}
 */
function F(t){return new _e.Observable(function(e){return e.error(i("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}/**
 * @param {?} moduleInjector
 * @param {?} configLoader
 * @param {?} urlSerializer
 * @param {?} urlTree
 * @param {?} config
 * @return {?}
 */
function U(t,e,n,r,i){return new rn(t,e,n,r,i).apply()}/**
 * @param {?} moduleInjector
 * @param {?} route
 * @return {?}
 */
function V(t,e){var/** @type {?} */r=e.canLoad;return r&&0!==r.length?h(ge.map.call(n.i(he.from)(r),function(n){var/** @type {?} */r=t.get(n);return d(r.canLoad?r.canLoad(e):r(e))})):n.i(de.of)(!0)}/**
 * @param {?} segmentGroup
 * @param {?} route
 * @param {?} segments
 * @return {?}
 */
function B(t,e,n){var/** @type {?} */r={matched:!1,consumedSegments:/** @type {?} */[],lastChild:0,positionalParamSegments:{}};if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var/** @type {?} */i=e.matcher||s,/** @type {?} */o=i(n,t,e);return o?{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,positionalParamSegments:o.posParams}:r}/**
 * @param {?} segmentGroup
 * @param {?} consumedSegments
 * @param {?} slicedSegments
 * @param {?} config
 * @return {?}
 */
function z(t,e,n,r){if(n.length>0&&W(t,n,r)){var/** @type {?} */i=new Ge(e,G(r,new Ge(n,t.children)));return{segmentGroup:q(i),slicedSegments:[]}}if(0===n.length&&$(t,n,r)){var/** @type {?} */i=new Ge(t.segments,H(t,n,r,t.children));return{segmentGroup:q(i),slicedSegments:n}}return{segmentGroup:t,slicedSegments:n}}/**
 * @param {?} s
 * @return {?}
 */
function q(t){if(1===t.numberOfChildren&&t.children[Fe]){var/** @type {?} */e=t.children[Fe];return new Ge(t.segments.concat(e.segments),e.children)}return t}/**
 * @param {?} segmentGroup
 * @param {?} slicedSegments
 * @param {?} routes
 * @param {?} children
 * @return {?}
 */
function H(t,e,n,r){for(var/** @type {?} */i={},o=0,s=n;o<s.length;o++){var a=s[o];Y(t,e,a)&&!r[X(a)]&&(i[X(a)]=new Ge([],{}))}return tn({},r,i)}/**
 * @param {?} routes
 * @param {?} primarySegmentGroup
 * @return {?}
 */
function G(t,e){var/** @type {?} */n={};n[Fe]=e;for(var r=0,i=t;r<i.length;r++){var o=i[r];""===o.path&&X(o)!==Fe&&(n[X(o)]=new Ge([],{}))}return n}/**
 * @param {?} segmentGroup
 * @param {?} slicedSegments
 * @param {?} routes
 * @return {?}
 */
function W(t,e,n){return n.filter(function(n){return Y(t,e,n)&&X(n)!==Fe}).length>0}/**
 * @param {?} segmentGroup
 * @param {?} slicedSegments
 * @param {?} routes
 * @return {?}
 */
function $(t,e,n){return n.filter(function(n){return Y(t,e,n)}).length>0}/**
 * @param {?} segmentGroup
 * @param {?} slicedSegments
 * @param {?} r
 * @return {?}
 */
function Y(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0!==n.redirectTo)}/**
 * @param {?} route
 * @return {?}
 */
function X(t){return t.outlet?t.outlet:Fe}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} config
 * @param {?=} parentPath
 * @return {?}
 */
function Z(t,e){void 0===e&&(e="");
// forEach doesn't iterate undefined values
for(var/** @type {?} */n=0;n<t.length;n++){var/** @type {?} */r=t[n];K(r,Q(e,r))}}/**
 * @param {?} route
 * @param {?} fullPath
 * @return {?}
 */
function K(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&t.outlet&&t.outlet!==Fe)throw new Error("Invalid configuration of route '"+e+"': a componentless route cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch){throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.")}if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&Z(t.children,e)}/**
 * @param {?} parentPath
 * @param {?} currentRoute
 * @return {?}
 */
function Q(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}/**
 * @template T
 * @param {?} expected
 * @param {?} c
 * @return {?}
 */
function J(t,e){if(t===e.value)return e;for(var n=0,r=e.children;n<r.length;n++){var i=r[n],/** @type {?} */o=J(t,i);if(o)return o}return null}/**
 * @template T
 * @param {?} expected
 * @param {?} c
 * @param {?} collected
 * @return {?}
 */
function tt(t,e,n){if(n.push(e),t===e.value)return n;for(var r=0,i=e.children;r<i.length;r++){var o=i[r],/** @type {?} */s=n.slice(0),/** @type {?} */a=tt(t,o,s);if(a.length>0)return a}return[]}/**
 * @param {?} urlTree
 * @param {?} rootComponent
 * @return {?}
 */
function et(t,e){var/** @type {?} */n=nt(t,e),/** @type {?} */r=new fe.BehaviorSubject([new We("",{})]),/** @type {?} */i=new fe.BehaviorSubject({}),/** @type {?} */o=new fe.BehaviorSubject({}),/** @type {?} */s=new fe.BehaviorSubject({}),/** @type {?} */a=new fe.BehaviorSubject(""),/** @type {?} */u=new cn(r,i,s,a,o,Fe,e,n.root);return u.snapshot=n.root,new un(new sn(u,[]),n)}/**
 * @param {?} urlTree
 * @param {?} rootComponent
 * @return {?}
 */
function nt(t,e){var/** @type {?} */n={},/** @type {?} */r={},/** @type {?} */i={},/** @type {?} */o=new ln([],n,i,"",r,Fe,e,null,t.root,-1,{});return new fn("",new sn(o,[]))}/**
 * \@internal
 * @param {?} route
 * @return {?}
 */
function rt(t){for(var/** @type {?} */e=t.pathFromRoot,/** @type {?} */n=e.length-1;n>=1;){var/** @type {?} */r=e[n],/** @type {?} */i=e[n-1];
// current route is an empty path => inherits its parent's params and data
if(r.routeConfig&&""===r.routeConfig.path)n--;else{if(i.component)break;n--}}/** @type {?} */
return e.slice(n).reduce(function(t,e){return{params:an({},t.params,e.params),data:an({},t.data,e.data),resolve:an({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}/**
 * @template U, T
 * @param {?} state
 * @param {?} node
 * @return {?}
 */
function it(t,e){e.value._routerState=t,e.children.forEach(function(e){return it(t,e)})}/**
 * @param {?} node
 * @return {?}
 */
function ot(t){var/** @type {?} */e=t.children.length>0?" { "+t.children.map(ot).join(", ")+" } ":"";return""+t.value+e}/**
 * The expectation is that the activate route is created with the right set of parameters.
 * So we push new values into the observables only when they are not the initial values.
 * And we detect that by checking if the snapshot field is set.
 * @param {?} route
 * @return {?}
 */
function st(t){if(t.snapshot){var/** @type {?} */e=t.snapshot;t.snapshot=t._futureSnapshot,u(e.queryParams,t._futureSnapshot.queryParams)||t.queryParams.next(t._futureSnapshot.queryParams),e.fragment!==t._futureSnapshot.fragment&&t.fragment.next(t._futureSnapshot.fragment),u(e.params,t._futureSnapshot.params)||t.params.next(t._futureSnapshot.params),a(e.url,t._futureSnapshot.url)||t.url.next(t._futureSnapshot.url),u(e.data,t._futureSnapshot.data)||t.data.next(t._futureSnapshot.data)}else t.snapshot=t._futureSnapshot,
// this is for resolved data
t.data.next(t._futureSnapshot.data)}/**
 * @param {?} a
 * @param {?} b
 * @return {?}
 */
function at(t,e){var/** @type {?} */n=u(t.params,e.params)&&x(t.url,e.url),/** @type {?} */r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||at(t.parent,e.parent))}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} routeReuseStrategy
 * @param {?} curr
 * @param {?} prevState
 * @return {?}
 */
function ut(t,e,n){var/** @type {?} */r=ct(t,e._root,n?n._root:void 0);return new un(r,e)}/**
 * @param {?} routeReuseStrategy
 * @param {?} curr
 * @param {?=} prevState
 * @return {?}
 */
function ct(t,e,n){
// reuse an activated route that is currently displayed on the screen
if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var/** @type {?} */r=n.value;r._futureSnapshot=e.value;var/** @type {?} */i=ft(t,e,n);return new sn(r,i)}if(t.retrieve(e.value)){var/** @type {?} */o=t.retrieve(e.value).route;return lt(e,o),o}var/** @type {?} */r=pt(e.value),/** @type {?} */i=e.children.map(function(e){return ct(t,e)});return new sn(r,i)}/**
 * @param {?} curr
 * @param {?} result
 * @return {?}
 */
function lt(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var/** @type {?} */n=0;n<t.children.length;++n)lt(t.children[n],e.children[n])}/**
 * @param {?} routeReuseStrategy
 * @param {?} curr
 * @param {?} prevState
 * @return {?}
 */
function ft(t,e,n){return e.children.map(function(e){for(var r=0,i=n.children;r<i.length;r++){var o=i[r];if(t.shouldReuseRoute(o.value.snapshot,e.value))return ct(t,e,o)}return ct(t,e)})}/**
 * @param {?} c
 * @return {?}
 */
function pt(t){return new cn(new fe.BehaviorSubject(t.url),new fe.BehaviorSubject(t.params),new fe.BehaviorSubject(t.queryParams),new fe.BehaviorSubject(t.fragment),new fe.BehaviorSubject(t.data),t.outlet,t.component,t)}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} route
 * @param {?} urlTree
 * @param {?} commands
 * @param {?} queryParams
 * @param {?} fragment
 * @return {?}
 */
function ht(t,e,n,r,i){if(0===n.length)return mt(e.root,e.root,e,r,i);var/** @type {?} */o=yt(n);if(o.toRoot())return mt(e.root,new Ge([],{}),e,r,i);var/** @type {?} */s=gt(o,e,t),/** @type {?} */a=s.processChildren?Et(s.segmentGroup,s.index,o.commands):xt(s.segmentGroup,s.index,o.commands);return mt(s.segmentGroup,a,e,r,i)}/**
 * @param {?} command
 * @return {?}
 */
function dt(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}/**
 * @param {?} oldSegmentGroup
 * @param {?} newSegmentGroup
 * @param {?} urlTree
 * @param {?} queryParams
 * @param {?} fragment
 * @return {?}
 */
function mt(t,e,n,r,i){var/** @type {?} */o={};return r&&f(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),n.root===t?new He(e,o,i):new He(vt(n.root,t,e),o,i)}/**
 * @param {?} current
 * @param {?} oldSegment
 * @param {?} newSegment
 * @return {?}
 */
function vt(t,e,n){var/** @type {?} */r={};return f(t.children,function(t,i){r[i]=t===e?n:vt(t,e,n)}),new Ge(t.segments,r)}/**
 * Transforms commands to a normalized `Navigation`
 * @param {?} commands
 * @return {?}
 */
function yt(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new pn(!0,0,t);var/** @type {?} */e=0,/** @type {?} */n=!1,/** @type {?} */r=t.reduce(function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var/** @type {?} */o={};return f(r.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),t.concat([{outlets:o}])}if(r.segmentPath)return t.concat([r.segmentPath])}return"string"!=typeof r?t.concat([r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):t.concat([r])},[]);return new pn(n,e,r)}/**
 * @param {?} nav
 * @param {?} tree
 * @param {?} route
 * @return {?}
 */
function gt(t,e,n){if(t.isAbsolute)return new hn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new hn(n.snapshot._urlSegment,!0,0);var/** @type {?} */r=dt(t.commands[0])?0:1,/** @type {?} */i=n.snapshot._lastPathIndex+r;return bt(n.snapshot._urlSegment,i,t.numberOfDoubleDots)}/**
 * @param {?} group
 * @param {?} index
 * @param {?} numberOfDoubleDots
 * @return {?}
 */
function bt(t,e,n){for(var/** @type {?} */r=t,/** @type {?} */i=e,/** @type {?} */o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new hn(r,!1,i-o)}/**
 * @param {?} command
 * @return {?}
 */
function wt(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Fe]:""+t}/**
 * @param {?} commands
 * @return {?}
 */
function _t(t){return"object"!=typeof t[0]?(e={},e[Fe]=t,e):void 0===t[0].outlets?(n={},n[Fe]=t,n):t[0].outlets;var e,n}/**
 * @param {?} segmentGroup
 * @param {?} startIndex
 * @param {?} commands
 * @return {?}
 */
function xt(t,e,n){if(t||(t=new Ge([],{})),0===t.segments.length&&t.hasChildren())return Et(t,e,n);var/** @type {?} */r=Ct(t,e,n),/** @type {?} */i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var/** @type {?} */o=new Ge(t.segments.slice(0,r.pathIndex),{});return o.children[Fe]=new Ge(t.segments.slice(r.pathIndex),t.children),Et(o,0,i)}return r.match&&0===i.length?new Ge(t.segments,{}):r.match&&!t.hasChildren()?St(t,e,n):r.match?Et(t,0,i):St(t,e,n)}/**
 * @param {?} segmentGroup
 * @param {?} startIndex
 * @param {?} commands
 * @return {?}
 */
function Et(t,e,n){if(0===n.length)return new Ge(t.segments,{});var/** @type {?} */r=_t(n),/** @type {?} */i={};return f(r,function(n,r){null!==n&&(i[r]=xt(t.children[r],e,n))}),f(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new Ge(t.segments,i)}/**
 * @param {?} segmentGroup
 * @param {?} startIndex
 * @param {?} commands
 * @return {?}
 */
function Ct(t,e,n){for(var/** @type {?} */r=0,/** @type {?} */i=e,/** @type {?} */o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var/** @type {?} */s=t.segments[i],/** @type {?} */a=wt(n[r]),/** @type {?} */u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Ot(a,u,s))return o;r+=2}else{if(!Ot(a,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}/**
 * @param {?} segmentGroup
 * @param {?} startIndex
 * @param {?} commands
 * @return {?}
 */
function St(t,e,n){for(var/** @type {?} */r=t.segments.slice(0,e),/** @type {?} */i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var/** @type {?} */o=Nt(n[i].outlets);return new Ge(r,o)}
// if we start with an object literal, we need to reuse the path part from the segment
if(0===i&&dt(n[0])){var/** @type {?} */s=t.segments[e];r.push(new We(s.path,n[0])),i++}else{var/** @type {?} */a=wt(n[i]),/** @type {?} */u=i<n.length-1?n[i+1]:null;a&&u&&dt(u)?(r.push(new We(a,Mt(u))),i+=2):(r.push(new We(a,{})),i++)}}return new Ge(r,{})}/**
 * @param {?} outlets
 * @return {?}
 */
function Nt(t){var/** @type {?} */e={};return f(t,function(t,n){null!==t&&(e[n]=St(new Ge([],{}),0,t))}),e}/**
 * @param {?} params
 * @return {?}
 */
function Mt(t){var/** @type {?} */e={};return f(t,function(t,n){return e[n]=""+t}),e}/**
 * @param {?} path
 * @param {?} params
 * @param {?} segment
 * @return {?}
 */
function Ot(t,e,n){return t==n.path&&u(e,n.parameters)}/**
 * @param {?} rootComponentType
 * @param {?} config
 * @param {?} urlTree
 * @param {?} url
 * @return {?}
 */
function Tt(t,e,n,r){return new vn(t,e,n,r).recognize()}/**
 * @param {?} nodes
 * @return {?}
 */
function At(t){t.sort(function(t,e){return t.value.outlet===Fe?-1:e.value.outlet===Fe?1:t.value.outlet.localeCompare(e.value.outlet)})}/**
 * @param {?} route
 * @return {?}
 */
function Pt(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}/**
 * @param {?} segmentGroup
 * @param {?} route
 * @param {?} segments
 * @return {?}
 */
function kt(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new mn;return{consumedSegments:[],lastChild:0,parameters:{}}}var/** @type {?} */r=e.matcher||s,/** @type {?} */i=r(n,t,e);if(!i)throw new mn;var/** @type {?} */o={};f(i.posParams,function(t,e){o[e]=t.path});var/** @type {?} */a=dn({},o,i.consumed[i.consumed.length-1].parameters);return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a}}/**
 * @param {?} nodes
 * @return {?}
 */
function It(t){var/** @type {?} */e={};t.forEach(function(t){var/** @type {?} */n=e[t.value.outlet];if(n){var/** @type {?} */r=n.url.map(function(t){return t.toString()}).join("/"),/** @type {?} */i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}e[t.value.outlet]=t.value})}/**
 * @param {?} segmentGroup
 * @return {?}
 */
function Rt(t){for(var/** @type {?} */e=t;e._sourceSegment;)e=e._sourceSegment;return e}/**
 * @param {?} segmentGroup
 * @return {?}
 */
function jt(t){for(var/** @type {?} */e=t,/** @type {?} */n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}/**
 * @param {?} segmentGroup
 * @param {?} consumedSegments
 * @param {?} slicedSegments
 * @param {?} config
 * @return {?}
 */
function Dt(t,e,n,r){if(n.length>0&&Ut(t,n,r)){var/** @type {?} */i=new Ge(e,Ft(t,e,r,new Ge(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&Vt(t,n,r)){var/** @type {?} */o=new Ge(t.segments,Lt(t,n,r,t.children));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}var/** @type {?} */s=new Ge(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}/**
 * @param {?} segmentGroup
 * @param {?} slicedSegments
 * @param {?} routes
 * @param {?} children
 * @return {?}
 */
function Lt(t,e,n,r){for(var/** @type {?} */i={},o=0,s=n;o<s.length;o++){var a=s[o];if(Bt(t,e,a)&&!r[zt(a)]){var/** @type {?} */u=new Ge([],{});u._sourceSegment=t,u._segmentIndexShift=t.segments.length,i[zt(a)]=u}}return dn({},r,i)}/**
 * @param {?} segmentGroup
 * @param {?} consumedSegments
 * @param {?} routes
 * @param {?} primarySegment
 * @return {?}
 */
function Ft(t,e,n,r){var/** @type {?} */i={};i[Fe]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(var o=0,s=n;o<s.length;o++){var a=s[o];if(""===a.path&&zt(a)!==Fe){var/** @type {?} */u=new Ge([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[zt(a)]=u}}return i}/**
 * @param {?} segmentGroup
 * @param {?} slicedSegments
 * @param {?} routes
 * @return {?}
 */
function Ut(t,e,n){return n.some(function(n){return Bt(t,e,n)&&zt(n)!==Fe})}/**
 * @param {?} segmentGroup
 * @param {?} slicedSegments
 * @param {?} routes
 * @return {?}
 */
function Vt(t,e,n){return n.some(function(n){return Bt(t,e,n)})}/**
 * @param {?} segmentGroup
 * @param {?} slicedSegments
 * @param {?} r
 * @return {?}
 */
function Bt(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0===n.redirectTo)}/**
 * @param {?} route
 * @return {?}
 */
function zt(t){return t.outlet||Fe}/**
 * @param {?} route
 * @return {?}
 */
function qt(t){return t.data||{}}/**
 * @param {?} route
 * @return {?}
 */
function Ht(t){return t.resolve||{}}/**
 * @param {?} error
 * @return {?}
 */
function Gt(t){throw t}/**
 * \@internal
 * @param {?} snapshot
 * @return {?}
 */
function Wt(t){return n.i(de.of)(null)}/**
 * @param {?} node
 * @return {?}
 */
function $t(t){st(t.value),t.children.forEach($t)}/**
 * @param {?} snapshot
 * @return {?}
 */
function Yt(t){for(var/** @type {?} */e=t.parent;e;e=e.parent){var/** @type {?} */n=e._routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}/**
 * @param {?} snapshot
 * @return {?}
 */
function Xt(t){if(!t)return null;for(var/** @type {?} */e=t.parent;e;e=e.parent){var/** @type {?} */n=e._routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}/**
 * @template T
 * @param {?} node
 * @return {?}
 */
function Zt(t){var/** @type {?} */e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}/**
 * @param {?} outletMap
 * @param {?} route
 * @return {?}
 */
function Kt(t,e){var/** @type {?} */n=t._outlets[e.outlet];if(!n){var/** @type {?} */r=e.component.name;throw e.outlet===Fe?new Error("Cannot find primary outlet to load '"+r+"'"):new Error("Cannot find the outlet "+e.outlet+" to load '"+r+"'")}return n}/**
 * @param {?} commands
 * @return {?}
 */
function Qt(t){for(var/** @type {?} */e=0;e<t.length;e++){var/** @type {?} */n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}/**
 * @param {?} s
 * @return {?}
 */
function Jt(t){return""===t||!!t}/**
 * @return {?}
 */
function te(){return new le.NgProbeToken("Router",xn)}/**
 * @param {?} platformLocationStrategy
 * @param {?} baseHref
 * @param {?=} options
 * @return {?}
 */
function ee(t,e,n){return void 0===n&&(n={}),n.useHash?new ce.HashLocationStrategy(t,e):new ce.PathLocationStrategy(t,e)}/**
 * @param {?} router
 * @return {?}
 */
function ne(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}/**
 * \@whatItDoes Registers routes.
 *
 * \@howToUse
 *
 * ```
 * \@NgModule({
 *   imports: [RouterModule.forChild(ROUTES)],
 *   providers: [provideRoutes(EXTRA_ROUTES)]
 * })
 * class MyNgModule {}
 * ```
 *
 * \@stable
 * @param {?} routes
 * @return {?}
 */
function re(t){return[{provide:le.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:t},{provide:Be,multi:!0,useValue:t}]}/**
 * @param {?} ref
 * @param {?} urlSerializer
 * @param {?} outletMap
 * @param {?} location
 * @param {?} injector
 * @param {?} loader
 * @param {?} compiler
 * @param {?} config
 * @param {?=} opts
 * @param {?=} urlHandlingStrategy
 * @param {?=} routeReuseStrategy
 * @return {?}
 */
function ie(t,e,r,i,o,s,a,u,l,f,p){void 0===l&&(l={});var/** @type {?} */h=new xn(null,e,r,i,o,s,a,c(u));if(f&&(h.urlHandlingStrategy=f),p&&(h.routeReuseStrategy=p),l.errorHandler&&(h.errorHandler=l.errorHandler),l.enableTracing){var/** @type {?} */d=n.i(Oe["getDOM"])();h.events.subscribe(function(t){d.logGroup("Router Event: "+t.constructor.name),d.log(t.toString()),d.log(t),d.logGroupEnd()})}return h}/**
 * @param {?} router
 * @return {?}
 */
function oe(t){return t.routerState.root}/**
 * @param {?} r
 * @return {?}
 */
function se(t){return t.appInitializer.bind(t)}/**
 * @param {?} r
 * @return {?}
 */
function ae(t){return t.bootstrapListener.bind(t)}/**
 * @return {?}
 */
function ue(){return[zn,{provide:le.APP_INITIALIZER,multi:!0,useFactory:se,deps:[zn]},{provide:qn,useFactory:ae,deps:[zn]},{provide:le.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:qn}]}Object.defineProperty(e,"__esModule",{value:!0});/* harmony import */
var ce=n(109),le=n(23),fe=n(177),pe=(n.n(fe),n(17)),he=(n.n(pe),n(294)),de=(n.n(he),n(296)),me=(n.n(de),n(299)),ve=(n.n(me),n(301)),ye=(n.n(ve),n(303)),ge=(n.n(ye),n(102)),be=(n.n(ge),n(184)),we=(n.n(be),n(135)),_e=(n.n(we),n(0)),xe=(n.n(_e),n(297)),Ee=(n.n(xe),n(298)),Ce=(n.n(Ee),n(107)),Se=(n.n(Ce),n(180)),Ne=(n.n(Se),n(304)),Me=(n.n(Ne),n(103)),Oe=(n.n(Me),n(72)),Te=n(183);n.n(Te);/* harmony export (binding) */
n.d(e,"RouterLink",function(){return Mn}),/* harmony export (binding) */
n.d(e,"RouterLinkWithHref",function(){return On}),/* harmony export (binding) */
n.d(e,"RouterLinkActive",function(){return Tn}),/* harmony export (binding) */
n.d(e,"RouterOutlet",function(){return An}),/* harmony export (binding) */
n.d(e,"NavigationCancel",function(){return Ie}),/* harmony export (binding) */
n.d(e,"NavigationEnd",function(){return ke}),/* harmony export (binding) */
n.d(e,"NavigationError",function(){return Re}),/* harmony export (binding) */
n.d(e,"NavigationStart",function(){return Pe}),/* harmony export (binding) */
n.d(e,"RouteConfigLoadEnd",function(){return Le}),/* harmony export (binding) */
n.d(e,"RouteConfigLoadStart",function(){return De}),/* harmony export (binding) */
n.d(e,"RoutesRecognized",function(){return je}),/* harmony export (binding) */
n.d(e,"RouteReuseStrategy",function(){return kn}),/* harmony export (binding) */
n.d(e,"Router",function(){return xn}),/* harmony export (binding) */
n.d(e,"ROUTES",function(){return Be}),/* harmony export (binding) */
n.d(e,"ROUTER_CONFIGURATION",function(){return Fn}),/* harmony export (binding) */
n.d(e,"ROUTER_INITIALIZER",function(){return qn}),/* harmony export (binding) */
n.d(e,"RouterModule",function(){return Bn}),/* harmony export (binding) */
n.d(e,"provideRoutes",function(){return re}),/* harmony export (binding) */
n.d(e,"RouterOutletMap",function(){return yn}),/* harmony export (binding) */
n.d(e,"NoPreloading",function(){return jn}),/* harmony export (binding) */
n.d(e,"PreloadAllModules",function(){return Rn}),/* harmony export (binding) */
n.d(e,"PreloadingStrategy",function(){return In}),/* harmony export (binding) */
n.d(e,"RouterPreloader",function(){return Dn}),/* harmony export (binding) */
n.d(e,"ActivatedRoute",function(){return cn}),/* harmony export (binding) */
n.d(e,"ActivatedRouteSnapshot",function(){return ln}),/* harmony export (binding) */
n.d(e,"RouterState",function(){return un}),/* harmony export (binding) */
n.d(e,"RouterStateSnapshot",function(){return fn}),/* harmony export (binding) */
n.d(e,"PRIMARY_OUTLET",function(){return Fe}),/* harmony export (binding) */
n.d(e,"convertToParamMap",function(){return r}),/* harmony export (binding) */
n.d(e,"UrlHandlingStrategy",function(){return gn}),/* harmony export (binding) */
n.d(e,"DefaultUrlSerializer",function(){return Ye}),/* harmony export (binding) */
n.d(e,"UrlSegment",function(){return We}),/* harmony export (binding) */
n.d(e,"UrlSegmentGroup",function(){return Ge}),/* harmony export (binding) */
n.d(e,"UrlSerializer",function(){return $e}),/* harmony export (binding) */
n.d(e,"UrlTree",function(){return He}),/* harmony export (binding) */
n.d(e,"VERSION",function(){return Hn}),/* harmony export (binding) */
n.d(e,"ROUTER_PROVIDERS",function(){return Vn}),/* harmony export (binding) */
n.d(e,"flatten",function(){return c}),/* harmony export (binding) */
n.d(e,"a",function(){return Un}),/* harmony export (binding) */
n.d(e,"g",function(){return zn}),/* harmony export (binding) */
n.d(e,"h",function(){return se}),/* harmony export (binding) */
n.d(e,"i",function(){return ae}),/* harmony export (binding) */
n.d(e,"d",function(){return ne}),/* harmony export (binding) */
n.d(e,"c",function(){return ee}),/* harmony export (binding) */
n.d(e,"j",function(){return ue}),/* harmony export (binding) */
n.d(e,"f",function(){return oe}),/* harmony export (binding) */
n.d(e,"b",function(){return te}),/* harmony export (binding) */
n.d(e,"e",function(){return ie}),/* harmony export (binding) */
n.d(e,"k",function(){return on}),/* harmony export (binding) */
n.d(e,"l",function(){return sn});var Ae=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Pe=function(){/**
     * @param {?} id
     * @param {?} url
     */
function t(t,e){this.id=t,this.url=e}/**
     * \@docsNotRequired
     * @return {?}
     */
return t.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},t}(),ke=function(){/**
     * @param {?} id
     * @param {?} url
     * @param {?} urlAfterRedirects
     */
function t(t,e,n){this.id=t,this.url=e,this.urlAfterRedirects=n}/**
     * \@docsNotRequired
     * @return {?}
     */
return t.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},t}(),Ie=function(){/**
     * @param {?} id
     * @param {?} url
     * @param {?} reason
     */
function t(t,e,n){this.id=t,this.url=e,this.reason=n}/**
     * \@docsNotRequired
     * @return {?}
     */
return t.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},t}(),Re=function(){/**
     * @param {?} id
     * @param {?} url
     * @param {?} error
     */
function t(t,e,n){this.id=t,this.url=e,this.error=n}/**
     * \@docsNotRequired
     * @return {?}
     */
return t.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},t}(),je=function(){/**
     * @param {?} id
     * @param {?} url
     * @param {?} urlAfterRedirects
     * @param {?} state
     */
function t(t,e,n,r){this.id=t,this.url=e,this.urlAfterRedirects=n,this.state=r}/**
     * \@docsNotRequired
     * @return {?}
     */
return t.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),De=function(){/**
     * @param {?} route
     */
function t(t){this.route=t}/**
     * @return {?}
     */
return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),Le=function(){/**
     * @param {?} route
     */
function t(t){this.route=t}/**
     * @return {?}
     */
return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),Fe="primary",Ue=function(){/**
     * @param {?} params
     */
function t(t){this.params=t||{}}/**
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} name
     * @return {?}
     */
return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var/** @type {?} */e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var/** @type {?} */e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{/**
         * @return {?}
         */
get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}(),Ve="ngNavigationCancelingError",Be=new le.InjectionToken("ROUTES"),ze=function(){/**
     * @param {?} routes
     * @param {?} module
     */
function t(t,e){this.routes=t,this.module=e}return t}(),qe=function(){/**
     * @param {?} loader
     * @param {?} compiler
     * @param {?=} onLoadStartListener
     * @param {?=} onLoadEndListener
     */
function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}/**
     * @param {?} parentInjector
     * @param {?} route
     * @return {?}
     */
/**
     * @param {?} loadChildren
     * @return {?}
     */
return t.prototype.load=function(t,e){var n=this;this.onLoadStartListener&&this.onLoadStartListener(e);var/** @type {?} */r=this.loadModuleFactory(e.loadChildren);return ge.map.call(r,function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var/** @type {?} */i=r.create(t);return new ze(c(i.injector.get(Be)),i)})},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?n.i(Se.fromPromise)(this.loader.load(t)):be.mergeMap.call(d(t()),function(t){return t instanceof le.NgModuleFactory?n.i(de.of)(t):n.i(Se.fromPromise)(e.compiler.compileModuleAsync(t))})},t}(),He=function(){/**
     * \@internal
     * @param {?} root
     * @param {?} queryParams
     * @param {?} fragment
     */
function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}/**
     * \@docsNotRequired
     * @return {?}
     */
return Object.defineProperty(t.prototype,"queryParamMap",{/**
         * @return {?}
         */
get:function(){return this._queryParamMap||(this._queryParamMap=r(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Xe.serialize(this)},t}(),Ge=function(){/**
     * @param {?} segments
     * @param {?} children
     */
function t(t,e){var n=this;this.segments=t,this.children=e,/** The parent node in the url tree */
this.parent=null,f(e,function(t,e){return t.parent=n})}/**
     * Wether the segment has child segments
     * @return {?}
     */
/**
     * \@docsNotRequired
     * @return {?}
     */
return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{/**
         * Number of child segments
         * @return {?}
         */
get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return S(this)},t}(),We=function(){/**
     * @param {?} path
     * @param {?} parameters
     */
function t(t,e){this.path=t,this.parameters=e}/**
     * \@docsNotRequired
     * @return {?}
     */
return Object.defineProperty(t.prototype,"parameterMap",{/**
         * @return {?}
         */
get:function(){return this._parameterMap||(this._parameterMap=r(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return T(this)},t}(),$e=function(){function t(){}/**
     * Parse a url into a {\@link UrlTree}
     * @abstract
     * @param {?} url
     * @return {?}
     */
/**
     * Converts a {\@link UrlTree} into a url
     * @abstract
     * @param {?} tree
     * @return {?}
     */
return t.prototype.parse=function(t){},t.prototype.serialize=function(t){},t}(),Ye=function(){function t(){}/**
     * Parses a url into a {\@link UrlTree}
     * @param {?} url
     * @return {?}
     */
/**
     * Converts a {\@link UrlTree} into a url
     * @param {?} tree
     * @return {?}
     */
return t.prototype.parse=function(t){var/** @type {?} */e=new Je(t);return new He(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){return"/"+N(t.root,!0)+P(t.queryParams)+(null!==t.fragment&&void 0!==t.fragment?"#"+encodeURI(t.fragment):"")},t}(),Xe=new Ye,Ze=/^[^\/()?;=&#]+/,Ke=/^[^=?&#]+/,Qe=/^[^?&#]+/,Je=function(){/**
     * @param {?} url
     */
function t(t){this.url=t,this.remaining=t}/**
     * @param {?} str
     * @return {?}
     */
/**
     * @param {?} str
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} params
     * @return {?}
     */
/**
     * @param {?} params
     * @return {?}
     */
/**
     * @param {?} allowPrimary
     * @return {?}
     */
return t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.capture=function(t){if(!this.remaining.startsWith(t))throw new Error('Expected "'+t+'".');this.remaining=this.remaining.substring(t.length)},t.prototype.parseRootSegment=function(){return this.remaining.startsWith("/")&&this.capture("/"),""===this.remaining||this.remaining.startsWith("?")||this.remaining.startsWith("#")?new Ge([],{}):new Ge([],this.parseChildren())},t.prototype.parseChildren=function(){if(0==this.remaining.length)return{};this.peekStartsWith("/")&&this.capture("/");var/** @type {?} */t=[];for(this.peekStartsWith("(")||t.push(this.parseSegments());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegments());var/** @type {?} */e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var/** @type {?} */n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Fe]=new Ge(t,e)),n},t.prototype.parseSegments=function(){var/** @type {?} */t=k(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");this.capture(t);var/** @type {?} */e={};return this.peekStartsWith(";")&&(e=this.parseMatrixParams()),new We(O(t),e)},t.prototype.parseQueryParams=function(){var/** @type {?} */t={};if(this.peekStartsWith("?"))for(this.capture("?"),this.parseQueryParam(t);this.remaining.length>0&&this.peekStartsWith("&");)this.capture("&"),this.parseQueryParam(t);return t},t.prototype.parseFragment=function(){return this.peekStartsWith("#")?decodeURI(this.remaining.substring(1)):null},t.prototype.parseMatrixParams=function(){for(var/** @type {?} */t={};this.remaining.length>0&&this.peekStartsWith(";");)this.capture(";"),this.parseParam(t);return t},t.prototype.parseParam=function(t){var/** @type {?} */e=k(this.remaining);if(e){this.capture(e);var/** @type {?} */n="";if(this.peekStartsWith("=")){this.capture("=");var/** @type {?} */r=k(this.remaining);r&&(n=r,this.capture(n))}t[O(e)]=O(n)}},t.prototype.parseQueryParam=function(t){var/** @type {?} */e=I(this.remaining);if(e){this.capture(e);var/** @type {?} */n="";if(this.peekStartsWith("=")){this.capture("=");var/** @type {?} */r=R(this.remaining);r&&(n=r,this.capture(n))}var/** @type {?} */i=O(e),/** @type {?} */o=O(n);if(t.hasOwnProperty(i)){
// Append to existing values
var/** @type {?} */s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else
// Create a new value
t[i]=o}},t.prototype.parseParens=function(t){var/** @type {?} */e={};for(this.capture("(");!this.peekStartsWith(")")&&this.remaining.length>0;){var/** @type {?} */n=k(this.remaining),/** @type {?} */r=this.remaining[n.length];
// if is is not one of these characters, then the segment was unescaped
// or the group was not closed
if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var/** @type {?} */i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Fe);var/** @type {?} */o=this.parseChildren();e[i]=1===Object.keys(o).length?o[Fe]:new Ge([],o),this.peekStartsWith("//")&&this.capture("//")}return this.capture(")"),e},t}(),tn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},en=function(){/**
     * @param {?=} segmentGroup
     */
function t(t){void 0===t&&(t=null),this.segmentGroup=t}return t}(),nn=function(){/**
     * @param {?} urlTree
     */
function t(t){this.urlTree=t}return t}(),rn=function(){/**
     * @param {?} moduleInjector
     * @param {?} configLoader
     * @param {?} urlSerializer
     * @param {?} urlTree
     * @param {?} config
     */
function t(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(le.NgModuleRef)}/**
     * @return {?}
     */
/**
     * @param {?} tree
     * @return {?}
     */
/**
     * @param {?} e
     * @return {?}
     */
/**
     * @param {?} rootCandidate
     * @param {?} queryParams
     * @param {?} fragment
     * @return {?}
     */
/**
     * @param {?} ngModule
     * @param {?} routes
     * @param {?} segmentGroup
     * @param {?} outlet
     * @return {?}
     */
/**
     * @param {?} ngModule
     * @param {?} routes
     * @param {?} segmentGroup
     * @return {?}
     */
/**
     * @param {?} ngModule
     * @param {?} segmentGroup
     * @param {?} routes
     * @param {?} segments
     * @param {?} outlet
     * @param {?} allowRedirects
     * @return {?}
     */
/**
     * @param {?} segmentGroup
     * @param {?} segments
     * @param {?} outlet
     * @return {?}
     */
/**
     * @param {?} ngModule
     * @param {?} segmentGroup
     * @param {?} routes
     * @param {?} route
     * @param {?} paths
     * @param {?} outlet
     * @param {?} allowRedirects
     * @return {?}
     */
/**
     * @param {?} ngModule
     * @param {?} segmentGroup
     * @param {?} routes
     * @param {?} route
     * @param {?} segments
     * @param {?} outlet
     * @return {?}
     */
/**
     * @param {?} ngModule
     * @param {?} routes
     * @param {?} route
     * @param {?} outlet
     * @return {?}
     */
/**
     * @param {?} ngModule
     * @param {?} segmentGroup
     * @param {?} routes
     * @param {?} route
     * @param {?} segments
     * @param {?} outlet
     * @return {?}
     */
/**
     * @param {?} ngModule
     * @param {?} rawSegmentGroup
     * @param {?} route
     * @param {?} segments
     * @return {?}
     */
/**
     * @param {?} ngModule
     * @param {?} route
     * @return {?}
     */
/**
     * @param {?} route
     * @param {?} urlTree
     * @return {?}
     */
/**
     * @param {?} segments
     * @param {?} redirectTo
     * @param {?} posParams
     * @return {?}
     */
/**
     * @param {?} redirectTo
     * @param {?} urlTree
     * @param {?} segments
     * @param {?} posParams
     * @return {?}
     */
/**
     * @param {?} redirectToParams
     * @param {?} actualParams
     * @return {?}
     */
/**
     * @param {?} redirectTo
     * @param {?} group
     * @param {?} segments
     * @param {?} posParams
     * @return {?}
     */
/**
     * @param {?} redirectTo
     * @param {?} redirectToSegments
     * @param {?} actualSegments
     * @param {?} posParams
     * @return {?}
     */
/**
     * @param {?} redirectTo
     * @param {?} redirectToUrlSegment
     * @param {?} posParams
     * @return {?}
     */
/**
     * @param {?} redirectToUrlSegment
     * @param {?} actualSegments
     * @return {?}
     */
return t.prototype.apply=function(){var t=this,/** @type {?} */e=this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Fe),/** @type {?} */n=ge.map.call(e,function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)});return xe._catch.call(n,function(e){if(e instanceof nn)
// we need to run matching, so we can fetch all lazy-loaded modules
// after an absolute redirect we do not apply any more redirects!
return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof en)throw t.noMatchError(e);throw e})},t.prototype.match=function(t){var e=this,/** @type {?} */n=this.expandSegmentGroup(this.ngModule,this.config,t.root,Fe),/** @type {?} */r=ge.map.call(n,function(n){return e.createUrlTree(n,t.queryParams,t.fragment)});return xe._catch.call(r,function(t){if(t instanceof en)throw e.noMatchError(t);throw t})},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var/** @type {?} */r=t.segments.length>0?new Ge([],(i={},i[Fe]=t,i)):t;return new He(r,e,n);var i},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?ge.map.call(this.expandChildren(t,e,n),function(t){return new Ge([],t)}):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return p(n.children,function(n,i){return r.expandSegmentGroup(t,e,i,n)})},t.prototype.expandSegment=function(t,e,r,i,o,s){var a=this,/** @type {?} */u=de.of.apply(void 0,r),/** @type {?} */c=ge.map.call(u,function(u){var/** @type {?} */c=a.expandSegmentAgainstRoute(t,e,r,u,i,o,s);return xe._catch.call(c,function(t){if(t instanceof en)return n.i(de.of)(null);throw t})}),/** @type {?} */l=Ee.concatAll.call(c),/** @type {?} */f=ye.first.call(l,function(t){return!!t});return xe._catch.call(f,function(t,r){if(t instanceof Ce.EmptyError){if(a.noLeftoversInUrl(e,i,o))return n.i(de.of)(new Ge([],{}));throw new en(e)}throw t})},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,s){return X(r)!==o?j(e):void 0===r.redirectTo||s&&this.allowRedirects?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):j(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,/** @type {?} */o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?D(o):be.mergeMap.call(this.lineralizeSegments(n,o),function(n){var/** @type {?} */o=new Ge(n,{});return i.expandSegment(t,o,e,n,r,!1)})},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var s=this,a=B(e,r,i),u=a.matched,c=a.consumedSegments,l=a.lastChild,f=a.positionalParamSegments;if(!u)return j(e);var/** @type {?} */p=this.applyRedirectCommands(c,r.redirectTo,/** @type {?} */f);return r.redirectTo.startsWith("/")?D(p):be.mergeMap.call(this.lineralizeSegments(r,p),function(r){return s.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)})},t.prototype.matchSegmentAgainstRoute=function(t,e,r,i){var o=this;if("**"===r.path)return r.loadChildren?ge.map.call(this.configLoader.load(t.injector,r),function(t){return r._loadedConfig=t,new Ge(i,{})}):n.i(de.of)(new Ge(i,{}));var s=B(e,r,i),a=s.matched,u=s.consumedSegments,c=s.lastChild;if(!a)return j(e);var/** @type {?} */l=i.slice(c),/** @type {?} */f=this.getChildConfig(t,r);return be.mergeMap.call(f,function(t){var/** @type {?} */r=t.module,/** @type {?} */i=t.routes,s=z(e,u,l,i),a=s.segmentGroup,c=s.slicedSegments;if(0===c.length&&a.hasChildren()){var/** @type {?} */f=o.expandChildren(r,i,a);return ge.map.call(f,function(t){return new Ge(u,t)})}if(0===i.length&&0===c.length)return n.i(de.of)(new Ge(u,{}));var/** @type {?} */p=o.expandSegment(r,a,i,c,Fe,!0);return ge.map.call(p,function(t){return new Ge(u.concat(t.segments),t.children)})})},t.prototype.getChildConfig=function(t,e){var r=this;return e.children?n.i(de.of)(new ze(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?n.i(de.of)(e._loadedConfig):be.mergeMap.call(V(t.injector,e),function(n){return n?ge.map.call(r.configLoader.load(t.injector,e),function(t){return e._loadedConfig=t,t}):F(e)}):n.i(de.of)(new ze([],t))},t.prototype.lineralizeSegments=function(t,e){for(var/** @type {?} */r=[],/** @type {?} */i=e.root;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return n.i(de.of)(r);if(i.numberOfChildren>1||!i.children[Fe])return L(t.redirectTo);i=i.children[Fe]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var/** @type {?} */i=this.createSegmentGroup(t,e.root,n,r);return new He(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var/** @type {?} */n={};return f(t,function(t,r){n[r]=t.startsWith(":")?e[t.substring(1)]:t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,/** @type {?} */o=this.createSegments(t,e.segments,n,r),/** @type {?} */s={};return f(e.children,function(e,o){s[o]=i.createSegmentGroup(t,e,n,r)}),new Ge(o,s)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var/** @type {?} */r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){for(var/** @type {?} */n=0,r=0,i=e;r<i.length;r++){var o=i[r];if(o.path===t.path)return e.splice(n),o;n++}return t},t}(),on=function(){/**
     * @param {?} root
     */
function t(t){this._root=t}/**
     * \@internal
     * @param {?} t
     * @return {?}
     */
/**
     * \@internal
     * @param {?} t
     * @return {?}
     */
/**
     * \@internal
     * @param {?} t
     * @return {?}
     */
/**
     * \@internal
     * @param {?} t
     * @return {?}
     */
/**
     * \@internal
     * @param {?} t
     * @return {?}
     */
return Object.defineProperty(t.prototype,"root",{/**
         * @return {?}
         */
get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var/** @type {?} */e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var/** @type {?} */e=J(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var/** @type {?} */e=J(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var/** @type {?} */e=tt(t,this._root,[]);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return tt(t,this._root,[]).map(function(t){return t.value})},t}(),sn=function(){/**
     * @param {?} value
     * @param {?} children
     */
function t(t,e){this.value=t,this.children=e}/**
     * @return {?}
     */
return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}(),an=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},un=function(t){/**
     * \@internal
     * @param {?} root
     * @param {?} snapshot
     */
function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,it(r,e),r}/**
     * @return {?}
     */
return Ae(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(on),cn=function(){/**
     * \@internal
     * @param {?} url
     * @param {?} params
     * @param {?} queryParams
     * @param {?} fragment
     * @param {?} data
     * @param {?} outlet
     * @param {?} component
     * @param {?} futureSnapshot
     */
function t(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}/**
     * @return {?}
     */
return Object.defineProperty(t.prototype,"routeConfig",{/**
         * The configuration used to match this route
         * @return {?}
         */
get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{/**
         * The root of the router state
         * @return {?}
         */
get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{/**
         * The parent of this route in the router state tree
         * @return {?}
         */
get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{/**
         * The first child of this route in the router state tree
         * @return {?}
         */
get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{/**
         * The children of this route in the router state tree
         * @return {?}
         */
get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{/**
         * The path from the root of the router state tree to this route
         * @return {?}
         */
get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{/**
         * @return {?}
         */
get:function(){return this._paramMap||(this._paramMap=ge.map.call(this.params,function(t){return r(t)})),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{/**
         * @return {?}
         */
get:function(){return this._queryParamMap||(this._queryParamMap=ge.map.call(this.queryParams,function(t){return r(t)})),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}(),ln=function(){/**
     * \@internal
     * @param {?} url
     * @param {?} params
     * @param {?} queryParams
     * @param {?} fragment
     * @param {?} data
     * @param {?} outlet
     * @param {?} component
     * @param {?} routeConfig
     * @param {?} urlSegment
     * @param {?} lastPathIndex
     * @param {?} resolve
     */
function t(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}/**
     * @return {?}
     */
return Object.defineProperty(t.prototype,"routeConfig",{/**
         * The configuration used to match this route
         * @return {?}
         */
get:function(){return this._routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{/**
         * The root of the router state
         * @return {?}
         */
get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{/**
         * The parent of this route in the router state tree
         * @return {?}
         */
get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{/**
         * The first child of this route in the router state tree
         * @return {?}
         */
get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{/**
         * The children of this route in the router state tree
         * @return {?}
         */
get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{/**
         * The path from the root of the router state tree to this route
         * @return {?}
         */
get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{/**
         * @return {?}
         */
get:function(){return this._paramMap||(this._paramMap=r(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{/**
         * @return {?}
         */
get:function(){return this._queryParamMap||(this._queryParamMap=r(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this._routeConfig?this._routeConfig.path:"")+"')"},t}(),fn=function(t){/**
     * \@internal
     * @param {?} url
     * @param {?} root
     */
function e(e,n){var r=t.call(this,n)||this;return r.url=e,it(r,n),r}/**
     * @return {?}
     */
return Ae(e,t),e.prototype.toString=function(){return ot(this._root)},e}(on),pn=function(){/**
     * @param {?} isAbsolute
     * @param {?} numberOfDoubleDots
     * @param {?} commands
     */
function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&dt(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==l(n))throw new Error("{outlets:{}} has to be the last command")}/**
     * @return {?}
     */
return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),hn=function(){/**
     * @param {?} segmentGroup
     * @param {?} processChildren
     * @param {?} index
     */
function t(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}return t}(),dn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mn=function(){function t(){}return t}(),vn=function(){/**
     * @param {?} rootComponentType
     * @param {?} config
     * @param {?} urlTree
     * @param {?} url
     */
function t(t,e,n,r){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r}/**
     * @return {?}
     */
/**
     * @param {?} routeNode
     * @return {?}
     */
/**
     * @param {?} config
     * @param {?} segmentGroup
     * @param {?} outlet
     * @return {?}
     */
/**
     * @param {?} config
     * @param {?} segmentGroup
     * @return {?}
     */
/**
     * @param {?} config
     * @param {?} segmentGroup
     * @param {?} segments
     * @param {?} outlet
     * @return {?}
     */
/**
     * @param {?} segmentGroup
     * @param {?} segments
     * @param {?} outlet
     * @return {?}
     */
/**
     * @param {?} route
     * @param {?} rawSegment
     * @param {?} segments
     * @param {?} outlet
     * @return {?}
     */
return t.prototype.recognize=function(){try{var/** @type {?} */t=Dt(this.urlTree.root,[],[],this.config).segmentGroup,/** @type {?} */e=this.processSegmentGroup(this.config,t,Fe),/** @type {?} */r=new ln([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},Fe,this.rootComponentType,null,this.urlTree.root,-1,{}),/** @type {?} */i=new sn(r,e),/** @type {?} */o=new fn(this.url,i);return this.inheriteParamsAndData(o._root),n.i(de.of)(o)}catch(t){return new _e.Observable(function(e){return e.error(t)})}},t.prototype.inheriteParamsAndData=function(t){var e=this,/** @type {?} */n=t.value,/** @type {?} */r=rt(n);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheriteParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n=this,/** @type {?} */r=C(e,function(e,r){return n.processSegmentGroup(t,e,r)});return It(r),At(r),r},t.prototype.processSegment=function(t,e,n,r){for(var i=0,o=t;i<o.length;i++){var s=o[i];try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(t){if(!(t instanceof mn))throw t}}if(this.noLeftoversInUrl(e,n,r))return[];throw new mn},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new mn;if((t.outlet||Fe)!==r)throw new mn;if("**"===t.path){var/** @type {?} */i=n.length>0?l(n).parameters:{},/** @type {?} */o=new ln(n,i,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,qt(t),r,t.component,t,Rt(e),jt(e)+n.length,Ht(t));return[new sn(o,[])]}var s=kt(e,t,n),a=s.consumedSegments,u=s.parameters,c=s.lastChild,/** @type {?} */f=n.slice(c),/** @type {?} */p=Pt(t),h=Dt(e,a,f,p),d=h.segmentGroup,m=h.slicedSegments,/** @type {?} */v=new ln(a,u,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,qt(t),r,t.component,t,Rt(e),jt(e)+a.length,Ht(t));if(0===m.length&&d.hasChildren()){var/** @type {?} */y=this.processChildren(p,d);return[new sn(v,y)]}if(0===p.length&&0===m.length)return[new sn(v,[])];var/** @type {?} */g=this.processSegment(p,d,m,Fe);return[new sn(v,g)]},t}(),yn=function(){function t(){/**
         * \@internal
         */
this._outlets={}}/**
     * Adds an outlet to this map.
     * @param {?} name
     * @param {?} outlet
     * @return {?}
     */
/**
     * Removes an outlet from this map.
     * @param {?} name
     * @return {?}
     */
return t.prototype.registerOutlet=function(t,e){this._outlets[t]=e},t.prototype.removeOutlet=function(t){this._outlets[t]=void 0},t}(),gn=function(){function t(){}/**
     * Tells the router if this URL should be processed.
     *
     * When it returns true, the router will execute the regular navigation.
     * When it returns false, the router will set the router state to an empty state.
     * As a result, all the active components will be destroyed.
     *
     * @abstract
     * @param {?} url
     * @return {?}
     */
/**
     * Extracts the part of the URL that should be handled by the router.
     * The rest of the URL will remain untouched.
     * @abstract
     * @param {?} url
     * @return {?}
     */
/**
     * Merges the URL fragment with the rest of the URL.
     * @abstract
     * @param {?} newUrlPart
     * @param {?} rawUrl
     * @return {?}
     */
return t.prototype.shouldProcessUrl=function(t){},t.prototype.extract=function(t){},t.prototype.merge=function(t,e){},t}(),bn=function(){function t(){}/**
     * @param {?} url
     * @return {?}
     */
/**
     * @param {?} url
     * @return {?}
     */
/**
     * @param {?} newUrlPart
     * @param {?} wholeUrl
     * @return {?}
     */
return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}(),wn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},_n=function(){function t(){}/**
     * @param {?} route
     * @return {?}
     */
/**
     * @param {?} route
     * @param {?} detachedTree
     * @return {?}
     */
/**
     * @param {?} route
     * @return {?}
     */
/**
     * @param {?} route
     * @return {?}
     */
/**
     * @param {?} future
     * @param {?} curr
     * @return {?}
     */
return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),xn=function(){/**
     * @param {?} rootComponentType
     * @param {?} urlSerializer
     * @param {?} outletMap
     * @param {?} location
     * @param {?} injector
     * @param {?} loader
     * @param {?} compiler
     * @param {?} config
     */
function t(t,e,n,r,i,o,s,a){var u=this;this.rootComponentType=t,this.urlSerializer=e,this.outletMap=n,this.location=r,this.config=a,this.navigations=new fe.BehaviorSubject(null),this.routerEvents=new pe.Subject,this.navigationId=0,/**
         * Error handler that is invoked when a navigation errors.
         *
         * See {@link ErrorHandler} for more information.
         */
this.errorHandler=Gt,/**
         * Indicates if at least one navigation happened.
         */
this.navigated=!1,/**
         * Used by RouterModule. This allows us to
         * pause the navigation either before preactivation or after it.
         * \@internal
         */
this.hooks={beforePreactivation:Wt,afterPreactivation:Wt},/**
         * Extracts and merges URLs. Used for AngularJS to Angular migrations.
         */
this.urlHandlingStrategy=new bn,this.routeReuseStrategy=new _n;var c=function(t){return u.triggerEvent(new De(t))},l=function(t){return u.triggerEvent(new Le(t))};this.ngModule=i.get(le.NgModuleRef),this.resetConfig(a),this.currentUrlTree=m(),this.rawUrlTree=this.currentUrlTree,this.configLoader=new qe(o,s,c,l),this.currentRouterState=et(this.currentUrlTree,this.rootComponentType),this.processNavigations()}/**
     * \@internal
     * TODO: this should be removed once the constructor of the router made internal
     * @param {?} rootComponentType
     * @return {?}
     */
/**
     * Sets up the location change listener and performs the initial navigation.
     * @return {?}
     */
/**
     * Sets up the location change listener.
     * @return {?}
     */
/**
     * \@internal
     * @param {?} e
     * @return {?}
     */
/**
     * Resets the configuration used for navigation and generating links.
     *
     * ### Usage
     *
     * ```
     * router.resetConfig([
     *  { path: 'team/:id', component: TeamCmp, children: [
     *    { path: 'simple', component: SimpleCmp },
     *    { path: 'user/:name', component: UserCmp }
     *  ]}
     * ]);
     * ```
     * @param {?} config
     * @return {?}
     */
/**
     * \@docsNotRequired
     * @return {?}
     */
/**
     * Disposes of the router
     * @return {?}
     */
/**
     * Applies an array of commands to the current url tree and creates a new url tree.
     *
     * When given an activate route, applies the given commands starting from the route.
     * When not given a route, applies the given command starting from the root.
     *
     * ### Usage
     *
     * ```
     * // create /team/33/user/11
     * router.createUrlTree(['/team', 33, 'user', 11]);
     *
     * // create /team/33;expand=true/user/11
     * router.createUrlTree(['/team', 33, {expand: true}, 'user', 11]);
     *
     * // you can collapse static segments like this (this works only with the first passed-in value):
     * router.createUrlTree(['/team/33/user', userId]);
     *
     * // If the first segment can contain slashes, and you do not want the router to split it, you
     * // can do the following:
     *
     * router.createUrlTree([{segmentPath: '/one/two'}]);
     *
     * // create /team/33/(user/11//right:chat)
     * router.createUrlTree(['/team', 33, {outlets: {primary: 'user/11', right: 'chat'}}]);
     *
     * // remove the right secondary node
     * router.createUrlTree(['/team', 33, {outlets: {primary: 'user/11', right: null}}]);
     *
     * // assuming the current url is `/team/33/user/11` and the route points to `user/11`
     *
     * // navigate to /team/33/user/11/details
     * router.createUrlTree(['details'], {relativeTo: route});
     *
     * // navigate to /team/33/user/22
     * router.createUrlTree(['../22'], {relativeTo: route});
     *
     * // navigate to /team/44/user/22
     * router.createUrlTree(['../../team/44/user/22'], {relativeTo: route});
     * ```
     * @param {?} commands
     * @param {?=} __1
     * @return {?}
     */
/**
     * Navigate based on the provided url. This navigation is always absolute.
     *
     * Returns a promise that:
     * - resolves to 'true' when navigation succeeds,
     * - resolves to 'false' when navigation fails,
     * - is rejected when an error happens.
     *
     * ### Usage
     *
     * ```
     * router.navigateByUrl("/team/33/user/11");
     *
     * // Navigate without updating the URL
     * router.navigateByUrl("/team/33/user/11", { skipLocationChange: true });
     * ```
     *
     * In opposite to `navigate`, `navigateByUrl` takes a whole URL
     * and does not apply any delta to the current one.
     * @param {?} url
     * @param {?=} extras
     * @return {?}
     */
/**
     * Navigate based on the provided array of commands and a starting point.
     * If no starting route is provided, the navigation is absolute.
     *
     * Returns a promise that:
     * - resolves to 'true' when navigation succeeds,
     * - resolves to 'false' when navigation fails,
     * - is rejected when an error happens.
     *
     * ### Usage
     *
     * ```
     * router.navigate(['team', 33, 'user', 11], {relativeTo: route});
     *
     * // Navigate without updating the URL
     * router.navigate(['team', 33, 'user', 11], {relativeTo: route, skipLocationChange: true});
     * ```
     *
     * In opposite to `navigateByUrl`, `navigate` always takes a delta that is applied to the current
     * URL.
     * @param {?} commands
     * @param {?=} extras
     * @return {?}
     */
/**
     * Serializes a {\@link UrlTree} into a string
     * @param {?} url
     * @return {?}
     */
/**
     * Parses a string into a {\@link UrlTree}
     * @param {?} url
     * @return {?}
     */
/**
     * Returns whether the url is activated
     * @param {?} url
     * @param {?} exact
     * @return {?}
     */
/**
     * @param {?} params
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} rawUrl
     * @param {?} source
     * @param {?} extras
     * @return {?}
     */
/**
     * @param {?} __0
     * @return {?}
     */
/**
     * @param {?} url
     * @param {?} rawUrl
     * @param {?} shouldPreventPushState
     * @param {?} shouldReplaceUrl
     * @param {?} id
     * @param {?} precreatedState
     * @return {?}
     */
/**
     * @return {?}
     */
return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,
// TODO: vsavkin router 4.0 should make the root component set to null
// this will simplify the lifecycle of the router.
this.currentRouterState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;
// Zone.current.wrap is needed because of the issue with RxJS scheduler,
// which does not work properly with zone.js in IE and Safari
this.locationSubscription||(this.locationSubscription=this.location.subscribe(Zone.current.wrap(function(e){var/** @type {?} */n=t.urlSerializer.parse(e.url),/** @type {?} */r="popstate"===e.type?"popstate":"hashchange";setTimeout(function(){t.scheduleNavigation(n,r,{replaceUrl:!0})},0)})))},Object.defineProperty(t.prototype,"routerState",{/**
         * The current route state
         * @return {?}
         */
get:function(){return this.currentRouterState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{/**
         * The current url
         * @return {?}
         */
get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"events",{/**
         * An observable of router events
         * @return {?}
         */
get:function(){return this.routerEvents},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.routerEvents.next(t)},t.prototype.resetConfig=function(t){Z(t),this.config=t},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){var r=void 0===e?{}:e,i=r.relativeTo,o=r.queryParams,s=r.fragment,a=r.preserveQueryParams,u=r.queryParamsHandling,c=r.preserveFragment;n.i(le.isDevMode)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var/** @type {?} */l=i||this.routerState.root,/** @type {?} */f=c?this.currentUrlTree.fragment:s,/** @type {?} */p=null;if(u)switch(u){case"merge":p=wn({},this.currentUrlTree.queryParams,o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o}else p=a?this.currentUrlTree.queryParams:o;return ht(l,this.currentUrlTree,t,p,f)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1});var/** @type {?} */n=t instanceof He?t:this.parseUrl(t),/** @type {?} */r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),Qt(t),"object"==typeof e.queryParams&&null!==e.queryParams&&(e.queryParams=this.removeEmptyProps(e.queryParams)),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){return this.urlSerializer.parse(t)},t.prototype.isActive=function(t,e){if(t instanceof He)return v(this.currentUrlTree,t,e);var/** @type {?} */n=this.urlSerializer.parse(t);return v(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var/** @type {?} */r=t[n];return null!==r&&void 0!==r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;me.concatMap.call(this.navigations,function(e){return e?(t.executeScheduledNavigation(e),e.promise.catch(function(){})):n.i(de.of)(null)}).subscribe(function(){})},t.prototype.scheduleNavigation=function(t,e,n){var/** @type {?} */r=this.navigations.value;
// If the user triggers a navigation imperatively (e.g., by using navigateByUrl),
// and that navigation results in 'replaceState' that leads to the same URL,
// we should skip those.
if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return null;
// Because of a bug in IE and Edge, the location class fires two events (popstate and
// hashchange) every single time. The second one should be ignored. Otherwise, the URL will
// flicker.
if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return null;var/** @type {?} */i=null,/** @type {?} */o=null,/** @type {?} */s=new Promise(function(t,e){i=t,o=e}),/** @type {?} */a=++this.navigationId;
// Make sure that the error is propagated even though `processNavigations` catch
// handler does not rethrow
return this.navigations.next({id:a,source:e,rawUrl:t,extras:n,resolve:i,reject:o,promise:s}),s.catch(function(t){return Promise.reject(t)})},t.prototype.executeScheduledNavigation=function(t){var e=this,n=t.id,r=t.rawUrl,i=t.extras,o=t.resolve,s=t.reject,/** @type {?} */a=this.urlHandlingStrategy.extract(r),/** @type {?} */u=!this.navigated||a.toString()!==this.currentUrlTree.toString();u&&this.urlHandlingStrategy.shouldProcessUrl(r)?(this.routerEvents.next(new Pe(n,this.serializeUrl(a))),Promise.resolve().then(function(t){return e.runNavigate(a,r,i.skipLocationChange,i.replaceUrl,n,null)}).then(o,s)):u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.routerEvents.next(new Pe(n,this.serializeUrl(a))),Promise.resolve().then(function(t){return e.runNavigate(a,r,!1,!1,n,et(a,e.rootComponentType).snapshot)}).then(o,s)):(this.rawUrlTree=r,o(null))},t.prototype.runNavigate=function(t,e,r,i,s,a){var u=this;return s!==this.navigationId?(this.location.go(this.urlSerializer.serialize(this.currentUrlTree)),this.routerEvents.next(new Ie(s,this.serializeUrl(t),"Navigation ID "+s+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(c,l){
// create an observable of the url and route state snapshot
// this operation do not result in any side effects
var/** @type {?} */f;if(a)f=n.i(de.of)({appliedUrl:t,snapshot:a});else{var/** @type {?} */p=u.ngModule.injector,/** @type {?} */h=U(p,u.configLoader,u.urlSerializer,t,u.config);f=be.mergeMap.call(h,function(e){return ge.map.call(Tt(u.rootComponentType,u.config,e,u.serializeUrl(e)),function(n){return u.routerEvents.next(new je(s,u.serializeUrl(t),u.serializeUrl(e),n)),{appliedUrl:e,snapshot:n}})})}var/** @type {?} */d,/** @type {?} */m,/** @type {?} */v=be.mergeMap.call(f,function(t){return ge.map.call(u.hooks.beforePreactivation(t.snapshot),function(){return t})}),/** @type {?} */y=ge.map.call(v,function(t){var e=t.appliedUrl,n=t.snapshot,/** @type {?} */r=u.ngModule.injector;return d=new Sn(n,u.currentRouterState.snapshot,r),d.traverse(u.outletMap),{appliedUrl:e,snapshot:n}}),/** @type {?} */g=be.mergeMap.call(y,function(t){var e=t.appliedUrl,r=t.snapshot;return u.navigationId!==s?n.i(de.of)(!1):ge.map.call(d.checkGuards(),function(t){return{appliedUrl:e,snapshot:r,shouldActivate:t}})}),/** @type {?} */b=be.mergeMap.call(g,function(t){return u.navigationId!==s?n.i(de.of)(!1):t.shouldActivate?ge.map.call(d.resolveData(),function(){return t}):n.i(de.of)(t)}),/** @type {?} */w=be.mergeMap.call(b,function(t){return ge.map.call(u.hooks.afterPreactivation(t.snapshot),function(){return t})}),/** @type {?} */_=ge.map.call(w,function(t){var e=t.appliedUrl,n=t.snapshot,r=t.shouldActivate;if(r){return{appliedUrl:e,state:ut(u.routeReuseStrategy,n,u.currentRouterState),shouldActivate:r}}return{appliedUrl:e,state:null,shouldActivate:r}}),/** @type {?} */x=u.currentRouterState,/** @type {?} */E=u.currentUrlTree;_.forEach(function(t){var n=t.appliedUrl,o=t.state;if(!t.shouldActivate||s!==u.navigationId)return void(m=!1);if(u.currentUrlTree=n,u.rawUrlTree=u.urlHandlingStrategy.merge(u.currentUrlTree,e),u.currentRouterState=o,!r){var/** @type {?} */a=u.urlSerializer.serialize(u.rawUrlTree);u.location.isCurrentPathEqualTo(a)||i?u.location.replaceState(a):u.location.go(a)}new Nn(u.routeReuseStrategy,o,x).activate(u.outletMap),m=!0}).then(function(){m?(u.navigated=!0,u.routerEvents.next(new ke(s,u.serializeUrl(t),u.serializeUrl(u.currentUrlTree))),c(!0)):(u.resetUrlToCurrentUrlTree(),u.routerEvents.next(new Ie(s,u.serializeUrl(t),"")),c(!1))},function(n){if(o(n))u.resetUrlToCurrentUrlTree(),u.navigated=!0,u.routerEvents.next(new Ie(s,u.serializeUrl(t),n.message)),c(!1);else{u.routerEvents.next(new Re(s,u.serializeUrl(t),n));try{c(u.errorHandler(n))}catch(t){l(t)}}u.currentRouterState=x,u.currentUrlTree=E,u.rawUrlTree=u.urlHandlingStrategy.merge(u.currentUrlTree,e),u.location.replaceState(u.serializeUrl(u.rawUrlTree))})})},t.prototype.resetUrlToCurrentUrlTree=function(){var/** @type {?} */t=this.urlSerializer.serialize(this.rawUrlTree);this.location.replaceState(t)},t}(),En=function(){/**
     * @param {?} path
     */
function t(t){this.path=t}return Object.defineProperty(t.prototype,"route",{/**
         * @return {?}
         */
get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),t}(),Cn=function(){/**
     * @param {?} component
     * @param {?} route
     */
function t(t,e){this.component=t,this.route=e}return t}(),Sn=function(){/**
     * @param {?} future
     * @param {?} curr
     * @param {?} moduleInjector
     */
function t(t,e,n){this.future=t,this.curr=e,this.moduleInjector=n,this.canActivateChecks=[],this.canDeactivateChecks=[]}/**
     * @param {?} parentOutletMap
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} futureNode
     * @param {?} currNode
     * @param {?} outletMap
     * @param {?} futurePath
     * @return {?}
     */
/**
     * @param {?} futureNode
     * @param {?} currNode
     * @param {?} parentOutletMap
     * @param {?} futurePath
     * @return {?}
     */
/**
     * @param {?} curr
     * @param {?} future
     * @param {?} mode
     * @return {?}
     */
/**
     * @param {?} route
     * @param {?} outlet
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} future
     * @return {?}
     */
/**
     * @param {?} path
     * @return {?}
     */
/**
     * @param {?} p
     * @return {?}
     */
/**
     * @param {?} component
     * @param {?} curr
     * @return {?}
     */
/**
     * @param {?} future
     * @return {?}
     */
/**
     * @param {?} resolve
     * @param {?} future
     * @return {?}
     */
/**
     * @param {?} token
     * @param {?} snapshot
     * @return {?}
     */
return t.prototype.traverse=function(t){var/** @type {?} */e=this.future._root,/** @type {?} */n=this.curr?this.curr._root:null;this.traverseChildRoutes(e,n,t,[e.value])},t.prototype.checkGuards=function(){var t=this;if(0===this.canDeactivateChecks.length&&0===this.canActivateChecks.length)return n.i(de.of)(!0);var/** @type {?} */e=this.runCanDeactivateChecks();return be.mergeMap.call(e,function(e){return e?t.runCanActivateChecks():n.i(de.of)(!1)})},t.prototype.resolveData=function(){var t=this;if(0===this.canActivateChecks.length)return n.i(de.of)(null);var/** @type {?} */e=n.i(he.from)(this.canActivateChecks),/** @type {?} */r=me.concatMap.call(e,function(e){return t.runResolve(e.route)});return we.reduce.call(r,function(t,e){return t})},t.prototype.traverseChildRoutes=function(t,e,n,r){var i=this,/** @type {?} */o=Zt(e);t.children.forEach(function(t){i.traverseRoutes(t,o[t.value.outlet],n,r.concat([t.value])),delete o[t.value.outlet]}),f(o,function(t,e){return i.deactiveRouteAndItsChildren(t,n._outlets[e])})},t.prototype.traverseRoutes=function(t,e,n,r){var/** @type {?} */i=t.value,/** @type {?} */o=e?e.value:null,/** @type {?} */s=n?n._outlets[t.value.outlet]:null;
// reusing the node
o&&i._routeConfig===o._routeConfig?(this.shouldRunGuardsAndResolvers(o,i,i._routeConfig.runGuardsAndResolvers)?(this.canActivateChecks.push(new En(r)),this.canDeactivateChecks.push(new Cn(s.component,o))):(
// we need to set the data
i.data=o.data,i._resolvedData=o._resolvedData),
// If we have a component, we need to go through an outlet.
i.component?this.traverseChildRoutes(t,e,s?s.outletMap:null,r):this.traverseChildRoutes(t,e,n,r)):(o&&this.deactiveRouteAndItsChildren(e,s),this.canActivateChecks.push(new En(r)),
// If we have a component, we need to go through an outlet.
i.component?this.traverseChildRoutes(t,null,s?s.outletMap:null,r):this.traverseChildRoutes(t,null,n,r))},t.prototype.shouldRunGuardsAndResolvers=function(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!at(t,e)||!u(t.queryParams,e.queryParams);case"paramsChange":default:return!at(t,e)}},t.prototype.deactiveRouteAndItsChildren=function(t,e){var n=this,/** @type {?} */r=Zt(t),/** @type {?} */i=t.value;f(r,function(t,r){i.component?e?n.deactiveRouteAndItsChildren(t,e.outletMap._outlets[r]):n.deactiveRouteAndItsChildren(t,null):n.deactiveRouteAndItsChildren(t,e)}),i.component&&e&&e.isActivated?this.canDeactivateChecks.push(new Cn(e.component,i)):this.canDeactivateChecks.push(new Cn(null,i))},t.prototype.runCanDeactivateChecks=function(){var t=this,/** @type {?} */e=n.i(he.from)(this.canDeactivateChecks),/** @type {?} */r=be.mergeMap.call(e,function(e){return t.runCanDeactivate(e.component,e.route)});return ve.every.call(r,function(t){return!0===t})},t.prototype.runCanActivateChecks=function(){var t=this,/** @type {?} */e=n.i(he.from)(this.canActivateChecks),/** @type {?} */r=be.mergeMap.call(e,function(e){return h(n.i(he.from)([t.runCanActivateChild(e.path),t.runCanActivate(e.route)]))});return ve.every.call(r,function(t){return!0===t})},t.prototype.runCanActivate=function(t){var e=this,/** @type {?} */r=t._routeConfig?t._routeConfig.canActivate:null;return r&&0!==r.length?h(ge.map.call(n.i(he.from)(r),function(n){var/** @type {?} */r,/** @type {?} */i=e.getToken(n,t);return r=d(i.canActivate?i.canActivate(t,e.future):i(t,e.future)),ye.first.call(r)})):n.i(de.of)(!0)},t.prototype.runCanActivateChild=function(t){var e=this,/** @type {?} */r=t[t.length-1],/** @type {?} */i=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return h(ge.map.call(n.i(he.from)(i),function(t){return h(ge.map.call(n.i(he.from)(t.guards),function(n){var/** @type {?} */i,/** @type {?} */o=e.getToken(n,t.node);return i=d(o.canActivateChild?o.canActivateChild(r,e.future):o(r,e.future)),ye.first.call(i)}))}))},t.prototype.extractCanActivateChild=function(t){var/** @type {?} */e=t._routeConfig?t._routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var r=this,/** @type {?} */i=e&&e._routeConfig?e._routeConfig.canDeactivate:null;if(!i||0===i.length)return n.i(de.of)(!0);var/** @type {?} */o=be.mergeMap.call(n.i(he.from)(i),function(n){var/** @type {?} */i,/** @type {?} */o=r.getToken(n,e);return i=d(o.canDeactivate?o.canDeactivate(t,e,r.curr,r.future):o(t,e,r.curr,r.future)),ye.first.call(i)});return ve.every.call(o,function(t){return!0===t})},t.prototype.runResolve=function(t){var/** @type {?} */e=t._resolve;return ge.map.call(this.resolveNode(e,t),function(e){return t._resolvedData=e,t.data=wn({},t.data,rt(t).resolve),null})},t.prototype.resolveNode=function(t,e){var n=this;return p(t,function(t,r){var/** @type {?} */i=n.getToken(r,e);return d(i.resolve?i.resolve(e,n.future):i(e,n.future))})},t.prototype.getToken=function(t,e){var/** @type {?} */n=Xt(e);return(n?n.module.injector:this.moduleInjector).get(t)},t}(),Nn=function(){/**
     * @param {?} routeReuseStrategy
     * @param {?} futureState
     * @param {?} currState
     */
function t(t,e,n){this.routeReuseStrategy=t,this.futureState=e,this.currState=n}/**
     * @param {?} parentOutletMap
     * @return {?}
     */
/**
     * @param {?} futureNode
     * @param {?} currNode
     * @param {?} outletMap
     * @return {?}
     */
/**
     * @param {?} futureNode
     * @param {?} currNode
     * @param {?} outletMap
     * @return {?}
     */
/**
     * @param {?} futureNode
     * @param {?} currNode
     * @param {?} parentOutletMap
     * @return {?}
     */
/**
     * @param {?} futureNode
     * @param {?} currNode
     * @param {?} parentOutletMap
     * @return {?}
     */
/**
     * @param {?} outletMap
     * @param {?} future
     * @param {?} outlet
     * @return {?}
     */
/**
     * @param {?} route
     * @param {?} parentOutletMap
     * @return {?}
     */
/**
     * @param {?} route
     * @param {?} parentOutletMap
     * @return {?}
     */
/**
     * @param {?} route
     * @param {?} parentOutletMap
     * @return {?}
     */
return t.prototype.activate=function(t){var/** @type {?} */e=this.futureState._root,/** @type {?} */n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),st(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,/** @type {?} */i=Zt(e);t.children.forEach(function(t){r.deactivateRoutes(t,i[t.value.outlet],n),delete i[t.value.outlet]}),f(i,function(t,e){return r.deactiveRouteAndItsChildren(t,n)})},t.prototype.activateChildRoutes=function(t,e,n){var r=this,/** @type {?} */i=Zt(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n)})},t.prototype.deactivateRoutes=function(t,e,n){var/** @type {?} */r=t.value,/** @type {?} */i=e?e.value:null;
// reusing the node
if(r===i)
// If we have a normal route, we need to go through an outlet.
if(r.component){var/** @type {?} */o=Kt(n,r);this.deactivateChildRoutes(t,e,o.outletMap)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactiveRouteAndItsChildren(e,n)},t.prototype.activateRoutes=function(t,e,n){var/** @type {?} */r=t.value;
// reusing the node
if(r===(e?e.value:null))
// If we have a normal route, we need to go through an outlet.
if(
// advance the route to push the parameters
st(r),r.component){var/** @type {?} */i=Kt(n,r);this.activateChildRoutes(t,e,i.outletMap)}else this.activateChildRoutes(t,e,n);else
// if we have a normal route, we need to advance the route
// and place the component into the outlet. After that recurse.
if(r.component){st(r);var/** @type {?} */i=Kt(n,t.value);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var/** @type {?} */o=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),i.attach(o.componentRef,o.route.value),$t(o.route)}else{var/** @type {?} */s=new yn;this.placeComponentIntoOutlet(s,r,i),this.activateChildRoutes(t,null,s)}}else st(r),this.activateChildRoutes(t,null,n)},t.prototype.placeComponentIntoOutlet=function(t,e,n){var/** @type {?} */r=Yt(e.snapshot),/** @type {?} */i=r?r.module.componentFactoryResolver:null;n.activateWith(e,i,t)},t.prototype.deactiveRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactiveRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var/** @type {?} */n=Kt(e,t.value),/** @type {?} */r=n.detach();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t})},t.prototype.deactiveRouteAndOutlet=function(t,e){var n=this,/** @type {?} */r=Zt(t),/** @type {?} */i=null;
// getOutlet throws when cannot find the right outlet,
// which can happen if an outlet was in an NgIf and was removed
try{i=Kt(e,t.value)}catch(t){return}var/** @type {?} */o=i.outletMap;f(r,function(r,i){t.value.component?n.deactiveRouteAndItsChildren(r,o):n.deactiveRouteAndItsChildren(r,e)}),i&&i.isActivated&&i.deactivate()},t}(),Mn=function(){/**
     * @param {?} router
     * @param {?} route
     * @param {?} tabIndex
     * @param {?} renderer
     * @param {?} el
     */
function t(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setElementAttribute(i.nativeElement,"tabindex","0")}/**
     * @return {?}
     */
return Object.defineProperty(t.prototype,"routerLink",{/**
         * @param {?} commands
         * @return {?}
         */
set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{/**
         * @deprecated 4.0.0 use `queryParamsHandling` instead.
         * @param {?} value
         * @return {?}
         */
set:function(t){n.i(le.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var/** @type {?} */t={skipLocationChange:Jt(this.skipLocationChange),replaceUrl:Jt(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,"urlTree",{/**
         * @return {?}
         */
get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Jt(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Jt(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();Mn.decorators=[{type:le.Directive,args:[{selector:":not(a)[routerLink]"}]}],/**
 * @nocollapse
 */
Mn.ctorParameters=function(){return[{type:xn},{type:cn},{type:void 0,decorators:[{type:le.Attribute,args:["tabindex"]}]},{type:le.Renderer},{type:le.ElementRef}]},Mn.propDecorators={queryParams:[{type:le.Input}],fragment:[{type:le.Input}],queryParamsHandling:[{type:le.Input}],preserveFragment:[{type:le.Input}],skipLocationChange:[{type:le.Input}],replaceUrl:[{type:le.Input}],routerLink:[{type:le.Input}],preserveQueryParams:[{type:le.Input}],onClick:[{type:le.HostListener,args:["click"]}]};/**
 * \@whatItDoes Lets you link to specific parts of your app.
 *
 * See {\@link RouterLink} for more information.
 *
 * \@ngModule RouterModule
 *
 * \@stable
 */
var On=function(){/**
     * @param {?} router
     * @param {?} route
     * @param {?} locationStrategy
     */
function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof ke&&r.updateTargetUrlAndHref()})}/**
     * @param {?} changes
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} button
     * @param {?} ctrlKey
     * @param {?} metaKey
     * @return {?}
     */
/**
     * @return {?}
     */
return Object.defineProperty(t.prototype,"routerLink",{/**
         * @param {?} commands
         * @return {?}
         */
set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{/**
         * @param {?} value
         * @return {?}
         */
set:function(t){n.i(le.isDevMode)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n){if(0!==t||e||n)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var/** @type {?} */r={skipLocationChange:Jt(this.skipLocationChange),replaceUrl:Jt(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,r),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{/**
         * @return {?}
         */
get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Jt(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Jt(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();On.decorators=[{type:le.Directive,args:[{selector:"a[routerLink]"}]}],/**
 * @nocollapse
 */
On.ctorParameters=function(){return[{type:xn},{type:cn},{type:ce.LocationStrategy}]},On.propDecorators={target:[{type:le.HostBinding,args:["attr.target"]},{type:le.Input}],queryParams:[{type:le.Input}],fragment:[{type:le.Input}],queryParamsHandling:[{type:le.Input}],preserveFragment:[{type:le.Input}],skipLocationChange:[{type:le.Input}],replaceUrl:[{type:le.Input}],href:[{type:le.HostBinding}],routerLink:[{type:le.Input}],preserveQueryParams:[{type:le.Input}],onClick:[{type:le.HostListener,args:["click",["$event.button","$event.ctrlKey","$event.metaKey"]]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * \@whatItDoes Lets you add a CSS class to an element when the link's route becomes active.
 *
 * \@howToUse
 *
 * ```
 * <a routerLink="/user/bob" routerLinkActive="active-link">Bob</a>
 * ```
 *
 * \@description
 *
 * The RouterLinkActive directive lets you add a CSS class to an element when the link's route
 * becomes active.
 *
 * Consider the following example:
 *
 * ```
 * <a routerLink="/user/bob" routerLinkActive="active-link">Bob</a>
 * ```
 *
 * When the url is either '/user' or '/user/bob', the active-link class will
 * be added to the `a` tag. If the url changes, the class will be removed.
 *
 * You can set more than one class, as follows:
 *
 * ```
 * <a routerLink="/user/bob" routerLinkActive="class1 class2">Bob</a>
 * <a routerLink="/user/bob" [routerLinkActive]="['class1', 'class2']">Bob</a>
 * ```
 *
 * You can configure RouterLinkActive by passing `exact: true`. This will add the classes
 * only when the url matches the link exactly.
 *
 * ```
 * <a routerLink="/user/bob" routerLinkActive="active-link" [routerLinkActiveOptions]="{exact:
 * true}">Bob</a>
 * ```
 *
 * You can assign the RouterLinkActive instance to a template variable and directly check
 * the `isActive` status.
 * ```
 * <a routerLink="/user/bob" routerLinkActive #rla="routerLinkActive">
 *   Bob {{ rla.isActive ? '(already open)' : ''}}
 * </a>
 * ```
 *
 * Finally, you can apply the RouterLinkActive directive to an ancestor of a RouterLink.
 *
 * ```
 * <div routerLinkActive="active-link" [routerLinkActiveOptions]="{exact: true}">
 *   <a routerLink="/user/jim">Jim</a>
 *   <a routerLink="/user/bob">Bob</a>
 * </div>
 * ```
 *
 * This will set the active-link class on the div tag if the url is either '/user/jim' or
 * '/user/bob'.
 *
 * \@ngModule RouterModule
 *
 * \@stable
 */
var Tn=function(){/**
     * @param {?} router
     * @param {?} element
     * @param {?} renderer
     * @param {?} cdr
     */
function t(t,e,n,r){var i=this;this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.classes=[],this.active=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(function(t){t instanceof ke&&i.update()})}/**
     * @return {?}
     */
/**
     * @param {?} changes
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} router
     * @return {?}
     */
/**
     * @return {?}
     */
return Object.defineProperty(t.prototype,"isActive",{/**
         * @return {?}
         */
get:function(){return this.active},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.subscribe(function(e){return t.update()}),this.linksWithHrefs.changes.subscribe(function(e){return t.update()}),this.update()},Object.defineProperty(t.prototype,"routerLinkActive",{/**
         * @param {?} data
         * @return {?}
         */
set:function(t){var/** @type {?} */e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.update()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.update=function(){var t=this;if(this.links&&this.linksWithHrefs&&this.router.navigated){var/** @type {?} */e=this.hasActiveLinks();
// react only when status has changed to prevent unnecessary dom updates
this.active!==e&&(this.active=e,this.classes.forEach(function(n){return t.renderer.setElementClass(t.element.nativeElement,n,e)}),this.cdr.detectChanges())}},t.prototype.isLinkActive=function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}},t.prototype.hasActiveLinks=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},t}();Tn.decorators=[{type:le.Directive,args:[{selector:"[routerLinkActive]",exportAs:"routerLinkActive"}]}],/**
 * @nocollapse
 */
Tn.ctorParameters=function(){return[{type:xn},{type:le.ElementRef},{type:le.Renderer},{type:le.ChangeDetectorRef}]},Tn.propDecorators={links:[{type:le.ContentChildren,args:[Mn,{descendants:!0}]}],linksWithHrefs:[{type:le.ContentChildren,args:[On,{descendants:!0}]}],routerLinkActiveOptions:[{type:le.Input}],routerLinkActive:[{type:le.Input}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * \@whatItDoes Acts as a placeholder that Angular dynamically fills based on the current router
 * state.
 *
 * \@howToUse
 *
 * ```
 * <router-outlet></router-outlet>
 * <router-outlet name='left'></router-outlet>
 * <router-outlet name='right'></router-outlet>
 * ```
 *
 * A router outlet will emit an activate event any time a new component is being instantiated,
 * and a deactivate event when it is being destroyed.
 *
 * ```
 * <router-outlet
 *   (activate)='onActivate($event)'
 *   (deactivate)='onDeactivate($event)'></router-outlet>
 * ```
 * \@ngModule RouterModule
 *
 * \@stable
 */
var An=function(){/**
     * @param {?} parentOutletMap
     * @param {?} location
     * @param {?} resolver
     * @param {?} name
     */
function t(t,e,n,r){this.parentOutletMap=t,this.location=e,this.resolver=n,this.name=r,this.activateEvents=new le.EventEmitter,this.deactivateEvents=new le.EventEmitter,t.registerOutlet(r||Fe,this)}/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} ref
     * @param {?} activatedRoute
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @deprecated since v4, use {\@link activateWith}
     * @param {?} activatedRoute
     * @param {?} resolver
     * @param {?} injector
     * @param {?} providers
     * @param {?} outletMap
     * @return {?}
     */
/**
     * @param {?} activatedRoute
     * @param {?} resolver
     * @param {?} outletMap
     * @return {?}
     */
return t.prototype.ngOnDestroy=function(){this.parentOutletMap.removeOutlet(this.name?this.name:Fe)},Object.defineProperty(t.prototype,"locationInjector",{/**
         * @deprecated since v4 *
         * @return {?}
         */
get:function(){return this.location.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationFactoryResolver",{/**
         * @deprecated since v4 *
         * @return {?}
         */
get:function(){return this.resolver},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActivated",{/**
         * @return {?}
         */
get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{/**
         * @return {?}
         */
get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{/**
         * @return {?}
         */
get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var/** @type {?} */t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var/** @type {?} */t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activate=function(t,e,n,r,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this.outletMap=i,this._activatedRoute=t;var/** @type {?} */o=t._futureSnapshot,/** @type {?} */s=o._routeConfig.component,/** @type {?} */a=e.resolveComponentFactory(s),/** @type {?} */u=le.ReflectiveInjector.fromResolvedProviders(r,n);this.activated=this.location.createComponent(a,this.location.length,u,[]),this.activated.changeDetectorRef.detectChanges(),this.activateEvents.emit(this.activated.instance)},t.prototype.activateWith=function(t,e,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this.outletMap=n,this._activatedRoute=t;var/** @type {?} */r=t._futureSnapshot,/** @type {?} */i=r._routeConfig.component;e=e||this.resolver;var/** @type {?} */o=e.resolveComponentFactory(i),/** @type {?} */s=new Pn(t,n,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,s,[]),this.activated.changeDetectorRef.detectChanges(),this.activateEvents.emit(this.activated.instance)},t}();An.decorators=[{type:le.Directive,args:[{selector:"router-outlet"}]}],/**
 * @nocollapse
 */
An.ctorParameters=function(){return[{type:yn},{type:le.ViewContainerRef},{type:le.ComponentFactoryResolver},{type:void 0,decorators:[{type:le.Attribute,args:["name"]}]}]},An.propDecorators={activateEvents:[{type:le.Output,args:["activate"]}],deactivateEvents:[{type:le.Output,args:["deactivate"]}]};var Pn=function(){/**
     * @param {?} route
     * @param {?} map
     * @param {?} parent
     */
function t(t,e,n){this.route=t,this.map=e,this.parent=n}/**
     * @param {?} token
     * @param {?=} notFoundValue
     * @return {?}
     */
return t.prototype.get=function(t,e){return t===cn?this.route:t===yn?this.map:this.parent.get(t,e)},t}(),kn=function(){function t(){}/**
     * Determines if this route (and its subtree) should be detached to be reused later
     * @abstract
     * @param {?} route
     * @return {?}
     */
/**
     * Stores the detached route
     * @abstract
     * @param {?} route
     * @param {?} handle
     * @return {?}
     */
/**
     * Determines if this route (and its subtree) should be reattached
     * @abstract
     * @param {?} route
     * @return {?}
     */
/**
     * Retrieves the previously stored route
     * @abstract
     * @param {?} route
     * @return {?}
     */
/**
     * Determines if a route should be reused
     * @abstract
     * @param {?} future
     * @param {?} curr
     * @return {?}
     */
return t.prototype.shouldDetach=function(t){},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){},t.prototype.retrieve=function(t){},t.prototype.shouldReuseRoute=function(t,e){},t}(),In=function(){function t(){}/**
     * @abstract
     * @param {?} route
     * @param {?} fn
     * @return {?}
     */
return t.prototype.preload=function(t,e){},t}(),Rn=function(){function t(){}/**
     * @param {?} route
     * @param {?} fn
     * @return {?}
     */
return t.prototype.preload=function(t,e){return xe._catch.call(e(),function(){return n.i(de.of)(null)})},t}(),jn=function(){function t(){}/**
     * @param {?} route
     * @param {?} fn
     * @return {?}
     */
return t.prototype.preload=function(t,e){return n.i(de.of)(null)},t}(),Dn=function(){/**
     * @param {?} router
     * @param {?} moduleLoader
     * @param {?} compiler
     * @param {?} injector
     * @param {?} preloadingStrategy
     */
function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i;var o=function(e){return t.triggerEvent(new De(e))},s=function(e){return t.triggerEvent(new Le(e))};this.loader=new qe(e,n,o,s)}/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} ngModule
     * @param {?} routes
     * @return {?}
     */
/**
     * @param {?} ngModule
     * @param {?} route
     * @return {?}
     */
return t.prototype.setUpPreloading=function(){var t=this,/** @type {?} */e=Te.filter.call(this.router.events,function(t){return t instanceof ke});this.subscription=me.concatMap.call(e,function(){return t.preload()}).subscribe(function(){})},t.prototype.preload=function(){var/** @type {?} */t=this.injector.get(le.NgModuleRef);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){for(var/** @type {?} */r=[],i=0,o=e;i<o.length;i++){var s=o[i],/** @type {?} */a=s;
// we already have the config loaded, just recurse
if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var/** @type {?} */u=a._loadedConfig;r.push(this.processRoutes(t,u.routes))}else a.loadChildren&&!a.canLoad?r.push(this.preloadConfig(t,a)):a.children&&r.push(this.processRoutes(t,a.children))}return Me.mergeAll.call(n.i(he.from)(r))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){var/** @type {?} */r=n.loader.load(t.injector,e);return be.mergeMap.call(r,function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})})},t}();Dn.decorators=[{type:le.Injectable}],/**
 * @nocollapse
 */
Dn.ctorParameters=function(){return[{type:xn},{type:le.NgModuleFactoryLoader},{type:le.Compiler},{type:le.Injector},{type:In}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * \@whatItDoes Contains a list of directives
 * \@stable
 */
var Ln=[An,Mn,On,Tn],Fn=new le.InjectionToken("ROUTER_CONFIGURATION"),Un=new le.InjectionToken("ROUTER_FORROOT_GUARD"),Vn=[ce.Location,{provide:$e,useClass:Ye},{provide:xn,useFactory:ie,deps:[le.ApplicationRef,$e,yn,ce.Location,le.Injector,le.NgModuleFactoryLoader,le.Compiler,Be,Fn,[gn,new le.Optional],[kn,new le.Optional]]},yn,{provide:cn,useFactory:oe,deps:[xn]},{provide:le.NgModuleFactoryLoader,useClass:le.SystemJsNgModuleLoader},Dn,jn,Rn,{provide:Fn,useValue:{enableTracing:!1}}],Bn=function(){/**
     * @param {?} guard
     * @param {?} router
     */
function t(t,e){}/**
     * Creates a module with all the router providers and directives. It also optionally sets up an
     * application listener to perform an initial navigation.
     *
     * Options:
     * * `enableTracing` makes the router log all its internal events to the console.
     * * `useHash` enables the location strategy that uses the URL fragment instead of the history
     * API.
     * * `initialNavigation` disables the initial navigation.
     * * `errorHandler` provides a custom error handler.
     * @param {?} routes
     * @param {?=} config
     * @return {?}
     */
/**
     * Creates a module with all the router directives and a provider registering routes.
     * @param {?} routes
     * @return {?}
     */
return t.forRoot=function(e,n){return{ngModule:t,providers:[Vn,re(e),{provide:Un,useFactory:ne,deps:[[xn,new le.Optional,new le.SkipSelf]]},{provide:Fn,useValue:n||{}},{provide:ce.LocationStrategy,useFactory:ee,deps:[ce.PlatformLocation,[new le.Inject(ce.APP_BASE_HREF),new le.Optional],Fn]},{provide:In,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:jn},{provide:le.NgProbeToken,multi:!0,useFactory:te},ue()]}},t.forChild=function(e){return{ngModule:t,providers:[re(e)]}},t}();Bn.decorators=[{type:le.NgModule,args:[{declarations:Ln,exports:Ln}]}],/**
 * @nocollapse
 */
Bn.ctorParameters=function(){return[{type:void 0,decorators:[{type:le.Optional},{type:le.Inject,args:[Un]}]},{type:xn,decorators:[{type:le.Optional}]}]};/**
 * To initialize the router properly we need to do in two steps:
 *
 * We need to start the navigation in a APP_INITIALIZER to block the bootstrap if
 * a resolver or a guards executes asynchronously. Second, we need to actually run
 * activation in a BOOTSTRAP_LISTENER. We utilize the afterPreactivation
 * hook provided by the router to do that.
 *
 * The router navigation starts, reaches the point when preactivation is done, and then
 * pauses. It waits for the hook to be resolved. We then resolve it only in a bootstrap listener.
 */
var zn=function(){/**
     * @param {?} injector
     */
function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new pe.Subject}/**
     * @return {?}
     */
/**
     * @param {?} bootstrappedComponentRef
     * @return {?}
     */
/**
     * @param {?} opts
     * @return {?}
     */
/**
     * @param {?} opts
     * @return {?}
     */
return t.prototype.appInitializer=function(){var t=this;return this.injector.get(ce.LOCATION_INITIALIZED,Promise.resolve(null)).then(function(){var/** @type {?} */e=null,/** @type {?} */r=new Promise(function(t){return e=t}),/** @type {?} */i=t.injector.get(xn),/** @type {?} */o=t.injector.get(Fn);if(t.isLegacyDisabled(o)||t.isLegacyEnabled(o))e(!0);else if("disabled"===o.initialNavigation)i.setUpLocationChangeListener(),e(!0);else{if("enabled"!==o.initialNavigation)throw new Error("Invalid initialNavigation options: '"+o.initialNavigation+"'");i.hooks.afterPreactivation=function(){
// only the initial navigation should be delayed
// only the initial navigation should be delayed
return t.initNavigation?n.i(de.of)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},i.initialNavigation()}return r})},t.prototype.bootstrapListener=function(t){var/** @type {?} */e=this.injector.get(Fn),/** @type {?} */n=this.injector.get(Dn),/** @type {?} */r=this.injector.get(xn),/** @type {?} */i=this.injector.get(le.ApplicationRef);t===i.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),r.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();zn.decorators=[{type:le.Injectable}],/**
 * @nocollapse
 */
zn.ctorParameters=function(){return[{type:le.Injector}]};/**
 * A token for the router initializer that will be called after the app is bootstrapped.
 *
 * \@experimental
 */
var qn=new le.InjectionToken("Router Initializer"),Hn=new le.Version("4.0.1")},/* 192 */
/***/
function(t,e,n){
// https://d3js.org Version 4.7.4. Copyright 2017 Mike Bostock.
!function(t,n){n(e)}(0,function(t){"use strict";function e(t){return function(e,n){return Ic(t(e),n)}}function n(t,e){return[t,e]}function r(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Kc?i*=10:o>=Qc?i*=5:o>=Jc&&(i*=2),e<t?-i:i}function i(t){return t.length}function o(t){return"translate("+t+",0)"}function s(t){return"translate(0,"+t+")"}function a(t){var e=t.bandwidth()/2;return t.round()&&(e=Math.round(e)),function(n){return t(n)+e}}function u(){return!this.__axis}function c(t,e){function n(n){var o=null==c?e.ticks?e.ticks.apply(e,i):e.domain():c,s=null==l?e.tickFormat?e.tickFormat.apply(e,i):gl:l,y=Math.max(f,0)+h,g=e.range(),b=g[0]+.5,w=g[g.length-1]+.5,_=(e.bandwidth?a:gl)(e.copy()),x=n.selection?n.selection():n,E=x.selectAll(".domain").data([null]),C=x.selectAll(".tick").data(o,e).order(),S=C.exit(),N=C.enter().append("g").attr("class","tick"),M=C.select("line"),O=C.select("text");E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),C=C.merge(N),M=M.merge(N.append("line").attr("stroke","#000").attr(r+"2",d*f).attr(m+"1",.5).attr(m+"2",.5)),O=O.merge(N.append("text").attr("fill","#000").attr(r,d*y).attr(m,.5).attr("dy",t===bl?"0em":t===_l?"0.71em":"0.32em")),n!==x&&(E=E.transition(n),C=C.transition(n),M=M.transition(n),O=O.transition(n),S=S.transition(n).attr("opacity",El).attr("transform",function(t){return isFinite(t=_(t))?v(t):this.getAttribute("transform")}),N.attr("opacity",El).attr("transform",function(t){var e=this.parentNode.__axis;return v(e&&isFinite(e=e(t))?e:_(t))})),S.remove(),E.attr("d",t===xl||t==wl?"M"+d*p+","+b+"H0.5V"+w+"H"+d*p:"M"+b+","+d*p+"V0.5H"+w+"V"+d*p),C.attr("opacity",1).attr("transform",function(t){return v(_(t))}),M.attr(r+"2",d*f),O.attr(r,d*y).text(s),x.filter(u).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===wl?"start":t===xl?"end":"middle"),x.each(function(){this.__axis=_})}var r,i=[],c=null,l=null,f=6,p=6,h=3,d=t===bl||t===xl?-1:1,m=t===xl||t===wl?(r="x","y"):(r="y","x"),v=t===bl||t===_l?o:s;return n.scale=function(t){return arguments.length?(e=t,n):e},n.ticks=function(){return i=yl.call(arguments),n},n.tickArguments=function(t){return arguments.length?(i=null==t?[]:yl.call(t),n):i.slice()},n.tickValues=function(t){return arguments.length?(c=null==t?null:yl.call(t),n):c&&c.slice()},n.tickFormat=function(t){return arguments.length?(l=t,n):l},n.tickSize=function(t){return arguments.length?(f=p=+t,n):f},n.tickSizeInner=function(t){return arguments.length?(f=+t,n):f},n.tickSizeOuter=function(t){return arguments.length?(p=+t,n):p},n.tickPadding=function(t){return arguments.length?(h=+t,n):h},n}function l(t){return c(bl,t)}function f(t){return c(wl,t)}function p(t){return c(_l,t)}function h(t){return c(xl,t)}function d(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new m(r)}function m(t){this._=t}function v(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function y(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function g(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Cl,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}function b(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Sl&&e.documentElement.namespaceURI===Sl?e.createElement(t):e.createElementNS(n,t)}}function w(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function _(){return new x}function x(){this._="@"+(++Tl).toString(36)}function E(t,e,n){return t=C(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function C(e,n,r){return function(i){var o=t.event;// Events can be reentrant (e.g., focus).
t.event=i;try{e.call(this,this.__data__,n,r)}finally{t.event=o}}}function S(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function N(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function M(t,e,n){var r=Rl.hasOwnProperty(t.type)?E:C;return function(i,o,s){var a,u=this.__on,c=r(e,o,s);if(u)for(var l=0,f=u.length;l<f;++l)if((a=u[l]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=n),void(a.value=e);this.addEventListener(t.type,c,n),a={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(a):this.__on=[a]}}function O(e,n,r,i){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(r,i)}finally{t.event=o}}function T(){}function A(){return[]}function P(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}// Protect against keys like __proto__.
function k(t,e,n,r,i,o){
// Put any non-null nodes that fit into update.
// Put any null nodes into enter.
// Put any remaining data into enter.
for(var s,a=0,u=e.length,c=o.length;a<c;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new P(t,o[a]);
// Put any non-null nodes that dont fit into exit.
for(;a<u;++a)(s=e[a])&&(i[a]=s)}function I(t,e,n,r,i,o,s){var a,u,c,l={},f=e.length,p=o.length,h=new Array(f);
// Compute the key for each node.
// If multiple nodes have the same key, the duplicates are added to exit.
for(a=0;a<f;++a)(u=e[a])&&(h[a]=c=$l+s.call(u,u.__data__,a,e),c in l?i[a]=u:l[c]=u);
// Compute the key for each datum.
// If there a node associated with this key, join and add it to update.
// If there is not (or the key is a duplicate), add it to enter.
for(a=0;a<p;++a)c=$l+s.call(t,o[a],a,o),(u=l[c])?(r[a]=u,u.__data__=o[a],l[c]=null):n[a]=new P(t,o[a]);
// Add any remaining nodes that were not bound to data to exit.
for(a=0;a<f;++a)(u=e[a])&&l[h[a]]===u&&(i[a]=u)}function R(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function j(t){return function(){this.removeAttribute(t)}}function D(t){return function(){this.removeAttributeNS(t.space,t.local)}}function L(t,e){return function(){this.setAttribute(t,e)}}function F(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function U(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function V(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function B(t){return function(){this.style.removeProperty(t)}}function z(t,e,n){return function(){this.style.setProperty(t,e,n)}}function q(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function H(t){return function(){delete this[t]}}function G(t,e){return function(){this[t]=e}}function W(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function $(t){return t.trim().split(/^|\s+/)}function Y(t){return t.classList||new X(t)}function X(t){this._node=t,this._names=$(t.getAttribute("class")||"")}function Z(t,e){for(var n=Y(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function K(t,e){for(var n=Y(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Q(t){return function(){Z(this,t)}}function J(t){return function(){K(this,t)}}function tt(t,e){return function(){(e.apply(this,arguments)?Z:K)(this,t)}}function et(){this.textContent=""}function nt(t){return function(){this.textContent=t}}function rt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function it(){this.innerHTML=""}function ot(t){return function(){this.innerHTML=t}}function st(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function at(){this.nextSibling&&this.parentNode.appendChild(this)}function ut(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ct(){return null}function lt(){var t=this.parentNode;t&&t.removeChild(this)}function ft(t,e,n){var r=af(t),i=r.CustomEvent;i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function pt(t,e){return function(){return ft(this,t,e)}}function ht(t,e){return function(){return ft(this,t,e.apply(this,arguments))}}function dt(t,e){this._groups=t,this._parents=e}function mt(){return new dt([[document.documentElement]],wf)}function vt(){t.event.stopImmediatePropagation()}function yt(t,e){var n=t.document.documentElement,r=_f(t).on("dragstart.drag",null);e&&(r.on("click.drag",Sf,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function gt(t,e,n,r,i,o,s,a,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=s,this.dx=a,this.dy=u,this._=c}
// Ignore right-click, since that should open the context menu.
function bt(){return!t.event.button}function wt(){return this.parentNode}function _t(e){return null==e?{x:t.event.x,y:t.event.y}:e}function xt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Et(){}function Ct(t){var e;return t=(t+"").trim().toLowerCase(),(e=If.exec(t))?(e=parseInt(e[1],16),new Tt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=Rf.exec(t))?St(parseInt(e[1],16)):(e=jf.exec(t))?new Tt(e[1],e[2],e[3],1):(e=Df.exec(t))?new Tt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Lf.exec(t))?Nt(e[1],e[2],e[3],e[4]):(e=Ff.exec(t))?Nt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Uf.exec(t))?At(e[1],e[2]/100,e[3]/100,1):(e=Vf.exec(t))?At(e[1],e[2]/100,e[3]/100,e[4]):Bf.hasOwnProperty(t)?St(Bf[t]):"transparent"===t?new Tt(NaN,NaN,NaN,0):null}function St(t){return new Tt(t>>16&255,t>>8&255,255&t,1)}function Nt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Tt(t,e,n,r)}function Mt(t){return t instanceof Et||(t=Ct(t)),t?(t=t.rgb(),new Tt(t.r,t.g,t.b,t.opacity)):new Tt}function Ot(t,e,n,r){return 1===arguments.length?Mt(t):new Tt(t,e,n,null==r?1:r)}function Tt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function At(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new It(t,e,n,r)}function Pt(t){if(t instanceof It)return new It(t.h,t.s,t.l,t.opacity);if(t instanceof Et||(t=Ct(t)),!t)return new It;if(t instanceof It)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(s=e===o?(n-r)/a+6*(n<r):n===o?(r-e)/a+2:(e-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new It(s,a,u,t.opacity)}function kt(t,e,n,r){return 1===arguments.length?Pt(t):new It(t,e,n,null==r?1:r)}function It(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}/* From FvD 13.37, CSS Color Module Level 3 */
function Rt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function jt(t){if(t instanceof Lt)return new Lt(t.l,t.a,t.b,t.opacity);if(t instanceof Ht){var e=t.h*zf;return new Lt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Tt||(t=Mt(t));var n=Bt(t.r),r=Bt(t.g),i=Bt(t.b),o=Ft((.4124564*n+.3575761*r+.1804375*i)/Hf),s=Ft((.2126729*n+.7151522*r+.072175*i)/Gf);return new Lt(116*s-16,500*(o-s),200*(s-Ft((.0193339*n+.119192*r+.9503041*i)/Wf)),t.opacity)}function Dt(t,e,n,r){return 1===arguments.length?jt(t):new Lt(t,e,n,null==r?1:r)}function Lt(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Ft(t){return t>Zf?Math.pow(t,1/3):t/Xf+$f}function Ut(t){return t>Yf?t*t*t:Xf*(t-$f)}function Vt(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Bt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function zt(t){if(t instanceof Ht)return new Ht(t.h,t.c,t.l,t.opacity);t instanceof Lt||(t=jt(t));var e=Math.atan2(t.b,t.a)*qf;return new Ht(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function qt(t,e,n,r){return 1===arguments.length?zt(t):new Ht(t,e,n,null==r?1:r)}function Ht(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Gt(t){if(t instanceof $t)return new $t(t.h,t.s,t.l,t.opacity);t instanceof Tt||(t=Mt(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(ip*r+np*e-rp*n)/(ip+np-rp),o=r-i,s=(ep*(n-i)-Jf*o)/tp,a=Math.sqrt(s*s+o*o)/(ep*i*(1-i)),// NaN if l=0 or l=1
u=a?Math.atan2(s,o)*qf-120:NaN;return new $t(u<0?u+360:u,a,i,t.opacity)}function Wt(t,e,n,r){return 1===arguments.length?Gt(t):new $t(t,e,n,null==r?1:r)}function $t(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Yt(t,e,n,r,i){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*r+s*i)/6}function Xt(t,e){return function(n){return t+n*e}}function Zt(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Kt(t,e){var n=e-t;return n?Xt(t,n>180||n<-180?n-360*Math.round(n/360):n):hp(isNaN(t)?e:t)}function Qt(t){return 1==(t=+t)?Jt:function(e,n){return n-e?Zt(e,n,t):hp(isNaN(e)?n:e)}}function Jt(t,e){var n=e-t;return n?Xt(t,n):hp(isNaN(t)?e:t)}function te(t){return function(e){var n,r,i=e.length,o=new Array(i),s=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=Ot(e[n]),o[n]=r.r||0,s[n]=r.g||0,a[n]=r.b||0;return o=t(o),s=t(s),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=s(t),r.b=a(t),r+""}}}function ee(t){return function(){return t}}function ne(t){return function(e){return t(e)+""}}function re(t){return"none"===t?Mp:(op||(op=document.createElement("DIV"),sp=document.documentElement,ap=document.defaultView),op.style.transform=t,t=ap.getComputedStyle(sp.appendChild(op),null).getPropertyValue("transform"),sp.removeChild(op),t=t.slice(7,-1).split(","),Op(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function ie(t){return null==t?Mp:(up||(up=document.createElementNS("http://www.w3.org/2000/svg","g")),up.setAttribute("transform",t),(t=up.transform.baseVal.consolidate())?(t=t.matrix,Op(t.a,t.b,t.c,t.d,t.e,t.f)):Mp)}function oe(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,s,a){if(t!==i||r!==o){var u=s.push("translate(",null,e,null,n);a.push({i:u-4,x:bp(t,i)},{i:u-2,x:bp(r,o)})}else(i||o)&&s.push("translate("+i+e+o+n)}function s(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),// shortest path
o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:bp(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function a(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:bp(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function u(t,e,n,r,o,s){if(t!==n||e!==r){var a=o.push(i(o)+"scale(",null,",",null,")");s.push({i:a-4,x:bp(t,n)},{i:a-2,x:bp(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}return function(e,n){var r=[],// string constants and placeholders
i=[];// gc
// number interpolators
return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,r,i),s(e.rotate,n.rotate,r,i),a(e.skewX,n.skewX,r,i),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){for(var e,n=-1,o=i.length;++n<o;)r[(e=i[n]).i]=e.x(t);return r.join("")}}}function se(t){return((t=Math.exp(t))+1/t)/2}function ae(t){return((t=Math.exp(t))-1/t)/2}function ue(t){return((t=Math.exp(2*t))-1)/(t+1)}function ce(t){return function(e,n){var r=t((e=kt(e)).h,(n=kt(n)).h),i=Jt(e.s,n.s),o=Jt(e.l,n.l),s=Jt(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=s(t),e+""}}}function le(t,e){var n=Jt((t=Dt(t)).l,(e=Dt(e)).l),r=Jt(t.a,e.a),i=Jt(t.b,e.b),o=Jt(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function fe(t){return function(e,n){var r=t((e=qt(e)).h,(n=qt(n)).h),i=Jt(e.c,n.c),o=Jt(e.l,n.l),s=Jt(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=s(t),e+""}}}function pe(t){return function e(n){function r(e,r){var i=t((e=Wt(e)).h,(r=Wt(r)).h),o=Jt(e.s,r.s),s=Jt(e.l,r.l),a=Jt(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=s(Math.pow(t,n)),e.opacity=a(t),e+""}}return n=+n,r.gamma=e,r}(1)}function he(){return Gp||(Yp(de),Gp=$p.now()+Wp)}function de(){Gp=0}function me(){this._call=this._time=this._next=null}function ve(t,e,n){var r=new me;return r.restart(t,e,n),r}function ye(){he(),// Get the current time, if not already set.
++Vp;for(// Pretend weve set an alarm, if we havent already.
var t,e=cp;e;)(t=Gp-e._time)>=0&&e._call.call(null,t),e=e._next;--Vp}function ge(){Gp=(Hp=$p.now())+Wp,Vp=Bp=0;try{ye()}finally{Vp=0,we(),Gp=0}}function be(){var t=$p.now(),e=t-Hp;e>qp&&(Wp-=e,Hp=t)}function we(){for(var t,e,n=cp,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:cp=e);lp=t,_e(r)}function _e(t){if(!Vp){// Soonest alarm already set, or will be.
Bp&&(Bp=clearTimeout(Bp));var e=t-Gp;e>24?(t<1/0&&(Bp=setTimeout(ge,e)),zp&&(zp=clearInterval(zp))):(zp||(Hp=Gp,zp=setInterval(be,qp)),Vp=1,Yp(ge))}}function xe(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>Jp)throw new Error("too late");return n}function Ee(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>eh)throw new Error("too late");return n}function Ce(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function Se(t,e,n){function r(t){n.state=th,n.timer.restart(i,n.delay,n.time),
// If the elapsed delay is less than our first sleep, start immediately.
n.delay<=t&&i(t-n.delay)}function i(r){var c,l,f,p;
// If the state is not SCHEDULED, then we previously errored on start.
if(n.state!==th)return s();for(c in u)if(p=u[c],p.name===n.name){
// While this element already has a starting transition during this frame,
// defer starting an interrupting transition until that transition has a
// chance to tick (and possibly end); see d3/d3-transition#54!
if(p.state===nh)return Xp(i);
// Interrupt the active transition, if any.
// Dispatch the interrupt event.
p.state===rh?(p.state=oh,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete u[c]):+c<e&&(p.state=oh,p.timer.stop(),delete u[c])}if(
// Defer the first tick to end of the current frame; see d3/d3#1576.
// Note the transition may be canceled after start and before the first tick!
// Note this must be scheduled before the start event; see d3/d3-transition#16!
// Assuming this is successful, subsequent callbacks go straight to tick.
Xp(function(){n.state===nh&&(n.state=rh,n.timer.restart(o,n.delay,n.time),o(r))}),
// Dispatch the start event.
// Note this must be done before the tween are initialized.
n.state=eh,n.on.call("start",t,t.__data__,n.index,n.group),n.state===eh){for(// interrupted
n.state=nh,
// Initialize the tween, deleting null tween.
a=new Array(f=n.tween.length),c=0,l=-1;c<f;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(a[++l]=p);a.length=l+1}}function o(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=ih,1),i=-1,o=a.length;++i<o;)a[i].call(null,r);
// Dispatch the end event.
n.state===ih&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=oh,n.timer.stop(),delete u[e];for(var r in u)return;// eslint-disable-line no-unused-vars
delete t.__transition}var a,u=t.__transition;
// Initialize the self timer when the transition is created.
// Note the actual delay is not known until the first callback!
u[e]=n,n.timer=ve(r,0,n.time)}function Ne(t,e){var n,r;return function(){var i=Ee(this,t),o=i.tween;
// If this node shared tween with the previous node,
// just assign the updated shared tween and were done!
// Otherwise, copy-on-write.
if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Me(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Ee(this,t),s=o.tween;
// If this node shared tween with the previous node,
// just assign the updated shared tween and were done!
// Otherwise, copy-on-write.
if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=a;break}u===c&&i.push(a)}o.tween=i}}function Oe(t,e,n){var r=t._id;return t.each(function(){var t=Ee(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Ce(t,r).value[e]}}function Te(t){return function(){this.removeAttribute(t)}}function Ae(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Pe(t,e,n){var r,i;return function(){var o=this.getAttribute(t);return o===n?null:o===r?i:i=e(r=o,n)}}function ke(t,e,n){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===r?i:i=e(r=o,n)}}function Ie(t,e,n){var r,i,o;return function(){var s,a=n(this);return null==a?void this.removeAttribute(t):(s=this.getAttribute(t),s===a?null:s===r&&a===i?o:o=e(r=s,i=a))}}function Re(t,e,n){var r,i,o;return function(){var s,a=n(this);return null==a?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),s===a?null:s===r&&a===i?o:o=e(r=s,i=a))}}function je(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}function De(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n}function Le(t,e){return function(){xe(this,t).delay=+e.apply(this,arguments)}}function Fe(t,e){return e=+e,function(){xe(this,t).delay=e}}function Ue(t,e){return function(){Ee(this,t).duration=+e.apply(this,arguments)}}function Ve(t,e){return e=+e,function(){Ee(this,t).duration=e}}function Be(t,e){if("function"!=typeof e)throw new Error;return function(){Ee(this,t).ease=e}}function ze(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function qe(t,e,n){var r,i,o=ze(e)?xe:Ee;return function(){var s=o(this,t),a=s.on;
// If this node shared a dispatch with the previous node,
// just assign the updated shared dispatch and were done!
// Otherwise, copy-on-write.
a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}function He(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Ge(t,e){var n,r,i;return function(){var o=af(this).getComputedStyle(this,null),s=o.getPropertyValue(t),a=(this.style.removeProperty(t),o.getPropertyValue(t));return s===a?null:s===n&&a===r?i:i=e(n=s,r=a)}}function We(t){return function(){this.style.removeProperty(t)}}function $e(t,e,n){var r,i;return function(){var o=af(this).getComputedStyle(this,null).getPropertyValue(t);return o===n?null:o===r?i:i=e(r=o,n)}}function Ye(t,e,n){var r,i,o;return function(){var s=af(this).getComputedStyle(this,null),a=s.getPropertyValue(t),u=n(this);return null==u&&(this.style.removeProperty(t),u=s.getPropertyValue(t)),a===u?null:a===r&&u===i?o:o=e(r=a,i=u)}}function Xe(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}function Ze(t){return function(){this.textContent=t}}function Ke(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function Qe(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Je(t){return mt().transition(t)}function tn(){return++Oh}function en(t){return+t}function nn(t){return t*t}function rn(t){return t*(2-t)}function on(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function sn(t){return t*t*t}function an(t){return--t*t*t+1}function un(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function cn(t){return 1-Math.cos(t*Rh)}function ln(t){return Math.sin(t*Rh)}function fn(t){return(1-Math.cos(Ih*t))/2}function pn(t){return Math.pow(2,10*t-10)}function hn(t){return 1-Math.pow(2,-10*t)}function dn(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function mn(t){return 1-Math.sqrt(1-t*t)}function vn(t){return Math.sqrt(1- --t*t)}function yn(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function gn(t){return 1-bn(1-t)}function bn(t){return(t=+t)<jh?Hh*t*t:t<Lh?Hh*(t-=Dh)*t+Fh:t<Vh?Hh*(t-=Uh)*t+Bh:Hh*(t-=zh)*t+qh}function wn(t){return((t*=2)<=1?1-bn(1-t):bn(t-1)+1)/2}function _n(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Qh.time=he(),Qh;return n}function xn(){t.event.stopImmediatePropagation()}function En(t){return{type:t}}
// Ignore right-click, since that should open the context menu.
function Cn(){return!t.event.button}function Sn(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}
// Like d3.local, but with the name __brush rather than auto-generated.
function Nn(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Mn(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function On(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Tn(){return Pn(cd)}function An(){return Pn(ld)}function Pn(e){function n(t){var n=t.property("__brush",a).selectAll(".overlay").data([En("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",pd.overlay).merge(n).each(function(){var t=Nn(this).extent;_f(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([En("selection")]).enter().append("rect").attr("class","selection").attr("cursor",pd.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=t.selectAll(".handle").data(e.handles,function(t){return t.type});i.exit().remove(),i.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return pd[t.type]}),t.each(r).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",s)}function r(){var t=_f(this),e=Nn(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-p/2:e[0][0]-p/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-p/2:e[0][1]-p/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+p:p}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+p:p})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function i(t,e){return t.__brush.emitter||new o(t,e)}function o(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function s(){function n(){var t=Fl(C);!D||x||E||(Math.abs(t[0]-F[0])>Math.abs(t[1]-F[1])?E=!0:x=!0),F=t,_=!0,id(),o()}function o(){var t;switch(b=F[0]-L[0],w=F[1]-L[1],N){case sd:case od:M&&(b=Math.max(k-f,Math.min(R-m,b)),p=f+b,v=m+b),O&&(w=Math.max(I-h,Math.min(j-y,w)),d=h+w,g=y+w);break;case ad:M<0?(b=Math.max(k-f,Math.min(R-f,b)),p=f+b,v=m):M>0&&(b=Math.max(k-m,Math.min(R-m,b)),p=f,v=m+b),O<0?(w=Math.max(I-h,Math.min(j-h,w)),d=h+w,g=y):O>0&&(w=Math.max(I-y,Math.min(j-y,w)),d=h,g=y+w);break;case ud:M&&(p=Math.max(k,Math.min(R,f-b*M)),v=Math.max(k,Math.min(R,m+b*M))),O&&(d=Math.max(I,Math.min(j,h-w*O)),g=Math.max(I,Math.min(j,y+w*O)))}v<p&&(M*=-1,t=f,f=m,m=t,t=p,p=v,v=t,S in hd&&B.attr("cursor",pd[S=hd[S]])),g<d&&(O*=-1,t=h,h=y,y=t,t=d,d=g,g=t,S in dd&&B.attr("cursor",pd[S=dd[S]])),T.selection&&(P=T.selection),// May be set by brush.move!
x&&(p=P[0][0],v=P[1][0]),E&&(d=P[0][1],g=P[1][1]),P[0][0]===p&&P[0][1]===d&&P[1][0]===v&&P[1][1]===g||(T.selection=[[p,d],[v,g]],r.call(C),U.brush())}function s(){if(xn(),t.event.touches){if(t.event.touches.length)return;u&&clearTimeout(u),u=setTimeout(function(){u=null},500),// Ghost clicks are delayed!
V.on("touchmove.brush touchend.brush touchcancel.brush",null)}else yt(t.event.view,_),z.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);V.attr("pointer-events","all"),B.attr("cursor",pd.overlay),T.selection&&(P=T.selection),// May be set by brush.move (on start)!
Mn(P)&&(T.selection=null,r.call(C)),U.end()}function a(){switch(t.event.keyCode){case 16:// SHIFT
D=M&&O;break;case 18:// ALT
N===ad&&(M&&(m=v-b*M,f=p+b*M),O&&(y=g-w*O,h=d+w*O),N=ud,o());break;case 32:// SPACE; takes priority over ALT
N!==ad&&N!==ud||(M<0?m=v-b:M>0&&(f=p-b),O<0?y=g-w:O>0&&(h=d-w),N=sd,B.attr("cursor",pd.selection),o());break;default:return}id()}function c(){switch(t.event.keyCode){case 16:// SHIFT
D&&(x=E=D=!1,o());break;case 18:// ALT
N===ud&&(M<0?m=v:M>0&&(f=p),O<0?y=g:O>0&&(h=d),N=ad,o());break;case 32:// SPACE
N===sd&&(t.event.altKey?(M&&(m=v-b*M,f=p+b*M),O&&(y=g-w*O,h=d+w*O),N=ud):(M<0?m=v:M>0&&(f=p),O<0?y=g:O>0&&(h=d),N=ad),B.attr("cursor",pd[S]),o());break;default:return}id()}if(t.event.touches){if(t.event.changedTouches.length<t.event.touches.length)return id()}else if(u)return;if(l.apply(this,arguments)){var f,p,h,d,m,v,y,g,b,w,_,x,E,C=this,S=t.event.target.__data__.type,N="selection"===(t.event.metaKey?S="overlay":S)?od:t.event.altKey?ud:ad,M=e===ld?null:md[S],O=e===cd?null:vd[S],T=Nn(C),A=T.extent,P=T.selection,k=A[0][0],I=A[0][1],R=A[1][0],j=A[1][1],D=M&&O&&t.event.shiftKey,L=Fl(C),F=L,U=i(C,arguments).beforestart();"overlay"===S?T.selection=P=[[f=e===ld?k:L[0],h=e===cd?I:L[1]],[m=e===ld?R:f,y=e===cd?j:h]]:(f=P[0][0],h=P[0][1],m=P[1][0],y=P[1][1]),p=f,d=h,v=m,g=y;var V=_f(C).attr("pointer-events","none"),B=V.selectAll(".overlay").attr("cursor",pd[S]);if(t.event.touches)V.on("touchmove.brush",n,!0).on("touchend.brush touchcancel.brush",s,!0);else{var z=_f(t.event.view).on("keydown.brush",a,!0).on("keyup.brush",c,!0).on("mousemove.brush",n,!0).on("mouseup.brush",s,!0);Nf(t.event.view)}xn(),ah(C),r.call(C),U.start()}}function a(){var t=this.__brush||{selection:null};return t.extent=c.apply(this,arguments),t.dim=e,t}var u,c=Sn,l=Cn,f=d(n,"start","brush","end"),p=6;return n.move=function(t,n){t.selection?t.on("start.brush",function(){i(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){i(this,arguments).end()}).tween("brush",function(){function t(t){s.selection=1===t&&Mn(c)?null:l(t),r.call(o),a.brush()}var o=this,s=o.__brush,a=i(o,arguments),u=s.selection,c=e.input("function"==typeof n?n.apply(this,arguments):n,s.extent),l=Cp(u,c);return u&&c?t:t(1)}):t.each(function(){var t=this,o=arguments,s=t.__brush,a=e.input("function"==typeof n?n.apply(t,o):n,s.extent),u=i(t,o).beforestart();ah(t),s.selection=null==a||Mn(a)?null:a,r.call(t),u.start().brush().end()})},o.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){O(new rd(n,t,e.output(this.state.selection)),f.apply,f,[t,this.that,this.args])}},n.extent=function(t){return arguments.length?(c="function"==typeof t?t:nd([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),n):c},n.filter=function(t){return arguments.length?(l="function"==typeof t?t:nd(!!t),n):l},n.handleSize=function(t){return arguments.length?(p=+t,n):p},n.on=function(){var t=f.on.apply(f,arguments);return t===f?n:t},n}function kn(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function In(){this._x0=this._y0=// start of current subpath
this._x1=this._y1=null,// end of current subpath
this._=""}function Rn(){return new In}function jn(t){return t.source}function Dn(t){return t.target}function Ln(t){return t.radius}function Fn(t){return t.startAngle}function Un(t){return t.endAngle}function Vn(){}function Bn(t,e){var n=new Vn;
// Copy constructor.
if(t instanceof Vn)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var s in t)n.set(s,t[s]);return n}function zn(){return{}}function qn(t,e,n){t[e]=n}function Hn(){return Bn()}function Gn(t,e,n){t.set(e,n)}function Wn(){}function $n(t,e){var n=new Wn;
// Copy constructor.
if(t instanceof Wn)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}function Yn(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function Xn(t,e){var n=Yn(t);return function(r,i){return e(n(r),i,t)}}
// Compute unique columns in order of discovery.
function Zn(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}function Kn(t,e,n,r){if(isNaN(e)||isNaN(n))return t;// ignore invalid points
var i,o,s,a,u,c,l,f,p,h=t._root,d={data:r},m=t._x0,v=t._y0,y=t._x1,g=t._y1;
// If the tree is empty, initialize the root as a leaf.
if(!h)return t._root=d,t;
// Find the existing leaf for the new point, or add it.
for(;h.length;)if((c=e>=(o=(m+y)/2))?m=o:y=o,(l=n>=(s=(v+g)/2))?v=s:g=s,i=h,!(h=h[f=l<<1|c]))return i[f]=d,t;if(
// Is the new point is exactly coincident with the existing point?
a=+t._x.call(null,h.data),u=+t._y.call(null,h.data),e===a&&n===u)return d.next=h,i?i[f]=d:t._root=d,t;
// Otherwise, split the leaf node until the old and new point are separated.
do{i=i?i[f]=new Array(4):t._root=new Array(4),(c=e>=(o=(m+y)/2))?m=o:y=o,(l=n>=(s=(v+g)/2))?v=s:g=s}while((f=l<<1|c)==(p=(u>=s)<<1|a>=o));return i[p]=h,i[f]=d,t}function Qn(t){var e,n,r,i,o=t.length,s=new Array(o),a=new Array(o),u=1/0,c=1/0,l=-1/0,f=-1/0;
// Compute the points and their extent.
for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(s[n]=r,a[n]=i,r<u&&(u=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));
// Add the new points.
for(
// If there were no (valid) points, inherit the existing extent.
l<u&&(u=this._x0,l=this._x1),f<c&&(c=this._y0,f=this._y1),
// Expand the tree to cover the new points.
this.cover(u,c).cover(l,f),n=0;n<o;++n)Kn(this,s[n],a[n],t[n]);return this}function Jn(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function tr(t){return t[0]}function er(t){return t[1]}function nr(t,e,n){var r=new rr(null==e?tr:e,null==n?er:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function rr(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function ir(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}function or(t){return t.x+t.vx}function sr(t){return t.y+t.vy}function ar(t){return t.index}function ur(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function cr(t){return t.x}function lr(t){return t.y}function fr(t){return new pr(t)}// instanceof
function pr(t){if(!(e=Mm.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",o=e[4]||"",s=!!e[5],a=e[6]&&+e[6],u=!!e[7],c=e[8]&&+e[8].slice(1),l=e[9]||"";
// The "n" type is an alias for ",g".
"n"===l?(u=!0,l="g"):Nm[l]||(l=""),
// If zero fill is specified, padding goes after sign and before digits.
(s||"0"===n&&"="===r)&&(s=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=s,this.width=a,this.comma=u,this.precision=c,this.type=l}function hr(e){return Om=Pm(e),t.format=Om.format,t.formatPrefix=Om.formatPrefix,Om}function dr(){this.reset()}function mr(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}function vr(t){return t>1?0:t<-1?mv:Math.acos(t)}function yr(t){return t>1?vv:t<-1?-vv:Math.asin(t)}function gr(t){return(t=Tv(t/2))*t}function br(){}function wr(t,e){t&&Rv.hasOwnProperty(t.type)&&Rv[t.type](t,e)}function _r(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function xr(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)_r(t[n],e,1);e.polygonEnd()}function Er(){Fv.point=Sr}function Cr(){Nr(Dm,Lm)}function Sr(t,e){Fv.point=Nr,Dm=t,Lm=e,t*=wv,e*=wv,Fm=t,Um=Cv(e=e/2+yv),Vm=Tv(e)}function Nr(t,e){t*=wv,e*=wv,e=e/2+yv;// half the angular distance from south pole
// Spherical excess E for a spherical triangle with vertices: south pole,
// previous point, current point.  Uses a formula derived from Cagnolis
// theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).
var n=t-Fm,r=n>=0?1:-1,i=r*n,o=Cv(e),s=Tv(e),a=Vm*s,u=Um*o+a*Cv(i),c=a*r*Tv(i);Dv.add(Ev(c,u)),
// Advance the previous points.
Fm=t,Um=o,Vm=s}function Mr(t){return[Ev(t[1],t[0]),yr(t[2])]}function Or(t){var e=t[0],n=t[1],r=Cv(n);return[r*Cv(e),r*Tv(e),Tv(n)]}function Tr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ar(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}
// TODO return a
function Pr(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function kr(t,e){return[t[0]*e,t[1]*e,t[2]*e]}
// TODO return d
function Ir(t){var e=Pv(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Rr(t,e){Xm.push(Zm=[Bm=t,qm=t]),e<zm&&(zm=e),e>Hm&&(Hm=e)}function jr(t,e){var n=Or([t*wv,e*wv]);if(Ym){var r=Ar(Ym,n),i=[r[1],-r[0],0],o=Ar(i,r);Ir(o),o=Mr(o);var s,a=t-Gm,u=a>0?1:-1,c=o[0]*bv*u,l=_v(a)>180;l^(u*Gm<c&&c<u*t)?(s=o[1]*bv)>Hm&&(Hm=s):(c=(c+360)%360-180,l^(u*Gm<c&&c<u*t)?(s=-o[1]*bv)<zm&&(zm=s):(e<zm&&(zm=e),e>Hm&&(Hm=e))),l?t<Gm?Br(Bm,t)>Br(Bm,qm)&&(qm=t):Br(t,qm)>Br(Bm,qm)&&(Bm=t):qm>=Bm?(t<Bm&&(Bm=t),t>qm&&(qm=t)):t>Gm?Br(Bm,t)>Br(Bm,qm)&&(qm=t):Br(t,qm)>Br(Bm,qm)&&(Bm=t)}else Xm.push(Zm=[Bm=t,qm=t]);e<zm&&(zm=e),e>Hm&&(Hm=e),Ym=n,Gm=t}function Dr(){Bv.point=jr}function Lr(){Zm[0]=Bm,Zm[1]=qm,Bv.point=Rr,Ym=null}function Fr(t,e){if(Ym){var n=t-Gm;Vv.add(_v(n)>180?n+(n>0?360:-360):n)}else Wm=t,$m=e;Fv.point(t,e),jr(t,e)}function Ur(){Fv.lineStart()}function Vr(){Fr(Wm,$m),Fv.lineEnd(),_v(Vv)>dv&&(Bm=-(qm=180)),Zm[0]=Bm,Zm[1]=qm,Ym=null}
// Finds the left-right distance between two longitudes.
// This is almost the same as (lambda1 - lambda0 + 360) % 360, except that we want
// the distance between 180 to be 360.
function Br(t,e){return(e-=t)<0?e+360:e}function zr(t,e){return t[0]-e[0]}function qr(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}
// Arithmetic mean of Cartesian vectors.
function Hr(t,e){t*=wv,e*=wv;var n=Cv(e);Gr(n*Cv(t),n*Tv(t),Tv(e))}function Gr(t,e,n){++Km,Jm+=(t-Jm)/Km,tv+=(e-tv)/Km,ev+=(n-ev)/Km}function Wr(){qv.point=$r}function $r(t,e){t*=wv,e*=wv;var n=Cv(e);lv=n*Cv(t),fv=n*Tv(t),pv=Tv(e),qv.point=Yr,Gr(lv,fv,pv)}function Yr(t,e){t*=wv,e*=wv;var n=Cv(e),r=n*Cv(t),i=n*Tv(t),o=Tv(e),s=Ev(Pv((s=fv*o-pv*i)*s+(s=pv*r-lv*o)*s+(s=lv*i-fv*r)*s),lv*r+fv*i+pv*o);Qm+=s,nv+=s*(lv+(lv=r)),rv+=s*(fv+(fv=i)),iv+=s*(pv+(pv=o)),Gr(lv,fv,pv)}function Xr(){qv.point=Hr}
// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,
// J. Applied Mechanics 42, 239 (1975).
function Zr(){qv.point=Qr}function Kr(){Jr(uv,cv),qv.point=Hr}function Qr(t,e){uv=t,cv=e,t*=wv,e*=wv,qv.point=Jr;var n=Cv(e);lv=n*Cv(t),fv=n*Tv(t),pv=Tv(e),Gr(lv,fv,pv)}function Jr(t,e){t*=wv,e*=wv;var n=Cv(e),r=n*Cv(t),i=n*Tv(t),o=Tv(e),s=fv*o-pv*i,a=pv*r-lv*o,u=lv*i-fv*r,c=Pv(s*s+a*a+u*u),l=yr(c),// line weight = angle
f=c&&-l/c;// area weight multiplier
ov+=f*s,sv+=f*a,av+=f*u,Qm+=l,nv+=l*(lv+(lv=r)),rv+=l*(fv+(fv=i)),iv+=l*(pv+(pv=o)),Gr(lv,fv,pv)}function ti(t,e){return[t>mv?t-gv:t<-mv?t+gv:t,e]}function ei(t,e,n){return(t%=gv)?e||n?Wv(ri(t),ii(e,n)):ri(t):e||n?ii(e,n):ti}function ni(t){return function(e,n){return e+=t,[e>mv?e-gv:e<-mv?e+gv:e,n]}}function ri(t){var e=ni(t);return e.invert=ni(-t),e}function ii(t,e){function n(t,e){var n=Cv(e),a=Cv(t)*n,u=Tv(t)*n,c=Tv(e),l=c*r+a*i;return[Ev(u*o-l*s,a*r-c*i),yr(l*o+u*s)]}var r=Cv(t),i=Tv(t),o=Cv(e),s=Tv(e);return n.invert=function(t,e){var n=Cv(e),a=Cv(t)*n,u=Tv(t)*n,c=Tv(e),l=c*o-u*s;return[Ev(u*o+c*s,a*r+l*i),yr(l*r-a*i)]},n}
// Generates a circle centered at [0, 0], with a given radius and precision.
function oi(t,e,n,r,i,o){if(n){var s=Cv(e),a=Tv(e),u=r*n;null==i?(i=e+r*gv,o=e-u/2):(i=si(s,i),o=si(s,o),(r>0?i<o:i>o)&&(i+=r*gv));for(var c,l=i;r>0?l>o:l<o;l-=u)c=Mr([s,-a*Cv(l),-a*Tv(l)]),t.point(c[0],c[1])}}
// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].
function si(t,e){e=Or(e),e[0]-=t,Ir(e);var n=vr(-e[1]);return((-e[2]<0?-n:n)+gv-dv)%gv}function ai(t,e,n,r){this.x=t,this.z=e,this.o=n,// another intersection
this.e=r,// is an entry?
this.v=!1,// visited
this.n=this.p=null}function ui(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}
// TODO Use d3-polygons polygonContains here for the ring check?
// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?
function ci(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,a,c){var l=0,f=0;if(null==i||(l=s(i,a))!==(f=s(o,a))||u(i,o)<0^a>0)do{c.point(0===l||3===l?t:n,l>1?r:e)}while((l=(l+a+4)%4)!==f);else c.point(o[0],o[1])}function s(r,i){return _v(r[0]-t)<dv?i>0?0:3:_v(r[0]-n)<dv?i>0?2:1:_v(r[1]-e)<dv?i>0?1:0:i>0?3:2}function a(t,e){return u(t.x,e.x)}function u(t,e){var n=s(t,1),r=s(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t,e){i(t,e)&&N.point(t,e)}function c(){for(var e=0,n=0,i=v.length;n<i;++n)for(var o,s,a=v[n],u=1,c=a.length,l=a[0],f=l[0],p=l[1];u<c;++u)o=f,s=p,l=a[u],f=l[0],p=l[1],s<=r?p>r&&(f-o)*(r-s)>(p-s)*(t-o)&&++e:p<=r&&(f-o)*(r-s)<(p-s)*(t-o)&&--e;return e}
// Buffer geometry within a polygon and then clip it en masse.
function l(){N=M,m=[],v=[],S=!0}function f(){var t=c(),e=S&&t,n=(m=cl(m)).length;(e||n)&&(s.polygonStart(),e&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),n&&cy(m,a,t,o,s),s.polygonEnd()),N=s,m=v=y=null}function p(){O.point=d,v&&v.push(y=[]),C=!0,E=!1,_=x=NaN}
// TODO rather than special-case polygons, simply handle them separately.
// Ideally, coincident intersection points should be jittered to avoid
// clipping issues.
function h(){m&&(d(g,b),w&&E&&M.rejoin(),m.push(M.result())),O.point=u,E&&N.lineEnd()}function d(o,s){var a=i(o,s);if(v&&y.push([o,s]),C)g=o,b=s,w=a,C=!1,a&&(N.lineStart(),N.point(o,s));else if(a&&E)N.point(o,s);else{var u=[_=Math.max(fy,Math.min(ly,_)),x=Math.max(fy,Math.min(ly,x))],c=[o=Math.max(fy,Math.min(ly,o)),s=Math.max(fy,Math.min(ly,s))];ay(u,c,t,e,n,r)?(E||(N.lineStart(),N.point(u[0],u[1])),N.point(c[0],c[1]),a||N.lineEnd(),S=!1):a&&(N.lineStart(),N.point(o,s),S=!1)}_=o,x=s,E=a}var m,v,y,g,b,w,// first point
_,x,E,// previous point
C,S,N=s,M=sy(),O={point:u,lineStart:p,lineEnd:h,polygonStart:l,polygonEnd:f};return O}}function li(){vy.point=pi,vy.lineEnd=fi}function fi(){vy.point=vy.lineEnd=br}function pi(t,e){t*=wv,e*=wv,$v=t,Yv=Tv(e),Xv=Cv(e),vy.point=hi}function hi(t,e){t*=wv,e*=wv;var n=Tv(e),r=Cv(e),i=_v(t-$v),o=Cv(i),s=Tv(i),a=r*s,u=Xv*n-Yv*r*o,c=Yv*n+Xv*r*o;my.add(Ev(Pv(a*a+u*u),c)),$v=t,Yv=n,Xv=r}function di(t,e){return!(!t||!xy.hasOwnProperty(t.type))&&xy[t.type](t,e)}function mi(t,e){return 0===wy(t,e)}function vi(t,e){var n=wy(t[0],t[1]);return wy(t[0],e)+wy(e,t[1])<=n+dv}function yi(t,e){return!!dy(t.map(gi),bi(e))}function gi(t){return t=t.map(bi),t.pop(),t}function bi(t){return[t[0]*wv,t[1]*wv]}function wi(t,e,n){var r=Zc(t,e-dv,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function _i(t,e,n){var r=Zc(t,e-dv,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function xi(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return Zc(Sv(o/v)*v,i,v).map(p).concat(Zc(Sv(c/y)*y,u,y).map(h)).concat(Zc(Sv(r/d)*d,n,d).filter(function(t){return _v(t%v)>dv}).map(l)).concat(Zc(Sv(a/m)*m,s,m).filter(function(t){return _v(t%y)>dv}).map(f))}var n,r,i,o,s,a,u,c,l,f,p,h,d=10,m=d,v=90,y=360,g=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[p(o).concat(h(u).slice(1),p(i).reverse().slice(1),h(c).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(o=+e[0][0],i=+e[1][0],c=+e[0][1],u=+e[1][1],o>i&&(e=o,o=i,i=e),c>u&&(e=c,c=u,u=e),t.precision(g)):[[o,c],[i,u]]},t.extentMinor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],a=+e[0][1],s=+e[1][1],r>n&&(e=r,r=n,n=e),a>s&&(e=a,a=s,s=e),t.precision(g)):[[r,a],[n,s]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(v=+e[0],y=+e[1],t):[v,y]},t.stepMinor=function(e){return arguments.length?(d=+e[0],m=+e[1],t):[d,m]},t.precision=function(e){return arguments.length?(g=+e,l=wi(a,s,90),f=_i(r,n,g),p=wi(c,u,90),h=_i(o,i,g),t):g},t.extentMajor([[-180,-90+dv],[180,90-dv]]).extentMinor([[-180,-80-dv],[180,80+dv]])}function Ei(){return xi()()}function Ci(){Oy.point=Si}function Si(t,e){Oy.point=Ni,Zv=Qv=t,Kv=Jv=e}function Ni(t,e){My.add(Jv*t-Qv*e),Qv=t,Jv=e}function Mi(){Ni(Zv,Kv)}function Oi(t,e){t<Ty&&(Ty=t),t>Py&&(Py=t),e<Ay&&(Ay=e),e>ky&&(ky=e)}function Ti(t,e){Ry+=t,jy+=e,++Dy}function Ai(){qy.point=Pi}function Pi(t,e){qy.point=ki,Ti(ny=t,ry=e)}function ki(t,e){var n=t-ny,r=e-ry,i=Pv(n*n+r*r);Ly+=i*(ny+t)/2,Fy+=i*(ry+e)/2,Uy+=i,Ti(ny=t,ry=e)}function Ii(){qy.point=Ti}function Ri(){qy.point=Di}function ji(){Li(ty,ey)}function Di(t,e){qy.point=Li,Ti(ty=ny=t,ey=ry=e)}function Li(t,e){var n=t-ny,r=e-ry,i=Pv(n*n+r*r);Ly+=i*(ny+t)/2,Fy+=i*(ry+e)/2,Uy+=i,i=ry*t-ny*e,Vy+=i*(ny+t),By+=i*(ry+e),zy+=3*i,Ti(ny=t,ry=e)}function Fi(t){this._context=t}function Ui(t,e){Zy.point=Vi,Gy=$y=t,Wy=Yy=e}function Vi(t,e){$y-=t,Yy-=e,Xy.add(Pv($y*$y+Yy*Yy)),$y=t,Yy=e}function Bi(){this._string=[]}function zi(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function qi(t){return t.length>1}
// Intersections are sorted along the clip edge. For both antimeridian cutting
// and circle clipping, the same comparison is used.
function Hi(t,e){return((t=t.x)[0]<0?t[1]-vv-dv:vv-t[1])-((e=e.x)[0]<0?e[1]-vv-dv:vv-e[1])}
// Takes a line and cuts into visible segments. Return values: 0 - there were
// intersections or the line was empty; 1 - no intersections; 2 - there were
// intersections, and the first and last segments should be rejoined.
function Gi(t){var e,n=NaN,r=NaN,i=NaN;// no intersections
return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?mv:-mv,u=_v(o-n);_v(u-mv)<dv?(// line crosses a pole
t.point(n,r=(r+s)/2>0?vv:-vv),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),e=0):i!==a&&u>=mv&&(// line crosses antimeridian
_v(n-i)<dv&&(n-=i*dv),// handle degeneracies
_v(o-a)<dv&&(o-=a*dv),r=Wi(n,r,o,s),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),e=0),t.point(n=o,r=s),i=a},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function Wi(t,e,n,r){var i,o,s=Tv(t-n);return _v(s)>dv?xv((Tv(e)*(o=Cv(r))*Tv(n)-Tv(r)*(i=Cv(e))*Tv(t))/(i*o*s)):(e+r)/2}function $i(t,e,n,r){var i;if(null==t)i=n*vv,r.point(-mv,i),r.point(0,i),r.point(mv,i),r.point(mv,0),r.point(mv,-i),r.point(0,-i),r.point(-mv,-i),r.point(-mv,0),r.point(-mv,i);else if(_v(t[0]-e[0])>dv){var o=t[0]<e[0]?mv:-mv;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function Yi(t){return function(e){var n=new Xi;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Xi(){}function Zi(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),jv(n,t.stream(Iy));var s=Iy.result(),a=Math.min(r/(s[1][0]-s[0][0]),i/(s[1][1]-s[0][1])),u=+e[0][0]+(r-a*(s[1][0]+s[0][0]))/2,c=+e[0][1]+(i-a*(s[1][1]+s[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*a).translate([u,c])}function Ki(t,e,n){return Zi(t,[[0,0],e],n)}function Qi(t){return Yi({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Ji(t,e){function n(r,i,o,s,a,u,c,l,f,p,h,d,m,v){var y=c-r,g=l-i,b=y*y+g*g;if(b>4*e&&m--){var w=s+p,_=a+h,x=u+d,E=Pv(w*w+_*_+x*x),C=yr(x/=E),S=_v(_v(x)-1)<dv||_v(o-f)<dv?(o+f)/2:Ev(_,w),N=t(S,C),M=N[0],O=N[1],T=M-r,A=O-i,P=g*T-y*A;(P*P/b>e||_v((y*T+g*A)/b-.5)>.3||s*p+a*h+u*d<rg)&&(// angular distance
n(r,i,o,s,a,u,M,O,S,w/=E,_/=E,x,m,v),v.point(M,O),n(M,O,S,w,_,x,c,l,f,p,h,d,m,v))}}return function(e){function r(n,r){n=t(n,r),e.point(n[0],n[1])}function i(){y=NaN,x.point=o,e.lineStart()}function o(r,i){var o=Or([r,i]),s=t(r,i);n(y,g,v,b,w,_,y=s[0],g=s[1],v=r,b=o[0],w=o[1],_=o[2],ng,e),e.point(y,g)}function s(){x.point=r,e.lineEnd()}function a(){i(),x.point=u,x.lineEnd=c}function u(t,e){o(l=t,e),f=y,p=g,h=b,d=w,m=_,x.point=o}function c(){n(y,g,v,b,w,_,f,p,l,h,d,m,ng,e),x.lineEnd=s,s()}var l,f,p,h,d,m,// first point
v,y,g,b,w,_,x={point:r,lineStart:i,lineEnd:s,polygonStart:function(){e.polygonStart(),x.lineStart=a},polygonEnd:function(){e.polygonEnd(),x.lineStart=i}};return x}}function to(t){return eo(function(){return t})()}function eo(t){function e(t){return t=l(t[0]*wv,t[1]*wv),[t[0]*v+a,u-t[1]*v]}function n(t){return(t=l.invert((t[0]-a)/v,(u-t[1])/v))&&[t[0]*bv,t[1]*bv]}function r(t,e){return t=s(t,e),[t[0]*v+a,u-t[1]*v]}function i(){l=Wv(c=ei(_,x,E),s);var t=s(b,w);return a=y-t[0]*v,u=g+t[1]*v,o()}function o(){return d=m=null,e}var s,// translate
a,u,c,l,f,p,h,// precision
d,m,v=150,// scale
y=480,g=250,b=0,w=0,// center
_=0,x=0,E=0,// rotate
C=null,S=Jy,// clip angle
N=null,M=Sy,// clip extent
O=.5,T=ig(r,O);return e.stream=function(t){return d&&m===t?d:d=og(S(c,T(M(m=t))))},e.clipAngle=function(t){return arguments.length?(S=+t?tg(C=t*wv,6*wv):(C=null,Jy),o()):C*bv},e.clipExtent=function(t){return arguments.length?(M=null==t?(N=f=p=h=null,Sy):ci(N=+t[0][0],f=+t[0][1],p=+t[1][0],h=+t[1][1]),o()):null==N?null:[[N,f],[p,h]]},e.scale=function(t){return arguments.length?(v=+t,i()):v},e.translate=function(t){return arguments.length?(y=+t[0],g=+t[1],i()):[y,g]},e.center=function(t){return arguments.length?(b=t[0]%360*wv,w=t[1]%360*wv,i()):[b*bv,w*bv]},e.rotate=function(t){return arguments.length?(_=t[0]%360*wv,x=t[1]%360*wv,E=t.length>2?t[2]%360*wv:0,i()):[_*bv,x*bv,E*bv]},e.precision=function(t){return arguments.length?(T=ig(r,O=t*t),o()):Pv(O)},e.fitExtent=function(t,n){return Zi(e,t,n)},e.fitSize=function(t,n){return Ki(e,t,n)},function(){return s=t.apply(this,arguments),e.invert=s.invert&&n,i()}}function no(t){var e=0,n=mv/3,r=eo(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*wv,n=t[1]*wv):[e*bv,n*bv]},i}function ro(t){function e(t,e){return[t*n,Tv(e)/n]}var n=Cv(t);return e.invert=function(t,e){return[t/n,yr(e*n)]},e}function io(t,e){function n(t,e){var n=Pv(o-2*i*Tv(e))/i;return[n*Tv(t*=i),s-n*Cv(t)]}var r=Tv(t),i=(r+Tv(e))/2;
// Are the parallels symmetrical around the Equator?
if(_v(i)<dv)return ro(t);var o=1+r*(2*i-r),s=Pv(o)/i;return n.invert=function(t,e){var n=s-e;return[Ev(t,_v(n))/i*Av(n),yr((o-(t*t+n*n)*i*i)/(2*i))]},n}
// The projections must have mutually exclusive clip regions on the sphere,
// as this will avoid emitting interleaving lines and polygons.
function oo(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function so(t){return function(e,n){var r=Cv(e),i=Cv(n),o=t(r*i);return[o*i*Tv(e),o*Tv(n)]}}function ao(t){return function(e,n){var r=Pv(e*e+n*n),i=t(r),o=Tv(i),s=Cv(i);return[Ev(e*o,r*s),yr(r&&n*o/r)]}}function uo(t,e){return[t,Mv(kv((vv+e)/2))]}function co(t){function e(){var e=mv*a(),s=o(iy(o.rotate()).invert([0,0]));return c(null==l?[[s[0]-e,s[1]-e],[s[0]+e,s[1]+e]]:t===uo?[[Math.max(s[0]-e,l),n],[Math.min(s[0]+e,r),i]]:[[l,Math.max(s[1]-e,n)],[r,Math.min(s[1]+e,i)]])}var n,r,i,o=to(t),s=o.center,a=o.scale,u=o.translate,c=o.clipExtent,l=null;// clip extent
return o.scale=function(t){return arguments.length?(a(t),e()):a()},o.translate=function(t){return arguments.length?(u(t),e()):u()},o.center=function(t){return arguments.length?(s(t),e()):s()},o.clipExtent=function(t){return arguments.length?(null==t?l=n=r=i=null:(l=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),e()):null==l?null:[[l,n],[r,i]]},e()}function lo(t){return kv((vv+t)/2)}function fo(t,e){function n(t,e){o>0?e<-vv+dv&&(e=-vv+dv):e>vv-dv&&(e=vv-dv);var n=o/Ov(lo(e),i);return[n*Tv(i*t),o-n*Cv(i*t)]}var r=Cv(t),i=t===e?Tv(t):Mv(r/Cv(e))/Mv(lo(e)/lo(t)),o=r*Ov(lo(t),i)/i;return i?(n.invert=function(t,e){var n=o-e,r=Av(i)*Pv(t*t+n*n);return[Ev(t,_v(n))/i*Av(n),2*xv(Ov(o/r,1/i))-vv]},n):uo}function po(t,e){return[t,e]}function ho(t,e){function n(t,e){var n=o-e,r=i*t;return[n*Tv(r),o-n*Cv(r)]}var r=Cv(t),i=t===e?Tv(t):(r-Cv(e))/(e-t),o=r/i+t;return _v(i)<dv?po:(n.invert=function(t,e){var n=o-e;return[Ev(t,_v(n))/i*Av(n),o-Av(i)*Pv(t*t+n*n)]},n)}function mo(t,e){var n=Cv(e),r=Cv(t)*n;return[n*Tv(t)/r,Tv(e)/r]}function vo(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?Sy:Yi({point:function(i,o){this.stream.point(i*t+n,o*e+r)}})}function yo(t,e){return[Cv(e)*Tv(t),Tv(e)]}function go(t,e){var n=Cv(e),r=1+Cv(t)*n;return[n*Tv(t)/r,Tv(e)/r]}function bo(t,e){return[Mv(kv((vv+e)/2)),-t]}function wo(t,e){return t.parent===e.parent?1:2}function _o(t){return t.reduce(xo,0)/t.length}function xo(t,e){return t+e.x}function Eo(t){return 1+t.reduce(Co,0)}function Co(t,e){return Math.max(t,e.y)}function So(t){for(var e;e=t.children;)t=e[0];return t}function No(t){for(var e;e=t.children;)t=e[e.length-1];return t}function Mo(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Oo(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function To(t,e){var n,r,i,o,s,a=new Ro(t),u=+t.value&&(a.value=t.value),c=[a];for(null==e&&(e=Po);n=c.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(s=i.length))for(n.children=new Array(s),o=s-1;o>=0;--o)c.push(r=n.children[o]=new Ro(i[o])),r.parent=n,r.depth=n.depth+1;return a.eachBefore(Io)}function Ao(){return To(this).eachBefore(ko)}function Po(t){return t.children}function ko(t){t.data=t.data.data}function Io(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Ro(t){this.data=t,this.depth=this.height=0,this.parent=null}function jo(t){this._=t,this.next=null}function Do(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r-e.r;return i*i+1e-6>n*n+r*r}
// Returns the smallest circle that contains circles L and intersects circles B.
function Lo(t,e){var n,r,i,o=null,s=t.head;switch(e.length){case 1:n=Fo(e[0]);break;case 2:n=Uo(e[0],e[1]);break;case 3:n=Vo(e[0],e[1],e[2])}for(;s;)i=s._,r=s.next,n&&Do(n,i)?o=s:(
// Temporarily truncate L before l1.
o?(t.tail=o,o.next=null):t.head=t.tail=null,e.push(i),n=Lo(t,e),// Note: reorders L!
e.pop(),
// Move l1 to the front of L and reconnect the truncated list L.
t.head?(s.next=t.head,t.head=s):(s.next=null,t.head=t.tail=s),o=t.tail,o.next=r),s=r;return t.tail=o,n}function Fo(t){return{x:t.x,y:t.y,r:t.r}}function Uo(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,s=e.y,a=e.r,u=o-n,c=s-r,l=a-i,f=Math.sqrt(u*u+c*c);return{x:(n+o+u/f*l)/2,y:(r+s+c/f*l)/2,r:(f+i+a)/2}}function Vo(t,e,n){var r=t.x,i=t.y,o=t.r,s=e.x,a=e.y,u=e.r,c=n.x,l=n.y,f=n.r,p=2*(r-s),h=2*(i-a),d=2*(u-o),m=r*r+i*i-o*o-s*s-a*a+u*u,v=2*(r-c),y=2*(i-l),g=2*(f-o),b=r*r+i*i-o*o-c*c-l*l+f*f,w=v*h-p*y,_=(h*b-y*m)/w-r,x=(y*d-h*g)/w,E=(v*m-p*b)/w-i,C=(p*g-v*d)/w,S=x*x+C*C-1,N=2*(_*x+E*C+o),M=_*_+E*E-o*o,O=(-N-Math.sqrt(N*N-4*S*M))/(2*S);return{x:_+x*O+r,y:E+C*O+i,r:O}}function Bo(t,e,n){var r=t.x,i=t.y,o=e.r+n.r,s=t.r+n.r,a=e.x-r,u=e.y-i,c=a*a+u*u;if(c){var l=.5+((s*=s)-(o*=o))/(2*c),f=Math.sqrt(Math.max(0,2*o*(s+c)-(s-=c)*s-o*o))/(2*c);n.x=r+l*a+f*u,n.y=i+l*u-f*a}else n.x=r+s,n.y=i}function zo(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return i*i-1e-6>n*n+r*r}function qo(t,e,n){var r=t._,i=t.next._,o=r.r+i.r,s=(r.x*i.r+i.x*r.r)/o-e,a=(r.y*i.r+i.y*r.r)/o-n;return s*s+a*a}function Ho(t){this._=t,this.next=null,this.previous=null}function Go(t){if(!(i=t.length))return 0;var e,n,r,i;if(
// Place the first circle.
e=t[0],e.x=0,e.y=0,!(i>1))return e.r;if(
// Place the second circle.
n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;
// Place the third circle.
Bo(n,e,r=t[2]);
// Initialize the weighted centroid.
var o,s,a,u,c,l,f,p=e.r*e.r,h=n.r*n.r,d=r.r*r.r,m=p+h+d,v=p*e.x+h*n.x+d*r.x,y=p*e.y+h*n.y+d*r.y;
// Initialize the front-chain using the first three circles a, b and c.
e=new Ho(e),n=new Ho(n),r=new Ho(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;
// Attempt to place each remaining circle
t:for(a=3;a<i;++a){Bo(e._,n._,r=t[a]),r=new Ho(r),
// Find the closest intersecting circle on the front-chain, if any.
// Closeness is determined by linear distance along the front-chain.
// Ahead or behind is likewise determined by linear distance.
u=n.next,c=e.previous,l=n._.r,f=e._.r;do{if(l<=f){if(zo(u._,r._)){n=u,e.next=n,n.previous=e,--a;continue t}l+=u._.r,u=u.next}else{if(zo(c._,r._)){e=c,e.next=n,n.previous=e,--a;continue t}f+=c._.r,c=c.previous}}while(u!==c.next);for(
// Success! Insert the new circle c between a and b.
r.previous=e,r.next=n,e.next=n.previous=n=r,
// Update the weighted centroid.
m+=d=r._.r*r._.r,v+=d*r._.x,y+=d*r._.y,
// Compute the new closest circle pair to the centroid.
p=qo(e,o=v/m,s=y/m);(r=r.next)!==n;)(d=qo(r,o,s))<p&&(e=r,p=d);n=e.next}for(
// Compute the enclosing circle of the front chain.
e=[n._],r=n;(r=r.next)!==n;)e.push(r._);
// Translate the circles to put the enclosing circle around the origin.
for(r=jg(e),a=0;a<i;++a)e=t[a],e.x-=r.x,e.y-=r.y;return r.r}function Wo(t){return null==t?null:$o(t)}function $o(t){if("function"!=typeof t)throw new Error;return t}function Yo(){return 0}function Xo(t){return Math.sqrt(t.value)}function Zo(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Ko(t,e){return function(n){if(r=n.children){var r,i,o,s=r.length,a=t(n)*e||0;if(a)for(i=0;i<s;++i)r[i].r+=a;if(o=Go(r),a)for(i=0;i<s;++i)r[i].r-=a;n.r=o+a}}}function Qo(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Jo(t){return t.id}function ts(t){return t.parentId}function es(t,e){return t.parent===e.parent?1:2}
// function radialSeparation(a, b) {
//   return (a.parent === b.parent ? 1 : 2) / a.depth;
// }
// This function is used to traverse the left contour of a subtree (or
// subforest). It returns the successor of v on this contour. This successor is
// either given by the leftmost child of v or by the thread of v. The function
// returns null if and only if v is on the highest level of its subtree.
function ns(t){var e=t.children;return e?e[0]:t.t}
// This function works analogously to nextLeft.
function rs(t){var e=t.children;return e?e[e.length-1]:t.t}
// Shifts the current subtree rooted at w+. This is done by increasing
// prelim(w+) and mod(w+) by shift.
function is(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}
// All other shifts, applied to the smaller subtrees between w- and w+, are
// performed by this function. To prepare the shifts, we have to adjust
// change(w+), shift(w+), and change(w-).
function os(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)e=i[o],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}
// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,
// returns the specified (default) ancestor.
function ss(t,e,n){return t.a.parent===e.parent?t.a:n}function as(t,e){this._=t,this.parent=null,this.children=null,this.A=null,// default ancestor
this.a=this,// ancestor
this.z=0,// prelim
this.m=0,// mod
this.c=0,// change
this.s=0,// shift
this.t=null,// thread
this.i=e}function us(t){for(var e,n,r,i,o,s=new as(t,0),a=[s];e=a.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)a.push(n=e.children[i]=new as(r[i],i)),n.parent=e;return(s.parent=new as(null,0)).children=[s],s}function cs(t,e,n,r,i,o){for(var s,a,u,c,l,f,p,h,d,m,v,y=[],g=e.children,b=0,w=0,_=g.length,x=e.value;b<_;){u=i-n,c=o-r;
// Find the next non-empty node.
do{l=g[w++].value}while(!l&&w<_);
// Keep adding nodes while the aspect ratio maintains or improves.
for(f=p=l,m=Math.max(c/u,u/c)/(x*t),v=l*l*m,d=Math.max(p/v,v/f);w<_;++w){if(l+=a=g[w].value,a<f&&(f=a),a>p&&(p=a),v=l*l*m,(h=Math.max(p/v,v/f))>d){l-=a;break}d=h}
// Position and record the row orientation.
y.push(s={value:l,dice:u<c,children:g.slice(b,w)}),s.dice?Vg(s,n,r,i,x?r+=c*l/x:o):$g(s,n,r,x?n+=u*l/x:i,o),x-=l,b=w}return y}function ls(t,e){return t[0]-e[0]||t[1]-e[1]}
// Computes the upper convex hull per the monotone chain algorithm.
// Assumes points.length >= 3, is sorted by x, unique in y.
// Returns an array of indices into points in left-to-right order.
function fs(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;++i){for(;r>1&&nb(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function ps(t){if(!(t>=1))throw new Error;this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function hs(t){if(!t._start)try{ds(t)}// let the current task complete
catch(e){if(t._tasks[t._ended+t._active-1])vs(t,e);else if(!t._data)throw e}}function ds(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],r=n.length-1,i=n[r];n[r]=ms(t,e),--t._waiting,++t._active,n=i.apply(null,n),t._tasks[e]&&(// task finished synchronously
t._tasks[e]=n||ab)}}function ms(t,e){return function(n,r){t._tasks[e]&&(// ignore multiple callbacks
--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(// ignore secondary errors
null!=n?vs(t,n):(t._data[e]=r,t._waiting?hs(t):ys(t))))}}function vs(t,e){var n,r=t._tasks.length;// prevent starting
for(t._error=e,// ignore active callbacks
t._data=void 0,// allow gc
t._waiting=NaN;--r>=0;)if((n=t._tasks[r])&&(t._tasks[r]=null,n.abort))try{n.abort()}catch(e){}t._active=NaN,// allow notification
ys(t)}function ys(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,// allow gc
t._call(t._error,e)}}function gs(t){return new ps(arguments.length?+t:1/0)}function bs(t){return function(e,n){t(null==e?n:null)}}function ws(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function _s(t,e){return function(n){return t(n.responseText,e)}}function xs(t){function e(e){var o=e+"",s=n.get(o);if(!s){if(i!==Nb)return i;n.set(o,s=r.push(e))}return t[(s-1)%t.length]}var n=Bn(),r=[],i=Nb;return t=null==t?[]:Sb.call(t),e.domain=function(t){if(!arguments.length)return r.slice();r=[],n=Bn();for(var i,o,s=-1,a=t.length;++s<a;)n.has(o=(i=t[s])+"")||n.set(o,r.push(i));return e},e.range=function(n){return arguments.length?(t=Sb.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(i=t,e):i},e.copy=function(){return xs().domain(r).range(t).unknown(i)},e}function Es(){function t(){var t=i().length,r=s[1]<s[0],f=s[r-0],p=s[1-r];e=(p-f)/Math.max(1,t-u+2*c),a&&(e=Math.floor(e)),f+=(p-f-e*(t-u))*l,n=e*(1-u),a&&(f=Math.round(f),n=Math.round(n));var h=Zc(t).map(function(t){return f+e*t});return o(r?h.reverse():h)}var e,n,r=xs().unknown(void 0),i=r.domain,o=r.range,s=[0,1],a=!1,u=0,c=0,l=.5;return delete r.unknown,r.domain=function(e){return arguments.length?(i(e),t()):i()},r.range=function(e){return arguments.length?(s=[+e[0],+e[1]],t()):s.slice()},r.rangeRound=function(e){return s=[+e[0],+e[1]],a=!0,t()},r.bandwidth=function(){return n},r.step=function(){return e},r.round=function(e){return arguments.length?(a=!!e,t()):a},r.padding=function(e){return arguments.length?(u=c=Math.max(0,Math.min(1,e)),t()):u},r.paddingInner=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),t()):u},r.paddingOuter=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),t()):c},r.align=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),t()):l},r.copy=function(){return Es().domain(i()).range(s).round(a).paddingInner(u).paddingOuter(c).align(l)},t()}function Cs(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Cs(e())},t}function Ss(){return Cs(Es().paddingInner(1))}function Ns(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Mb(e)}function Ms(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}function Os(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}function Ts(t,e,n,r){var i=t[0],o=t[1],s=e[0],a=e[1];return o<i?(i=n(o,i),s=r(a,s)):(i=n(i,o),s=r(s,a)),function(t){return s(i(t))}}function As(t,e,n,r){var i=Math.min(t.length,e.length)-1,o=new Array(i),s=new Array(i),a=-1;for(
// Reverse descending domains.
t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<i;)o[a]=n(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(e){var n=Dc(t,e,1,i)-1;return s[n](o[n](e))}}function Ps(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}
// deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].
// reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].
function ks(t,e){function n(){return i=Math.min(a.length,u.length)>2?As:Ts,o=s=null,r}function r(e){return(o||(o=i(a,u,l?Ms(t):t,c)))(+e)}var i,o,s,a=Tb,u=Tb,c=Cp,l=!1;return r.invert=function(t){return(s||(s=i(u,a,Ns,l?Os(e):e)))(+t)},r.domain=function(t){return arguments.length?(a=Cb.call(t,Ob),n()):a.slice()},r.range=function(t){return arguments.length?(u=Sb.call(t),n()):u.slice()},r.rangeRound=function(t){return u=Sb.call(t),c=Sp,n()},r.clamp=function(t){return arguments.length?(l=!!t,n()):l},r.interpolate=function(t){return arguments.length?(c=t,n()):c},n()}function Is(t){var e=t.domain;return t.ticks=function(t){var n=e();return tl(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return Ab(e(),t,n)},t.nice=function(n){var i=e(),o=i.length-1,s=null==n?10:n,a=i[0],u=i[o],c=r(a,u,s);return c&&(c=r(Math.floor(a/c)*c,Math.ceil(u/c)*c,s),i[0]=Math.floor(a/c)*c,i[o]=Math.ceil(u/c)*c,e(i)),t},t}function Rs(){var t=ks(Ns,bp);return t.copy=function(){return Ps(t,Rs())},Is(t)}function js(){function t(t){return+t}var e=[0,1];return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=Cb.call(n,Ob),t):e.slice()},t.copy=function(){return js().domain(e)},Is(t)}function Ds(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:Mb(e)}function Ls(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function Fs(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Us(t){return 10===t?Fs:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function Vs(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function Bs(t){return function(e){return-t(-e)}}function zs(){function e(){return o=Vs(i),s=Us(i),r()[0]<0&&(o=Bs(o),s=Bs(s)),n}var n=ks(Ds,Ls).domain([1,10]),r=n.domain,i=10,o=Vs(10),s=Us(10);return n.base=function(t){return arguments.length?(i=+t,e()):i},n.domain=function(t){return arguments.length?(r(t),e()):r()},n.ticks=function(t){var e,n=r(),a=n[0],u=n[n.length-1];(e=u<a)&&(p=a,a=u,u=p);var c,l,f,p=o(a),h=o(u),d=null==t?10:+t,m=[];if(!(i%1)&&h-p<d){if(p=Math.round(p)-1,h=Math.round(h)+1,a>0){for(;p<h;++p)for(l=1,c=s(p);l<i;++l)if(!((f=c*l)<a)){if(f>u)break;m.push(f)}}else for(;p<h;++p)for(l=i-1,c=s(p);l>=1;--l)if(!((f=c*l)<a)){if(f>u)break;m.push(f)}}else m=tl(p,h,Math.min(h-p,d)).map(s);return e?m.reverse():m},n.tickFormat=function(e,r){if(null==r&&(r=10===i?".0e":","),"function"!=typeof r&&(r=t.format(r)),e===1/0)return r;null==e&&(e=10);var a=Math.max(1,i*e/n.ticks().length);// TODO fast estimate?
return function(t){var e=t/s(Math.round(o(t)));return e*i<i-.5&&(e*=i),e<=a?r(t):""}},n.nice=function(){return r(Pb(r(),{floor:function(t){return s(Math.floor(o(t)))},ceil:function(t){return s(Math.ceil(o(t)))}}))},n.copy=function(){return Ps(n,zs().base(i))},n}function qs(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function Hs(){function t(t,e){return(e=qs(e,n)-(t=qs(t,n)))?function(r){return(qs(r,n)-t)/e}:Mb(e)}function e(t,e){return e=qs(e,n)-(t=qs(t,n)),function(r){return qs(t+e*r,1/n)}}var n=1,r=ks(t,e),i=r.domain;return r.exponent=function(t){return arguments.length?(n=+t,i(i())):n},r.copy=function(){return Ps(r,Hs().exponent(n))},Is(r)}function Gs(){return Hs().exponent(.5)}function Ws(){function t(){var t=0,o=Math.max(1,r.length);for(i=new Array(o-1);++t<o;)i[t-1]=rl(n,t/o);return e}function e(t){if(!isNaN(t=+t))return r[Dc(i,t)]}var n=[],r=[],i=[];return e.invertExtent=function(t){var e=r.indexOf(t);return e<0?[NaN,NaN]:[e>0?i[e-1]:n[0],e<i.length?i[e]:n[n.length-1]]},e.domain=function(e){if(!arguments.length)return n.slice();n=[];for(var r,i=0,o=e.length;i<o;++i)null==(r=e[i])||isNaN(r=+r)||n.push(r);return n.sort(Ic),t()},e.range=function(e){return arguments.length?(r=Sb.call(e),t()):r.slice()},e.quantiles=function(){return i.slice()},e.copy=function(){return Ws().domain(n).range(r)},e}function $s(){function t(t){if(t<=t)return s[Dc(o,t,0,i)]}function e(){var e=-1;for(o=new Array(i);++e<i;)o[e]=((e+1)*r-(e-i)*n)/(i+1);return t}var n=0,r=1,i=1,o=[.5],s=[0,1];return t.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],e()):[n,r]},t.range=function(t){return arguments.length?(i=(s=Sb.call(t)).length-1,e()):s.slice()},t.invertExtent=function(t){var e=s.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:e>=i?[o[i-1],r]:[o[e-1],o[e]]},t.copy=function(){return $s().domain([n,r]).range(s)},Is(t)}function Ys(){function t(t){if(t<=t)return n[Dc(e,t,0,r)]}var e=[.5],n=[0,1],r=1;return t.domain=function(i){return arguments.length?(e=Sb.call(i),r=Math.min(e.length,n.length-1),t):e.slice()},t.range=function(i){return arguments.length?(n=Sb.call(i),r=Math.min(e.length,n.length-1),t):n.slice()},t.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},t.copy=function(){return Ys().domain(e).range(n)},t}function Xs(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;// also handles Invalid Date
do{s.push(new Date(+n))}while(e(n,o),t(n),n<r);return s},i.filter=function(n){return Xs(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return kb.setTime(+e),Ib.setTime(+r),t(kb),t(Ib),Math.floor(n(kb,Ib))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}function Zs(t){return Xs(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Db)/Lb})}function Ks(t){return Xs(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Lb})}function Qs(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Js(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ta(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function ea(t){function e(t,e){return function(n){var r,i,o,s=[],a=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===t.charCodeAt(a)&&(s.push(t.slice(u,a)),null!=(i=jw[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),s.push(r),u=a+1);return s.push(t.slice(u,a)),s.join("")}}function n(t,e){return function(n){var i=ta(1900);if(r(i,t,n+="",0)!=n.length)return null;
// Convert day-of-week and week-of-year to day-of-year.
if(
// The am-pm flag is 0 for AM, and 1 for PM.
"p"in i&&(i.H=i.H%12+12*i.p),"W"in i||"U"in i){"w"in i||(i.w="W"in i?1:0);var o="Z"in i?Js(ta(i.y)).getUTCDay():e(ta(i.y)).getDay();i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7}
// If a time zone is specified, all fields are interpreted as UTC and then
// offset according to the specified time zone.
// If a time zone is specified, all fields are interpreted as UTC and then
// offset according to the specified time zone.
return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Js(i)):e(i)}}function r(t,e,n,r){for(var i,o,s=0,a=e.length,u=n.length;s<a;){if(r>=u)return-1;if(37===(i=e.charCodeAt(s++))){if(i=e.charAt(s++),!(o=z[i in jw?e.charAt(s++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function i(t,e,n){var r=A.exec(e.slice(n));return r?(t.p=P[r[0].toLowerCase()],n+r[0].length):-1}function o(t,e,n){var r=R.exec(e.slice(n));return r?(t.w=j[r[0].toLowerCase()],n+r[0].length):-1}function s(t,e,n){var r=k.exec(e.slice(n));return r?(t.w=I[r[0].toLowerCase()],n+r[0].length):-1}function a(t,e,n){var r=F.exec(e.slice(n));return r?(t.m=U[r[0].toLowerCase()],n+r[0].length):-1}function u(t,e,n){var r=D.exec(e.slice(n));return r?(t.m=L[r[0].toLowerCase()],n+r[0].length):-1}function c(t,e,n){return r(t,x,e,n)}function l(t,e,n){return r(t,E,e,n)}function f(t,e,n){return r(t,C,e,n)}function p(t){return M[t.getDay()]}function h(t){return N[t.getDay()]}function d(t){return T[t.getMonth()]}function m(t){return O[t.getMonth()]}function v(t){return S[+(t.getHours()>=12)]}function y(t){return M[t.getUTCDay()]}function g(t){return N[t.getUTCDay()]}function b(t){return T[t.getUTCMonth()]}function w(t){return O[t.getUTCMonth()]}function _(t){return S[+(t.getUTCHours()>=12)]}var x=t.dateTime,E=t.date,C=t.time,S=t.periods,N=t.days,M=t.shortDays,O=t.months,T=t.shortMonths,A=ia(S),P=oa(S),k=ia(N),I=oa(N),R=ia(M),j=oa(M),D=ia(O),L=oa(O),F=ia(T),U=oa(T),V={a:p,A:h,b:d,B:m,c:null,d:wa,e:wa,H:_a,I:xa,j:Ea,L:Ca,m:Sa,M:Na,p:v,S:Ma,U:Oa,w:Ta,W:Aa,x:null,X:null,y:Pa,Y:ka,Z:Ia,"%":Ya},B={a:y,A:g,b:b,B:w,c:null,d:Ra,e:Ra,H:ja,I:Da,j:La,L:Fa,m:Ua,M:Va,p:_,S:Ba,U:za,w:qa,W:Ha,x:null,X:null,y:Ga,Y:Wa,Z:$a,"%":Ya},z={a:o,A:s,b:a,B:u,c:c,d:ha,e:ha,H:ma,I:ma,j:da,L:ga,m:pa,M:va,p:i,S:ya,U:aa,w:sa,W:ua,x:l,X:f,y:la,Y:ca,Z:fa,"%":ba};
// These recursive directive definitions must be deferred.
return V.x=e(E,V),V.X=e(C,V),V.c=e(x,V),B.x=e(E,B),B.X=e(C,B),B.c=e(x,B),{format:function(t){var n=e(t+="",V);return n.toString=function(){return t},n},parse:function(t){var e=n(t+="",Qs);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",B);return n.toString=function(){return t},n},utcParse:function(t){var e=n(t,Js);return e.toString=function(){return t},e}}}function na(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function ra(t){return t.replace(Fw,"\\$&")}function ia(t){return new RegExp("^(?:"+t.map(ra).join("|")+")","i")}function oa(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function sa(t,e,n){var r=Dw.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function aa(t,e,n){var r=Dw.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function ua(t,e,n){var r=Dw.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function ca(t,e,n){var r=Dw.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function la(t,e,n){var r=Dw.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function fa(t,e,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function pa(t,e,n){var r=Dw.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ha(t,e,n){var r=Dw.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function da(t,e,n){var r=Dw.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ma(t,e,n){var r=Dw.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function va(t,e,n){var r=Dw.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ya(t,e,n){var r=Dw.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ga(t,e,n){var r=Dw.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ba(t,e,n){var r=Lw.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function wa(t,e){return na(t.getDate(),e,2)}function _a(t,e){return na(t.getHours(),e,2)}function xa(t,e){return na(t.getHours()%12||12,e,2)}function Ea(t,e){return na(1+Hb.count(uw(t),t),e,3)}function Ca(t,e){return na(t.getMilliseconds(),e,3)}function Sa(t,e){return na(t.getMonth()+1,e,2)}function Na(t,e){return na(t.getMinutes(),e,2)}function Ma(t,e){return na(t.getSeconds(),e,2)}function Oa(t,e){return na(Wb.count(uw(t),t),e,2)}function Ta(t){return t.getDay()}function Aa(t,e){return na($b.count(uw(t),t),e,2)}function Pa(t,e){return na(t.getFullYear()%100,e,2)}function ka(t,e){return na(t.getFullYear()%1e4,e,4)}function Ia(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+na(e/60|0,"0",2)+na(e%60,"0",2)}function Ra(t,e){return na(t.getUTCDate(),e,2)}function ja(t,e){return na(t.getUTCHours(),e,2)}function Da(t,e){return na(t.getUTCHours()%12||12,e,2)}function La(t,e){return na(1+dw.count(kw(t),t),e,3)}function Fa(t,e){return na(t.getUTCMilliseconds(),e,3)}function Ua(t,e){return na(t.getUTCMonth()+1,e,2)}function Va(t,e){return na(t.getUTCMinutes(),e,2)}function Ba(t,e){return na(t.getUTCSeconds(),e,2)}function za(t,e){return na(vw.count(kw(t),t),e,2)}function qa(t){return t.getUTCDay()}function Ha(t,e){return na(yw.count(kw(t),t),e,2)}function Ga(t,e){return na(t.getUTCFullYear()%100,e,2)}function Wa(t,e){return na(t.getUTCFullYear()%1e4,e,4)}function $a(){return"+0000"}function Ya(){return"%"}function Xa(e){return Iw=ea(e),t.timeFormat=Iw.format,t.timeParse=Iw.parse,t.utcFormat=Iw.utcFormat,t.utcParse=Iw.utcParse,Iw}function Za(t){return t.toISOString()}function Ka(t){var e=new Date(t);return isNaN(e)?null:e}function Qa(t){return new Date(t)}function Ja(t){return t instanceof Date?+t:+new Date(+t)}function tu(t,e,n,i,o,s,a,u,c){function l(r){return(a(r)<r?m:s(r)<r?v:o(r)<r?y:i(r)<r?g:e(r)<r?n(r)<r?b:w:t(r)<r?_:x)(r)}function f(e,n,i,o){
// If a desired tick count is specified, pick a reasonable tick interval
// based on the extent of the domain and a rough estimate of tick size.
// Otherwise, assume interval is already a time interval and use it.
if(null==e&&(e=10),"number"==typeof e){var s=Math.abs(i-n)/e,a=Rc(function(t){return t[2]}).right(E,s);a===E.length?(o=r(n/$w,i/$w,e),e=t):a?(a=E[s/E[a-1][2]<E[a][2]/s?a-1:a],o=a[1],e=a[0]):(o=r(n,i,e),e=u)}return null==o?e:e.every(o)}var p=ks(Ns,bp),h=p.invert,d=p.domain,m=c(".%L"),v=c(":%S"),y=c("%I:%M"),g=c("%I %p"),b=c("%a %d"),w=c("%b %d"),_=c("%B"),x=c("%Y"),E=[[a,1,Bw],[a,5,5*Bw],[a,15,15*Bw],[a,30,30*Bw],[s,1,zw],[s,5,5*zw],[s,15,15*zw],[s,30,30*zw],[o,1,qw],[o,3,3*qw],[o,6,6*qw],[o,12,12*qw],[i,1,Hw],[i,2,2*Hw],[n,1,Gw],[e,1,Ww],[e,3,3*Ww],[t,1,$w]];return p.invert=function(t){return new Date(h(t))},p.domain=function(t){return arguments.length?d(Cb.call(t,Ja)):d().map(Qa)},p.ticks=function(t,e){var n,r=d(),i=r[0],o=r[r.length-1],s=o<i;// inclusive stop
return s&&(n=i,i=o,o=n),n=f(t,i,o,e),n=n?n.range(i,o+1):[],s?n.reverse():n},p.tickFormat=function(t,e){return null==e?l:c(e)},p.nice=function(t,e){var n=d();return(t=f(t,n[0],n[n.length-1],e))?d(Pb(n,t)):p},p.copy=function(){return Ps(p,tu(t,e,n,i,o,s,a,u,c))},p}function eu(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function nu(t){function e(e){var o=(e-n)/(r-n);return t(i?Math.max(0,Math.min(1,o)):o)}var n=0,r=1,i=!1;return e.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.clamp=function(t){return arguments.length?(i=!!t,e):i},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.copy=function(){return nu(t).domain([n,r]).clamp(i)},Is(e)}function ru(t){return t>1?0:t<-1?b_:Math.acos(t)}function iu(t){return t>=1?w_:t<=-1?-w_:Math.asin(t)}function ou(t){return t.innerRadius}function su(t){return t.outerRadius}function au(t){return t.startAngle}function uu(t){return t.endAngle}function cu(t){return t&&t.padAngle}function lu(t,e,n,r,i,o,s,a){var u=n-t,c=r-e,l=s-i,f=a-o,p=(l*(e-o)-f*(t-i))/(f*u-l*c);return[t+p*u,e+p*c]}
// Compute perpendicular offset line of length rc.
// http://mathworld.wolfram.com/Circle-LineIntersection.html
function fu(t,e,n,r,i,o,s){var a=t-n,u=e-r,c=(s?o:-o)/y_(a*a+u*u),l=c*u,f=-c*a,p=t+l,h=e+f,d=n+l,m=r+f,v=(p+d)/2,y=(h+m)/2,g=d-p,b=m-h,w=g*g+b*b,_=i-o,x=p*m-d*h,E=(b<0?-1:1)*y_(d_(0,_*_*w-x*x)),C=(x*b-g*E)/w,S=(-x*g-b*E)/w,N=(x*b+g*E)/w,M=(-x*g+b*E)/w,O=C-v,T=S-y,A=N-v,P=M-y;
// Pick the closer of the two intersection points.
// TODO Is there a faster way to determine which intersection to use?
return O*O+T*T>A*A+P*P&&(C=N,S=M),{cx:C,cy:S,x01:-l,y01:-f,x11:C*(i/_-1),y11:S*(i/_-1)}}function pu(t){this._context=t}function hu(t){return t[0]}function du(t){return t[1]}function mu(t){this._curve=t}function vu(t){function e(e){return new mu(t(e))}return e._curve=t,e}function yu(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(vu(t)):e()._curve},t}function gu(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function bu(t){this._context=t}function wu(t){this._context=t}function _u(t){this._context=t}function xu(t,e){this._basis=new bu(t),this._beta=e}function Eu(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Cu(t,e){this._context=t,this._k=(1-e)/6}function Su(t,e){this._context=t,this._k=(1-e)/6}function Nu(t,e){this._context=t,this._k=(1-e)/6}function Mu(t,e,n){var r=t._x1,i=t._y1,o=t._x2,s=t._y2;if(t._l01_a>g_){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>g_){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,s=(s*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,s,t._x2,t._y2)}function Ou(t,e){this._context=t,this._alpha=e}function Tu(t,e){this._context=t,this._alpha=e}function Au(t,e){this._context=t,this._alpha=e}function Pu(t){this._context=t}function ku(t){return t<0?-1:1}
// Calculate the slopes of the tangents (Hermite-type interpolation) based on
// the following paper: Steffen, M. 1990. A Simple Method for Monotonic
// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.
// NOV(II), P. 443, 1990.
function Iu(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(ku(o)+ku(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}
// Calculate a one-sided slope.
function Ru(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}
// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations
// "you can express cubic Hermite interpolation in terms of cubic Bzier curves
// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1".
function ju(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Du(t){this._context=t}function Lu(t){this._context=new Fu(t)}function Fu(t){this._context=t}function Uu(t){return new Du(t)}function Vu(t){return new Lu(t)}function Bu(t){this._context=t}
// See https://www.particleincell.com/2012/bezier-splines/ for derivation.
function zu(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function qu(t,e){this._context=t,this._t=e}function Hu(t){return new qu(t,0)}function Gu(t){return new qu(t,1)}function Wu(t,e){return t[e]}function $u(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function Yu(t){return t[0]}function Xu(t){return t[1]}function Zu(){this._=null}function Ku(t){t.U=// parent node
t.C=// color - true for red, false for black
t.L=// left node
t.R=// right node
t.P=// previous node
t.N=null}function Qu(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Ju(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function tc(t){for(;t.L;)t=t.L;return t}function ec(t,e,n,r){var i=[null,null],o=Mx.push(i)-1;return i.left=t,i.right=e,n&&rc(i,t,e,n),r&&rc(i,e,t,r),Sx[t.index].halfedges.push(o),Sx[e.index].halfedges.push(o),i}function nc(t,e,n){var r=[e,n];return r.left=t,r}function rc(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}
// LiangBarsky line clipping.
function ic(t,e,n,r,i){var o,s=t[0],a=t[1],u=s[0],c=s[1],l=a[0],f=a[1],p=0,h=1,d=l-u,m=f-c;if(o=e-u,d||!(o>0)){if(o/=d,d<0){if(o<p)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>p&&(p=o)}if(o=r-u,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>p&&(p=o)}else if(d>0){if(o<p)return;o<h&&(h=o)}if(o=n-c,m||!(o>0)){if(o/=m,m<0){if(o<p)return;o<h&&(h=o)}else if(m>0){if(o>h)return;o>p&&(p=o)}if(o=i-c,m||!(o<0)){if(o/=m,m<0){if(o>h)return;o>p&&(p=o)}else if(m>0){if(o<p)return;o<h&&(h=o)}// TODO Better check?
return!(p>0||h<1)||(p>0&&(t[0]=[u+p*d,c+p*m]),h<1&&(t[1]=[u+h*d,c+h*m]),!0)}}}}}function oc(t,e,n,r,i){var o=t[1];if(o)return!0;var s,a,u=t[0],c=t.left,l=t.right,f=c[0],p=c[1],h=l[0],d=l[1],m=(f+h)/2,v=(p+d)/2;if(d===p){if(m<e||m>=r)return;if(f>h){if(u){if(u[1]>=i)return}else u=[m,n];o=[m,i]}else{if(u){if(u[1]<n)return}else u=[m,i];o=[m,n]}}else if(s=(f-h)/(d-p),a=v-s*m,s<-1||s>1)if(f>h){if(u){if(u[1]>=i)return}else u=[(n-a)/s,n];o=[(i-a)/s,i]}else{if(u){if(u[1]<n)return}else u=[(i-a)/s,i];o=[(n-a)/s,n]}else if(p<d){if(u){if(u[0]>=r)return}else u=[e,s*e+a];o=[r,s*r+a]}else{if(u){if(u[0]<e)return}else u=[r,s*r+a];o=[e,s*e+a]}return t[0]=u,t[1]=o,!0}function sc(t,e,n,r){for(var i,o=Mx.length;o--;)oc(i=Mx[o],t,e,n,r)&&ic(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>Ax||Math.abs(i[0][1]-i[1][1])>Ax)||delete Mx[o]}function ac(t){return Sx[t.index]={site:t,halfedges:[]}}function uc(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function cc(t,e){return e[+(e.left!==t.site)]}function lc(t,e){return e[+(e.left===t.site)]}function fc(){for(var t,e,n,r,i=0,o=Sx.length;i<o;++i)if((t=Sx[i])&&(r=(e=t.halfedges).length)){var s=new Array(r),a=new Array(r);for(n=0;n<r;++n)s[n]=n,a[n]=uc(t,Mx[e[n]]);for(s.sort(function(t,e){return a[e]-a[t]}),n=0;n<r;++n)a[n]=e[s[n]];for(n=0;n<r;++n)e[n]=a[n]}}function pc(t,e,n,r){var i,o,s,a,u,c,l,f,p,h,d,m,v=Sx.length,y=!0;for(i=0;i<v;++i)if(o=Sx[i]){
// Remove any dangling clipped edges.
for(s=o.site,u=o.halfedges,a=u.length;a--;)Mx[u[a]]||u.splice(a,1);for(
// Insert any border edges as necessary.
a=0,c=u.length;a<c;)h=lc(o,Mx[u[a]]),d=h[0],m=h[1],l=cc(o,Mx[u[++a%c]]),f=l[0],p=l[1],(Math.abs(d-f)>Ax||Math.abs(m-p)>Ax)&&(u.splice(a,0,Mx.push(nc(s,h,Math.abs(d-t)<Ax&&r-m>Ax?[t,Math.abs(f-t)<Ax?p:r]:Math.abs(m-r)<Ax&&n-d>Ax?[Math.abs(p-r)<Ax?f:n,r]:Math.abs(d-n)<Ax&&m-e>Ax?[n,Math.abs(f-n)<Ax?p:e]:Math.abs(m-e)<Ax&&d-t>Ax?[Math.abs(p-e)<Ax?f:t,e]:null))-1),++c);c&&(y=!1)}
// If there werent any edges, have the closest site cover the extent.
// It doesnt matter which corner of the extent we measure!
if(y){var g,b,w,_=1/0;for(i=0,y=null;i<v;++i)(o=Sx[i])&&(s=o.site,g=s[0]-t,b=s[1]-e,(w=g*g+b*b)<_&&(_=w,y=o));if(y){var x=[t,e],E=[t,r],C=[n,r],S=[n,e];y.halfedges.push(Mx.push(nc(s=y.site,x,E))-1,Mx.push(nc(s,E,C))-1,Mx.push(nc(s,C,S))-1,Mx.push(nc(s,S,x))-1)}}
// Lastly delete any cells with no edges; these were entirely clipped.
for(i=0;i<v;++i)(o=Sx[i])&&(o.halfedges.length||delete Sx[i])}function hc(){Ku(this),this.x=this.y=this.arc=this.site=this.cy=null}function dc(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var s=i[0],a=i[1],u=r[0]-s,c=r[1]-a,l=o[0]-s,f=o[1]-a,p=2*(u*f-c*l);if(!(p>=-Px)){var h=u*u+c*c,d=l*l+f*f,m=(f*h-c*d)/p,v=(u*d-l*h)/p,y=Ox.pop()||new hc;y.arc=t,y.site=i,y.x=m+s,y.y=(y.cy=v+a)+Math.sqrt(m*m+v*v),// y bottom
t.circle=y;for(var g=null,b=Nx._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){g=b.P;break}b=b.L}else{if(!b.R){g=b;break}b=b.R}Nx.insert(g,y),g||(Ex=y)}}}}function mc(t){var e=t.circle;e&&(e.P||(Ex=e.N),Nx.remove(e),Ox.push(e),Ku(e),t.circle=null)}function vc(){Ku(this),this.edge=this.site=this.circle=null}function yc(t){var e=Tx.pop()||new vc;return e.site=t,e}function gc(t){mc(t),Cx.remove(t),Tx.push(t),Ku(t)}function bc(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,s=t.N,a=[t];gc(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<Ax&&Math.abs(r-u.circle.cy)<Ax;)o=u.P,a.unshift(u),gc(u),u=o;a.unshift(u),mc(u);for(var c=s;c.circle&&Math.abs(n-c.circle.x)<Ax&&Math.abs(r-c.circle.cy)<Ax;)s=c.N,a.push(c),gc(c),c=s;a.push(c),mc(c);var l,f=a.length;for(l=1;l<f;++l)c=a[l],u=a[l-1],rc(c.edge,u.site,c.site,i);u=a[0],c=a[f-1],c.edge=ec(u.site,c.site,null,i),dc(u),dc(c)}function wc(t){for(var e,n,r,i,o=t[0],s=t[1],a=Cx._;a;)if((r=_c(a,s)-o)>Ax)a=a.L;else{if(!((i=o-xc(a,s))>Ax)){r>-Ax?(e=a.P,n=a):i>-Ax?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}ac(t);var u=yc(t);if(Cx.insert(e,u),e||n){if(e===n)return mc(e),n=yc(e.site),Cx.insert(u,n),u.edge=n.edge=ec(e.site,u.site),dc(e),void dc(n);if(!n)// && lArc
return void(u.edge=ec(e.site,u.site));
// else lArc !== rArc
mc(e),mc(n);var c=e.site,l=c[0],f=c[1],p=t[0]-l,h=t[1]-f,d=n.site,m=d[0]-l,v=d[1]-f,y=2*(p*v-h*m),g=p*p+h*h,b=m*m+v*v,w=[(v*g-h*b)/y+l,(p*b-m*g)/y+f];rc(n.edge,c,d,w),u.edge=ec(c,t,null,w),n.edge=ec(t,d,null,w),dc(e),dc(n)}}function _c(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var s=t.P;if(!s)return-1/0;n=s.site;var a=n[0],u=n[1],c=u-e;if(!c)return a;var l=a-r,f=1/o-1/c,p=l/c;return f?(-p+Math.sqrt(p*p-2*f*(l*l/(-2*c)-u+c/2+i-o/2)))/f+r:(r+a)/2}function xc(t,e){var n=t.N;if(n)return _c(n,e);var r=t.site;return r[1]===e?r[0]:1/0}function Ec(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function Cc(t,e){return e[1]-t[1]||e[0]-t[0]}function Sc(t,e){var n,r,i,o=t.sort(Cc).pop();for(Mx=[],Sx=new Array(t.length),Cx=new Zu,Nx=new Zu;;)if(i=Ex,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(wc(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;bc(i.arc)}if(fc(),e){var s=+e[0][0],a=+e[0][1],u=+e[1][0],c=+e[1][1];sc(s,a,u,c),pc(s,a,u,c)}this.edges=Mx,this.cells=Sx,Cx=Nx=Mx=Sx=null}function Nc(t,e,n){this.target=t,this.type=e,this.transform=n}function Mc(t,e,n){this.k=t,this.x=e,this.y=n}function Oc(t){return t.__zoom||Rx}function Tc(){t.event.stopImmediatePropagation()}
// Ignore right-click, since that should open the context menu.
function Ac(){return!t.event.button}function Pc(){var t,e,n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,t=n.width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function kc(){return this.__zoom||Rx}var Ic=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},Rc=function(t){return 1===t.length&&(t=e(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}},jc=Rc(Ic),Dc=jc.right,Lc=jc.left,Fc=function(t,e){null==e&&(e=n);for(var r=0,i=t.length-1,o=t[0],s=new Array(i<0?0:i);r<i;)s[r]=e(o,o=t[++r]);return s},Uc=function(t,e,r){var i,o,s,a,u=t.length,c=e.length,l=new Array(u*c);for(null==r&&(r=n),i=s=0;i<u;++i)for(a=t[i],o=0;o<c;++o,++s)l[s]=r(a,e[o]);return l},Vc=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},Bc=function(t){return null===t?NaN:+t},zc=function(t,e){var n,r,i=t.length,o=0,s=0,a=-1,u=0;if(null==e)for(;++a<i;)isNaN(n=Bc(t[a]))||(r=n-o,o+=r/++u,s+=r*(n-o));else for(;++a<i;)isNaN(n=Bc(e(t[a],a,t)))||(r=n-o,o+=r/++u,s+=r*(n-o));if(u>1)return s/(u-1)},qc=function(t,e){var n=zc(t,e);return n?Math.sqrt(n):n},Hc=function(t,e){var n,r,i,o=-1,s=t.length;if(null==e){for(;++o<s;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<s;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<s;)if(null!=(r=e(t[o],o,t))&&r>=r){n=i=r;break}for(;++o<s;)null!=(r=e(t[o],o,t))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},Gc=Array.prototype,Wc=Gc.slice,$c=Gc.map,Yc=function(t){return function(){return t}},Xc=function(t){return t},Zc=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o},Kc=Math.sqrt(50),Qc=Math.sqrt(10),Jc=Math.sqrt(2),tl=function(t,e,n){var i=r(t,e,n);// inclusive
return Zc(Math.ceil(t/i)*i,Math.floor(e/i)*i+i/2,i)},el=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},nl=function(){function t(t){var i,o,s=t.length,a=new Array(s);for(i=0;i<s;++i)a[i]=e(t[i],i,t);var u=n(a),c=u[0],l=u[1],f=r(a,c,l);
// Convert number of thresholds into uniform thresholds.
Array.isArray(f)||(f=tl(c,l,f));for(
// Remove any thresholds outside the domain.
var p=f.length;f[0]<=c;)f.shift(),--p;for(;f[p-1]>=l;)f.pop(),--p;var h,d=new Array(p+1);
// Initialize bins.
for(i=0;i<=p;++i)h=d[i]=[],h.x0=i>0?f[i-1]:c,h.x1=i<p?f[i]:l;
// Assign data to bins by value, ignoring any outside the domain.
for(i=0;i<s;++i)o=a[i],c<=o&&o<=l&&d[Dc(f,o,0,p)].push(t[i]);return d}var e=Xc,n=Hc,r=el;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:Yc(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:Yc([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(r="function"==typeof e?e:Yc(Array.isArray(e)?Wc.call(e):e),t):r},t},rl=function(t,e,n){if(null==n&&(n=Bc),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t);return s+(+n(t[o+1],o+1,t)-s)*(i-o)}},il=function(t,e,n){return t=$c.call(t,Bc).sort(Ic),Math.ceil((n-e)/(2*(rl(t,.75)-rl(t,.25))*Math.pow(t.length,-1/3)))},ol=function(t,e,n){return Math.ceil((n-e)/(3.5*qc(t)*Math.pow(t.length,-1/3)))},sl=function(t,e){var n,r,i=-1,o=t.length;if(null==e){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e(t[i],i,t))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e(t[i],i,t))&&r>n&&(n=r)}return n},al=function(t,e){var n,r=0,i=t.length,o=-1,s=i;if(null==e)for(;++o<i;)isNaN(n=Bc(t[o]))?--s:r+=n;else for(;++o<i;)isNaN(n=Bc(e(t[o],o,t)))?--s:r+=n;if(s)return r/s},ul=function(t,e){var n,r=[],i=t.length,o=-1;if(null==e)for(;++o<i;)isNaN(n=Bc(t[o]))||r.push(n);else for(;++o<i;)isNaN(n=Bc(e(t[o],o,t)))||r.push(n);return rl(r.sort(Ic),.5)},cl=function(t){for(var e,n,r,i=t.length,o=-1,s=0;++o<i;)s+=t[o].length;for(n=new Array(s);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--s]=r[e];return n},ll=function(t,e){var n,r,i=-1,o=t.length;if(null==e){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e(t[i],i,t))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e(t[i],i,t))&&n>r&&(n=r)}return n},fl=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},pl=function(t,e){if(n=t.length){var n,r,i=0,o=0,s=t[o];for(e||(e=Ic);++i<n;)(e(r=t[i],s)<0||0!==e(s,s))&&(s=r,o=i);return 0===e(s,s)?o:void 0}},hl=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},dl=function(t,e){var n,r=0,i=t.length,o=-1;if(null==e)for(;++o<i;)(n=+t[o])&&(r+=n);else for(;++o<i;)(n=+e(t[o],o,t))&&(r+=n);return r},ml=function(t){if(!(o=t.length))return[];for(var e=-1,n=ll(t,i),r=new Array(n);++e<n;)for(var o,s=-1,a=r[e]=new Array(o);++s<o;)a[s]=t[s][e];return r},vl=function(){return ml(arguments)},yl=Array.prototype.slice,gl=function(t){return t},bl=1,wl=2,_l=3,xl=4,El=1e-6,Cl={value:function(){}};m.prototype=d.prototype={constructor:m,on:function(t,e){var n,r=this._,i=v(t+"",r),o=-1,s=i.length;
// If no callback was specified, return the callback of the given type and name.
{if(!(arguments.length<2)){
// If a type was specified, set the callback for the given type and name.
// Otherwise, if a null callback was specified, remove callbacks of the given name.
if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=i[o]).type)r[n]=g(r[n],t.name,e);else if(null==e)for(n in r)r[n]=g(r[n],t.name,null);return this}for(;++o<s;)if((n=(t=i[o]).type)&&(n=y(r[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new m(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,n=r.length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Sl="http://www.w3.org/1999/xhtml",Nl={svg:"http://www.w3.org/2000/svg",xhtml:Sl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ml=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Nl.hasOwnProperty(e)?{space:Nl[e],local:t}:t},Ol=function(t){var e=Ml(t);return(e.local?w:b)(e)},Tl=0;x.prototype=_.prototype={constructor:x,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Al=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Pl=document.documentElement;if(!Pl.matches){var kl=Pl.webkitMatchesSelector||Pl.msMatchesSelector||Pl.mozMatchesSelector||Pl.oMatchesSelector;Al=function(t){return function(){return kl.call(this,t)}}}}var Il=Al,Rl={};if(t.event=null,"undefined"!=typeof document){"onmouseenter"in document.documentElement||(Rl={mouseenter:"mouseover",mouseleave:"mouseout"})}var jl=function(t,e,n){var r,i,o=S(t+""),s=o.length;{if(!(arguments.length<2)){for(a=e?M:N,null==n&&(n=!1),r=0;r<s;++r)this.each(a(o[r],e,n));return this}var a=this.node().__on;if(a)for(var u,c=0,l=a.length;c<l;++c)for(r=0,u=a[c];r<s;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value}},Dl=function(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n},Ll=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},Fl=function(t){var e=Dl();return e.changedTouches&&(e=e.changedTouches[0]),Ll(t,e)},Ul=function(t){return null==t?T:function(){return this.querySelector(t)}},Vl=function(t){"function"!=typeof t&&(t=Ul(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s,a=e[i],u=a.length,c=r[i]=new Array(u),l=0;l<u;++l)(o=a[l])&&(s=t.call(o,o.__data__,l,a))&&("__data__"in o&&(s.__data__=o.__data__),c[l]=s);return new dt(r,this._parents)},Bl=function(t){return null==t?A:function(){return this.querySelectorAll(t)}},zl=function(t){"function"!=typeof t&&(t=Bl(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s,a=e[o],u=a.length,c=0;c<u;++c)(s=a[c])&&(r.push(t.call(s,s.__data__,c,a)),i.push(s));return new dt(r,i)},ql=function(t){"function"!=typeof t&&(t=Il(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],a=s.length,u=r[i]=[],c=0;c<a;++c)(o=s[c])&&t.call(o,o.__data__,c,s)&&u.push(o);return new dt(r,this._parents)},Hl=function(t){return new Array(t.length)},Gl=function(){return new dt(this._enter||this._groups.map(Hl),this._parents)};P.prototype={constructor:P,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Wl=function(t){return function(){return t}},$l="$",Yl=function(t,e){if(!t)return h=new Array(this.size()),c=-1,this.each(function(t){h[++c]=t}),h;var n=e?I:k,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Wl(t));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],p=f.length,h=t.call(l,l&&l.__data__,c,r),d=h.length,m=a[c]=new Array(d),v=s[c]=new Array(d);n(l,f,m,v,u[c]=new Array(p),h,e);
// Now connect the enter nodes to their following update node, such that
// appendChild can insert the materialized enter node before this node,
// rather than at the end of the parent node.
for(var y,g,b=0,w=0;b<d;++b)if(y=m[b]){for(b>=w&&(w=b+1);!(g=v[w])&&++w<d;);y._next=g||null}}return s=new dt(s,r),s._enter=a,s._exit=u,s},Xl=function(){return new dt(this._exit||this._groups.map(Hl),this._parents)},Zl=function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u,c=e[a],l=n[a],f=c.length,p=s[a]=new Array(f),h=0;h<f;++h)(u=c[h]||l[h])&&(p[h]=u);for(;a<r;++a)s[a]=e[a];return new dt(s,this._parents)},Kl=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&s!==r.nextSibling&&s.parentNode.insertBefore(r,s),s=r);return this},Ql=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=R);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s,a=n[o],u=a.length,c=i[o]=new Array(u),l=0;l<u;++l)(s=a[l])&&(c[l]=s);c.sort(e)}return new dt(i,this._parents).order()},Jl=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},tf=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},ef=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},nf=function(){var t=0;return this.each(function(){++t}),t},rf=function(){return!this.node()},of=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],s=0,a=o.length;s<a;++s)(i=o[s])&&t.call(i,i.__data__,s,o);return this},sf=function(t,e){var n=Ml(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?D:j:"function"==typeof e?n.local?V:U:n.local?F:L)(n,e))},af=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},uf=function(t,e,n){var r;return arguments.length>1?this.each((null==e?B:"function"==typeof e?q:z)(t,e,null==n?"":n)):af(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)},cf=function(t,e){return arguments.length>1?this.each((null==e?H:"function"==typeof e?W:G)(t,e)):this.node()[t]};X.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var lf=function(t,e){var n=$(t+"");if(arguments.length<2){for(var r=Y(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?tt:e?Q:J)(n,e))},ff=function(t){return arguments.length?this.each(null==t?et:("function"==typeof t?rt:nt)(t)):this.node().textContent},pf=function(t){return arguments.length?this.each(null==t?it:("function"==typeof t?st:ot)(t)):this.node().innerHTML},hf=function(){return this.each(at)},df=function(){return this.each(ut)},mf=function(t){var e="function"==typeof t?t:Ol(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},vf=function(t,e){var n="function"==typeof t?t:Ol(t),r=null==e?ct:"function"==typeof e?e:Ul(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},yf=function(){return this.each(lt)},gf=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},bf=function(t,e){return this.each(("function"==typeof e?ht:pt)(t,e))},wf=[null];dt.prototype=mt.prototype={constructor:dt,select:Vl,selectAll:zl,filter:ql,data:Yl,enter:Gl,exit:Xl,merge:Zl,order:Kl,sort:Ql,call:Jl,nodes:tf,node:ef,size:nf,empty:rf,each:of,attr:sf,style:uf,property:cf,classed:lf,text:ff,html:pf,raise:hf,lower:df,append:mf,insert:vf,remove:yf,datum:gf,on:jl,dispatch:bf};var _f=function(t){return"string"==typeof t?new dt([[document.querySelector(t)]],[document.documentElement]):new dt([[t]],wf)},xf=function(t){return"string"==typeof t?new dt([document.querySelectorAll(t)],[document.documentElement]):new dt([null==t?[]:t],wf)},Ef=function(t,e,n){arguments.length<3&&(n=e,e=Dl().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return Ll(t,r);return null},Cf=function(t,e){null==e&&(e=Dl().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=Ll(t,e[n]);return i},Sf=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},Nf=function(t){var e=t.document.documentElement,n=_f(t).on("dragstart.drag",Sf,!0);"onselectstart"in e?n.on("selectstart.drag",Sf,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},Mf=function(t){return function(){return t}};gt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Of=function(){function e(t){t.on("mousedown.drag",n).on("touchstart.drag",o).on("touchmove.drag",s).on("touchend.drag touchcancel.drag",a).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function n(){if(!l&&f.apply(this,arguments)){var e=u("mouse",p.apply(this,arguments),Fl,this,arguments);e&&(_f(t.event.view).on("mousemove.drag",r,!0).on("mouseup.drag",i,!0),Nf(t.event.view),vt(),c=!1,e("start"))}}function r(){Sf(),c=!0,m.mouse("drag")}function i(){_f(t.event.view).on("mousemove.drag mouseup.drag",null),yt(t.event.view,c),Sf(),m.mouse("end")}function o(){if(f.apply(this,arguments)){var e,n,r=t.event.changedTouches,i=p.apply(this,arguments),o=r.length;for(e=0;e<o;++e)(n=u(r[e].identifier,i,Ef,this,arguments))&&(vt(),n("start"))}}function s(){var e,n,r=t.event.changedTouches,i=r.length;for(e=0;e<i;++e)(n=m[r[e].identifier])&&(Sf(),n("drag"))}function a(){var e,n,r=t.event.changedTouches,i=r.length;// Ghost clicks are delayed!
for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),e=0;e<i;++e)(n=m[r[e].identifier])&&(vt(),n("end"))}function u(n,r,i,o,s){var a,u,c,l=i(r,n),f=v.copy();if(O(new gt(e,"beforestart",a,n,y,l[0],l[1],0,0,f),function(){return null!=(t.event.subject=a=h.apply(o,s))&&(u=a.x-l[0]||0,c=a.y-l[1]||0,!0)}))return function t(p){var h,d=l;switch(p){case"start":m[n]=t,h=y++;break;case"end":delete m[n],--y;// nobreak
case"drag":l=i(r,n),h=y}O(new gt(e,p,a,n,h,l[0]+u,l[1]+c,l[0]-d[0],l[1]-d[1],f),f.apply,f,[p,o,s])}}var c,l,f=bt,p=wt,h=_t,m={},v=d("start","drag","end"),y=0;return e.filter=function(t){return arguments.length?(f="function"==typeof t?t:Mf(!!t),e):f},e.container=function(t){return arguments.length?(p="function"==typeof t?t:Mf(t),e):p},e.subject=function(t){return arguments.length?(h="function"==typeof t?t:Mf(t),e):h},e.on=function(){var t=v.on.apply(v,arguments);return t===v?e:t},e},Tf=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},Af="\\s*([+-]?\\d+)\\s*",Pf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",kf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",If=/^#([0-9a-f]{3})$/,Rf=/^#([0-9a-f]{6})$/,jf=new RegExp("^rgb\\("+[Af,Af,Af]+"\\)$"),Df=new RegExp("^rgb\\("+[kf,kf,kf]+"\\)$"),Lf=new RegExp("^rgba\\("+[Af,Af,Af,Pf]+"\\)$"),Ff=new RegExp("^rgba\\("+[kf,kf,kf,Pf]+"\\)$"),Uf=new RegExp("^hsl\\("+[Pf,kf,kf]+"\\)$"),Vf=new RegExp("^hsla\\("+[Pf,kf,kf,Pf]+"\\)$"),Bf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Tf(Et,Ct,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Tf(Tt,Ot,xt(Et,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Tt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Tt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Tf(It,kt,xt(Et,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new It(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new It(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Tt(Rt(t>=240?t-240:t+120,i,r),Rt(t,i,r),Rt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var zf=Math.PI/180,qf=180/Math.PI,Hf=.95047,Gf=1,Wf=1.08883,$f=4/29,Yf=6/29,Xf=3*Yf*Yf,Zf=Yf*Yf*Yf;Tf(Lt,Dt,xt(Et,{brighter:function(t){return new Lt(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Lt(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;// D65 -> sRGB
return t=Gf*Ut(t),e=Hf*Ut(e),n=Wf*Ut(n),new Tt(Vt(3.2404542*e-1.5371385*t-.4985314*n),Vt(-.969266*e+1.8760108*t+.041556*n),Vt(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),Tf(Ht,qt,xt(Et,{brighter:function(t){return new Ht(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Ht(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return jt(this).rgb()}}));var Kf=-.14861,Qf=1.78277,Jf=-.29227,tp=-.90649,ep=1.97294,np=ep*tp,rp=ep*Qf,ip=Qf*Jf-tp*Kf;Tf($t,Wt,xt(Et,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new $t(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new $t(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*zf,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Tt(255*(e+n*(Kf*r+Qf*i)),255*(e+n*(Jf*r+tp*i)),255*(e+n*(ep*r)),this.opacity)}}));var op,sp,ap,up,cp,lp,fp=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],s=r>0?t[r-1]:2*i-o,a=r<e-1?t[r+2]:2*o-i;return Yt((n-r/e)*e,s,i,o,a)}},pp=function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],s=t[(r+1)%e],a=t[(r+2)%e];return Yt((n-r/e)*e,i,o,s,a)}},hp=function(t){return function(){return t}},dp=function t(e){function n(t,e){var n=r((t=Ot(t)).r,(e=Ot(e)).r),i=r(t.g,e.g),o=r(t.b,e.b),s=Jt(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=i(e),t.b=o(e),t.opacity=s(e),t+""}}var r=Qt(e);return n.gamma=t,n}(1),mp=te(fp),vp=te(pp),yp=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(r),s=new Array(r);for(n=0;n<i;++n)o[n]=Cp(t[n],e[n]);for(;n<r;++n)s[n]=e[n];return function(t){for(n=0;n<i;++n)s[n]=o[n](t);return s}},gp=function(t,e){var n=new Date;return t=+t,e-=t,function(r){return n.setTime(t+e*r),n}},bp=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},wp=function(t,e){var n,r={},i={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?r[n]=Cp(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},_p=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xp=new RegExp(_p.source,"g"),Ep=function(t,e){var// scan index for next number in b
n,// current match in a
r,// current match in b
i,o=_p.lastIndex=xp.lastIndex=0,// string preceding current number in b, if any
s=-1,// index in s
a=[],// string constants and placeholders
u=[];
// Interpolate pairs of numbers in a & b.
for(// number interpolators
// Coerce inputs to strings.
t+="",e+="";(n=_p.exec(t))&&(r=xp.exec(e));)(i=r.index)>o&&(// a string precedes the next number in b
i=e.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?// numbers in a & b match
a[s]?a[s]+=r:a[++s]=r:(// interpolate non-matching numbers
a[++s]=null,u.push({i:s,x:bp(n,r)})),o=xp.lastIndex;
// Special optimization for only a single match.
// Otherwise, interpolate each of the numbers and rejoin the string.
// Add remains of b.
return o<e.length&&(i=e.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?u[0]?ne(u[0].x):ee(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)a[(n=u[r]).i]=n.x(t);return a.join("")})},Cp=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?hp(e):("number"===r?bp:"string"===r?(n=Ct(e))?(e=n,dp):Ep:e instanceof Ct?dp:e instanceof Date?gp:Array.isArray(e)?yp:isNaN(e)?wp:bp)(t,e)},Sp=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},Np=180/Math.PI,Mp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Op=function(t,e,n,r,i,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),t*r<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Np,skewX:Math.atan(u)*Np,scaleX:s,scaleY:a}},Tp=oe(re,"px, ","px)","deg)"),Ap=oe(ie,", ",")",")"),Pp=Math.SQRT2,kp=function(t,e){var n,r,i=t[0],o=t[1],s=t[2],a=e[0],u=e[1],c=e[2],l=a-i,f=u-o,p=l*l+f*f;
// Special case for u0  u1.
if(p<1e-12)r=Math.log(c/s)/Pp,n=function(t){return[i+t*l,o+t*f,s*Math.exp(Pp*t*r)]};else{var h=Math.sqrt(p),d=(c*c-s*s+4*p)/(2*s*2*h),m=(c*c-s*s-4*p)/(2*c*2*h),v=Math.log(Math.sqrt(d*d+1)-d),y=Math.log(Math.sqrt(m*m+1)-m);r=(y-v)/Pp,n=function(t){var e=t*r,n=se(v),a=s/(2*h)*(n*ue(Pp*e+v)-ae(v));return[i+a*l,o+a*f,s*n/se(Pp*e+v)]}}return n.duration=1e3*r,n},Ip=ce(Kt),Rp=ce(Jt),jp=fe(Kt),Dp=fe(Jt),Lp=pe(Kt),Fp=pe(Jt),Up=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},Vp=0,Bp=0,zp=0,qp=1e3,Hp=0,Gp=0,Wp=0,$p="object"==typeof performance&&performance.now?performance:Date,Yp="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};me.prototype=ve.prototype={constructor:me,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?he():+n)+(null==e?0:+e),this._next||lp===this||(lp?lp._next=this:cp=this,lp=this),this._call=t,this._time=n,_e()},stop:function(){this._call&&(this._call=null,this._time=1/0,_e())}};var Xp=function(t,e,n){var r=new me;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r},Zp=function(t,e,n){var r=new me,i=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?he():+n,r.restart(function o(s){s+=i,r.restart(o,i+=e,n),t(s)},e,n),r)},Kp=d("start","end","interrupt"),Qp=[],Jp=0,th=1,eh=2,nh=3,rh=4,ih=5,oh=6,sh=function(t,e,n,r,i,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};Se(t,n,{name:e,index:r,// For context during callback.
group:i,// For context during callback.
on:Kp,tween:Qp,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Jp})},ah=function(t,e){var n,r,i,o=t.__transition,s=!0;if(o){e=null==e?null:e+"";for(i in o)(n=o[i]).name===e?(r=n.state>eh&&n.state<ih,n.state=oh,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[i]):s=!1;s&&delete t.__transition}},uh=function(t){return this.each(function(){ah(this,t)})},ch=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Ce(this.node(),n).tween,o=0,s=i.length;o<s;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Ne:Me)(n,t,e))},lh=function(t,e){var n;return("number"==typeof e?bp:e instanceof Ct?dp:(n=Ct(e))?(e=n,dp):Ep)(t,e)},fh=function(t,e){var n=Ml(t),r="transform"===n?Ap:lh;return this.attrTween(t,"function"==typeof e?(n.local?Re:Ie)(n,r,Oe(this,"attr."+t,e)):null==e?(n.local?Ae:Te)(n):(n.local?ke:Pe)(n,r,e+""))},ph=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Ml(t);return this.tween(n,(r.local?je:De)(r,e))},hh=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Le:Fe)(e,t)):Ce(this.node(),e).delay},dh=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ue:Ve)(e,t)):Ce(this.node(),e).duration},mh=function(t){var e=this._id;return arguments.length?this.each(Be(e,t)):Ce(this.node(),e).ease},vh=function(t){"function"!=typeof t&&(t=Il(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],a=s.length,u=r[i]=[],c=0;c<a;++c)(o=s[c])&&t.call(o,o.__data__,c,s)&&u.push(o);return new Qe(r,this._parents,this._name,this._id)},yh=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u,c=e[a],l=n[a],f=c.length,p=s[a]=new Array(f),h=0;h<f;++h)(u=c[h]||l[h])&&(p[h]=u);for(;a<r;++a)s[a]=e[a];return new Qe(s,this._parents,this._name,this._id)},gh=function(t,e){var n=this._id;return arguments.length<2?Ce(this.node(),n).on.on(t):this.each(qe(n,t,e))},bh=function(){return this.on("end.remove",He(this._id))},wh=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ul(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a,u,c=r[s],l=c.length,f=o[s]=new Array(l),p=0;p<l;++p)(a=c[p])&&(u=t.call(a,a.__data__,p,c))&&("__data__"in a&&(u.__data__=a.__data__),f[p]=u,sh(f[p],e,n,p,f,Ce(a,n)));return new Qe(o,this._parents,e,n)},_h=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Bl(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u,c=r[a],l=c.length,f=0;f<l;++f)if(u=c[f]){for(var p,h=t.call(u,u.__data__,f,c),d=Ce(u,n),m=0,v=h.length;m<v;++m)(p=h[m])&&sh(p,e,n,m,h,d);o.push(h),s.push(u)}return new Qe(o,s,e,n)},xh=mt.prototype.constructor,Eh=function(){return new xh(this._groups,this._parents)},Ch=function(t,e,n){var r="transform"==(t+="")?Tp:lh;return null==e?this.styleTween(t,Ge(t,r)).on("end.style."+t,We(t)):this.styleTween(t,"function"==typeof e?Ye(t,r,Oe(this,"style."+t,e)):$e(t,r,e+""),n)},Sh=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Xe(t,e,null==n?"":n))},Nh=function(t){return this.tween("text","function"==typeof t?Ke(Oe(this,"text",t)):Ze(null==t?"":t+""))},Mh=function(){for(var t=this._name,e=this._id,n=tn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],u=a.length,c=0;c<u;++c)if(s=a[c]){var l=Ce(s,e);sh(s,t,n,c,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Qe(r,this._parents,t,n)},Oh=0,Th=mt.prototype;Qe.prototype=Je.prototype={constructor:Qe,select:wh,selectAll:_h,filter:vh,merge:yh,selection:Eh,transition:Mh,call:Th.call,nodes:Th.nodes,node:Th.node,size:Th.size,empty:Th.empty,each:Th.each,on:gh,attr:fh,attrTween:ph,style:Ch,styleTween:Sh,text:Nh,remove:bh,tween:ch,delay:hh,duration:dh,ease:mh};var Ah=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Ph=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),kh=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Ih=Math.PI,Rh=Ih/2,jh=4/11,Dh=6/11,Lh=8/11,Fh=.75,Uh=9/11,Vh=10/11,Bh=.9375,zh=21/22,qh=63/64,Hh=1/jh/jh,Gh=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),Wh=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),$h=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),Yh=2*Math.PI,Xh=function t(e,n){function r(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Yh);return r.amplitude=function(e){return t(e,n*Yh)},r.period=function(n){return t(e,n)},r}(1,.3),Zh=function t(e,n){function r(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Yh);return r.amplitude=function(e){return t(e,n*Yh)},r.period=function(n){return t(e,n)},r}(1,.3),Kh=function t(e,n){function r(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Yh);return r.amplitude=function(e){return t(e,n*Yh)},r.period=function(n){return t(e,n)},r}(1,.3),Qh={time:null,// Set on use.
delay:0,duration:250,ease:un},Jh=function(t){var e,n;t instanceof Qe?(e=t._id,t=t._name):(e=tn(),(n=Qh).time=he(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],u=a.length,c=0;c<u;++c)(s=a[c])&&sh(s,t,e,c,a,n||_n(s,e));return new Qe(r,this._parents,t,e)};mt.prototype.interrupt=uh,mt.prototype.transition=Jh;var td=[null],ed=function(t,e){var n,r,i=t.__transition;if(i){e=null==e?null:e+"";for(r in i)if((n=i[r]).state>th&&n.name===e)return new Qe([[t]],td,e,+r)}return null},nd=function(t){return function(){return t}},rd=function(t,e,n){this.target=t,this.type=e,this.selection=n},id=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},od={name:"drag"},sd={name:"space"},ad={name:"handle"},ud={name:"center"},cd={name:"x",handles:["e","w"].map(En),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},ld={name:"y",handles:["n","s"].map(En),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},fd={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(En),input:function(t){return t},output:function(t){return t}},pd={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},hd={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},dd={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},md={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},vd={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},yd=function(){return Pn(fd)},gd=Math.cos,bd=Math.sin,wd=Math.PI,_d=wd/2,xd=2*wd,Ed=Math.max,Cd=function(){function t(t){var o,s,a,u,c,l,f=t.length,p=[],h=Zc(f),d=[],m=[],v=m.groups=new Array(f),y=new Array(f*f);for(
// Compute the sum.
o=0,c=-1;++c<f;){for(s=0,l=-1;++l<f;)s+=t[c][l];p.push(s),d.push(Zc(f)),o+=s}for(
// Sort groups
n&&h.sort(function(t,e){return n(p[t],p[e])}),
// Sort subgroups
r&&d.forEach(function(e,n){e.sort(function(e,i){return r(t[n][e],t[n][i])})}),
// Convert the sum to scaling factor for [0, 2pi].
// TODO Allow start and end angle to be specified?
// TODO Allow padding to be specified as percentage?
o=Ed(0,xd-e*f)/o,u=o?e:xd/f,
// Compute the start and end angle for each group and subgroup.
// Note: Opera has a bug reordering object literal properties!
s=0,c=-1;++c<f;){for(a=s,l=-1;++l<f;){var g=h[c],b=d[g][l],w=t[g][b],_=s,x=s+=w*o;y[b*f+g]={index:g,subindex:b,startAngle:_,endAngle:x,value:w}}v[g]={index:g,startAngle:a,endAngle:s,value:p[g]},s+=u}for(
// Generate chords for each (non-empty) subgroup-subgroup link.
c=-1;++c<f;)for(l=c-1;++l<f;){var E=y[l*f+c],C=y[c*f+l];(E.value||C.value)&&m.push(E.value<C.value?{source:C,target:E}:{source:E,target:C})}return i?m.sort(i):m}var e=0,n=null,r=null,i=null;return t.padAngle=function(n){return arguments.length?(e=Ed(0,n),t):e},t.sortGroups=function(e){return arguments.length?(n=e,t):n},t.sortSubgroups=function(e){return arguments.length?(r=e,t):r},t.sortChords=function(e){return arguments.length?(null==e?i=null:(i=kn(e))._=e,t):i&&i._},t},Sd=Array.prototype.slice,Nd=function(t){return function(){return t}},Md=Math.PI,Od=2*Md,Td=Od-1e-6;In.prototype=Rn.prototype={constructor:In,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,s=this._y1,a=n-t,u=r-e,c=o-t,l=s-e,f=c*c+l*l;
// Is the radius negative? Error.
if(i<0)throw new Error("negative radius: "+i);
// Is this path empty? Move to (x1,y1).
if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(l*a-u*c)>1e-6&&i){var p=n-o,h=r-s,d=a*a+u*u,m=p*p+h*h,v=Math.sqrt(d),y=Math.sqrt(f),g=i*Math.tan((Md-Math.acos((d+f-m)/(2*v*y)))/2),b=g/y,w=g/v;
// If the start tangent is not coincident with (x0,y0), line to.
Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*c)+","+(e+b*l)),this._+="A"+i+","+i+",0,0,"+ +(l*p>c*h)+","+(this._x1=t+w*a)+","+(this._y1=e+w*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,n=+n;var s=n*Math.cos(r),a=n*Math.sin(r),u=t+s,c=e+a,l=1^o,f=o?r-i:i-r;
// Is the radius negative? Error.
if(n<0)throw new Error("negative radius: "+n);
// Is this path empty? Move to (x0,y0).
null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+u+","+c),
// Is this arc empty? Were done.
n&&(
// Does the angle go the wrong way? Flip the direction.
f<0&&(f=f%Od+Od),
// Is this a complete circle? Draw two arcs to complete the circle.
f>Td?this._+="A"+n+","+n+",0,1,"+l+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):f>1e-6&&(this._+="A"+n+","+n+",0,"+ +(f>=Md)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Ad=function(){function t(){var t,a=Sd.call(arguments),u=e.apply(this,a),c=n.apply(this,a),l=+r.apply(this,(a[0]=u,a)),f=i.apply(this,a)-_d,p=o.apply(this,a)-_d,h=l*gd(f),d=l*bd(f),m=+r.apply(this,(a[0]=c,a)),v=i.apply(this,a)-_d,y=o.apply(this,a)-_d;if(s||(s=t=Rn()),s.moveTo(h,d),s.arc(0,0,l,f,p),f===v&&p===y||(// TODO sr !== tr?
s.quadraticCurveTo(0,0,m*gd(v),m*bd(v)),s.arc(0,0,m,v,y)),s.quadraticCurveTo(0,0,h,d),s.closePath(),t)return s=null,t+""||null}var e=jn,n=Dn,r=Ln,i=Fn,o=Un,s=null;return t.radius=function(e){return arguments.length?(r="function"==typeof e?e:Nd(+e),t):r},t.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:Nd(+e),t):i},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:Nd(+e),t):o},t.source=function(n){return arguments.length?(e=n,t):e},t.target=function(e){return arguments.length?(n=e,t):n},t.context=function(e){return arguments.length?(s=null==e?null:e,t):s},t};Vn.prototype=Bn.prototype={constructor:Vn,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Pd=function(){function t(e,i,s,a){if(i>=o.length)return null!=r?r(e):null!=n?e.sort(n):e;for(var u,c,l,f=-1,p=e.length,h=o[i++],d=Bn(),m=s();++f<p;)(l=d.get(u=h(c=e[f])+""))?l.push(c):d.set(u,[c]);return d.each(function(e,n){a(m,n,t(e,i,s,a))}),m}function e(t,n){if(++n>o.length)return t;var i,a=s[n-1];return null!=r&&n>=o.length?i=t.entries():(i=[],t.each(function(t,r){i.push({key:r,values:e(t,n)})})),null!=a?i.sort(function(t,e){return a(t.key,e.key)}):i}var n,r,i,o=[],s=[];return i={object:function(e){return t(e,0,zn,qn)},map:function(e){return t(e,0,Hn,Gn)},entries:function(n){return e(t(n,0,Hn,Gn),0)},key:function(t){return o.push(t),i},sortKeys:function(t){return s[o.length-1]=t,i},sortValues:function(t){return n=t,i},rollup:function(t){return r=t,i}}},kd=Bn.prototype;Wn.prototype=$n.prototype={constructor:Wn,has:kd.has,add:function(t){return t+="",this["$"+t]=t,this},remove:kd.remove,clear:kd.clear,values:kd.keys,size:kd.size,empty:kd.empty,each:kd.each};var Id=function(t){var e=[];for(var n in t)e.push(n);return e},Rd=function(t){var e=[];for(var n in t)e.push(t[n]);return e},jd=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Dd=function(t){function e(t,e){var r,i,o=n(t,function(t,n){if(r)return r(t,n-1);i=t,r=e?Xn(t,e):Yn(t)});return o.columns=i,o}function n(t,e){// is the current token followed by EOL?
function n(){if(l>=c)return s;// special case: end of file
if(i)return i=!1,o;// special case: end of line
// special case: quotes
var e,n=l;if(34===t.charCodeAt(n)){for(var r=n;r++<c;)if(34===t.charCodeAt(r)){if(34!==t.charCodeAt(r+1))break;++r}return l=r+2,e=t.charCodeAt(r+1),13===e?(i=!0,10===t.charCodeAt(r+2)&&++l):10===e&&(i=!0),t.slice(n+1,r).replace(/""/g,'"')}
// common case: find next delimiter or newline
for(;l<c;){var a=1;if(10===(e=t.charCodeAt(l++)))i=!0;else if(13===e)i=!0,10===t.charCodeAt(l)&&(++l,++a);else if(e!==u)continue;return t.slice(n,l-a)}
// special case: last token before EOF
return t.slice(n)}for(var// the current line number
r,// the current token
i,o={},// sentinel value for end-of-line
s={},// sentinel value for end-of-file
a=[],// output rows
c=t.length,l=0,// current character index
f=0;(r=n())!==s;){for(var p=[];r!==o&&r!==s;)p.push(r),r=n();e&&null==(p=e(p,f++))||a.push(p)}return a}function r(e,n){return null==n&&(n=Zn(e)),[n.map(s).join(t)].concat(e.map(function(e){return n.map(function(t){return s(e[t])}).join(t)})).join("\n")}function i(t){return t.map(o).join("\n")}function o(e){return e.map(s).join(t)}function s(t){return null==t?"":a.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}var a=new RegExp('["'+t+"\n\r]"),u=t.charCodeAt(0);return{parse:e,parseRows:n,format:r,formatRows:i}},Ld=Dd(","),Fd=Ld.parse,Ud=Ld.parseRows,Vd=Ld.format,Bd=Ld.formatRows,zd=Dd("\t"),qd=zd.parse,Hd=zd.parseRows,Gd=zd.format,Wd=zd.formatRows,$d=function(t,e){function n(){var n,i,o=r.length,s=0,a=0;for(n=0;n<o;++n)i=r[n],s+=i.x,a+=i.y;for(s=s/o-t,a=a/o-e,n=0;n<o;++n)i=r[n],i.x-=s,i.y-=a}var r;return null==t&&(t=0),null==e&&(e=0),n.initialize=function(t){r=t},n.x=function(e){return arguments.length?(t=+e,n):t},n.y=function(t){return arguments.length?(e=+t,n):e},n},Yd=function(t){return function(){return t}},Xd=function(){return 1e-6*(Math.random()-.5)},Zd=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Kn(this.cover(e,n),e,n,t)},Kd=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;// ignore invalid points
var n=this._x0,r=this._y0,i=this._x1,o=this._y1;
// If the quadtree has no extent, initialize them.
// Integer extent are necessary so that if we later double the extent,
// the existing quadrant boundaries dont change due to floating point error!
if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{if(!(n>t||t>i||r>e||e>o))return this;var s,a,u=i-n,c=this._root;switch(a=(e<(r+o)/2)<<1|t<(n+i)/2){case 0:do{s=new Array(4),s[a]=c,c=s}while(u*=2,i=n+u,o=r+u,t>i||e>o);break;case 1:do{s=new Array(4),s[a]=c,c=s}while(u*=2,n=i-u,o=r+u,n>t||e>o);break;case 2:do{s=new Array(4),s[a]=c,c=s}while(u*=2,i=n+u,r=o-u,t>i||r>e);break;case 3:do{s=new Array(4),s[a]=c,c=s}while(u*=2,n=i-u,r=o-u,n>t||r>e)}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Qd=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},Jd=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},tm=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i},em=function(t,e,n){var r,i,o,s,a,u,c,l=this._x0,f=this._y0,p=this._x1,h=this._y1,d=[],m=this._root;for(m&&d.push(new tm(m,l,f,p,h)),null==n?n=1/0:(l=t-n,f=e-n,p=t+n,h=e+n,n*=n);u=d.pop();)
// Stop searching if this quadrant cant contain a closer node.
if(!(!(m=u.node)||(i=u.x0)>p||(o=u.y0)>h||(s=u.x1)<l||(a=u.y1)<f))
// Bisect the current quadrant.
if(m.length){var v=(i+s)/2,y=(o+a)/2;d.push(new tm(m[3],v,y,s,a),new tm(m[2],i,y,v,a),new tm(m[1],v,o,s,y),new tm(m[0],i,o,v,y)),
// Visit the closest quadrant first.
(c=(e>=y)<<1|t>=v)&&(u=d[d.length-1],d[d.length-1]=d[d.length-1-c],d[d.length-1-c]=u)}else{var g=t-+this._x.call(null,m.data),b=e-+this._y.call(null,m.data),w=g*g+b*b;if(w<n){var _=Math.sqrt(n=w);l=t-_,f=e-_,p=t+_,h=e+_,r=m.data}}return r},nm=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;// ignore invalid points
var e,n,r,i,o,s,a,u,c,l,f,p,h=this._root,d=this._x0,m=this._y0,v=this._x1,y=this._y1;
// If the tree is empty, initialize the root as a leaf.
if(!h)return this;
// Find the leaf node for the point.
// While descending, also retain the deepest parent with a non-removed sibling.
if(h.length)for(;;){if((c=o>=(a=(d+v)/2))?d=a:v=a,(l=s>=(u=(m+y)/2))?m=u:y=u,e=h,!(h=h[f=l<<1|c]))return this;if(!h.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,p=f)}
// Find the point to remove.
for(;h.data!==t;)if(r=h,!(h=h.next))return this;
// If there are multiple coincident points, remove just the point.
// If there are multiple coincident points, remove just the point.
// If this is the root point, remove it.
// Remove this leaf.
// If the parent now contains exactly one leaf, collapse superfluous parents.
return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(h=e[0]||e[1]||e[2]||e[3])&&h===(e[3]||e[2]||e[1]||e[0])&&!h.length&&(n?n[p]=h:this._root=h),this):(this._root=i,this)},rm=function(){return this._root},im=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},om=function(t){var e,n,r,i,o,s,a=[],u=this._root;for(u&&a.push(new tm(u,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,s=e.y1)&&u.length){var c=(r+o)/2,l=(i+s)/2;(n=u[3])&&a.push(new tm(n,c,l,o,s)),(n=u[2])&&a.push(new tm(n,r,l,c,s)),(n=u[1])&&a.push(new tm(n,c,i,o,l)),(n=u[0])&&a.push(new tm(n,r,i,c,l))}return this},sm=function(t){var e,n=[],r=[];for(this._root&&n.push(new tm(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,s=e.x0,a=e.y0,u=e.x1,c=e.y1,l=(s+u)/2,f=(a+c)/2;(o=i[0])&&n.push(new tm(o,s,a,l,f)),(o=i[1])&&n.push(new tm(o,l,a,u,f)),(o=i[2])&&n.push(new tm(o,s,f,l,c)),(o=i[3])&&n.push(new tm(o,l,f,u,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},am=function(t){return arguments.length?(this._x=t,this):this._x},um=function(t){return arguments.length?(this._y=t,this):this._y},cm=nr.prototype=rr.prototype;cm.copy=function(){var t,e,n=new rr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=ir(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=ir(e));return n},cm.add=Zd,cm.addAll=Qn,cm.cover=Kd,cm.data=Qd,cm.extent=Jd,cm.find=em,cm.remove=nm,cm.removeAll=Jn,cm.root=rm,cm.size=im,cm.visit=om,cm.visitAfter=sm,cm.x=am,cm.y=um;var lm,fm=function(t){function e(){function t(t,e,n,r,i){var o=t.data,a=t.r,h=f+a;{if(!o)return e>c+h||r<c-h||n>l+h||i<l-h;if(o.index>u.index){var d=c-o.x-o.vx,m=l-o.y-o.vy,v=d*d+m*m;v<h*h&&(0===d&&(d=Xd(),v+=d*d),0===m&&(m=Xd(),v+=m*m),v=(h-(v=Math.sqrt(v)))/v*s,u.vx+=(d*=v)*(h=(a*=a)/(p+a)),u.vy+=(m*=v)*h,o.vx-=d*(h=1-h),o.vy-=m*h)}}}for(var e,r,u,c,l,f,p,h=i.length,d=0;d<a;++d)for(r=nr(i,or,sr).visitAfter(n),e=0;e<h;++e)u=i[e],f=o[u.index],p=f*f,c=u.x+u.vx,l=u.y+u.vy,r.visit(t)}function n(t){if(t.data)return t.r=o[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function r(){if(i){var e,n,r=i.length;for(o=new Array(r),e=0;e<r;++e)n=i[e],o[n.index]=+t(n,e,i)}}var i,o,s=1,a=1;return"function"!=typeof t&&(t=Yd(null==t?1:+t)),e.initialize=function(t){i=t,r()},e.iterations=function(t){return arguments.length?(a=+t,e):a},e.strength=function(t){return arguments.length?(s=+t,e):s},e.radius=function(n){return arguments.length?(t="function"==typeof n?n:Yd(+n),r(),e):t},e},pm=function(t){function e(t){return 1/Math.min(c[t.source.index],c[t.target.index])}function n(e){for(var n=0,r=t.length;n<d;++n)for(var i,o,u,c,f,p,h,m=0;m<r;++m)i=t[m],o=i.source,u=i.target,c=u.x+u.vx-o.x-o.vx||Xd(),f=u.y+u.vy-o.y-o.vy||Xd(),p=Math.sqrt(c*c+f*f),p=(p-a[m])/p*e*s[m],c*=p,f*=p,u.vx-=c*(h=l[m]),u.vy-=f*h,o.vx+=c*(h=1-h),o.vy+=f*h}function r(){if(u){var e,n,r=u.length,p=t.length,h=Bn(u,f);for(e=0,c=new Array(r);e<p;++e)n=t[e],n.index=e,"object"!=typeof n.source&&(n.source=ur(h,n.source)),"object"!=typeof n.target&&(n.target=ur(h,n.target)),c[n.source.index]=(c[n.source.index]||0)+1,c[n.target.index]=(c[n.target.index]||0)+1;for(e=0,l=new Array(p);e<p;++e)n=t[e],l[e]=c[n.source.index]/(c[n.source.index]+c[n.target.index]);s=new Array(p),i(),a=new Array(p),o()}}function i(){if(u)for(var e=0,n=t.length;e<n;++e)s[e]=+p(t[e],e,t)}function o(){if(u)for(var e=0,n=t.length;e<n;++e)a[e]=+h(t[e],e,t)}var s,a,u,c,l,f=ar,p=e,h=Yd(30),d=1;return null==t&&(t=[]),n.initialize=function(t){u=t,r()},n.links=function(e){return arguments.length?(t=e,r(),n):t},n.id=function(t){return arguments.length?(f=t,n):f},n.iterations=function(t){return arguments.length?(d=+t,n):d},n.strength=function(t){return arguments.length?(p="function"==typeof t?t:Yd(+t),i(),n):p},n.distance=function(t){return arguments.length?(h="function"==typeof t?t:Yd(+t),o(),n):h},n},hm=10,dm=Math.PI*(3-Math.sqrt(5)),mm=function(t){function e(){n(),h.call("tick",o),s<a&&(p.stop(),h.call("end",o))}function n(){var e,n,r=t.length;for(s+=(c-s)*u,f.each(function(t){t(s)}),e=0;e<r;++e)n=t[e],null==n.fx?n.x+=n.vx*=l:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=l:(n.y=n.fy,n.vy=0)}function r(){for(var e,n=0,r=t.length;n<r;++n){if(e=t[n],e.index=n,isNaN(e.x)||isNaN(e.y)){var i=hm*Math.sqrt(n),o=n*dm;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function i(e){return e.initialize&&e.initialize(t),e}var o,s=1,a=.001,u=1-Math.pow(a,1/300),c=0,l=.6,f=Bn(),p=ve(e),h=d("tick","end");return null==t&&(t=[]),r(),o={tick:n,restart:function(){return p.restart(e),o},stop:function(){return p.stop(),o},nodes:function(e){return arguments.length?(t=e,r(),f.each(i),o):t},alpha:function(t){return arguments.length?(s=+t,o):s},alphaMin:function(t){return arguments.length?(a=+t,o):a},alphaDecay:function(t){return arguments.length?(u=+t,o):+u},alphaTarget:function(t){return arguments.length?(c=+t,o):c},velocityDecay:function(t){return arguments.length?(l=1-t,o):1-l},force:function(t,e){return arguments.length>1?(null==e?f.remove(t):f.set(t,i(e)),o):f.get(t)},find:function(e,n,r){var i,o,s,a,u,c=0,l=t.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)a=t[c],i=e-a.x,o=n-a.y,(s=i*i+o*o)<r&&(u=a,r=s);return u},on:function(t,e){return arguments.length>1?(h.on(t,e),o):h.on(t)}}},vm=function(){function t(t){var e,a=i.length,u=nr(i,cr,lr).visitAfter(n);for(s=t,e=0;e<a;++e)o=i[e],u.visit(r)}function e(){if(i){var t,e,n=i.length;for(a=new Array(n),t=0;t<n;++t)e=i[t],a[e.index]=+u(e,t,i)}}function n(t){var e,n,r,i,o,s=0;
// For internal nodes, accumulate forces from child quadrants.
if(t.length){for(r=i=o=0;o<4;++o)(e=t[o])&&(n=e.value)&&(s+=n,r+=n*e.x,i+=n*e.y);t.x=r/s,t.y=i/s}else{e=t,e.x=e.data.x,e.y=e.data.y;do{s+=a[e.data.index]}while(e=e.next)}t.value=s}function r(t,e,n,r){if(!t.value)return!0;var i=t.x-o.x,u=t.y-o.y,p=r-e,h=i*i+u*u;
// Apply the Barnes-Hut approximation if possible.
// Limit forces for very close nodes; randomize direction if coincident.
if(p*p/f<h)return h<l&&(0===i&&(i=Xd(),h+=i*i),0===u&&(u=Xd(),h+=u*u),h<c&&(h=Math.sqrt(c*h)),o.vx+=i*t.value*s/h,o.vy+=u*t.value*s/h),!0;if(!(t.length||h>=l)){
// Limit forces for very close nodes; randomize direction if coincident.
(t.data!==o||t.next)&&(0===i&&(i=Xd(),h+=i*i),0===u&&(u=Xd(),h+=u*u),h<c&&(h=Math.sqrt(c*h)));do{t.data!==o&&(p=a[t.data.index]*s/h,o.vx+=i*p,o.vy+=u*p)}while(t=t.next)}}var i,o,s,a,u=Yd(-30),c=1,l=1/0,f=.81;return t.initialize=function(t){i=t,e()},t.strength=function(n){return arguments.length?(u="function"==typeof n?n:Yd(+n),e(),t):u},t.distanceMin=function(e){return arguments.length?(c=e*e,t):Math.sqrt(c)},t.distanceMax=function(e){return arguments.length?(l=e*e,t):Math.sqrt(l)},t.theta=function(e){return arguments.length?(f=e*e,t):Math.sqrt(f)},t},ym=function(t){function e(t){for(var e,n=0,s=r.length;n<s;++n)e=r[n],e.vx+=(o[n]-e.x)*i[n]*t}function n(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)i[e]=isNaN(o[e]=+t(r[e],e,r))?0:+s(r[e],e,r)}}var r,i,o,s=Yd(.1);return"function"!=typeof t&&(t=Yd(null==t?0:+t)),e.initialize=function(t){r=t,n()},e.strength=function(t){return arguments.length?(s="function"==typeof t?t:Yd(+t),n(),e):s},e.x=function(r){return arguments.length?(t="function"==typeof r?r:Yd(+r),n(),e):t},e},gm=function(t){function e(t){for(var e,n=0,s=r.length;n<s;++n)e=r[n],e.vy+=(o[n]-e.y)*i[n]*t}function n(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)i[e]=isNaN(o[e]=+t(r[e],e,r))?0:+s(r[e],e,r)}}var r,i,o,s=Yd(.1);return"function"!=typeof t&&(t=Yd(null==t?0:+t)),e.initialize=function(t){r=t,n()},e.strength=function(t){return arguments.length?(s="function"==typeof t?t:Yd(+t),n(),e):s},e.y=function(r){return arguments.length?(t="function"==typeof r?r:Yd(+r),n(),e):t},e},bm=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;// NaN, Infinity
var n,r=t.slice(0,n);
// The string returned by toExponential either has the form \d\.\d+e[-+]\d+
// (e.g., 1.2e+3) or the form \de[-+]\d+ (e.g., 1e+3).
return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},wm=function(t){return t=bm(Math.abs(t)),t?t[1]:NaN},_m=function(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),o.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}},xm=function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}},Em=function(t,e){t=t.toPrecision(e);t:for(var n,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t},Cm=function(t,e){var n=bm(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(lm=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+bm(t,Math.max(0,e+o-1))[0]},Sm=function(t,e){var n=bm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Nm={"":Em,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Sm(100*t,e)},r:Sm,s:Cm,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Mm=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;fr.prototype=pr.prototype,pr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Om,Tm=function(t){return t},Am=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],Pm=function(t){function e(t){function e(t){var e,i,c,b=m,w=v;if("c"===d)w=y(t)+w,t="";else{t=+t;
// Perform the initial formatting.
var _=t<0;
// Break the formatted value into the integer value part that can be
// grouped, and fractional or exponential suffix part that is not.
if(t=y(Math.abs(t),h),
// If a negative value rounds to zero during formatting, treat as positive.
_&&0==+t&&(_=!1),
// Compute the prefix and suffix.
b=(_?"("===u?u:"-":"-"===u||"("===u?"":u)+b,w=w+("s"===d?Am[8+lm/3]:"")+(_&&"("===u?")":""),g)for(e=-1,i=t.length;++e<i;)if(48>(c=t.charCodeAt(e))||c>57){w=(46===c?o+t.slice(e+1):t.slice(e))+w,t=t.slice(0,e);break}}
// If the fill character is not "0", grouping is applied before padding.
p&&!l&&(t=r(t,1/0));
// Compute the padding.
var x=b.length+t.length+w.length,E=x<f?new Array(f-x+1).join(n):"";
// Reconstruct the final output based on the desired alignment.
switch(
// If the fill character is "0", grouping is applied after padding.
p&&l&&(t=r(E+t,E.length?f-w.length:1/0),E=""),a){case"<":t=b+t+w+E;break;case"=":t=b+E+t+w;break;case"^":t=E.slice(0,x=E.length>>1)+b+t+w+E.slice(x);break;default:t=E+b+t+w}return s(t)}t=fr(t);var n=t.fill,a=t.align,u=t.sign,c=t.symbol,l=t.zero,f=t.width,p=t.comma,h=t.precision,d=t.type,m="$"===c?i[0]:"#"===c&&/[boxX]/.test(d)?"0"+d.toLowerCase():"",v="$"===c?i[1]:/[%p]/.test(d)?"%":"",y=Nm[d],g=!d||/[defgprs%]/.test(d);
// Set the default precision if not specified,
// or clamp the specified precision to the supported range.
// For significant precision, it must be in [1, 21].
// For fixed precision, it must be in [0, 20].
return h=null==h?d?6:12:/[gprs]/.test(d)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),e.toString=function(){return t+""},e}function n(t,n){var r=e((t=fr(t),t.type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(wm(n)/3))),o=Math.pow(10,-i),s=Am[8+i/3];return function(t){return r(o*t)+s}}var r=t.grouping&&t.thousands?_m(t.grouping,t.thousands):Tm,i=t.currency,o=t.decimal,s=t.numerals?xm(t.numerals):Tm;return{format:e,formatPrefix:n}};hr({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var km=function(t){return Math.max(0,-wm(Math.abs(t)))},Im=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(wm(e)/3)))-wm(Math.abs(t)))},Rm=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wm(e)-wm(t))+1},jm=function(){return new dr};dr.prototype={constructor:dr,reset:function(){this.s=// rounded value
this.t=0},add:function(t){mr(hv,t,this.t),mr(this,hv.s,this.s),this.s?this.t+=hv.t:this.s=hv.t},valueOf:function(){return this.s}};var Dm,Lm,Fm,Um,Vm,Bm,zm,qm,Hm,Gm,Wm,$m,Ym,Xm,Zm,Km,Qm,Jm,tv,ev,nv,rv,iv,ov,sv,av,uv,cv,lv,fv,pv,hv=new dr,dv=1e-6,mv=Math.PI,vv=mv/2,yv=mv/4,gv=2*mv,bv=180/mv,wv=mv/180,_v=Math.abs,xv=Math.atan,Ev=Math.atan2,Cv=Math.cos,Sv=Math.ceil,Nv=Math.exp,Mv=Math.log,Ov=Math.pow,Tv=Math.sin,Av=Math.sign||function(t){return t>0?1:t<0?-1:0},Pv=Math.sqrt,kv=Math.tan,Iv={Feature:function(t,e){wr(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)wr(n[r].geometry,e)}},Rv={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){_r(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)_r(n[r],e,0)},Polygon:function(t,e){xr(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)xr(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)wr(n[r],e)}},jv=function(t,e){t&&Iv.hasOwnProperty(t.type)?Iv[t.type](t,e):wr(t,e)},Dv=jm(),Lv=jm(),Fv={point:br,lineStart:br,lineEnd:br,polygonStart:function(){Dv.reset(),Fv.lineStart=Er,Fv.lineEnd=Cr},polygonEnd:function(){var t=+Dv;Lv.add(t<0?gv+t:t),this.lineStart=this.lineEnd=this.point=br},sphere:function(){Lv.add(gv)}},Uv=function(t){return Lv.reset(),jv(t,Fv),2*Lv},Vv=jm(),Bv={point:Rr,lineStart:Dr,lineEnd:Lr,polygonStart:function(){Bv.point=Fr,Bv.lineStart=Ur,Bv.lineEnd=Vr,Vv.reset(),Fv.polygonStart()},polygonEnd:function(){Fv.polygonEnd(),Bv.point=Rr,Bv.lineStart=Dr,Bv.lineEnd=Lr,Dv<0?(Bm=-(qm=180),zm=-(Hm=90)):Vv>dv?Hm=90:Vv<-dv&&(zm=-90),Zm[0]=Bm,Zm[1]=qm}},zv=function(t){var e,n,r,i,o,s,a;
// First, sort ranges by their minimum longitudes.
if(Hm=qm=-(Bm=zm=1/0),Xm=[],jv(t,Bv),n=Xm.length){
// Then, merge any ranges that overlap.
for(Xm.sort(zr),e=1,r=Xm[0],o=[r];e<n;++e)i=Xm[e],qr(r,i[0])||qr(r,i[1])?(Br(r[0],i[1])>Br(r[0],r[1])&&(r[1]=i[1]),Br(i[0],r[1])>Br(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);
// Finally, find the largest gap between the merged ranges.
// The final bounding box will be the inverse of this gap.
for(s=-1/0,n=o.length-1,e=0,r=o[n];e<=n;r=i,++e)i=o[e],(a=Br(r[1],i[0]))>s&&(s=a,Bm=i[0],qm=r[1])}return Xm=Zm=null,Bm===1/0||zm===1/0?[[NaN,NaN],[NaN,NaN]]:[[Bm,zm],[qm,Hm]]},qv={sphere:br,point:Hr,lineStart:Wr,lineEnd:Xr,polygonStart:function(){qv.lineStart=Zr,qv.lineEnd=Kr},polygonEnd:function(){qv.lineStart=Wr,qv.lineEnd=Xr}},Hv=function(t){Km=Qm=Jm=tv=ev=nv=rv=iv=ov=sv=av=0,jv(t,qv);var e=ov,n=sv,r=av,i=e*e+n*n+r*r;
// If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.
// If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.
// If the feature has zero length, fall back to arithmetic mean of point vectors.
return i<1e-12&&(e=nv,n=rv,r=iv,Qm<dv&&(e=Jm,n=tv,r=ev),(i=e*e+n*n+r*r)<1e-12)?[NaN,NaN]:[Ev(n,e)*bv,yr(r/Pv(i))*bv]},Gv=function(t){return function(){return t}},Wv=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n};ti.invert=ti;var $v,Yv,Xv,Zv,Kv,Qv,Jv,ty,ey,ny,ry,iy=function(t){function e(e){return e=t(e[0]*wv,e[1]*wv),e[0]*=bv,e[1]*=bv,e}return t=ei(t[0]*wv,t[1]*wv,t.length>2?t[2]*wv:0),e.invert=function(e){return e=t.invert(e[0]*wv,e[1]*wv),e[0]*=bv,e[1]*=bv,e},e},oy=function(){function t(t,e){n.push(t=r(t,e)),t[0]*=bv,t[1]*=bv}function e(){var t=i.apply(this,arguments),e=o.apply(this,arguments)*wv,u=s.apply(this,arguments)*wv;return n=[],r=ei(-t[0]*wv,-t[1]*wv,0).invert,oi(a,e,u,1),t={type:"Polygon",coordinates:[n]},n=r=null,t}var n,r,i=Gv([0,0]),o=Gv(90),s=Gv(6),a={point:t};return e.center=function(t){return arguments.length?(i="function"==typeof t?t:Gv([+t[0],+t[1]]),e):i},e.radius=function(t){return arguments.length?(o="function"==typeof t?t:Gv(+t),e):o},e.precision=function(t){return arguments.length?(s="function"==typeof t?t:Gv(+t),e):s},e},sy=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:br,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},ay=function(t,e,n,r,i,o){var s,a=t[0],u=t[1],c=e[0],l=e[1],f=0,p=1,h=c-a,d=l-u;if(s=n-a,h||!(s>0)){if(s/=h,h<0){if(s<f)return;s<p&&(p=s)}else if(h>0){if(s>p)return;s>f&&(f=s)}if(s=i-a,h||!(s<0)){if(s/=h,h<0){if(s>p)return;s>f&&(f=s)}else if(h>0){if(s<f)return;s<p&&(p=s)}if(s=r-u,d||!(s>0)){if(s/=d,d<0){if(s<f)return;s<p&&(p=s)}else if(d>0){if(s>p)return;s>f&&(f=s)}if(s=o-u,d||!(s<0)){if(s/=d,d<0){if(s>p)return;s>f&&(f=s)}else if(d>0){if(s<f)return;s<p&&(p=s)}return f>0&&(t[0]=a+f*h,t[1]=u+f*d),p<1&&(e[0]=a+p*h,e[1]=u+p*d),!0}}}}},uy=function(t,e){return _v(t[0]-e[0])<dv&&_v(t[1]-e[1])<dv},cy=function(t,e,n,r,i){var o,s,a=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],s=t[e];
// If the first and last points of a segment are coincident, then treat as a
// closed ring. TODO if all rings are closed, then the winding order of the
// exterior ring should be checked.
if(uy(r,s)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a.push(n=new ai(r,t,null,!0)),u.push(n.o=new ai(r,null,n,!1)),a.push(n=new ai(s,t,null,!1)),u.push(n.o=new ai(s,null,n,!0))}}),a.length){for(u.sort(e),ui(a),ui(u),o=0,s=u.length;o<s;++o)u[o].e=n=!n;for(var c,l,f=a[0];;){for(
// Find first unvisited intersection.
var p=f,h=!0;p.v;)if((p=p.n)===f)return;c=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(h)for(o=0,s=c.length;o<s;++o)i.point((l=c[o])[0],l[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(h)for(c=p.p.z,o=c.length-1;o>=0;--o)i.point((l=c[o])[0],l[1]);else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,c=p.z,h=!h}while(!p.v);i.lineEnd()}}},ly=1e9,fy=-ly,py=function(){var t,e,n,r=0,i=0,o=960,s=500;return n={stream:function(n){return t&&e===n?t:t=ci(r,i,o,s)(e=n)},extent:function(a){return arguments.length?(r=+a[0][0],i=+a[0][1],o=+a[1][0],s=+a[1][1],t=e=null,n):[[r,i],[o,s]]}}},hy=jm(),dy=function(t,e){var n=e[0],r=e[1],i=[Tv(n),-Cv(n),0],o=0,s=0;hy.reset();for(var a=0,u=t.length;a<u;++a)if(l=(c=t[a]).length)for(var c,l,f=c[l-1],p=f[0],h=f[1]/2+yv,d=Tv(h),m=Cv(h),v=0;v<l;++v,p=g,d=w,m=_,f=y){var y=c[v],g=y[0],b=y[1]/2+yv,w=Tv(b),_=Cv(b),x=g-p,E=x>=0?1:-1,C=E*x,S=C>mv,N=d*w;
// Are the longitudes either side of the points meridian (lambda),
// and are the latitudes smaller than the parallel (phi)?
if(hy.add(Ev(N*E*Tv(C),m*_+N*Cv(C))),o+=S?x+E*gv:x,S^p>=n^g>=n){var M=Ar(Or(f),Or(y));Ir(M);var O=Ar(i,M);Ir(O);var T=(S^x>=0?-1:1)*yr(O[2]);(r>T||r===T&&(M[0]||M[1]))&&(s+=S^x>=0?1:-1)}}
// First, determine whether the South pole is inside or outside:
//
// It is inside if:
// * the polygon winds around it in a clockwise direction.
// * the polygon does not (cumulatively) wind around it, but has a negative
//   (counter-clockwise) area.
//
// Second, count the (signed) number of times a segment crosses a lambda
// from the point to the South pole.  If it is zero, then the point is the
// same side as the South pole.
return(o<-dv||o<dv&&hy<-dv)^1&s},my=jm(),vy={sphere:br,point:br,lineStart:li,lineEnd:br,polygonStart:br,polygonEnd:br},yy=function(t){return my.reset(),jv(t,vy),+my},gy=[null,null],by={type:"LineString",coordinates:gy},wy=function(t,e){return gy[0]=t,gy[1]=e,yy(by)},_y={Feature:function(t,e){return di(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(di(n[r].geometry,e))return!0;return!1}},xy={Sphere:function(){return!0},Point:function(t,e){return mi(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(mi(n[r],e))return!0;return!1},LineString:function(t,e){return vi(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(vi(n[r],e))return!0;return!1},Polygon:function(t,e){return yi(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(yi(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(di(n[r],e))return!0;return!1}},Ey=function(t,e){return(t&&_y.hasOwnProperty(t.type)?_y[t.type]:di)(t,e)},Cy=function(t,e){var n=t[0]*wv,r=t[1]*wv,i=e[0]*wv,o=e[1]*wv,s=Cv(r),a=Tv(r),u=Cv(o),c=Tv(o),l=s*Cv(n),f=s*Tv(n),p=u*Cv(i),h=u*Tv(i),d=2*yr(Pv(gr(o-r)+s*u*gr(i-n))),m=Tv(d),v=d?function(t){var e=Tv(t*=d)/m,n=Tv(d-t)/m,r=n*l+e*p,i=n*f+e*h,o=n*a+e*c;return[Ev(i,r)*bv,Ev(o,Pv(r*r+i*i))*bv]}:function(){return[n*bv,r*bv]};return v.distance=d,v},Sy=function(t){return t},Ny=jm(),My=jm(),Oy={point:br,lineStart:br,lineEnd:br,polygonStart:function(){Oy.lineStart=Ci,Oy.lineEnd=Mi},polygonEnd:function(){Oy.lineStart=Oy.lineEnd=Oy.point=br,Ny.add(_v(My)),My.reset()},result:function(){var t=Ny/2;return Ny.reset(),t}},Ty=1/0,Ay=Ty,Py=-Ty,ky=Py,Iy={point:Oi,lineStart:br,lineEnd:br,polygonStart:br,polygonEnd:br,result:function(){var t=[[Ty,Ay],[Py,ky]];return Py=ky=-(Ay=Ty=1/0),t}},Ry=0,jy=0,Dy=0,Ly=0,Fy=0,Uy=0,Vy=0,By=0,zy=0,qy={point:Ti,lineStart:Ai,lineEnd:Ii,polygonStart:function(){qy.lineStart=Ri,qy.lineEnd=ji},polygonEnd:function(){qy.point=Ti,qy.lineStart=Ai,qy.lineEnd=Ii},result:function(){var t=zy?[Vy/zy,By/zy]:Uy?[Ly/Uy,Fy/Uy]:Dy?[Ry/Dy,jy/Dy]:[NaN,NaN];return Ry=jy=Dy=Ly=Fy=Uy=Vy=By=zy=0,t}};Fi.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,gv)}},result:br};var Hy,Gy,Wy,$y,Yy,Xy=jm(),Zy={point:br,lineStart:function(){Zy.point=Ui},lineEnd:function(){Hy&&Vi(Gy,Wy),Zy.point=br},polygonStart:function(){Hy=!0},polygonEnd:function(){Hy=null},result:function(){var t=+Xy;return Xy.reset(),t}};Bi.prototype={_circle:zi(4.5),pointRadius:function(t){return this._circle=zi(t),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}}};var Ky=function(t,e){function n(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),jv(t,r(i))),i.result()}var r,i,o=4.5;return n.area=function(t){return jv(t,r(Oy)),Oy.result()},n.measure=function(t){return jv(t,r(Zy)),Zy.result()},n.bounds=function(t){return jv(t,r(Iy)),Iy.result()},n.centroid=function(t){return jv(t,r(qy)),qy.result()},n.projection=function(e){return arguments.length?(r=null==e?(t=null,Sy):(t=e).stream,n):t},n.context=function(t){return arguments.length?(i=null==t?(e=null,new Bi):new Fi(e=t),"function"!=typeof o&&i.pointRadius(o),n):e},n.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),n):o},n.projection(t).context(e)},Qy=function(t,e,n,r){return function(i,o){function s(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function a(t,e){var n=i(t,e);v.point(n[0],n[1])}function u(){_.point=a,v.lineStart()}function c(){_.point=s,v.lineEnd()}function l(t,e){m.push([t,e]);var n=i(t,e);b.point(n[0],n[1])}function f(){b.lineStart(),m=[]}function p(){l(m[0][0],m[0][1]),b.lineEnd();var t,e,n,r,i=b.clean(),s=g.result(),a=s.length;if(m.pop(),h.push(m),m=null,a)
// No intersections.
if(1&i){if(n=s[0],(e=n.length-1)>0){for(w||(o.polygonStart(),w=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else
// Rejoin connected segments.
// TODO reuse ringBuffer.rejoin()?
a>1&&2&i&&s.push(s.pop().concat(s.shift())),d.push(s.filter(qi))}var h,d,m,v=e(o),y=i.invert(r[0],r[1]),g=sy(),b=e(g),w=!1,_={point:s,lineStart:u,lineEnd:c,polygonStart:function(){_.point=l,_.lineStart=f,_.lineEnd=p,d=[],h=[]},polygonEnd:function(){_.point=s,_.lineStart=u,_.lineEnd=c,d=cl(d);var t=dy(h,y);d.length?(w||(o.polygonStart(),w=!0),cy(d,Hi,t,n,o)):t&&(w||(o.polygonStart(),w=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),w&&(o.polygonEnd(),w=!1),d=h=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return _}},Jy=Qy(function(){return!0},Gi,$i,[-mv,-vv]),tg=function(t,e){// TODO optimise for this common case
function n(n,r,i,o){oi(o,t,e,i,n,r)}function r(t,e){return Cv(t)*Cv(e)>a}
// Takes a line and cuts into visible segments. Return values used for polygon
// clipping: 0 - there were intersections or the line was empty; 1 - no
// intersections 2 - there were intersections, and the first and last segments
// should be rejoined.
function i(t){var e,// previous point
n,// code for previous point
i,// visibility of previous point
a,// visibility of first point
l;// no intersections
return{lineStart:function(){a=i=!1,l=1},point:function(f,p){var h,d=[f,p],m=r(f,p),v=u?m?0:s(f,p):m?s(f+(f<0?mv:-mv),p):0;if(!e&&(a=i=m)&&t.lineStart(),
// Handle degeneracies.
// TODO ignore if not clipping polygons.
m!==i&&(h=o(e,d),(uy(e,h)||uy(d,h))&&(d[0]+=dv,d[1]+=dv,m=r(d[0],d[1]))),m!==i)l=0,m?(
// outside going in
t.lineStart(),h=o(d,e),t.point(h[0],h[1])):(
// inside going out
h=o(e,d),t.point(h[0],h[1]),t.lineEnd()),e=h;else if(c&&e&&u^m){var y;
// If the codes for two points are different, or are both zero,
// and there this segment intersects with the small circle.
v&n||!(y=o(d,e,!0))||(l=0,u?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!m||e&&uy(e,d)||t.point(d[0],d[1]),e=d,i=m,n=v},lineEnd:function(){i&&t.lineEnd(),e=null},
// Rejoin first and last segments if there were intersections and the first
// and last points were visible.
clean:function(){return l|(a&&i)<<1}}}
// Intersects the great circle between a and b with the clip circle.
function o(t,e,n){var r=Or(t),i=Or(e),o=[1,0,0],// normal
s=Ar(r,i),u=Tr(s,s),c=s[0],// cartesianDot(n1, n2),
l=u-c*c;
// Two polar points.
if(!l)return!n&&t;var f=a*u/l,p=-a*c/l,h=Ar(o,s),d=kr(o,f);Pr(d,kr(s,p));
// Solve |p(t)|^2 = 1.
var m=h,v=Tr(d,m),y=Tr(m,m),g=v*v-y*(Tr(d,d)-1);if(!(g<0)){var b=Pv(g),w=kr(m,(-v-b)/y);if(Pr(w,d),w=Mr(w),!n)return w;
// Two intersection points.
var _,x=t[0],E=e[0],C=t[1],S=e[1];E<x&&(_=x,x=E,E=_);var N=E-x,M=_v(N-mv)<dv,O=M||N<dv;
// Check that the first point is between a and b.
if(!M&&S<C&&(_=C,C=S,S=_),O?M?C+S>0^w[1]<(_v(w[0]-x)<dv?C:S):C<=w[1]&&w[1]<=S:N>mv^(x<=w[0]&&w[0]<=E)){var T=kr(m,(-v+b)/y);return Pr(T,d),[w,Mr(T)]}}}
// Generates a 4-bit vector representing the location of a point relative to
// the small circle's bounding box.
function s(e,n){var r=u?t:mv-t,i=0;// above
// right
return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var a=Cv(t),u=a>0,c=_v(a)>dv;return Qy(r,i,n,u?[0,-t]:[-mv,t-mv])},eg=function(t){return{stream:Yi(t)}};Xi.prototype={constructor:Xi,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ng=16,rg=Cv(30*wv),ig=function(t,e){return+e?Ji(t,e):Qi(t)},og=Yi({point:function(t,e){this.stream.point(t*wv,e*wv)}}),sg=function(){return no(io).scale(155.424).center([0,33.6442])},ag=function(){return sg().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},ug=function(){function t(t){var e=t[0],n=t[1];return a=null,i.point(e,n),a||(o.point(e,n),a)||(s.point(e,n),a)}function e(){return n=r=null,t}var n,r,i,o,s,// ESRI:102007
a,u=ag(),c=sg().rotate([154,0]).center([-2,58.5]).parallels([55,65]),// EPSG:3338
l=sg().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(t,e){a=[t,e]}};return t.invert=function(t){var e=u.scale(),n=u.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?c:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:u).invert(t)},t.stream=function(t){return n&&r===t?n:n=oo([u.stream(r=t),c.stream(t),l.stream(t)])},t.precision=function(t){return arguments.length?(u.precision(t),c.precision(t),l.precision(t),e()):u.precision()},t.scale=function(e){return arguments.length?(u.scale(e),c.scale(.35*e),l.scale(e),t.translate(u.translate())):u.scale()},t.translate=function(t){if(!arguments.length)return u.translate();var n=u.scale(),r=+t[0],a=+t[1];return i=u.translate(t).clipExtent([[r-.455*n,a-.238*n],[r+.455*n,a+.238*n]]).stream(f),o=c.translate([r-.307*n,a+.201*n]).clipExtent([[r-.425*n+dv,a+.12*n+dv],[r-.214*n-dv,a+.234*n-dv]]).stream(f),s=l.translate([r-.205*n,a+.212*n]).clipExtent([[r-.214*n+dv,a+.166*n+dv],[r-.115*n-dv,a+.234*n-dv]]).stream(f),e()},t.fitExtent=function(e,n){return Zi(t,e,n)},t.fitSize=function(e,n){return Ki(t,e,n)},t.scale(1070)},cg=so(function(t){return Pv(2/(1+t))});cg.invert=ao(function(t){return 2*yr(t/2)});var lg=function(){return to(cg).scale(124.75).clipAngle(179.999)},fg=so(function(t){return(t=vr(t))&&t/Tv(t)});fg.invert=ao(function(t){return t});var pg=function(){return to(fg).scale(79.4188).clipAngle(179.999)};uo.invert=function(t,e){return[t,2*xv(Nv(e))-vv]};var hg=function(){return co(uo).scale(961/gv)},dg=function(){return no(fo).scale(109.5).parallels([30,30])};po.invert=po;var mg=function(){return to(po).scale(152.63)},vg=function(){return no(ho).scale(131.154).center([0,13.9389])};mo.invert=ao(xv);var yg=function(){return to(mo).scale(144.049).clipAngle(60)},gg=function(){function t(){return i=o=null,s}var e,n,r,// clip extent
i,o,s,a=1,u=0,c=0,l=1,f=1,p=Sy,// scale, translate and reflect
h=null,d=Sy;return s={stream:function(t){return i&&o===t?i:i=p(d(o=t))},clipExtent:function(i){return arguments.length?(d=null==i?(h=e=n=r=null,Sy):ci(h=+i[0][0],e=+i[0][1],n=+i[1][0],r=+i[1][1]),t()):null==h?null:[[h,e],[n,r]]},scale:function(e){return arguments.length?(p=vo((a=+e)*l,a*f,u,c),t()):a},translate:function(e){return arguments.length?(p=vo(a*l,a*f,u=+e[0],c=+e[1]),t()):[u,c]},reflectX:function(e){return arguments.length?(p=vo(a*(l=e?-1:1),a*f,u,c),t()):l<0},reflectY:function(e){return arguments.length?(p=vo(a*l,a*(f=e?-1:1),u,c),t()):f<0},fitExtent:function(t,e){return Zi(s,t,e)},fitSize:function(t,e){return Ki(s,t,e)}}};yo.invert=ao(yr);var bg=function(){return to(yo).scale(249.5).clipAngle(90+dv)};go.invert=ao(function(t){return 2*xv(t)});var wg=function(){return to(go).scale(250).clipAngle(142)};bo.invert=function(t,e){return[-e,2*xv(Nv(t))-vv]};var _g=function(){var t=co(bo),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)},xg=function(){function t(t){var o,s=0;
// First walk, computing the initial x & y values.
t.eachAfter(function(t){var n=t.children;n?(t.x=_o(n),t.y=Eo(n)):(t.x=o?s+=e(t,o):0,t.y=0,o=t)});var a=So(t),u=No(t),c=a.x-e(a,u)/2,l=u.x+e(u,a)/2;
// Second walk, normalizing x & y to the desired size.
return t.eachAfter(i?function(e){e.x=(e.x-t.x)*n,e.y=(t.y-e.y)*r}:function(e){e.x=(e.x-c)/(l-c)*n,e.y=(1-(t.y?e.y/t.y:1))*r})}var e=wo,n=1,r=1,i=!1;return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(e){return arguments.length?(i=!1,n=+e[0],r=+e[1],t):i?null:[n,r]},t.nodeSize=function(e){return arguments.length?(i=!0,n=+e[0],r=+e[1],t):i?[n,r]:null},t},Eg=function(){return this.eachAfter(Mo)},Cg=function(t){var e,n,r,i,o=this,s=[o];do{for(e=s.reverse(),s=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)s.push(n[r])}while(s.length);return this},Sg=function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},Ng=function(t){for(var e,n,r,i=this,o=[i],s=[];i=o.pop();)if(s.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=s.pop();)t(i);return this},Mg=function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},Og=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},Tg=function(t){for(var e=this,n=Oo(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},Ag=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},Pg=function(){var t=[];return this.each(function(e){t.push(e)}),t},kg=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},Ig=function(){var t=this,e=[];return t.each(function(n){n!==t&&// Dont include the roots parent, if any.
e.push({source:n.parent,target:n})}),e};Ro.prototype=To.prototype={constructor:Ro,count:Eg,each:Cg,eachAfter:Ng,eachBefore:Sg,sum:Mg,sort:Og,path:Tg,ancestors:Ag,descendants:Pg,leaves:kg,links:Ig,copy:Ao};var Rg=function(t){for(var e=(t=t.slice()).length,n=null,r=n;e;){var i=new jo(t[e-1]);r=r?r.next=i:n=i,t[void 0]=t[--e]}return{head:n,tail:r}},jg=function(t){return Lo(Rg(t),[])},Dg=function(t){return Go(t),t},Lg=function(t){return function(){return t}},Fg=function(){function t(t){return t.x=n/2,t.y=r/2,e?t.eachBefore(Zo(e)).eachAfter(Ko(i,.5)).eachBefore(Qo(1)):t.eachBefore(Zo(Xo)).eachAfter(Ko(Yo,1)).eachAfter(Ko(i,t.r/Math.min(n,r))).eachBefore(Qo(Math.min(n,r)/(2*t.r))),t}var e=null,n=1,r=1,i=Yo;return t.radius=function(n){return arguments.length?(e=Wo(n),t):e},t.size=function(e){return arguments.length?(n=+e[0],r=+e[1],t):[n,r]},t.padding=function(e){return arguments.length?(i="function"==typeof e?e:Lg(+e),t):i},t},Ug=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},Vg=function(t,e,n,r,i){for(var o,s=t.children,a=-1,u=s.length,c=t.value&&(r-e)/t.value;++a<u;)o=s[a],o.y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c},Bg=function(){function t(t){var s=t.height+1;return t.x0=t.y0=i,t.x1=n,t.y1=r/s,t.eachBefore(e(r,s)),o&&t.eachBefore(Ug),t}function e(t,e){return function(n){n.children&&Vg(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var r=n.x0,o=n.y0,s=n.x1-i,a=n.y1-i;s<r&&(r=s=(r+s)/2),a<o&&(o=a=(o+a)/2),n.x0=r,n.y0=o,n.x1=s,n.y1=a}}var n=1,r=1,i=0,o=!1;return t.round=function(e){return arguments.length?(o=!!e,t):o},t.size=function(e){return arguments.length?(n=+e[0],r=+e[1],t):[n,r]},t.padding=function(e){return arguments.length?(i=+e,t):i},t},zg="$",qg={depth:-1},Hg={},Gg=function(){function t(t){var r,i,o,s,a,u,c,l=t.length,f=new Array(l),p={};for(i=0;i<l;++i)r=t[i],a=f[i]=new Ro(r),null!=(u=e(r,i,t))&&(u+="")&&(c=zg+(a.id=u),p[c]=c in p?Hg:a);for(i=0;i<l;++i)if(a=f[i],null!=(u=n(t[i],i,t))&&(u+="")){if(!(s=p[zg+u]))throw new Error("missing: "+u);if(s===Hg)throw new Error("ambiguous: "+u);s.children?s.children.push(a):s.children=[a],a.parent=s}else{if(o)throw new Error("multiple roots");o=a}if(!o)throw new Error("no root");if(o.parent=qg,o.eachBefore(function(t){t.depth=t.parent.depth+1,--l}).eachBefore(Io),o.parent=null,l>0)throw new Error("cycle");return o}var e=Jo,n=ts;return t.id=function(n){return arguments.length?(e=$o(n),t):e},t.parentId=function(e){return arguments.length?(n=$o(e),t):n},t};as.prototype=Object.create(Ro.prototype);
// Node-link tree diagram using the Reingold-Tilford "tidy" algorithm
var Wg=function(){function t(t){var r=us(t);
// If a fixed node size is specified, scale x and y.
if(
// Compute the layout using Buchheim et al.s algorithm.
r.eachAfter(e),r.parent.m=-r.z,r.eachBefore(n),u)t.eachBefore(i);else{var c=t,l=t,f=t;t.eachBefore(function(t){t.x<c.x&&(c=t),t.x>l.x&&(l=t),t.depth>f.depth&&(f=t)});var p=c===l?1:o(c,l)/2,h=p-c.x,d=s/(l.x+p+h),m=a/(f.depth||1);t.eachBefore(function(t){t.x=(t.x+h)*d,t.y=t.depth*m})}return t}
// Computes a preliminary x-coordinate for v. Before that, FIRST WALK is
// applied recursively to the children of v, as well as the function
// APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the
// node v is placed to the midpoint of its outermost children.
function e(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e){os(t);var s=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+o(t._,i._),t.m=t.z-s):t.z=s}else i&&(t.z=i.z+o(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}
// Computes all real x-coordinates by summing up the modifiers recursively.
function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}
// The core of the algorithm. Here, a new subtree is combined with the
// previous subtrees. Threads are used to traverse the inside and outside
// contours of the left and right subtree up to the highest common level. The
// vertices used for the traversals are vi+, vi-, vo-, and vo+, where the
// superscript o means outside and i means inside, the subscript - means left
// subtree and + means right subtree. For summing up the modifiers along the
// contour, we use respective variables si+, si-, so-, and so+. Whenever two
// nodes of the inside contours conflict, we compute the left one of the
// greatest uncommon ancestors using the function ANCESTOR and call MOVE
// SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.
// Finally, we add a new thread (if necessary).
function r(t,e,n){if(e){for(var r,i=t,s=t,a=e,u=i.parent.children[0],c=i.m,l=s.m,f=a.m,p=u.m;a=rs(a),i=ns(i),a&&i;)u=ns(u),s=rs(s),s.a=t,r=a.z+f-i.z-c+o(a._,i._),r>0&&(is(ss(a,t,n),t,r),c+=r,l+=r),f+=a.m,c+=i.m,p+=u.m,l+=s.m;a&&!rs(s)&&(s.t=a,s.m+=f-l),i&&!ns(u)&&(u.t=i,u.m+=c-p,n=t)}return n}function i(t){t.x*=s,t.y=t.depth*a}var o=es,s=1,a=1,u=null;return t.separation=function(e){return arguments.length?(o=e,t):o},t.size=function(e){return arguments.length?(u=!1,s=+e[0],a=+e[1],t):u?null:[s,a]},t.nodeSize=function(e){return arguments.length?(u=!0,s=+e[0],a=+e[1],t):u?[s,a]:null},t},$g=function(t,e,n,r,i){for(var o,s=t.children,a=-1,u=s.length,c=t.value&&(i-n)/t.value;++a<u;)o=s[a],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c},Yg=(1+Math.sqrt(5))/2,Xg=function t(e){function n(t,n,r,i,o){cs(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Yg),Zg=function(){function t(t){return t.x0=t.y0=0,t.x1=i,t.y1=o,t.eachBefore(e),s=[0],r&&t.eachBefore(Ug),t}function e(t){var e=s[t.depth],r=t.x0+e,i=t.y0+e,o=t.x1-e,p=t.y1-e;o<r&&(r=o=(r+o)/2),p<i&&(i=p=(i+p)/2),t.x0=r,t.y0=i,t.x1=o,t.y1=p,t.children&&(e=s[t.depth+1]=a(t)/2,r+=f(t)-e,i+=u(t)-e,o-=c(t)-e,p-=l(t)-e,o<r&&(r=o=(r+o)/2),p<i&&(i=p=(i+p)/2),n(t,r,i,o,p))}var n=Xg,r=!1,i=1,o=1,s=[0],a=Yo,u=Yo,c=Yo,l=Yo,f=Yo;return t.round=function(e){return arguments.length?(r=!!e,t):r},t.size=function(e){return arguments.length?(i=+e[0],o=+e[1],t):[i,o]},t.tile=function(e){return arguments.length?(n=$o(e),t):n},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(a="function"==typeof e?e:Lg(+e),t):a},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(u="function"==typeof e?e:Lg(+e),t):u},t.paddingRight=function(e){return arguments.length?(c="function"==typeof e?e:Lg(+e),t):c},t.paddingBottom=function(e){return arguments.length?(l="function"==typeof e?e:Lg(+e),t):l},t.paddingLeft=function(e){return arguments.length?(f="function"==typeof e?e:Lg(+e),t):f},t},Kg=function(t,e,n,r,i){function o(t,e,n,r,i,s,a){if(t>=e-1){var c=u[t];return c.x0=r,c.y0=i,c.x1=s,c.y1=a,void 0}for(var f=l[t],p=n/2+f,h=t+1,d=e-1;h<d;){var m=h+d>>>1;l[m]<p?h=m+1:d=m}p-l[h-1]<l[h]-p&&t+1<h&&--h;var v=l[h]-f,y=n-v;if(s-r>a-i){var g=(r*y+s*v)/n;o(t,h,v,r,i,g,a),o(h,e,y,g,i,s,a)}else{var b=(i*y+a*v)/n;o(t,h,v,r,i,s,b),o(h,e,y,r,b,s,a)}}var s,a,u=t.children,c=u.length,l=new Array(c+1);for(l[0]=a=s=0;s<c;++s)l[s+1]=a+=u[s].value;o(0,c,t.value,e,n,r,i)},Qg=function(t,e,n,r,i){(1&t.depth?$g:Vg)(t,e,n,r,i)},Jg=function t(e){function n(t,n,r,i,o){if((s=t._squarify)&&s.ratio===e)for(var s,a,u,c,l,f=-1,p=s.length,h=t.value;++f<p;){for(a=s[f],u=a.children,c=a.value=0,l=u.length;c<l;++c)a.value+=u[c].value;a.dice?Vg(a,n,r,i,r+=(o-r)*a.value/h):$g(a,n,r,n+=(i-n)*a.value/h,o),h-=a.value}else t._squarify=s=cs(e,t,n,r,i,o),s.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Yg),tb=function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2},eb=function(t){for(var e,n,r=-1,i=t.length,o=0,s=0,a=t[i-1],u=0;++r<i;)e=a,a=t[r],u+=n=e[0]*a[1]-a[0]*e[1],o+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return u*=3,[o/u,s/u]},nb=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])},rb=function(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(ls),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=fs(r),s=fs(i),a=s[0]===o[0],u=s[s.length-1]===o[o.length-1],c=[];
// Add upper hull in right-to-l order.
// Then add lower hull in left-to-right order.
for(e=o.length-1;e>=0;--e)c.push(t[r[o[e]][2]]);for(e=+a;e<s.length-u;++e)c.push(t[r[s[e]][2]]);return c},ib=function(t,e){for(var n,r,i=t.length,o=t[i-1],s=e[0],a=e[1],u=o[0],c=o[1],l=!1,f=0;f<i;++f)o=t[f],n=o[0],r=o[1],r>a!=c>a&&s<(u-n)*(a-r)/(c-r)+n&&(l=!l),u=n,c=r;return l},ob=function(t){for(var e,n,r=-1,i=t.length,o=t[i-1],s=o[0],a=o[1],u=0;++r<i;)e=s,n=a,o=t[r],s=o[0],a=o[1],e-=s,n-=a,u+=Math.sqrt(e*e+n*n);return u},sb=[].slice,ab={};ps.prototype=gs.prototype={constructor:ps,defer:function(t){if("function"!=typeof t||this._call)throw new Error;if(null!=this._error)return this;var e=sb.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),hs(this),this},abort:function(){return null==this._error&&vs(this,new Error("abort")),this},await:function(t){if("function"!=typeof t||this._call)throw new Error;return this._call=function(e,n){t.apply(null,[e].concat(n))},ys(this),this},awaitAll:function(t){if("function"!=typeof t||this._call)throw new Error;return this._call=t,ys(this),this}};var ub=function(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return Math.random()*e+t}},cb=function(t,e){var n,r;return t=null==t?0:+t,e=null==e?1:+e,function(){var i;
// If available, use the second previously-generated uniform random.
if(null!=n)i=n,n=null;else do{n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i}while(!r||r>1);return t+e*i*Math.sqrt(-2*Math.log(r)/r)}},lb=function(){var t=cb.apply(this,arguments);return function(){return Math.exp(t())}},fb=function(t){return function(){for(var e=0,n=0;n<t;++n)e+=Math.random();return e}},pb=function(t){var e=fb(t);return function(){return e()/t}},hb=function(t){return function(){return-Math.log(1-Math.random())/t}},db=function(t,e){function n(t){var e,n=c.status;if(!n&&ws(c)||n>=200&&n<300||304===n){if(o)try{e=o.call(r,c)}catch(t){return void a.call("error",r,t)}else e=c;a.call("load",r,e)}else a.call("error",r,t)}var r,i,o,s,a=d("beforesend","progress","load","error"),u=Bn(),c=new XMLHttpRequest,l=null,f=null,p=0;if(
// If IE does not support CORS, use XDomainRequest.
"undefined"==typeof XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(t)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=c.ontimeout=n:c.onreadystatechange=function(t){c.readyState>3&&n(t)},c.onprogress=function(t){a.call("progress",r,t)},r={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u.get(t):(null==e?u.remove(t):u.set(t,e+""),r)},
// If mimeType is non-null and no Accept header is set, a default is used.
mimeType:function(t){return arguments.length?(i=null==t?null:t+"",r):i},
// Specifies what type the response value should take;
// for instance, arraybuffer, blob, document, or text.
responseType:function(t){return arguments.length?(s=t,r):s},timeout:function(t){return arguments.length?(p=+t,r):p},user:function(t){return arguments.length<1?l:(l=null==t?null:t+"",r)},password:function(t){return arguments.length<1?f:(f=null==t?null:t+"",r)},
// Specify how to convert the response content to a specific type;
// changes the callback value on "load" events.
response:function(t){return o=t,r},
// Alias for send("GET", ).
get:function(t,e){return r.send("GET",t,e)},
// Alias for send("POST", ).
post:function(t,e){return r.send("POST",t,e)},
// If callback is non-null, it will be used for error and load events.
send:function(e,n,o){return c.open(e,t,!0,l,f),null==i||u.has("accept")||u.set("accept",i+",*/*"),c.setRequestHeader&&u.each(function(t,e){c.setRequestHeader(e,t)}),null!=i&&c.overrideMimeType&&c.overrideMimeType(i),null!=s&&(c.responseType=s),p>0&&(c.timeout=p),null==o&&"function"==typeof n&&(o=n,n=null),null!=o&&1===o.length&&(o=bs(o)),null!=o&&r.on("error",o).on("load",function(t){o(null,t)}),a.call("beforesend",r,c),c.send(null==n?null:n),r},abort:function(){return c.abort(),r},on:function(){var t=a.on.apply(a,arguments);return t===a?r:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return r.get(e)}return r},mb=function(t,e){return function(n,r){var i=db(n).mimeType(t).response(e);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},vb=mb("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),yb=mb("application/json",function(t){return JSON.parse(t.responseText)}),gb=mb("text/plain",function(t){return t.responseText}),bb=mb("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),wb=function(t,e){return function(n,r,i){arguments.length<3&&(i=r,r=null);var o=db(n).mimeType(t);return o.row=function(t){return arguments.length?o.response(_s(e,r=t)):r},o.row(r),i?o.get(i):o}},_b=wb("text/csv",Fd),xb=wb("text/tab-separated-values",qd),Eb=Array.prototype,Cb=Eb.map,Sb=Eb.slice,Nb={name:"implicit"},Mb=function(t){return function(){return t}},Ob=function(t){return+t},Tb=[0,1],Ab=function(e,n,i){var o,s=e[0],a=e[e.length-1],u=r(s,a,null==n?10:n);switch(i=fr(null==i?",f":i),i.type){case"s":var c=Math.max(Math.abs(s),Math.abs(a));return null!=i.precision||isNaN(o=Im(u,c))||(i.precision=o),t.formatPrefix(i,c);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(o=Rm(u,Math.max(Math.abs(s),Math.abs(a))))||(i.precision=o-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(o=km(u))||(i.precision=o-2*("%"===i.type))}return t.format(i)},Pb=function(t,e){t=t.slice();var n,r=0,i=t.length-1,o=t[r],s=t[i];return s<o&&(n=r,r=i,i=n,n=o,o=s,s=n),t[r]=e.floor(o),t[i]=e.ceil(s),t},kb=new Date,Ib=new Date,Rb=Xs(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});
// An optimized implementation for this simple case.
Rb.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Xs(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Rb:null};var jb=Rb.range,Db=6e4,Lb=6048e5,Fb=Xs(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),Ub=Fb.range,Vb=Xs(function(t){t.setTime(Math.floor(t/Db)*Db)},function(t,e){t.setTime(+t+e*Db)},function(t,e){return(e-t)/Db},function(t){return t.getMinutes()}),Bb=Vb.range,zb=Xs(function(t){var e=t.getTimezoneOffset()*Db%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),qb=zb.range,Hb=Xs(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Db)/864e5},function(t){return t.getDate()-1}),Gb=Hb.range,Wb=Zs(0),$b=Zs(1),Yb=Zs(2),Xb=Zs(3),Zb=Zs(4),Kb=Zs(5),Qb=Zs(6),Jb=Wb.range,tw=$b.range,ew=Yb.range,nw=Xb.range,rw=Zb.range,iw=Kb.range,ow=Qb.range,sw=Xs(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),aw=sw.range,uw=Xs(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});
// An optimized implementation for this simple case.
uw.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Xs(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var cw=uw.range,lw=Xs(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Db)},function(t,e){return(e-t)/Db},function(t){return t.getUTCMinutes()}),fw=lw.range,pw=Xs(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),hw=pw.range,dw=Xs(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),mw=dw.range,vw=Ks(0),yw=Ks(1),gw=Ks(2),bw=Ks(3),ww=Ks(4),_w=Ks(5),xw=Ks(6),Ew=vw.range,Cw=yw.range,Sw=gw.range,Nw=bw.range,Mw=ww.range,Ow=_w.range,Tw=xw.range,Aw=Xs(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Pw=Aw.range,kw=Xs(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});
// An optimized implementation for this simple case.
kw.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Xs(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var Iw,Rw=kw.range,jw={"-":"",_:" ",0:"0"},Dw=/^\s*\d+/,Lw=/^%/,Fw=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Xa({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Uw=Date.prototype.toISOString?Za:t.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),Vw=+new Date("2000-01-01T00:00:00.000Z")?Ka:t.utcParse("%Y-%m-%dT%H:%M:%S.%LZ"),Bw=1e3,zw=60*Bw,qw=60*zw,Hw=24*qw,Gw=7*Hw,Ww=30*Hw,$w=365*Hw,Yw=function(){return tu(uw,sw,Wb,Hb,zb,Vb,Fb,Rb,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},Xw=function(){return tu(kw,Aw,vw,dw,pw,lw,Fb,Rb,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},Zw=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},Kw=Zw("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Qw=Zw("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Jw=Zw("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),t_=Zw("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),e_=Fp(Wt(300,.5,0),Wt(-240,.5,1)),n_=Fp(Wt(-100,.75,.35),Wt(80,1.5,.8)),r_=Fp(Wt(260,.75,.35),Wt(80,1.5,.8)),i_=Wt(),o_=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return i_.h=360*t-100,i_.s=1.5-1.5*e,i_.l=.8-.9*e,i_+""},s_=eu(Zw("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),a_=eu(Zw("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),u_=eu(Zw("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),c_=eu(Zw("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),l_=function(t){return function(){return t}},f_=Math.abs,p_=Math.atan2,h_=Math.cos,d_=Math.max,m_=Math.min,v_=Math.sin,y_=Math.sqrt,g_=1e-12,b_=Math.PI,w_=b_/2,__=2*b_,x_=function(){function t(){var t,c,l=+e.apply(this,arguments),f=+n.apply(this,arguments),p=o.apply(this,arguments)-w_,h=s.apply(this,arguments)-w_,d=f_(h-p),m=h>p;
// Is it a point?
if(u||(u=t=Rn()),
// Ensure that the outer radius is always larger than the inner radius.
f<l&&(c=f,f=l,l=c),f>g_)if(d>__-g_)u.moveTo(f*h_(p),f*v_(p)),u.arc(0,0,f,p,h,!m),l>g_&&(u.moveTo(l*h_(h),l*v_(h)),u.arc(0,0,l,h,p,m));else{var v,y,g=p,b=h,w=p,_=h,x=d,E=d,C=a.apply(this,arguments)/2,S=C>g_&&(i?+i.apply(this,arguments):y_(l*l+f*f)),N=m_(f_(f-l)/2,+r.apply(this,arguments)),M=N,O=N;
// Apply padding? Note that since r1  r0, da1  da0.
if(S>g_){var T=iu(S/l*v_(C)),A=iu(S/f*v_(C));(x-=2*T)>g_?(T*=m?1:-1,w+=T,_-=T):(x=0,w=_=(p+h)/2),(E-=2*A)>g_?(A*=m?1:-1,g+=A,b-=A):(E=0,g=b=(p+h)/2)}var P=f*h_(g),k=f*v_(g),I=l*h_(_),R=l*v_(_);
// Apply rounded corners?
if(N>g_){var j=f*h_(b),D=f*v_(b),L=l*h_(w),F=l*v_(w);
// Restrict the corner radius according to the sector angle.
if(d<b_){var U=x>g_?lu(P,k,L,F,j,D,I,R):[I,R],V=P-U[0],B=k-U[1],z=j-U[0],q=D-U[1],H=1/v_(ru((V*z+B*q)/(y_(V*V+B*B)*y_(z*z+q*q)))/2),G=y_(U[0]*U[0]+U[1]*U[1]);M=m_(N,(l-G)/(H-1)),O=m_(N,(f-G)/(H+1))}}
// Is the sector collapsed to a line?
E>g_?O>g_?(v=fu(L,F,P,k,f,O,m),y=fu(j,D,I,R,f,O,m),u.moveTo(v.cx+v.x01,v.cy+v.y01),
// Have the corners merged?
O<N?u.arc(v.cx,v.cy,O,p_(v.y01,v.x01),p_(y.y01,y.x01),!m):(u.arc(v.cx,v.cy,O,p_(v.y01,v.x01),p_(v.y11,v.x11),!m),u.arc(0,0,f,p_(v.cy+v.y11,v.cx+v.x11),p_(y.cy+y.y11,y.cx+y.x11),!m),u.arc(y.cx,y.cy,O,p_(y.y11,y.x11),p_(y.y01,y.x01),!m))):(u.moveTo(P,k),u.arc(0,0,f,g,b,!m)):u.moveTo(P,k),
// Is there no inner ring, and its a circular sector?
// Or perhaps its an annular sector collapsed due to padding?
l>g_&&x>g_?M>g_?(v=fu(I,R,j,D,l,-M,m),y=fu(P,k,L,F,l,-M,m),u.lineTo(v.cx+v.x01,v.cy+v.y01),
// Have the corners merged?
M<N?u.arc(v.cx,v.cy,M,p_(v.y01,v.x01),p_(y.y01,y.x01),!m):(u.arc(v.cx,v.cy,M,p_(v.y01,v.x01),p_(v.y11,v.x11),!m),u.arc(0,0,l,p_(v.cy+v.y11,v.cx+v.x11),p_(y.cy+y.y11,y.cx+y.x11),m),u.arc(y.cx,y.cy,M,p_(y.y11,y.x11),p_(y.y01,y.x01),!m))):u.arc(0,0,l,_,w,m):u.lineTo(I,R)}else u.moveTo(0,0);if(u.closePath(),t)return u=null,t+""||null}var e=ou,n=su,r=l_(0),i=null,o=au,s=uu,a=cu,u=null;return t.centroid=function(){var t=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-b_/2;return[h_(r)*t,v_(r)*t]},t.innerRadius=function(n){return arguments.length?(e="function"==typeof n?n:l_(+n),t):e},t.outerRadius=function(e){return arguments.length?(n="function"==typeof e?e:l_(+e),t):n},t.cornerRadius=function(e){return arguments.length?(r="function"==typeof e?e:l_(+e),t):r},t.padRadius=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:l_(+e),t):i},t.startAngle=function(e){return arguments.length?(o="function"==typeof e?e:l_(+e),t):o},t.endAngle=function(e){return arguments.length?(s="function"==typeof e?e:l_(+e),t):s},t.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:l_(+e),t):a},t.context=function(e){return arguments.length?(u=null==e?null:e,t):u},t};pu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;// proceed
default:this._context.lineTo(t,e)}}};var E_=function(t){return new pu(t)},C_=function(){function t(t){var a,u,c,l=t.length,f=!1;for(null==i&&(s=o(c=Rn())),a=0;a<=l;++a)!(a<l&&r(u=t[a],a,t))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+e(u,a,t),+n(u,a,t));if(c)return s=null,c+""||null}var e=hu,n=du,r=l_(!0),i=null,o=E_,s=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:l_(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:l_(+e),t):n},t.defined=function(e){return arguments.length?(r="function"==typeof e?e:l_(!!e),t):r},t.curve=function(e){return arguments.length?(o=e,null!=i&&(s=o(i)),t):o},t.context=function(e){return arguments.length?(null==e?i=s=null:s=o(i=e),t):i},t},S_=function(){function t(t){var e,l,f,p,h,d=t.length,m=!1,v=new Array(d),y=new Array(d);for(null==a&&(c=u(h=Rn())),e=0;e<=d;++e){if(!(e<d&&s(p=t[e],e,t))===m)if(m=!m)l=e,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),f=e-1;f>=l;--f)c.point(v[f],y[f]);c.lineEnd(),c.areaEnd()}m&&(v[e]=+n(p,e,t),y[e]=+i(p,e,t),c.point(r?+r(p,e,t):v[e],o?+o(p,e,t):y[e]))}if(h)return c=null,h+""||null}function e(){return C_().defined(s).curve(u).context(a)}var n=hu,r=null,i=l_(0),o=du,s=l_(!0),a=null,u=E_,c=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:l_(+e),r=null,t):n},t.x0=function(e){return arguments.length?(n="function"==typeof e?e:l_(+e),t):n},t.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:l_(+e),t):r},t.y=function(e){return arguments.length?(i="function"==typeof e?e:l_(+e),o=null,t):i},t.y0=function(e){return arguments.length?(i="function"==typeof e?e:l_(+e),t):i},t.y1=function(e){return arguments.length?(o=null==e?null:"function"==typeof e?e:l_(+e),t):o},t.lineX0=t.lineY0=function(){return e().x(n).y(i)},t.lineY1=function(){return e().x(n).y(o)},t.lineX1=function(){return e().x(r).y(i)},t.defined=function(e){return arguments.length?(s="function"==typeof e?e:l_(!!e),t):s},t.curve=function(e){return arguments.length?(u=e,null!=a&&(c=u(a)),t):u},t.context=function(e){return arguments.length?(null==e?a=c=null:c=u(a=e),t):a},t},N_=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},M_=function(t){return t},O_=function(){function t(t){var a,u,c,l,f,p=t.length,h=0,d=new Array(p),m=new Array(p),v=+i.apply(this,arguments),y=Math.min(__,Math.max(-__,o.apply(this,arguments)-v)),g=Math.min(Math.abs(y)/p,s.apply(this,arguments)),b=g*(y<0?-1:1);for(a=0;a<p;++a)(f=m[d[a]=a]=+e(t[a],a,t))>0&&(h+=f);
// Compute the arcs! They are stored in the original data's order.
for(
// Optionally sort the arcs by previously-computed values or by data.
null!=n?d.sort(function(t,e){return n(m[t],m[e])}):null!=r&&d.sort(function(e,n){return r(t[e],t[n])}),a=0,c=h?(y-p*b)/h:0;a<p;++a,v=l)u=d[a],f=m[u],l=v+(f>0?f*c:0)+b,m[u]={data:t[u],index:a,value:f,startAngle:v,endAngle:l,padAngle:g};return m}var e=M_,n=N_,r=null,i=l_(0),o=l_(__),s=l_(0);return t.value=function(n){return arguments.length?(e="function"==typeof n?n:l_(+n),t):e},t.sortValues=function(e){return arguments.length?(n=e,r=null,t):n},t.sort=function(e){return arguments.length?(r=e,n=null,t):r},t.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:l_(+e),t):i},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:l_(+e),t):o},t.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:l_(+e),t):s},t},T_=vu(E_);mu.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var A_=function(){return yu(C_().curve(T_))},P_=function(){var t=S_().curve(T_),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return yu(n())},delete t.lineX0,t.lineEndAngle=function(){return yu(r())},delete t.lineX1,t.lineInnerRadius=function(){return yu(i())},delete t.lineY0,t.lineOuterRadius=function(){return yu(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(vu(t)):e()._curve},t},k_={draw:function(t,e){var n=Math.sqrt(e/b_);t.moveTo(n,0),t.arc(0,0,n,0,__)}},I_={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},R_=Math.sqrt(1/3),j_=2*R_,D_={draw:function(t,e){var n=Math.sqrt(e/j_),r=n*R_;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},L_=Math.sin(b_/10)/Math.sin(7*b_/10),F_=Math.sin(__/10)*L_,U_=-Math.cos(__/10)*L_,V_={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=F_*n,i=U_*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var s=__*o/5,a=Math.cos(s),u=Math.sin(s);t.lineTo(u*n,-a*n),t.lineTo(a*r-u*i,u*r+a*i)}t.closePath()}},B_={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},z_=Math.sqrt(3),q_={draw:function(t,e){var n=-Math.sqrt(e/(3*z_));t.moveTo(0,2*n),t.lineTo(-z_*n,-n),t.lineTo(z_*n,-n),t.closePath()}},H_=-.5,G_=Math.sqrt(3)/2,W_=1/Math.sqrt(12),$_=3*(W_/2+1),Y_={draw:function(t,e){var n=Math.sqrt(e/$_),r=n/2,i=n*W_,o=r,s=n*W_+n,a=-o,u=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,u),t.lineTo(H_*r-G_*i,G_*r+H_*i),t.lineTo(H_*o-G_*s,G_*o+H_*s),t.lineTo(H_*a-G_*u,G_*a+H_*u),t.lineTo(H_*r+G_*i,H_*i-G_*r),t.lineTo(H_*o+G_*s,H_*s-G_*o),t.lineTo(H_*a+G_*u,H_*u-G_*a),t.closePath()}},X_=[k_,I_,D_,B_,V_,q_,Y_],Z_=function(){function t(){var t;if(r||(r=t=Rn()),e.apply(this,arguments).draw(r,+n.apply(this,arguments)),t)return r=null,t+""||null}var e=l_(k_),n=l_(64),r=null;return t.type=function(n){return arguments.length?(e="function"==typeof n?n:l_(n),t):e},t.size=function(e){return arguments.length?(n="function"==typeof e?e:l_(+e),t):n},t.context=function(e){return arguments.length?(r=null==e?null:e,t):r},t},K_=function(){};bu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gu(this,this._x1,this._y1);// proceed
case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);// proceed
default:gu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Q_=function(t){return new bu(t)};wu.prototype={areaStart:K_,areaEnd:K_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:gu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var J_=function(t){return new wu(t)};_u.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;// proceed
default:gu(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var tx=function(t){return new _u(t)};xu.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],s=t[n]-i,a=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*s),this._beta*e[u]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var ex=function t(e){function n(t){return 1===e?new bu(t):new xu(t,e)}return n.beta=function(e){return t(+e)},n}(.85);Cu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Eu(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;// proceed
default:Eu(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var nx=function t(e){function n(t){return new Cu(t,e)}return n.tension=function(e){return t(+e)},n}(0);Su.prototype={areaStart:K_,areaEnd:K_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Eu(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var rx=function t(e){function n(t){return new Su(t,e)}return n.tension=function(e){return t(+e)},n}(0);Nu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;// proceed
default:Eu(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ix=function t(e){function n(t){return new Nu(t,e)}return n.tension=function(e){return t(+e)},n}(0);Ou.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;// proceed
default:Mu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ox=function t(e){function n(t){return e?new Ou(t,e):new Cu(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);Tu.prototype={areaStart:K_,areaEnd:K_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Mu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var sx=function t(e){function n(t){return e?new Tu(t,e):new Su(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);Au.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;// proceed
default:Mu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ax=function t(e){function n(t){return e?new Au(t,e):new Nu(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);Pu.prototype={areaStart:K_,areaEnd:K_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var ux=function(t){return new Pu(t)};Du.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ju(this,this._t0,Ru(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){// Ignore coincident points.
switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ju(this,Ru(this,n=Iu(this,t,e)),n);break;default:ju(this,this._t0,n=Iu(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Lu.prototype=Object.create(Du.prototype)).point=function(t,e){Du.prototype.point.call(this,e,t)},Fu.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},Bu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=zu(t),i=zu(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var cx=function(t){return new Bu(t)};qu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;// proceed
default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var lx=function(t){return new qu(t,.5)},fx=Array.prototype.slice,px=function(t,e){if((r=t.length)>1)for(var n,r,i=1,o=t[e[0]],s=o.length;i<r;++i){n=o,o=t[e[i]];for(var a=0;a<s;++a)o[a][1]+=o[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}},hx=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n},dx=function(){function t(t){var o,s,a=e.apply(this,arguments),u=t.length,c=a.length,l=new Array(c);for(o=0;o<c;++o){for(var f,p=a[o],h=l[o]=new Array(u),d=0;d<u;++d)h[d]=f=[0,+i(t[d],p,d,t)],f.data=t[d];h.key=p}for(o=0,s=n(l);o<c;++o)l[s[o]].index=o;return r(l,s),l}var e=l_([]),n=hx,r=px,i=Wu;return t.keys=function(n){return arguments.length?(e="function"==typeof n?n:l_(fx.call(n)),t):e},t.value=function(e){return arguments.length?(i="function"==typeof e?e:l_(+e),t):i},t.order=function(e){return arguments.length?(n=null==e?hx:"function"==typeof e?e:l_(fx.call(e)),t):n},t.offset=function(e){return arguments.length?(r=null==e?px:e,t):r},t},mx=function(t,e){if((r=t.length)>0){for(var n,r,i,o=0,s=t[0].length;o<s;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}px(t,e)}},vx=function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var s=0,a=0;s<n;++s)a+=t[s][r][1]||0;i[r][1]+=i[r][0]=-a/2}px(t,e)}},yx=function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,s=1;s<r;++s){for(var a=0,u=0,c=0;a<i;++a){for(var l=t[e[a]],f=l[s][1]||0,p=l[s-1][1]||0,h=(f-p)/2,d=0;d<a;++d){var m=t[e[d]];h+=(m[s][1]||0)-(m[s-1][1]||0)}u+=f,c+=h*f}n[s-1][1]+=n[s-1][0]=o,u&&(o-=c/u)}n[s-1][1]+=n[s-1][0]=o,px(t,e)}},gx=function(t){var e=t.map($u);return hx(t).sort(function(t,n){return e[t]-e[n]})},bx=function(t){return gx(t).reverse()},wx=function(t){var e,n,r=t.length,i=t.map($u),o=hx(t).sort(function(t,e){return i[e]-i[t]}),s=0,a=0,u=[],c=[];for(e=0;e<r;++e)n=o[e],s<a?(s+=i[n],u.push(n)):(a+=i[n],c.push(n));return c.reverse().concat(u)},_x=function(t){return hx(t).reverse()},xx=function(t){return function(){return t}};Zu.prototype={constructor:Zu,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=tc(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Qu(this,n),t=n,n=t.U),n.C=!1,r.C=!0,Ju(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Ju(this,n),t=n,n=t.U),n.C=!1,r.C=!0,Qu(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,s=t.R;if(n=o?s?tc(s):o:s,i?i.L===t?i.L=n:i.R=n:this._=n,o&&s?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=s,s.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,Qu(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Ju(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Qu(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,Ju(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Qu(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Ju(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Ex,Cx,Sx,Nx,Mx,Ox=[],Tx=[],Ax=1e-6,Px=1e-12;Sc.prototype={constructor:Sc,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return cc(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,s,a=n.site,u=-1,c=e[i[o-1]],l=c.left===a?c.right:c.left;++u<o;)s=l,c=e[i[u]],l=c.left===a?c.right:c.left,s&&l&&r<s.index&&r<l.index&&Ec(a,s,l)<0&&t.push([a.data,s.data,l.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){
// Use the previously-found cell, or start with an arbitrary one.
for(var r,i,o=this,s=o._found||0,a=o.cells.length;!(i=o.cells[s]);)if(++s>=a)return null;var u=t-i.site[0],c=e-i.site[1],l=u*u+c*c;
// Traverse the half-edges to find a closer cell, if any.
do{i=o.cells[r=s],s=null,i.halfedges.forEach(function(n){var r=o.edges[n],a=r.left;if(a!==i.site&&a||(a=r.right)){var u=t-a[0],c=e-a[1],f=u*u+c*c;f<l&&(l=f,s=a.index)}})}while(null!==s);return o._found=r,null==n||l<=n*n?i.site:null}};var kx=function(){function t(t){return new Sc(t.map(function(r,i){var o=[Math.round(e(r,i,t)/Ax)*Ax,Math.round(n(r,i,t)/Ax)*Ax];return o.index=i,o.data=r,o}),r)}var e=Yu,n=Xu,r=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:xx(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:xx(+e),t):n},t.extent=function(e){return arguments.length?(r=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(e){return arguments.length?(r=null==e?null:[[0,0],[+e[0],+e[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t},Ix=function(t){return function(){return t}};Mc.prototype={constructor:Mc,scale:function(t){return 1===t?this:new Mc(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Mc(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Rx=new Mc(1,0,0);Oc.prototype=Mc.prototype;var jx=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},Dx=function(){function e(t){t.on("wheel.zoom",c).on("mousedown.zoom",l).on("dblclick.zoom",f).on("touchstart.zoom",p).on("touchmove.zoom",h).on("touchend.zoom touchcancel.zoom",m).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",kc)}function n(t,e){return e=Math.max(w,Math.min(_,e)),e===t.k?t:new Mc(e,t.x,t.y)}function r(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new Mc(t.k,r,i)}function i(t,e){var n=t.invertX(e[0][0])-x,r=t.invertX(e[1][0])-E,i=t.invertY(e[0][1])-C,o=t.invertY(e[1][1])-S;return t.translate(r>n?(n+r)/2:Math.min(0,n)||Math.max(0,r),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function o(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function s(t,e,n){t.on("start.zoom",function(){a(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){a(this,arguments).end()}).tween("zoom",function(){var t=this,r=arguments,i=a(t,r),s=b.apply(t,r),u=n||o(s),c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),l=t.__zoom,f="function"==typeof e?e.apply(t,r):e,p=M(l.invert(u).concat(c/l.k),f.invert(u).concat(c/f.k));return function(t){if(1===t)t=f;else{var e=p(t),n=c/e[2];t=new Mc(n,u[0]-e[0]*n,u[1]-e[1]*n)}i.zoom(null,t)}})}function a(t,e){for(var n,r=0,i=T.length;r<i;++r)if((n=T[r]).that===t)return n;return new u(t,e)}function u(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=b.apply(t,e)}function c(){function e(){o.wheel=null,o.end()}if(g.apply(this,arguments)){var o=a(this,arguments),s=this.__zoom,u=Math.max(w,Math.min(_,s.k*Math.pow(2,-t.event.deltaY*(t.event.deltaMode?120:1)/500))),c=Fl(this);
// If the mouse is in the same location as before, reuse it.
// If there were recent wheel events, reset the wheel idle timeout.
if(o.wheel)o.mouse[0][0]===c[0]&&o.mouse[0][1]===c[1]||(o.mouse[1]=s.invert(o.mouse[0]=c)),clearTimeout(o.wheel);else{if(s.k===u)return;o.mouse=[c,s.invert(c)],ah(this),o.start()}jx(),o.wheel=setTimeout(e,k),o.zoom("mouse",i(r(n(s,u),o.mouse[0],o.mouse[1]),o.extent))}}function l(){function e(){jx(),o.moved=!0,o.zoom("mouse",i(r(o.that.__zoom,o.mouse[0]=Fl(o.that),o.mouse[1]),o.extent))}function n(){s.on("mousemove.zoom mouseup.zoom",null),yt(t.event.view,o.moved),jx(),o.end()}if(!y&&g.apply(this,arguments)){var o=a(this,arguments),s=_f(t.event.view).on("mousemove.zoom",e,!0).on("mouseup.zoom",n,!0),u=Fl(this);Nf(t.event.view),Tc(),o.mouse=[u,this.__zoom.invert(u)],ah(this),o.start()}}function f(){if(g.apply(this,arguments)){var o=this.__zoom,a=Fl(this),u=o.invert(a),c=o.k*(t.event.shiftKey?.5:2),l=i(r(n(o,c),a,u),b.apply(this,arguments));jx(),N>0?_f(this).transition().duration(N).call(s,l,a):_f(this).call(e.transform,l)}}function p(){if(g.apply(this,arguments)){var e,n,r,i,o=a(this,arguments),s=t.event.changedTouches,u=s.length;for(Tc(),n=0;n<u;++n)r=s[n],i=Ef(this,s,r.identifier),i=[i,this.__zoom.invert(i),r.identifier],o.touch0?o.touch1||(o.touch1=i):(o.touch0=i,e=!0);
// If this is a dbltap, reroute to the (optional) dblclick.zoom handler.
if(v&&(v=clearTimeout(v),!o.touch1))return o.end(),void((i=_f(this).on("dblclick.zoom"))&&i.apply(this,arguments));e&&(v=setTimeout(function(){v=null},P),ah(this),o.start())}}function h(){var e,o,s,u,c=a(this,arguments),l=t.event.changedTouches,f=l.length;for(jx(),v&&(v=clearTimeout(v)),e=0;e<f;++e)o=l[e],s=Ef(this,l,o.identifier),c.touch0&&c.touch0[2]===o.identifier?c.touch0[0]=s:c.touch1&&c.touch1[2]===o.identifier&&(c.touch1[0]=s);if(o=c.that.__zoom,c.touch1){var p=c.touch0[0],h=c.touch0[1],d=c.touch1[0],m=c.touch1[1],y=(y=d[0]-p[0])*y+(y=d[1]-p[1])*y,g=(g=m[0]-h[0])*g+(g=m[1]-h[1])*g;o=n(o,Math.sqrt(y/g)),s=[(p[0]+d[0])/2,(p[1]+d[1])/2],u=[(h[0]+m[0])/2,(h[1]+m[1])/2]}else{if(!c.touch0)return;s=c.touch0[0],u=c.touch0[1]}c.zoom("touch",i(r(o,s,u),c.extent))}function m(){var e,n,r=a(this,arguments),i=t.event.changedTouches,o=i.length;for(Tc(),y&&clearTimeout(y),y=setTimeout(function(){y=null},P),e=0;e<o;++e)n=i[e],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}var v,y,g=Ac,b=Pc,w=0,_=1/0,x=-_,E=_,C=x,S=E,N=250,M=kp,T=[],A=d("start","zoom","end"),P=500,k=150;return e.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",kc),t!==n?s(t,e):n.interrupt().each(function(){a(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},e.scaleBy=function(t,n){e.scaleTo(t,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)})},e.scaleTo=function(t,s){e.transform(t,function(){var t=b.apply(this,arguments),e=this.__zoom,a=o(t),u=e.invert(a);return i(r(n(e,"function"==typeof s?s.apply(this,arguments):s),a,u),t)})},e.translateBy=function(t,n,r){e.transform(t,function(){return i(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof r?r.apply(this,arguments):r),b.apply(this,arguments))})},u.prototype={start:function(){return 1==++this.active&&(this.index=T.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(T.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){O(new Nc(e,t,this.that.__zoom),A.apply,A,[t,this.that,this.args])}},e.filter=function(t){return arguments.length?(g="function"==typeof t?t:Ix(!!t),e):g},e.extent=function(t){return arguments.length?(b="function"==typeof t?t:Ix([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):b},e.scaleExtent=function(t){return arguments.length?(w=+t[0],_=+t[1],e):[w,_]},e.translateExtent=function(t){return arguments.length?(x=+t[0][0],E=+t[1][0],C=+t[0][1],S=+t[1][1],e):[[x,C],[E,S]]},e.duration=function(t){return arguments.length?(N=+t,e):N},e.interpolate=function(t){return arguments.length?(M=t,e):M},e.on=function(){var t=A.on.apply(A,arguments);return t===A?e:t},e};t.version="4.7.4",t.bisect=Dc,t.bisectRight=Dc,t.bisectLeft=Lc,t.ascending=Ic,t.bisector=Rc,t.cross=Uc,t.descending=Vc,t.deviation=qc,t.extent=Hc,t.histogram=nl,t.thresholdFreedmanDiaconis=il,t.thresholdScott=ol,t.thresholdSturges=el,t.max=sl,t.mean=al,t.median=ul,t.merge=cl,t.min=ll,t.pairs=Fc,t.permute=fl,t.quantile=rl,t.range=Zc,t.scan=pl,t.shuffle=hl,t.sum=dl,t.ticks=tl,t.tickStep=r,t.transpose=ml,t.variance=zc,t.zip=vl,t.axisTop=l,t.axisRight=f,t.axisBottom=p,t.axisLeft=h,t.brush=yd,t.brushX=Tn,t.brushY=An,t.brushSelection=On,t.chord=Cd,t.ribbon=Ad,t.nest=Pd,t.set=$n,t.map=Bn,t.keys=Id,t.values=Rd,t.entries=jd,t.color=Ct,t.rgb=Ot,t.hsl=kt,t.lab=Dt,t.hcl=qt,t.cubehelix=Wt,t.dispatch=d,t.drag=Of,t.dragDisable=Nf,t.dragEnable=yt,t.dsvFormat=Dd,t.csvParse=Fd,t.csvParseRows=Ud,t.csvFormat=Vd,t.csvFormatRows=Bd,t.tsvParse=qd,t.tsvParseRows=Hd,t.tsvFormat=Gd,t.tsvFormatRows=Wd,t.easeLinear=en,t.easeQuad=on,t.easeQuadIn=nn,t.easeQuadOut=rn,t.easeQuadInOut=on,t.easeCubic=un,t.easeCubicIn=sn,t.easeCubicOut=an,t.easeCubicInOut=un,t.easePoly=kh,t.easePolyIn=Ah,t.easePolyOut=Ph,t.easePolyInOut=kh,t.easeSin=fn,t.easeSinIn=cn,t.easeSinOut=ln,t.easeSinInOut=fn,t.easeExp=dn,t.easeExpIn=pn,t.easeExpOut=hn,t.easeExpInOut=dn,t.easeCircle=yn,t.easeCircleIn=mn,t.easeCircleOut=vn,t.easeCircleInOut=yn,t.easeBounce=bn,t.easeBounceIn=gn,t.easeBounceOut=bn,t.easeBounceInOut=wn,t.easeBack=$h,t.easeBackIn=Gh,t.easeBackOut=Wh,t.easeBackInOut=$h,t.easeElastic=Zh,t.easeElasticIn=Xh,t.easeElasticOut=Zh,t.easeElasticInOut=Kh,t.forceCenter=$d,t.forceCollide=fm,t.forceLink=pm,t.forceManyBody=vm,t.forceSimulation=mm,t.forceX=ym,t.forceY=gm,t.formatDefaultLocale=hr,t.formatLocale=Pm,t.formatSpecifier=fr,t.precisionFixed=km,t.precisionPrefix=Im,t.precisionRound=Rm,t.geoArea=Uv,t.geoBounds=zv,t.geoCentroid=Hv,t.geoCircle=oy,t.geoClipExtent=py,t.geoContains=Ey,t.geoDistance=wy,t.geoGraticule=xi,t.geoGraticule10=Ei,t.geoInterpolate=Cy,t.geoLength=yy,t.geoPath=Ky,t.geoAlbers=ag,t.geoAlbersUsa=ug,t.geoAzimuthalEqualArea=lg,t.geoAzimuthalEqualAreaRaw=cg,t.geoAzimuthalEquidistant=pg,t.geoAzimuthalEquidistantRaw=fg,t.geoConicConformal=dg,t.geoConicConformalRaw=fo,t.geoConicEqualArea=sg,t.geoConicEqualAreaRaw=io,t.geoConicEquidistant=vg,t.geoConicEquidistantRaw=ho,t.geoEquirectangular=mg,t.geoEquirectangularRaw=po,t.geoGnomonic=yg,t.geoGnomonicRaw=mo,t.geoIdentity=gg,t.geoProjection=to,t.geoProjectionMutator=eo,t.geoMercator=hg,t.geoMercatorRaw=uo,t.geoOrthographic=bg,t.geoOrthographicRaw=yo,t.geoStereographic=wg,t.geoStereographicRaw=go,t.geoTransverseMercator=_g,t.geoTransverseMercatorRaw=bo,t.geoRotation=iy,t.geoStream=jv,t.geoTransform=eg,t.cluster=xg,t.hierarchy=To,t.pack=Fg,t.packSiblings=Dg,t.packEnclose=jg,t.partition=Bg,t.stratify=Gg,t.tree=Wg,t.treemap=Zg,t.treemapBinary=Kg,t.treemapDice=Vg,t.treemapSlice=$g,t.treemapSliceDice=Qg,t.treemapSquarify=Xg,t.treemapResquarify=Jg,t.interpolate=Cp,t.interpolateArray=yp,t.interpolateBasis=fp,t.interpolateBasisClosed=pp,t.interpolateDate=gp,t.interpolateNumber=bp,t.interpolateObject=wp,t.interpolateRound=Sp,t.interpolateString=Ep,t.interpolateTransformCss=Tp,t.interpolateTransformSvg=Ap,t.interpolateZoom=kp,t.interpolateRgb=dp,t.interpolateRgbBasis=mp,t.interpolateRgbBasisClosed=vp,t.interpolateHsl=Ip,t.interpolateHslLong=Rp,t.interpolateLab=le,t.interpolateHcl=jp,t.interpolateHclLong=Dp,t.interpolateCubehelix=Lp,t.interpolateCubehelixLong=Fp,t.quantize=Up,t.path=Rn,t.polygonArea=tb,t.polygonCentroid=eb,t.polygonHull=rb;t.polygonContains=ib,t.polygonLength=ob,t.quadtree=nr,t.queue=gs,t.randomUniform=ub,t.randomNormal=cb,t.randomLogNormal=lb,t.randomBates=pb,t.randomIrwinHall=fb,t.randomExponential=hb,t.request=db,t.html=vb,t.json=yb,t.text=gb,t.xml=bb,t.csv=_b,t.tsv=xb,t.scaleBand=Es,t.scalePoint=Ss,t.scaleIdentity=js,t.scaleLinear=Rs,t.scaleLog=zs,t.scaleOrdinal=xs,t.scaleImplicit=Nb,t.scalePow=Hs,t.scaleSqrt=Gs,t.scaleQuantile=Ws,t.scaleQuantize=$s,t.scaleThreshold=Ys,t.scaleTime=Yw,t.scaleUtc=Xw,t.schemeCategory10=Kw,t.schemeCategory20b=Qw,t.schemeCategory20c=Jw,t.schemeCategory20=t_,t.interpolateCubehelixDefault=e_,t.interpolateRainbow=o_,t.interpolateWarm=n_,t.interpolateCool=r_,t.interpolateViridis=s_,t.interpolateMagma=a_,t.interpolateInferno=u_,t.interpolatePlasma=c_,t.scaleSequential=nu,t.creator=Ol,t.local=_,t.matcher=Il,t.mouse=Fl,t.namespace=Ml,t.namespaces=Nl,t.select=_f,t.selectAll=xf,t.selection=mt,t.selector=Ul,t.selectorAll=Bl,t.touch=Ef,t.touches=Cf,t.window=af,t.customEvent=O,t.arc=x_,t.area=S_,t.line=C_,t.pie=O_,t.radialArea=P_,t.radialLine=A_,t.symbol=Z_,t.symbols=X_,t.symbolCircle=k_,t.symbolCross=I_,t.symbolDiamond=D_,t.symbolSquare=B_,t.symbolStar=V_,t.symbolTriangle=q_,t.symbolWye=Y_,t.curveBasisClosed=J_,t.curveBasisOpen=tx,t.curveBasis=Q_,t.curveBundle=ex,t.curveCardinalClosed=rx,t.curveCardinalOpen=ix,t.curveCardinal=nx,t.curveCatmullRomClosed=sx,t.curveCatmullRomOpen=ax,t.curveCatmullRom=ox,t.curveLinearClosed=ux,t.curveLinear=E_,t.curveMonotoneX=Uu,t.curveMonotoneY=Vu,t.curveNatural=cx,t.curveStep=lx,t.curveStepAfter=Gu,t.curveStepBefore=Hu,t.stack=dx,t.stackOffsetExpand=mx,t.stackOffsetNone=px,t.stackOffsetSilhouette=vx,t.stackOffsetWiggle=yx,t.stackOrderAscending=gx,t.stackOrderDescending=bx,t.stackOrderInsideOut=wx,t.stackOrderNone=hx,t.stackOrderReverse=_x,t.timeInterval=Xs,t.timeMillisecond=Rb,t.timeMilliseconds=jb,t.utcMillisecond=Rb,t.utcMilliseconds=jb,t.timeSecond=Fb,t.timeSeconds=Ub,t.utcSecond=Fb,t.utcSeconds=Ub,t.timeMinute=Vb,t.timeMinutes=Bb,t.timeHour=zb,t.timeHours=qb,t.timeDay=Hb,t.timeDays=Gb,t.timeWeek=Wb,t.timeWeeks=Jb,t.timeSunday=Wb,t.timeSundays=Jb,t.timeMonday=$b,t.timeMondays=tw,t.timeTuesday=Yb,t.timeTuesdays=ew,t.timeWednesday=Xb,t.timeWednesdays=nw,t.timeThursday=Zb,t.timeThursdays=rw,t.timeFriday=Kb,t.timeFridays=iw,t.timeSaturday=Qb,t.timeSaturdays=ow,t.timeMonth=sw,t.timeMonths=aw,t.timeYear=uw,t.timeYears=cw,t.utcMinute=lw,t.utcMinutes=fw,t.utcHour=pw,t.utcHours=hw,t.utcDay=dw,t.utcDays=mw,t.utcWeek=vw,t.utcWeeks=Ew,t.utcSunday=vw,t.utcSundays=Ew,t.utcMonday=yw,t.utcMondays=Cw,t.utcTuesday=gw,t.utcTuesdays=Sw,t.utcWednesday=bw,t.utcWednesdays=Nw,t.utcThursday=ww,t.utcThursdays=Mw,t.utcFriday=_w,t.utcFridays=Ow,t.utcSaturday=xw,t.utcSaturdays=Tw,t.utcMonth=Aw,t.utcMonths=Pw,t.utcYear=kw,t.utcYears=Rw,t.timeFormatDefaultLocale=Xa,t.timeFormatLocale=ea,t.isoFormat=Uw,t.isoParse=Vw,t.now=he,t.timer=ve,t.timerFlush=ye,t.timeout=Xp,t.interval=Zp,t.transition=Je,t.active=ed,t.interrupt=ah,t.voronoi=kx,t.zoom=Dx,t.zoomTransform=Oc,t.zoomIdentity=Rx,Object.defineProperty(t,"__esModule",{value:!0})})},/* 193 */
/***/
function(t,e,n){/**
 * math.js factory function. Creates a new instance of math.js
 *
 * @param {Object} [config] Available configuration options:
 *                            {number} epsilon
 *                              Minimum relative difference between two
 *                              compared values, used by all comparison functions.
 *                            {string} matrix
 *                              A string 'matrix' (default) or 'array'.
 *                            {string} number
 *                              A string 'number' (default), 'bignumber', or
 *                              'fraction'
 *                            {number} precision
 *                              The number of significant digits for BigNumbers.
 *                              Not applicable for Numbers.
 *                            {boolean} predictable
 *                              Predictable output type of functions. When true,
 *                              output type depends only on the input types. When
 *                              false (default), output type can vary depending
 *                              on input values. For example `math.sqrt(-4)`
 *                              returns `complex('2i')` when predictable is false, and
 *                              returns `NaN` when true.
 */
function r(t){
// create a new math.js instance
var e=i.create(t);
// import data types, functions, constants, expression parser, etc.
return e.create=r,e.import(n(808)),e}var i=n(473);
// return a new instance of math.js
t.exports=r()},/* 194 */
,/* 195 */
,/* 196 */
,/* 197 */
,/* 198 */
,/* 199 */
,/* 200 */
,/* 201 */
,/* 202 */
,/* 203 */
,/* 204 */
,/* 205 */
,/* 206 */
,/* 207 */
,/* 208 */
,/* 209 */
,/* 210 */
,/* 211 */
,/* 212 */
,/* 213 */
,/* 214 */
,/* 215 */
,/* 216 */
,/* 217 */
,/* 218 */
,/* 219 */
,/* 220 */
,/* 221 */
,/* 222 */
,/* 223 */
,/* 224 */
,/* 225 */
,/* 226 */
,/* 227 */
,/* 228 */
,/* 229 */
,/* 230 */
,/* 231 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o,s){/**
   * @constructor Parser
   * Parser contains methods to evaluate or parse expressions, and has a number
   * of convenience methods to get, set, and remove variables from memory. Parser
   * keeps a scope containing variables in memory, which is used for all
   * evaluations.
   *
   * Methods:
   *    var result = parser.eval(expr);    // evaluate an expression
   *    var value = parser.get(name);      // retrieve a variable from the parser
   *    var values = parser.getAll();      // retrieve all defined variables
   *    parser.set(name, value);           // set a variable in the parser
   *    parser.remove(name);               // clear a variable from the
   *                                       // parsers scope
   *    parser.clear();                    // clear the parsers scope
   *
   * Example usage:
   *    var parser = new Parser();
   *    // Note: there is a convenience method which can be used instead:
   *    // var parser = new math.parser();
   *
   *    // evaluate expressions
   *    parser.eval('sqrt(3^2 + 4^2)');         // 5
   *    parser.eval('sqrt(-4)');                // 2i
   *    parser.eval('2 inch in cm');            // 5.08 cm
   *    parser.eval('cos(45 deg)');             // 0.7071067811865476
   *
   *    // define variables and functions
   *    parser.eval('x = 7 / 2');               // 3.5
   *    parser.eval('x + 3');                   // 6.5
   *    parser.eval('function f(x, y) = x^y');  // f(x, y)
   *    parser.eval('f(2, 3)');                 // 8
   *
   *    // get and set variables and functions
   *    var x = parser.get('x');                // 7
   *    var f = parser.get('f');                // function
   *    var g = f(3, 2);                        // 9
   *    parser.set('h', 500);
   *    var i = parser.eval('h / 2');           // 250
   *    parser.set('hello', function (name) {
   *        return 'hello, ' + name + '!';
   *    });
   *    parser.eval('hello("user")');           // "hello, user!"
   *
   *    // clear defined functions and variables
   *    parser.clear();
   *
   */
function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}var u=r(n(66));/**
   * Attach type information
   */
/**
   * Parse an expression and return the parsed function node.
   * The node tree can be compiled via `code = node.compile(math)`,
   * and the compiled code can be executed as `code.eval([scope])`
   * @param {string} expr
   * @return {Node} node
   * @throws {Error}
   */
/**
   * Parse and compile an expression, return the compiled javascript code.
   * The node can be evaluated via code.eval([scope])
   * @param {string} expr
   * @return {{eval: function}} code
   * @throws {Error}
   */
/**
   * Parse and evaluate the given expression
   * @param {string} expr   A string containing an expression, for example "2+3"
   * @return {*} result     The result, or undefined when the expression was empty
   * @throws {Error}
   */
/**
   * Get a variable (a function or variable) by name from the parsers scope.
   * Returns undefined when not found
   * @param {string} name
   * @return {* | undefined} value
   */
/**
   * Get a map with all defined variables
   * @return {Object} values
   */
/**
   * Set a symbol (a function or variable) by name from the parsers scope.
   * @param {string} name
   * @param {* | undefined} value
   */
/**
   * Remove a variable from the parsers scope
   * @param {string} name
   */
/**
   * Clear the scope with variables and functions
   */
return a.prototype.type="Parser",a.prototype.isParser=!0,a.prototype.parse=function(t){throw new Error("Parser.parse is deprecated. Use math.parse instead.")},a.prototype.compile=function(t){throw new Error("Parser.compile is deprecated. Use math.compile instead.")},a.prototype.eval=function(t){
// TODO: validate arguments
return u(t).compile().eval(this.scope)},a.prototype.get=function(t){
// TODO: validate arguments
return this.scope[t]},a.prototype.getAll=function(){return i({},this.scope)},a.prototype.set=function(t,e){
// TODO: validate arguments
return this.scope[t]=e},a.prototype.remove=function(t){
// TODO: validate arguments
delete this.scope[t]},a.prototype.clear=function(){for(var t in this.scope)this.scope.hasOwnProperty(t)&&delete this.scope[t]},a}var i=n(9).extend;e.name="Parser",e.path="expression",e.factory=r,e.math=!0},/* 232 */
/***/
function(t,e){t.exports={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]}},/* 233 */
/***/
function(t,e){t.exports={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]}},/* 234 */
/***/
function(t,e,n){function r(t,e,r,i){var o={};
// construction functions
// constants
// physical constants
// TODO: more detailed docs for physical constants
//docs.josephson = {description: 'Josephson constant', examples: ['josephson']};
//docs.spectralRadiance = {description: 'First radiation constant for spectral radiance', examples: ['spectralRadiance']};
// functions - algebra
// functions - arithmetic
// functions - bitwise
// functions - combinatorics
// functions - core
// functions - complex
// functions - expression
// functions - geometry
// functions - logical
// functions - matrix
// functions - probability
//docs.distribution = require('./function/probability/distribution');
// functions - relational
// functions - special
// functions - statistics
// functions - trigonometry
// functions - units
// functions - utils
// docs.print = require('./function/utils/print'); // TODO: add documentation for print as soon as the parser supports objects.
return o.bignumber=n(496),o.boolean=n(497),o.complex=n(498),o.createUnit=n(499),o.fraction=n(500),o.index=n(501),o.matrix=n(502),o.number=n(503),o.sparse=n(504),o.splitUnit=n(505),o.string=n(506),o.unit=n(507),o.e=n(232),o.E=n(232),o.false=n(489),o.i=n(490),o.Infinity=n(481),o.LN2=n(483),o.LN10=n(482),o.LOG2E=n(485),o.LOG10E=n(484),o.NaN=n(486),o.null=n(491),o.pi=n(233),o.PI=n(233),o.phi=n(492),o.SQRT1_2=n(487),o.SQRT2=n(488),o.tau=n(493),o.true=n(494),o.version=n(495),o.speedOfLight={description:"Speed of light in vacuum",examples:["speedOfLight"]},o.gravitationConstant={description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},o.planckConstant={description:"Planck constant",examples:["planckConstant"]},o.reducedPlanckConstant={description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},o.magneticConstant={description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},o.electricConstant={description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},o.vacuumImpedance={description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},o.coulomb={description:"Coulomb's constant",examples:["coulomb"]},o.elementaryCharge={description:"Elementary charge",examples:["elementaryCharge"]},o.bohrMagneton={description:"Borh magneton",examples:["bohrMagneton"]},o.conductanceQuantum={description:"Conductance quantum",examples:["conductanceQuantum"]},o.inverseConductanceQuantum={description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},o.magneticFluxQuantum={description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},o.nuclearMagneton={description:"Nuclear magneton",examples:["nuclearMagneton"]},o.klitzing={description:"Von Klitzing constant",examples:["klitzing"]},o.bohrRadius={description:"Borh radius",examples:["bohrRadius"]},o.classicalElectronRadius={description:"Classical electron radius",examples:["classicalElectronRadius"]},o.electronMass={description:"Electron mass",examples:["electronMass"]},o.fermiCoupling={description:"Fermi coupling constant",examples:["fermiCoupling"]},o.fineStructure={description:"Fine-structure constant",examples:["fineStructure"]},o.hartreeEnergy={description:"Hartree energy",examples:["hartreeEnergy"]},o.protonMass={description:"Proton mass",examples:["protonMass"]},o.deuteronMass={description:"Deuteron Mass",examples:["deuteronMass"]},o.neutronMass={description:"Neutron mass",examples:["neutronMass"]},o.quantumOfCirculation={description:"Quantum of circulation",examples:["quantumOfCirculation"]},o.rydberg={description:"Rydberg constant",examples:["rydberg"]},o.thomsonCrossSection={description:"Thomson cross section",examples:["thomsonCrossSection"]},o.weakMixingAngle={description:"Weak mixing angle",examples:["weakMixingAngle"]},o.efimovFactor={description:"Efimov factor",examples:["efimovFactor"]},o.atomicMass={description:"Atomic mass constant",examples:["atomicMass"]},o.avogadro={description:"Avogadro's number",examples:["avogadro"]},o.boltzmann={description:"Boltzmann constant",examples:["boltzmann"]},o.faraday={description:"Faraday constant",examples:["faraday"]},o.firstRadiation={description:"First radiation constant",examples:["firstRadiation"]},o.loschmidt={description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},o.gasConstant={description:"Gas constant",examples:["gasConstant"]},o.molarPlanckConstant={description:"Molar Planck constant",examples:["molarPlanckConstant"]},o.molarVolume={description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},o.sackurTetrode={description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},o.secondRadiation={description:"Second radiation constant",examples:["secondRadiation"]},o.stefanBoltzmann={description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},o.wienDisplacement={description:"Wien displacement law constant",examples:["wienDisplacement"]},o.molarMass={description:"Molar mass constant",examples:["molarMass"]},o.molarMassC12={description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},o.gravity={description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},o.planckLength={description:"Planck length",examples:["planckLength"]},o.planckMass={description:"Planck mass",examples:["planckMass"]},o.planckTime={description:"Planck time",examples:["planckTime"]},o.planckCharge={description:"Planck charge",examples:["planckCharge"]},o.planckTemperature={description:"Planck temperature",examples:["planckTemperature"]},o.derivative=n(511),o.lsolve=n(512),o.lup=n(513),o.lusolve=n(514),o.simplify=n(515),o.slu=n(516),o.usolve=n(517),o.abs=n(518),o.add=n(519),o.cbrt=n(520),o.ceil=n(521),o.cube=n(522),o.divide=n(523),o.dotDivide=n(524),o.dotMultiply=n(525),o.dotPow=n(526),o.exp=n(527),o.fix=n(528),o.floor=n(529),o.gcd=n(530),o.hypot=n(531),o.lcm=n(532),o.log=n(533),o.log10=n(534),o.mod=n(535),o.multiply=n(536),o.norm=n(537),o.nthRoot=n(538),o.pow=n(539),o.round=n(540),o.sign=n(541),o.sqrt=n(542),o.square=n(543),o.subtract=n(544),o.unaryMinus=n(545),o.unaryPlus=n(546),o.xgcd=n(547),o.bitAnd=n(548),o.bitNot=n(549),o.bitOr=n(550),o.bitXor=n(551),o.leftShift=n(552),o.rightArithShift=n(553),o.rightLogShift=n(554),o.bellNumbers=n(555),o.catalan=n(556),o.composition=n(557),o.stirlingS2=n(558),o.config=n(508),o.import=n(509),o.typed=n(510),o.arg=n(559),o.conj=n(560),o.re=n(562),o.im=n(561),o.eval=n(563),o.help=n(564),o.distance=n(565),o.intersect=n(566),o.and=n(567),o.not=n(568),o.or=n(569),o.xor=n(570),o.concat=n(571),o.cross=n(572),o.det=n(573),o.diag=n(574),o.dot=n(575),o.eye=n(576),o.filter=n(577),o.flatten=n(578),o.forEach=n(579),o.inv=n(580),o.kron=n(581),o.map=n(582),o.ones=n(583),o.partitionSelect=n(584),o.range=n(585),o.resize=n(587),o.reshape=n(586),o.size=n(588),o.sort=n(589),o.squeeze=n(590),o.subset=n(591),o.trace=n(592),o.transpose=n(593),o.zeros=n(594),o.combinations=n(595),o.factorial=n(596),o.gamma=n(597),o.kldivergence=n(598),o.multinomial=n(599),o.permutations=n(600),o.pickRandom=n(601),o.random=n(602),o.randomInt=n(603),o.compare=n(604),o.deepEqual=n(605),o.equal=n(606),o.larger=n(607),o.largerEq=n(608),o.smaller=n(609),o.smallerEq=n(610),o.unequal=n(611),o.erf=n(612),o.mad=n(613),o.max=n(614),o.mean=n(615),o.median=n(616),o.min=n(617),o.mode=n(618),o.prod=n(619),o.quantileSeq=n(620),o.std=n(621),o.sum=n(622),o.var=n(623),o.acos=n(624),o.acosh=n(625),o.acot=n(626),o.acoth=n(627),o.acsc=n(628),o.acsch=n(629),o.asec=n(630),o.asech=n(631),o.asin=n(632),o.asinh=n(633),o.atan=n(634),o.atanh=n(636),o.atan2=n(635),o.cos=n(637),o.cosh=n(638),o.cot=n(639),o.coth=n(640),o.csc=n(641),o.csch=n(642),o.sec=n(643),o.sech=n(644),o.sin=n(645),o.sinh=n(646),o.tan=n(647),o.tanh=n(648),o.to=n(649),o.clone=n(650),o.format=n(651),o.isNaN=n(653),o.isInteger=n(652),o.isNegative=n(654),o.isNumeric=n(655),o.isPositive=n(656),o.isPrime=n(657),o.isZero=n(658),o.typeof=n(659),o}e.name="docs",e.path="expression",e.factory=r},/* 235 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i,o){var s=r(n(231));/**
   * Create a parser. The function creates a new `math.expression.Parser` object.
   *
   * Syntax:
   *
   *    math.parser()
   *
   * Examples:
   *
   *     var parser = new math.parser();
   *
   *     // evaluate expressions
   *     var a = parser.eval('sqrt(3^2 + 4^2)'); // 5
   *     var b = parser.eval('sqrt(-4)');        // 2i
   *     var c = parser.eval('2 inch in cm');    // 5.08 cm
   *     var d = parser.eval('cos(45 deg)');     // 0.7071067811865476
   *
   *     // define variables and functions
   *     parser.eval('x = 7 / 2');               // 3.5
   *     parser.eval('x + 3');                   // 6.5
   *     parser.eval('function f(x, y) = x^y');  // f(x, y)
   *     parser.eval('f(2, 3)');                 // 8
   *
   *     // get and set variables and functions
   *     var x = parser.get('x');                // 7
   *     var f = parser.get('f');                // function
   *     var g = f(3, 2);                        // 9
   *     parser.set('h', 500);
   *     var i = parser.eval('h / 2');           // 250
   *     parser.set('hello', function (name) {
   *       return 'hello, ' + name + '!';
   *     });
   *     parser.eval('hello("user")');           // "hello, user!"
   *
   *     // clear defined functions and variables
   *     parser.clear();
   *
   * See also:
   *
   *    eval, compile, parse
   *
   * @return {Parser} Parser
   */
return i("parser",{"":function(){return new s(o)}})}e.name="parser",e.factory=r,e.math=!0},/* 236 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){/**
   * @constructor AccessorNode
   * @extends {Node}
   * Access an object property or get a matrix subset
   *
   * @param {Node} object                 The object from which to retrieve
   *                                      a property or subset.
   * @param {IndexNode} index             IndexNode containing ranges
   */
function s(t,e){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!t||!t.isNode)throw new TypeError('Node expected for parameter "object"');if(!e||!e.isIndexNode)throw new TypeError('IndexNode expected for parameter "index"');this.object=t||null,this.index=e,
// readonly property name
Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}/**
   * Are parenthesis needed?
   * @private
   */
function a(t){
// TODO: maybe make a method on the nodes which tells whether they need parenthesis?
return!(t.isAccessorNode||t.isArrayNode||t.isConstantNode||t.isFunctionNode||t.isObjectNode||t.isParenthesisNode||t.isSymbolNode)}var u=r(n(26)),c=r(n(243));/**
   * Compile the node to javascript code
   * @param {Object} defs     Object which can be used to define functions
   *                          or constants globally available for the compiled
   *                          expression
   * @param {Object} args     Object with local function arguments, the key is
   *                          the name of the argument, and the value is `true`.
   *                          The object may not be mutated, but must be
   *                          extended instead.
   * @return {string} js
   * @private
   */
/**
   * Execute a callback for each of the child nodes of this node
   * @param {function(child: Node, path: string, parent: Node)} callback
   */
/**
   * Create a new AccessorNode having it's childs be the results of calling
   * the provided callback function for each of the childs of the original node.
   * @param {function(child: Node, path: string, parent: Node): Node} callback
   * @returns {AccessorNode} Returns a transformed copy of the node
   */
/**
   * Create a clone of this node, a shallow copy
   * @return {AccessorNode}
   */
/**
   * Get string representation
   * @param {Object} options
   * @return {string}
   */
/**
   * Get LaTeX representation
   * @param {Object} options
   * @return {string}
   */
return s.prototype=new u,s.prototype.type="AccessorNode",s.prototype.isAccessorNode=!0,s.prototype._compile=function(t,e){t.access=c,t.getSafeProperty=i;var n=this.object._compile(t,e),r=this.index._compile(t,e);if(this.index.isObjectProperty()){return"getSafeProperty("+n+', "'+this.index.getObjectProperty()+'")'}return this.index.needsSize()?"(function () {  var object = "+n+";  var size = math.size(object).valueOf();  return access(object, "+r+");})()":"access("+n+", "+r+")"},s.prototype.forEach=function(t){t(this.object,"object",this),t(this.index,"index",this)},s.prototype.map=function(t){return new s(this._ifNode(t(this.object,"object",this)),this._ifNode(t(this.index,"index",this)))},s.prototype.clone=function(){return new s(this.object,this.index)},s.prototype._toString=function(t){var e=this.object.toString(t);return a(this.object)&&(e="("+e+")"),e+this.index.toString(t)},s.prototype._toTex=function(t){var e=this.object.toTex(t);return a(this.object)&&(e="\\left("+e+"\\right)"),e+this.index.toTex(t)},s}var i=n(132).getSafeProperty;e.name="AccessorNode",e.path="expression.node",e.factory=r},/* 237 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){/**
   * @constructor AssignmentNode
   * @extends {Node}
   *
   * Define a symbol, like `a=3.2`, update a property like `a.b=3.2`, or
   * replace a subset of a matrix like `A[2,2]=42`.
   *
   * Syntax:
   *
   *     new AssignmentNode(symbol, value)
   *     new AssignmentNode(object, index, value)
   *
   * Usage:
   *
   *    new AssignmentNode(new SymbolNode('a'), new ConstantNode(2));                      // a=2
   *    new AssignmentNode(new SymbolNode('a'), new IndexNode('b'), new ConstantNode(2))   // a.b=2
   *    new AssignmentNode(new SymbolNode('a'), new IndexNode(1, 2), new ConstantNode(3))  // a[1,2]=3
   *
   * @param {SymbolNode | AccessorNode} object  Object on which to assign a value
   * @param {IndexNode} [index=null]            Index, property name or matrix
   *                                            index. Optional. If not provided
   *                                            and `object` is a SymbolNode,
   *                                            the property is assigned to the
   *                                            global scope.
   * @param {Node} value                        The value to be assigned
   */
function o(t,e,n){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");
// validate input
if(this.object=t,this.index=n?e:null,this.value=n||e,!t||!t.isSymbolNode&&!t.isAccessorNode)throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(t&&t.isSymbolNode&&"end"===t.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!this.index.isIndexNode)throw new TypeError('IndexNode expected as "index"');if(!this.value||!this.value.isNode)throw new TypeError('Node expected as "value"');
// readonly property name
Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}/*
   * Is parenthesis needed?
   * @param {node} node
   * @param {string} [parenthesis='keep']
   * @private
   */
function s(t,e){e||(e="keep");var n=l.getPrecedence(t,e),r=l.getPrecedence(t.value,e);return"all"===e||null!==r&&r<=n}var a=r(n(26)),u=(r(n(161)),r(n(2)),r(n(668))),c=r(n(243)),l=(n(160),n(98));/**
   * Compile the node to javascript code
   * @param {Object} defs     Object which can be used to define functions
   *                          or constants globally available for the compiled
   *                          expression
   * @param {Object} args     Object with local function arguments, the key is
   *                          the name of the argument, and the value is `true`.
   *                          The object may not be mutated, but must be
   *                          extended instead.
   * @private
   */
/**
   * Execute a callback for each of the child nodes of this node
   * @param {function(child: Node, path: string, parent: Node)} callback
   */
/**
   * Create a new AssignmentNode having it's childs be the results of calling
   * the provided callback function for each of the childs of the original node.
   * @param {function(child: Node, path: string, parent: Node): Node} callback
   * @returns {AssignmentNode} Returns a transformed copy of the node
   */
/**
   * Create a clone of this node, a shallow copy
   * @return {AssignmentNode}
   */
/**
   * Get string representation
   * @param {Object} options
   * @return {string}
   */
/**
   * Get LaTeX representation
   * @param {Object} options
   * @return {string}
   */
return o.prototype=new a,o.prototype.type="AssignmentNode",o.prototype.isAssignmentNode=!0,o.prototype._compile=function(t,e){t.assign=u,t.access=c;var n,r=this.object._compile(t,e),i=this.index?this.index._compile(t,e):null,o=this.value._compile(t,e);if(this.index){if(this.index.isObjectProperty())
// apply an object property for example `a.b=2`
return r+'["'+this.index.getObjectProperty()+'"] = '+o;if(this.object.isSymbolNode)
// apply updated object to scope
// update a matrix subset, for example `a[2]=3`
return n=this.index.needsSize()?"var size = math.size(object).valueOf();":"","(function () {  var object = "+r+";  var value = "+o+";  "+n+'  scope["'+this.object.name+'"] = assign(object, '+i+", value);  return value;})()";// this.object.isAccessorNode === true
// update a matrix subset, for example `a.b[2]=3`
n=this.index.needsSize()?"var size = math.size(object).valueOf();":"";
// we will not use the _compile of the AccessorNode, but compile it
// ourselves here as we need the parent object of the AccessorNode:
// wee need to apply the updated object to parent object
var s=this.object.object._compile(t,e);if(this.object.index.isObjectProperty()){var a='["'+this.object.index.getObjectProperty()+'"]';return"(function () {  var parent = "+s+";  var object = parent"+a+";  var value = "+o+";"+n+"  parent"+a+" = assign(object, "+i+", value);  return value;})()"}return"(function () {  var parent = "+s+";  "+(this.object.index.needsSize()?"var size = math.size(parent).valueOf();":"")+"  var parentIndex = "+this.object.index._compile(t,e)+";  var object = access(parent, parentIndex);  var value = "+o+";  "+n+"  assign(parent, parentIndex, assign(object, "+i+", value));  return value;})()"}
// apply a variable to the scope, for example `a=2`
if(!this.object.isSymbolNode)throw new TypeError("SymbolNode expected as object");return'scope["'+this.object.name+'"] = '+o},o.prototype.forEach=function(t){t(this.object,"object",this),this.index&&t(this.index,"index",this),t(this.value,"value",this)},o.prototype.map=function(t){return new o(this._ifNode(t(this.object,"object",this)),this.index?this._ifNode(t(this.index,"index",this)):null,this._ifNode(t(this.value,"value",this)))},o.prototype.clone=function(){return new o(this.object,this.index,this.value)},o.prototype._toString=function(t){var e=this.object.toString(t),n=this.index?this.index.toString(t):"",r=this.value.toString(t);return s(this,t&&t.parenthesis)&&(r="("+r+")"),e+n+" = "+r},o.prototype._toTex=function(t){var e=this.object.toTex(t),n=this.index?this.index.toTex(t):"",r=this.value.toTex(t);return s(this,t&&t.parenthesis)&&(r="\\left("+r+"\\right)"),e+n+":="+r},o}n(6);e.name="AssignmentNode",e.path="expression.node",e.factory=r},/* 238 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){/**
   * @constructor BlockNode
   * @extends {Node}
   * Holds a set with blocks
   * @param {Array.<{node: Node} | {node: Node, visible: boolean}>} blocks
   *            An array with blocks, where a block is constructed as an Object
   *            with properties block, which is a Node, and visible, which is
   *            a boolean. The property visible is optional and is true by default
   */
function o(t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");
// validate input, copy blocks
if(!Array.isArray(t))throw new Error("Array expected");this.blocks=t.map(function(t){var e=t&&t.node,n=!t||void 0===t.visible||t.visible;if(!e||!e.isNode)throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof n)throw new TypeError('Property "visible" must be a boolean');return{node:e,visible:n}})}var s=r(n(26)),a=r(n(282));/**
   * Compile the node to javascript code
   * @param {Object} defs     Object which can be used to define functions
   *                          or constants globally available for the compiled
   *                          expression
   * @param {Object} args     Object with local function arguments, the key is
   *                          the name of the argument, and the value is `true`.
   *                          The object may not be mutated, but must be
   *                          extended instead.
   * @return {string} js
   * @private
   */
/**
   * Execute a callback for each of the child blocks of this node
   * @param {function(child: Node, path: string, parent: Node)} callback
   */
/**
   * Create a new BlockNode having it's childs be the results of calling
   * the provided callback function for each of the childs of the original node.
   * @param {function(child: Node, path: string, parent: Node): Node} callback
   * @returns {BlockNode} Returns a transformed copy of the node
   */
/**
   * Create a clone of this node, a shallow copy
   * @return {BlockNode}
   */
/**
   * Get string representation
   * @param {Object} options
   * @return {string} str
   * @override
   */
/**
   * Get LaTeX representation
   * @param {Object} options
   * @return {string} str
   */
return o.prototype=new s,o.prototype.type="BlockNode",o.prototype.isBlockNode=!0,o.prototype._compile=function(t,e){return t.ResultSet=a,"(function () {var results = [];"+this.blocks.map(function(n){var r=n.node._compile(t,e);return n.visible?"results.push("+r+");":r+";"}).join("")+"return new ResultSet(results);})()"},o.prototype.forEach=function(t){for(var e=0;e<this.blocks.length;e++)t(this.blocks[e].node,"blocks["+e+"].node",this)},o.prototype.map=function(t){for(var e=[],n=0;n<this.blocks.length;n++){var r=this.blocks[n],i=this._ifNode(t(r.node,"blocks["+n+"].node",this));e[n]={node:i,visible:r.visible}}return new o(e)},o.prototype.clone=function(){return new o(this.blocks.map(function(t){return{node:t.node,visible:t.visible}}))},o.prototype._toString=function(t){return this.blocks.map(function(e){return e.node.toString(t)+(e.visible?"":";")}).join("\n")},o.prototype._toTex=function(t){return this.blocks.map(function(e){return e.node.toTex(t)+(e.visible?"":";")}).join("\\;\\;\n")},o}e.name="BlockNode",e.path="expression.node",e.factory=r},/* 239 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){/**
   * A lazy evaluating conditional operator: 'condition ? trueExpr : falseExpr'
   *
   * @param {Node} condition   Condition, must result in a boolean
   * @param {Node} trueExpr    Expression evaluated when condition is true
   * @param {Node} falseExpr   Expression evaluated when condition is true
   *
   * @constructor ConditionalNode
   * @extends {Node}
   */
function s(t,e,n){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!t||!t.isNode)throw new TypeError("Parameter condition must be a Node");if(!e||!e.isNode)throw new TypeError("Parameter trueExpr must be a Node");if(!n||!n.isNode)throw new TypeError("Parameter falseExpr must be a Node");this.condition=t,this.trueExpr=e,this.falseExpr=n}var a=r(n(26));/**
   * Compile the node to javascript code
   * @param {Object} defs     Object which can be used to define functions
   *                          or constants globally available for the compiled
   *                          expression
   * @param {Object} args     Object with local function arguments, the key is
   *                          the name of the argument, and the value is `true`.
   *                          The object may not be mutated, but must be
   *                          extended instead.
   * @return {string} js
   * @private
   */
/**
   * Execute a callback for each of the child nodes of this node
   * @param {function(child: Node, path: string, parent: Node)} callback
   */
/**
   * Create a new ConditionalNode having it's childs be the results of calling
   * the provided callback function for each of the childs of the original node.
   * @param {function(child: Node, path: string, parent: Node): Node} callback
   * @returns {ConditionalNode} Returns a transformed copy of the node
   */
/**
   * Create a clone of this node, a shallow copy
   * @return {ConditionalNode}
   */
/**
   * Get string representation
   * @param {Object} options
   * @return {string} str
   */
/**
   * Get LaTeX representation
   * @param {Object} options
   * @return {string} str
   */
return s.prototype=new a,s.prototype.type="ConditionalNode",s.prototype.isConditionalNode=!0,s.prototype._compile=function(t,e){/**
     * Test whether a condition is met
     * @param {*} condition
     * @returns {boolean} true if condition is true or non-zero, else false
     */
return t.testCondition=function(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e)return!!e;if(e){if(!0===e.isBigNumber)return!e.isZero();if(!0===e.isComplex)return!(!e.re&&!e.im);if(!0===e.isUnit)return!!e.value}if(null===e||void 0===e)return!1;throw new TypeError('Unsupported type of condition "'+t.math.typeof(e)+'"')},"testCondition("+this.condition._compile(t,e)+") ? ( "+this.trueExpr._compile(t,e)+") : ( "+this.falseExpr._compile(t,e)+")"},s.prototype.forEach=function(t){t(this.condition,"condition",this),t(this.trueExpr,"trueExpr",this),t(this.falseExpr,"falseExpr",this)},s.prototype.map=function(t){return new s(this._ifNode(t(this.condition,"condition",this)),this._ifNode(t(this.trueExpr,"trueExpr",this)),this._ifNode(t(this.falseExpr,"falseExpr",this)))},s.prototype.clone=function(){return new s(this.condition,this.trueExpr,this.falseExpr)},s.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=i.getPrecedence(this,e),r=this.condition.toString(t),o=i.getPrecedence(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==o&&o<=n)&&(r="("+r+")");var s=this.trueExpr.toString(t),a=i.getPrecedence(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==a&&a<=n)&&(s="("+s+")");var u=this.falseExpr.toString(t),c=i.getPrecedence(this.falseExpr,e);return("all"===e||"OperatorNode"===this.falseExpr.type||null!==c&&c<=n)&&(u="("+u+")"),r+" ? "+s+" : "+u},s.prototype._toTex=function(t){return"\\begin{cases} {"+this.trueExpr.toTex(t)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(t)+"}\\\\{"+this.falseExpr.toTex(t)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},s}var i=(n(6),n(98));e.name="ConditionalNode",e.path="expression.node",e.factory=r},/* 240 */
/***/
function(t,e,n){"use strict";function r(t,e,r,a){/**
   * @constructor FunctionAssignmentNode
   * @extends {Node}
   * Function assignment
   *
   * @param {string} name           Function name
   * @param {string[] | Array.<{name: string, type: string}>} params
   *                                Array with function parameter names, or an
   *                                array with objects containing the name
   *                                and type of the parameter
   * @param {Node} expr             The function expression
   */
function u(t,e,n){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");
// validate input
if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(e))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!n||!n.isNode)throw new TypeError('Node expected for parameter "expr"');if(t in i)throw new Error('Illegal function name, "'+t+'" is a reserved keyword');this.name=t,this.params=e.map(function(t){return t&&t.name||t}),this.types=e.map(function(t){return t&&t.type||"any"}),this.expr=n}/**
   * Is parenthesis needed?
   * @param {Node} node
   * @param {Object} parenthesis
   * @private
   */
function c(t,e){var n=s.getPrecedence(t,e),r=s.getPrecedence(t.expr,e);return"all"===e||null!==r&&r<=n}var l=r(n(26));/**
   * Compile the node to javascript code
   * @param {Object} defs     Object which can be used to define functions
   *                          or constants globally available for the compiled
   *                          expression
   * @param {Object} args     Object with local function arguments, the key is
   *                          the name of the argument, and the value is `true`.
   *                          The object may not be mutated, but must be
   *                          extended instead.
   * @return {string} js
   * @private
   */
/**
   * Execute a callback for each of the child nodes of this node
   * @param {function(child: Node, path: string, parent: Node)} callback
   */
/**
   * Create a new FunctionAssignmentNode having it's childs be the results of calling
   * the provided callback function for each of the childs of the original node.
   * @param {function(child: Node, path: string, parent: Node): Node} callback
   * @returns {FunctionAssignmentNode} Returns a transformed copy of the node
   */
/**
   * Create a clone of this node, a shallow copy
   * @return {FunctionAssignmentNode}
   */
/**
   * get string representation
   * @param {Object} options
   * @return {string} str
   */
/**
   * get LaTeX representation
   * @param {Object} options
   * @return {string} str
   */
return u.prototype=new l,u.prototype.type="FunctionAssignmentNode",u.prototype.isFunctionAssignmentNode=!0,u.prototype._compile=function(t,e){t.typed=a;
// we extend the original args and add the args to the child object
var n=Object.create(e);this.params.forEach(function(t){n[t]=!0});
// compile the function expression with the child args
var r=this.expr._compile(t,n);return'scope["'+this.name+'"] =   (function () {    var fn = typed("'+this.name+'", {      "'+this.types.join(",")+'": function ('+this.params.join(",")+") {        return "+r+'      }    });    fn.syntax = "'+this.name+"("+this.params.join(", ")+')";    return fn;  })()'},u.prototype.forEach=function(t){t(this.expr,"expr",this)},u.prototype.map=function(t){var e=this._ifNode(t(this.expr,"expr",this));return new u(this.name,this.params.slice(0),e)},u.prototype.clone=function(){return new u(this.name,this.params.slice(0),this.expr)},u.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=this.expr.toString(t);return c(this,e)&&(n="("+n+")"),this.name+"("+this.params.join(", ")+") = "+n},u.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=this.expr.toTex(t);return c(this,e)&&(n="\\left("+n+"\\right)"),"\\mathrm{"+this.name+"}\\left("+this.params.map(o.toSymbol).join(",")+"\\right):="+n},u}var i=n(160),o=n(6),s=n(98);e.name="FunctionAssignmentNode",e.path="expression.node",e.factory=r},/* 241 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){/**
   * @constructor IndexNode
   * @extends Node
   *
   * Describes a subset of a matrix or an object property.
   * Cannot be used on its own, needs to be used within an AccessorNode or
   * AssignmentNode.
   *
   * @param {Node[]} dimensions
   * @param {boolean} [dotNotation=false]  Optional property describing whether
   *                                       this index was written using dot
   *                                       notation like `a.b`, or using bracket
   *                                       notation like `a["b"]` (default).
   *                                       Used to stringify an IndexNode.
   */
function o(t,e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");
// validate input
if(this.dimensions=t,this.dotNotation=e||!1,!u(t)||!t.every(function(t){return t&&t.isNode}))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties");
// TODO: deprecated since v3, remove some day
var n=function(){throw new Error("Property `IndexNode.object` is deprecated, use `IndexNode.fn` instead")};Object.defineProperty(this,"object",{get:n,set:n})}var s=r(n(26)),a=(r(n(162)),r(n(59)),r(n(280))),u=Array.isArray;/**
   * Compile all range nodes
   *
   * When some of the dimensions has `end` defined, the IndexNode requires
   * a variable `size` to be defined in the current closure, and must contain
   * the size of the matrix that's being handled. To check whether the `size`
   * variable is needed, call IndexNode.needsSize().
   *
   * @param {Object} defs           Object which can be used to define functions
   *                                or constants globally available for the
   *                                compiled expression
   * @param {Object} args           Object with local function arguments, the key is
   *                                the name of the argument, and the value is `true`.
   *                                The object may not be mutated, but must be
   *                                extended instead.
   * @return {string} code
   */
/**
   * Execute a callback for each of the child nodes of this node
   * @param {function(child: Node, path: string, parent: Node)} callback
   */
/**
   * Create a new IndexNode having it's childs be the results of calling
   * the provided callback function for each of the childs of the original node.
   * @param {function(child: Node, path: string, parent: Node): Node} callback
   * @returns {IndexNode} Returns a transformed copy of the node
   */
/**
   * Create a clone of this node, a shallow copy
   * @return {IndexNode}
   */
/**
   * Test whether this IndexNode contains a single property name
   * @return {boolean}
   */
/**
   * Returns the property name if IndexNode contains a property.
   * If not, returns null.
   * @return {string | null}
   */
/**
   * Get string representation
   * @param {Object} options
   * @return {string} str
   */
/**
   * Get LaTeX representation
   * @param {Object} options
   * @return {string} str
   */
/**
   * Test whether this IndexNode needs the object size, size of the Matrix
   * @return {boolean}
   */
return o.prototype=new s,o.prototype.type="IndexNode",o.prototype.isIndexNode=!0,o.prototype._compile=function(t,e){
// args can be mutated by IndexNode, when dimensions use `end`
var n=Object.create(e);
// helper function to create a Range from start, step and end
return t.range=function(t,e,n){return new a(t&&!0===t.isBigNumber?t.toNumber():t,e&&!0===e.isBigNumber?e.toNumber():e,n&&!0===n.isBigNumber?n.toNumber():n)},"math.index("+this.dimensions.map(function(e,r){return e&&e.isRangeNode?e.needsEnd()?(n.end=!0,"(function () {var end = size["+r+"]; return range("+e.start._compile(t,n)+", "+e.end._compile(t,n)+", "+(e.step?e.step._compile(t,n):"1")+"); })()"):"range("+e.start._compile(t,n)+", "+e.end._compile(t,n)+", "+(e.step?e.step._compile(t,n):"1")+")":e.isSymbolNode&&"end"===e.name?(n.end=!0,"(function () {var end = size["+r+"]; return "+e._compile(t,n)+"; })()"):e._compile(t,n)}).join(", ")+")"},o.prototype.forEach=function(t){for(var e=0;e<this.dimensions.length;e++)t(this.dimensions[e],"dimensions["+e+"]",this)},o.prototype.map=function(t){for(var e=[],n=0;n<this.dimensions.length;n++)e[n]=this._ifNode(t(this.dimensions[n],"dimensions["+n+"]",this));return new o(e)},o.prototype.clone=function(){return new o(this.dimensions.slice(0))},o.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&this.dimensions[0].isConstantNode&&"string"===this.dimensions[0].valueType},o.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},o.prototype._toString=function(t){
// format the parameters like "[1, 0:5]"
return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},o.prototype._toTex=function(t){var e=this.dimensions.map(function(e){return e.toTex(t)});return this.dotNotation?"."+this.getObjectProperty():"_{"+e.join(",")+"}"},o.prototype.needsSize=function(){return this.dimensions.some(function(t){return t.isRangeNode&&t.needsEnd()||t.isSymbolNode&&"end"===t.name})},o}e.name="IndexNode",e.path="expression.node",e.factory=r},/* 242 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){/**
   * @constructor ObjectNode
   * @extends {Node}
   * Holds an object with keys/values
   * @param {Object.<string, Node>} [properties]   array with key/value pairs
   */
function o(t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");
// validate input
if(this.properties=t||{},t&&("object"!=typeof t||Object.keys(t).some(function(e){return!t[e]||!t[e].isNode})))throw new TypeError("Object containing Nodes expected")}var s=r(n(26));/**
   * Compile the node to javascript code
   * @param {Object} defs     Object which can be used to define functions
   *                          or constants globally available for the compiled
   *                          expression
   * @param {Object} args     Object with local function arguments, the key is
   *                          the name of the argument, and the value is `true`.
   *                          The object may not be mutated, but must be
   *                          extended instead.
   * @return {string} code
   * @private
   */
/**
   * Execute a callback for each of the child nodes of this node
   * @param {function(child: Node, path: string, parent: Node)} callback
   */
/**
   * Create a new ObjectNode having it's childs be the results of calling
   * the provided callback function for each of the childs of the original node.
   * @param {function(child: Node, path: string, parent: Node): Node} callback
   * @returns {ObjectNode} Returns a transformed copy of the node
   */
/**
   * Create a clone of this node, a shallow copy
   * @return {ObjectNode}
   */
/**
   * Get string representation
   * @param {Object} options
   * @return {string} str
   * @override
   */
/**
   * Get LaTeX representation
   * @param {Object} options
   * @return {string} str
   */
return o.prototype=new s,o.prototype.type="ObjectNode",o.prototype.isObjectNode=!0,o.prototype._compile=function(t,e){var n=[];for(var r in this.properties)this.properties.hasOwnProperty(r)&&n.push('"'+r+'": '+this.properties[r]._compile(t,e));return"{"+n.join(", ")+"}"},o.prototype.forEach=function(t){for(var e in this.properties)this.properties.hasOwnProperty(e)&&t(this.properties[e],'properties["'+e+'"]',this)},o.prototype.map=function(t){var e={};for(var n in this.properties)this.properties.hasOwnProperty(n)&&(e[n]=this._ifNode(t(this.properties[n],'properties["'+n+'"]',this)));return new o(e)},o.prototype.clone=function(){var t={};for(var e in this.properties)this.properties.hasOwnProperty(e)&&(t[e]=this.properties[e]);return new o(t)},o.prototype._toString=function(t){var e=[];for(var n in this.properties)this.properties.hasOwnProperty(n)&&e.push('"'+n+'": '+this.properties[n].toString(t));return"{"+e.join(", ")+"}"},o.prototype._toTex=function(t){var e=[];for(var n in this.properties)this.properties.hasOwnProperty(n)&&e.push("\\mathbf{"+n+":} & "+this.properties[n].toTex(t)+"\\\\");return"\\left\\{\\begin{array}{ll}"+e.join("\n")+"\\end{array}\\right\\}"},o}n(42);e.name="ObjectNode",e.path="expression.node",e.factory=r},/* 243 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){var a=r(n(123)),u=r(n(2));/**
   * Retrieve part of an object:
   *
   * - Retrieve a property from an object
   * - Retrieve a part of a string
   * - Retrieve a matrix subset
   *
   * @param {Object | Array | Matrix | string} object
   * @param {Index} index
   * @return {Object | Array | Matrix | string} Returns the subset
   */
return function(t,e){try{if(Array.isArray(t))return u(t).subset(e).valueOf();if(t&&"function"==typeof t.subset)// Matrix
return t.subset(e);if("string"==typeof t)
// TODO: move getStringSubset into a separate util file, use that
return a(t,e);if("object"==typeof t||"function"==typeof t){if(!e.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return o(t,e.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(t){throw i(t)}}}var i=n(67).transform,o=n(132).getSafeProperty;e.factory=r},/* 244 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){var s=r(n(2)),a=r(n(60)),u=r(n(40)),c=r(n(38)),l=r(n(47)),f=r(n(41)),p=r(n(61)),h=r(n(19)),d=r(n(81)),m=t.SparseMatrix,v=t.DenseMatrix,y=t.Spa,g=i("lup",{DenseMatrix:function(t){return b(t)},SparseMatrix:function(t){return w(t)},Array:function(t){
// create dense matrix from array
var e=s(t),n=b(e);
// result
return{L:n.L.valueOf(),U:n.U.valueOf(),p:n.p}}}),b=function(t){
// rows & columns
var e,n,r,i=t._size[0],s=t._size[1],d=Math.min(i,s),m=o.clone(t._data),y=[],g=[i,d],b=[],w=[d,s],_=[];for(e=0;e<i;e++)_[e]=e;
// loop columns
for(n=0;n<s;n++){
// skip first column in upper triangular matrix
if(n>0)
// loop rows
for(e=0;e<i;e++){
// min i,j
var x=Math.min(e,n),E=0;
// loop up to min
for(r=0;r<x;r++)
// s = l[i, k] - data[k, j]
E=u(E,l(m[e][r],m[r][n]));m[e][n]=f(m[e][n],E)}
// row with larger value in cvector, row >= j
var C=n,S=0,N=0;
// loop rows
for(e=n;e<i;e++){
// data @ i, j
var M=m[e][n],O=a(M);
// value is greater than pivote value
p(O,S)&&(
// store row
C=e,
// update max value
S=O,
// value @ [j, j]
N=M)}
// check column is in lower triangular matrix
if(
// swap rows (j <-> pi)
n!==C&&(
// swap values j <-> pi in p
_[n]=[_[C],_[C]=_[n]][0],
// swap j <-> pi in data
v._swapRows(n,C,m)),n<i)
// loop rows (lower triangular matrix)
for(e=n+1;e<i;e++){
// value @ i, j
var T=m[e][n];h(T,0)||(
// update data
m[e][n]=c(m[e][n],N))}}
// loop columns
for(n=0;n<s;n++)
// loop rows
for(e=0;e<i;e++)
// initialize row in arrays
0===n&&(
// check row exists in upper triangular matrix
e<s&&(
// U
b[e]=[]),
// L
y[e]=[]),
// check we are in the upper triangular matrix
e<n?(
// check row exists in upper triangular matrix
e<s&&(
// U
b[e][n]=m[e][n]),
// check column exists in lower triangular matrix
n<i&&(
// L
y[e][n]=0)):
// diagonal value
e!==n?(
// check row exists in upper triangular matrix
e<s&&(
// U
b[e][n]=0),
// check column exists in lower triangular matrix
n<i&&(
// L
y[e][n]=m[e][n])):(
// check row exists in upper triangular matrix
e<s&&(
// U
b[e][n]=m[e][n]),
// check column exists in lower triangular matrix
n<i&&(
// L
y[e][n]=1));
// l matrix
var A=new v({data:y,size:g}),P=new v({data:b,size:w}),k=[];for(e=0,d=_.length;e<d;e++)k[_[e]]=e;
// return matrices
return{L:A,U:P,p:k,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}},w=function(t){
// rows & columns
var e,n,r,i=t._size[0],o=t._size[1],s=Math.min(i,o),u=t._values,f=t._index,v=t._ptr,g=[],b=[],w=[],_=[i,s],x=[],E=[],C=[],S=[s,o],N=[],M=[];for(e=0;e<i;e++)N[e]=e,M[e]=e;
// loop columns
for(n=0;n<o;n++){
// sparse accumulator
var O=new y;
// check lower triangular matrix has a value @ column j
n<i&&(
// update ptr
w.push(g.length),
// first value in j column for lower triangular matrix
g.push(1),b.push(n)),
// update ptr
C.push(x.length);
// k0 <= k < k1 where k0 = _ptr[j] && k1 = _ptr[j+1]
var T=v[n],A=v[n+1];
// copy column j into sparse accumulator
for(r=T;r<A;r++)
// row
e=f[r],
// copy column values into sparse accumulator (use permutation vector)
O.set(N[e],u[r]);
// skip first column in upper triangular matrix
n>0&&
// loop rows in column j (above diagonal)
O.forEach(0,n-1,function(t,e){
// loop rows in column k (L)
m._forEachRow(t,g,b,w,function(n,r){
// check row is below k
n>t&&
// update spa value
O.accumulate(n,d(l(r,e)))})});
// row with larger value in spa, row >= j
var P=n,k=O.get(n),I=a(k);
// loop values in spa (order by row, below diagonal)
O.forEach(n+1,i-1,function(t,e){
// absolute value
var n=a(e);
// value is greater than pivote value
p(n,I)&&(
// store row
P=t,
// update max value
I=n,
// value @ [j, j]
k=e)}),
// swap rows (j <-> pi)
n!==P&&(
// swap values j <-> pi in L
m._swapRows(n,P,_[1],g,b,w),
// swap values j <-> pi in U
m._swapRows(n,P,S[1],x,E,C),
// swap values in spa
O.swap(n,P),
// update permutation vector (swap values @ j, pi)
function(t,e){
// find pv indeces getting data from x and y
var n=M[t],r=M[e];
// update permutation vector current -> original
N[n]=e,N[r]=t,
// update permutation vector original -> current
M[t]=r,M[e]=n}(n,P)),
// loop values in spa (order by row)
O.forEach(0,i-1,function(t,e){
// check we are above diagonal
t<=n?(
// update upper triangular matrix
x.push(e),E.push(t)):(
// update value
e=c(e,k),
// check value is non zero
h(e,0)||(
// update lower triangular matrix
g.push(e),b.push(t)))})}
// return matrices
// update ptrs
return C.push(x.length),w.push(g.length),{L:new m({values:g,index:b,ptr:w,size:_}),U:new m({values:x,index:E,ptr:C,size:S}),p:N,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}};return g}var i=n(51),o=i.object;e.name="lup",e.factory=r},/* 245 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(696)),a=r(n(691));return i("slu",{"SparseMatrix, number, number":function(t,e,n){
// verify order
if(!s(e)||e<0||e>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");
// verify threshold
if(n<0||n>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");
// perform symbolic ordering and analysis
var r=o(e,t,!1),i=a(t,r,n);
// return decomposition
return{L:i.L,U:i.U,p:i.pinv,q:r.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}var i=n(51),o=i.number,s=o.isInteger;e.name="slu",e.factory=r},/* 246 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){function o(t){return t.transform(function(t,e,n){return t.isParenthesisNode?t.content:t})}/**
   * Parse the string array of rules into nodes
   *
   * Example syntax for rules:
   *
   * Position constants to the left in a product:
   * { l: 'n1 * c1', r: 'c1 * n1' }
   * n1 is any Node, and c1 is a ConstantNode.
   *
   * Apply difference of squares formula:
   * { l: '(n1 - n2) * (n1 + n2)', r: 'n1^2 - n2^2' }
   * n1, n2 mean any Node.
   *
   * Short hand notation:
   * 'n1 * c1 -> c1 * n1'
   */
function s(t){for(var e=[],n=0;n<t.length;n++){var r,i=t[n],s=typeof i;switch(s){case"string":var u=i.split("->");if(2!==u.length)throw SyntaxError("Could not parse rule: "+i);i={l:u[0],r:u[1]};/* falls through */
case"object":if(r={l:o(d(i.l)),r:o(d(i.r))},i.context&&(r.evaluate=i.context),i.evaluate&&(r.evaluate=d(i.evaluate)),r.l.isOperatorNode&&E(r.l)){var c=M(r.l),l=a();r.expanded={},r.expanded.l=c([r.l.clone(),l]),
// Push the expandsym into the deepest possible branch.
// This helps to match the newRule against nodes returned from getSplits() later on.
C(r.expanded.l),S(r.expanded.l),r.expanded.r=c([r.r,l])}break;case"function":r=i;break;default:throw TypeError("Unsupported type of rule: "+s)}
// console.log('Adding rule: ' + rules[i]);
// console.log(newRule);
e.push(r)}return e}function a(){return new b("_p"+T++)}/**
   * Get (binary) combinations of a flattened binary node
   * e.g. +(node1, node2, node3) -> [
   *        +(node1,  +(node2, node3)),
   *        +(node2,  +(node1, node3)),
   *        +(node3,  +(node1, node2))]
   *
   */
function u(t,e){var n,r,i=[],o=M(t);if(x(t,e))for(var s=0;s<t.args.length;s++)r=t.args.slice(0),r.splice(s,1),n=1===r.length?r[0]:o(r),i.push(o([t.args[s],n]));else r=t.args.slice(1),n=1===r.length?r[0]:o(r),i.push(o([t.args[0],n]));return i}/**
   * Returns the set union of two match-placeholders or null if there is a conflict.
   */
function c(t,e){var n={placeholders:{}};
// Some matches may not have placeholders; this is OK
if(!t.placeholders&&!e.placeholders)return n;if(!t.placeholders)return e;if(!e.placeholders)return t;
// Placeholders with the same key must match exactly
for(var r in t.placeholders)if(n.placeholders[r]=t.placeholders[r],e.placeholders.hasOwnProperty(r)&&!h(t.placeholders[r],e.placeholders[r]))return null;for(var r in e.placeholders)n.placeholders[r]=e.placeholders[r];return n}/**
   * Combine two lists of matches by applying mergeMatch to the cartesian product of two lists of matches.
   * Each list represents matches found in one child of a node.
   */
function l(t,e){var n=[];if(0===t.length||0===e.length)return n;for(var r,i=0;i<t.length;i++)for(var o=0;o<e.length;o++)(r=c(t[i],e[o]))&&n.push(r);return n}/**
   * Combine multiple lists of matches by applying mergeMatch to the cartesian product of two lists of matches.
   * Each list represents matches found in one child of a node.
   * Returns a list of unique matches.
   */
function f(t){if(0===t.length)return t;for(var e=t.reduce(l),n=[],r={},i=0;i<e.length;i++){var o=JSON.stringify(e[i]);r[o]||(r[o]=!0,n.push(e[i]))}return n}/**
   * Determines whether node matches rule.
   *
   * @param {ConstantNode | SymbolNode | ParenthesisNode | FunctionNode | OperatorNode} rule
   * @param {ConstantNode | SymbolNode | ParenthesisNode | FunctionNode | OperatorNode} node
   * @return {Object} Information about the match, if it exists.
   */
function p(t,e,n){
//    console.log('Entering _ruleMatch(' + JSON.stringify(rule) + ', ' + JSON.stringify(node) + ')');
//    console.log('rule = ' + rule);
//    console.log('node = ' + node);
//    console.log('Entering _ruleMatch(' + rule.toString() + ', ' + node.toString() + ')');
var r=[{placeholders:{}}];if(t instanceof y&&e instanceof y||t instanceof v&&e instanceof v){
// If the rule is an OperatorNode or a FunctionNode, then node must match exactly
if(t instanceof y){if(t.op!==e.op||t.fn!==e.fn)return[]}else if(t instanceof v&&t.name!==e.name)return[];
// rule and node match. Search the children of rule and node.
if((1!==e.args.length||1!==t.args.length)&&E(e)&&!n){if(e.args.length>=2&&2===t.args.length){for(var i=u(e,t.context),o=[],s=0;s<i.length;s++){var a=p(t,i[s],!0);// recursing at the same tree depth here
o=o.concat(a)}return o}if(t.args.length>2)throw Error("Unexpected non-binary associative function: "+t.toString());
// Incorrect number of arguments in rule and node, so no match
return[]}for(var c=[],s=0;s<t.args.length;s++){var l=p(t.args[s],e.args[s]);if(0===l.length)
// Child did not match, so stop searching immediately
return[];
// The child matched, so add the information returned from the child to our result
c.push(l)}r=f(c)}else if(t instanceof b){
// If the rule is a SymbolNode, then it carries a special meaning
// according to the first character of the symbol node name.
// c.* matches a ConstantNode
// n.* matches any node
if(0===t.name.length)throw new Error("Symbol in rule has 0 length...!?");if("n"==t.name[0]||"_p"==t.name.substring(0,2))
// rule matches _anything_, so assign this node to the rule.name placeholder
// Assign node to the rule.name placeholder.
// Our parent will check for matches among placeholders.
r[0].placeholders[t.name]=e;else if("v"==t.name[0]){
// rule matches any variable thing (not a ConstantNode)
if(e.isConstantNode)
// Mis-match: rule was expecting something other than a ConstantNode
return[];r[0].placeholders[t.name]=e}else if("C"==t.name[0]){
// rule matches anything but a ConstantNode
if(e instanceof m)
// Mis-match: rule was expecting not a ConstantNode
return[];r[0].placeholders[t.name]=e}else{if("c"!=t.name[0])throw new Error("Invalid symbol in rule: "+t.name);
// rule matches any ConstantNode
if(!(e instanceof m))
// Mis-match: rule was expecting a ConstantNode
return[];r[0].placeholders[t.name]=e}}else{if(!(t instanceof m))
// Some other node was encountered which we aren't prepared for, so no match
return[];
// Literal constant in our rule, so much match node exactly
if(t.value!==e.value)return[]}
// It's a match!
// console.log('_ruleMatch(' + rule.toString() + ', ' + node.toString() + ') found a match');
return r}/**
   * Determines whether p and q (and all their children nodes) are identical.
   *
   * @param {ConstantNode | SymbolNode | ParenthesisNode | FunctionNode | OperatorNode} p
   * @param {ConstantNode | SymbolNode | ParenthesisNode | FunctionNode | OperatorNode} q
   * @return {Object} Information about the match, if it exists.
   */
function h(t,e){if(t instanceof m&&e instanceof m){if(t.value!==e.value)return!1}else if(t instanceof b&&e instanceof b){if(t.name!==e.name)return!1}else{if(!(t instanceof y&&e instanceof y||t instanceof v&&e instanceof v))return!1;if(t instanceof y){if(t.op!==e.op||t.fn!==e.fn)return!1}else if(t instanceof v&&t.name!==e.name)return!1;if(t.args.length!==e.args.length)return!1;for(var n=0;n<t.args.length;n++)if(!h(t.args[n],e.args[n]))return!1}return!0}var d=r(n(66)),m=r(n(96)),v=r(n(97)),y=r(n(120)),g=r(n(121)),b=r(n(59)),w=(r(n(26)),r(n(682))),_=r(n(247)),x=_.isCommutative,E=_.isAssociative,C=_.flatten,S=_.unflattenr,N=_.unflattenl,M=_.createMakeNodeFunction,O=i("simplify",{string:function(t){return O(d(t),O.rules)},"string, Array":function(t,e){return O(d(t),e)},Node:function(t){return O(t,O.rules)},"Node, Array":function(t,e){e=s(e);for(var n=o(t),r=n.toString({parenthesis:"all"}),i=null;i!=r;){T=0,i=r;for(var a=0;a<e.length;a++)"function"==typeof e[a]?n=e[a](n):(C(n),n=A(n,e[a])),N(n);r=n.toString({parenthesis:"all"})}return n}});
// Array of strings, used to build the ruleSet.
// Each l (left side) and r (right side) are parsed by
// the expression parser into a node tree.
// Left hand sides are matched to subtrees within the
// expression to be parsed and replaced with the right
// hand side.
// TODO: Add support for constraints on constants (either in the form of a '=' expression or a callback [callback allows things like comparing symbols alphabetically])
// To evaluate lhs constants for rhs constants, use: { l: 'c1+c2', r: 'c3', evaluate: 'c3 = c1 + c2' }. Multiple assignments are separated by ';' in block format.
// It is possible to get into an infinite loop with conflicting rules
O.rules=[{l:"n^0",r:"1"},{l:"0*n",r:"0"},{l:"n/n",r:"1"},{l:"n^1",r:"n"},{l:"+n1",r:"n1"},{l:"n--n1",r:"n+n1"},{l:"log(e)",r:"1"},
// temporary rules
{l:"n-n1",r:"n+-n1"},// temporarily replace 'subtract' so we can further flatten the 'add' operator
{l:"-(c*C)",r:"(-c) * C"},// make non-constant terms positive
{l:"-C",r:"(-1) * C"},{l:"n/n1^n2",r:"n*n1^-n2"},// temporarily replace 'divide' so we can further flatten the 'multiply' operator
{l:"n/n1",r:"n*n1^-1"},
// collect like factors
{l:"n*n",r:"n^2"},{l:"n * n^n1",r:"n^(n1+1)"},{l:"n^n1 * n^n2",r:"n^(n1+n2)"},
// collect like terms
{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},{l:"n1*n2 + n2",r:"(n1+1)*n2"},{l:"n1*n3 + n2*n3",r:"(n1+n2)*n3"},w,{l:"(-n)*n1",r:"-(n*n1)"},// make factors positive (and undo 'make non-constant terms positive')
// ordering of constants
{l:"c+C",r:"C+c",context:{add:{commutative:!1}}},{l:"C*c",r:"c*C",context:{multiply:{commutative:!1}}},
// undo temporary rules
{l:"(-1) * n",r:"-n"},{l:"n+-n1",r:"n-n1"},// undo replace 'subtract'
{l:"n*(n1^-1)",r:"n/n1"},// undo replace 'divide'
{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},// '*' before '/'
{l:"n-(n1+n2)",r:"n-n1-n2"},// '-' before '+'
// { l: '(n1/n2)/n3', r: 'n1/(n2*n3)' },
// { l: '(n*n1)/(n*n2)', r: 'n1/n2' },
{l:"1*n",r:"n"}];var T=0,A=i("applyRule",{"Node, Object":function(t,e){
//console.log('Entering applyRule(' + node.toString() + ')');
// Do not clone node unless we find a match
var n=t;
// First replace our child nodes with their simplified versions
// If a child could not be simplified, the assignments will have
// no effect since the node is returned unchanged
if(n instanceof y||n instanceof v){if(n.args)for(var r=0;r<n.args.length;r++)n.args[r]=A(n.args[r],e)}else n instanceof g&&n.content&&(n.content=A(n.content,e));
// Try to match a rule against this node
var i=e.r,o=p(e.l,n)[0];
// If the rule is associative operator, we can try matching it while allowing additional terms.
// This allows us to match rules like 'n+n' to the expression '(1+x)+x' or even 'x+1+x' if the operator is commutative.
// var before = res.toString({parenthesis: 'all'});
// Create a new node by cloning the rhs of the matched rule
// Replace placeholders with their respective nodes
//console.log('Traversing rule ' + res);
return!o&&e.expanded&&(i=e.expanded.r,o=p(e.expanded.l,n)[0]),o&&(n=i.clone(),n=n.transform(function(t,e,n){if(t.isSymbolNode&&o.placeholders.hasOwnProperty(t.name)){return o.placeholders[t.name].clone()}return t})),n}});return O}e.name="simplify",e.factory=r},/* 247 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r,i){function o(t,e){if(!t.args||t.args.length<=1)return!0;var n=t.fn.toString();return e&&e.hasOwnProperty(n)&&e[n].hasOwnProperty("commutative")?e[n].commutative:m[n]||!1}function s(t,e){if(!t.args||t.args.length<=1)return!0;var n=t.fn.toString();return e&&e.hasOwnProperty(n)&&e[n].hasOwnProperty("associative")?e[n].associative:v[n]||!1}/**
   * Flatten all associative operators in an expression tree.
   * Assumes parentheses have already been removed.
   */
function a(t){if(!t.args||0===t.args.length)return t;t.args=u(t);for(var e=0;e<t.args.length;e++)a(t.args[e])}/**
   * Get the children of a node as if it has been flattened.
   * TODO implement for FunctionNodes
   */
function u(t){var e,n=[],r=function(t){for(var i=0;i<t.args.length;i++){var o=t.args[i];o.isOperatorNode&&e===o.op?r(o):n.push(o)}};return t.isOperatorNode&&s(t)?(e=t.op,r(t),n):t.args}/**
   *  Unflatten all flattened operators to a right-heavy binary tree.
   */
function c(t){if(t.args&&0!==t.args.length){for(var e=f(t),n=t.args.length,r=0;r<n;r++)c(t.args[r]);if(n>2&&s(t)){for(var i=t.args.pop();t.args.length>0;)i=e([t.args.pop(),i]);t.args=i.args}}}/**
   *  Unflatten all flattened operators to a left-heavy binary tree.
   */
function l(t){if(t.args&&0!==t.args.length){for(var e=f(t),n=t.args.length,r=0;r<n;r++)l(t.args[r]);if(n>2&&s(t)){for(var i=t.args.shift();t.args.length>0;)i=e([i,t.args.shift()]);t.args=i.args}}}function f(t){return t.isOperatorNode?function(e){try{return new h(t.op,t.fn,e)}catch(t){return console.error(t),[]}}:function(e){return new p(new d(t.name),e)}}var p=i.expression.node.FunctionNode,h=i.expression.node.OperatorNode,d=i.expression.node.SymbolNode,m={add:!0,multiply:!0},v={add:!0,multiply:!0};return{createMakeNodeFunction:f,isCommutative:o,isAssociative:s,flatten:a,allChildren:u,unflattenr:c,unflattenl:l}}e.factory=r,e.math=!0},/* 248 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(2)),s=r(n(38)),a=r(n(47)),u=r(n(41)),c=r(n(19)),l=r(n(163)),f=t.DenseMatrix,p=i("lsolve",{"SparseMatrix, Array | Matrix":function(t,e){
// process matrix
return d(t,e)},"DenseMatrix, Array | Matrix":function(t,e){
// process matrix
return h(t,e)},"Array, Array | Matrix":function(t,e){
// create dense matrix from array
var n=o(t);
// result
return h(n,e).valueOf()}}),h=function(t,e){
// validate matrix and vector, return copy of column vector b
e=l(t,e,!0);
// forward solve m * x = b, loop columns
for(var n=e._data,r=t._size[0],i=t._size[1],o=[],p=t._data,h=0;h<i;h++){
// b[j]
var d,m=n[h][0]||0;
// forward substitution (outer product) avoids inner looping when bj == 0
if(c(m,0))
// zero @ j
d=0;else{
// value @ [j, j]
var v=p[h][h];
// check vjj
if(c(v,0))
// system cannot be solved
throw new Error("Linear system cannot be solved since matrix is singular");
// calculate xj
d=s(m,v);
// loop rows
for(var y=h+1;y<r;y++)
// update copy of b
n[y]=[u(n[y][0]||0,a(d,p[y][h]))]}
// update x
o[h]=[d]}
// return vector
return new f({data:o,size:[r,1]})},d=function(t,e){
// validate matrix and vector, return copy of column vector b
e=l(t,e,!0);
// forward solve m * x = b, loop columns
for(var n,r,i=e._data,o=t._size[0],p=t._size[1],h=t._values,d=t._index,m=t._ptr,v=[],y=0;y<p;y++){
// b[j]
var g=i[y][0]||0;
// forward substitution (outer product) avoids inner looping when bj == 0
if(c(g,0))
// update x
v[y]=[0];else{
// value @ [j, j]
var b=0,w=[],_=[],x=m[y+1];
// values in column, find value @ [j, j]
for(r=m[y];r<x;r++)
// row
n=d[r],
// check row (rows are not sorted!)
n===y?
// update vjj
b=h[r]:n>y&&(
// store lower triangular
w.push(h[r]),_.push(n));
// at this point we must have a value @ [j, j]
if(c(b,0))
// system cannot be solved, there is no value @ [j, j]
throw new Error("Linear system cannot be solved since matrix is singular");
// calculate xj
var E=s(g,b);
// loop lower triangular
for(r=0,x=_.length;r<x;r++)
// row
n=_[r],
// update copy of b
i[n]=[u(i[n][0]||0,a(E,w[r]))];
// update x
v[y]=[E]}}
// return vector
return new f({data:v,size:[o,1]})};return p}e.name="lsolve",e.factory=r},/* 249 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(2)),s=r(n(38)),a=r(n(47)),u=r(n(41)),c=r(n(19)),l=r(n(163)),f=t.DenseMatrix,p=i("usolve",{"SparseMatrix, Array | Matrix":function(t,e){
// process matrix
return d(t,e)},"DenseMatrix, Array | Matrix":function(t,e){
// process matrix
return h(t,e)},"Array, Array | Matrix":function(t,e){
// create dense matrix from array
var n=o(t);
// result
return h(n,e).valueOf()}}),h=function(t,e){
// validate matrix and vector, return copy of column vector b
e=l(t,e,!0);
// backward solve m * x = b, loop columns (backwards)
for(var n=e._data,r=t._size[0],i=t._size[1],o=[],p=t._data,h=i-1;h>=0;h--){
// b[j]
var d,m=n[h][0]||0;
// backward substitution (outer product) avoids inner looping when bj == 0
if(c(m,0))
// zero value @ j
d=0;else{
// value @ [j, j]
var v=p[h][h];
// check vjj
if(c(v,0))
// system cannot be solved
throw new Error("Linear system cannot be solved since matrix is singular");
// calculate xj
d=s(m,v);
// loop rows
for(var y=h-1;y>=0;y--)
// update copy of b
n[y]=[u(n[y][0]||0,a(d,p[y][h]))]}
// update x
o[h]=[d]}
// return column vector
return new f({data:o,size:[r,1]})},d=function(t,e){
// validate matrix and vector, return copy of column vector b
e=l(t,e,!0);
// backward solve m * x = b, loop columns (backwards)
for(var n,r,i=e._data,o=t._size[0],p=t._size[1],h=t._values,d=t._index,m=t._ptr,v=[],y=p-1;y>=0;y--){
// b[j]
var g=i[y][0]||0;
// backward substitution (outer product) avoids inner looping when bj == 0
if(c(g,0))
// update x
v[y]=[0];else{
// value @ [j, j]
var b=0,w=[],_=[],x=m[y],E=m[y+1];
// values in column, find value @ [j, j], loop backwards
for(r=E-1;r>=x;r--)
// row
n=d[r],
// check row
n===y?
// update vjj
b=h[r]:n<y&&(
// store upper triangular
w.push(h[r]),_.push(n));
// at this point we must have a value @ [j, j]
if(c(b,0))
// system cannot be solved, there is no value @ [j, j]
throw new Error("Linear system cannot be solved since matrix is singular");
// calculate xj
var C=s(g,b);
// loop upper triangular
for(r=0,E=_.length;r<E;r++)
// row
n=_[r],
// update copy of b
i[n]=[u(i[n][0],a(C,w[r]))];
// update x
v[y]=[C]}}
// return vector
return new f({data:v,size:[o,1]})};return p}e.name="usolve",e.factory=r},/* 250 */
/***/
function(t,e,n){"use strict";function r(t,e,r){var i=r(n(164));return function(t,e){
// mark w[j]
t[e]=i(t[e])}}e.name="cs_mark",e.path="sparse",e.factory=r},/* 251 */
/***/
function(t,e,n){"use strict";function r(){return function(t,e){
// check node is marked
return t[e]<0}}e.name="cs_marked",e.path="sparse",e.factory=r},/* 252 */
/***/
function(t,e,n){"use strict";function r(){return function(t,e,n,r,i,o,s){
// variables
var a=0;
// while (stack is not empty) 
for(
// place j on the stack
n[s]=t;a>=0;){
// p = top of stack
var u=n[s+a],c=n[r+u];-1==c?(
// p has no unordered children left
a--,
// node p is the kth postordered node
o[e++]=u):(
// remove i from children of p
n[r+u]=n[i+c],
// increment top
++a,
// start dfs on child node i
n[s+a]=c)}return e}}e.name="cs_tdfs",e.path="sparse",e.factory=r},/* 253 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(2)),s=r(n(38)),a=n(6),u=r(n(48)),c=r(n(31)),l=r(n(50)),f=r(n(32)),p=r(n(33)),h=r(n(12)),d=r(n(10)),m=i("dotDivide",{"any, any":s,"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse ./ sparse
n=l(t,e,s,!1);break;default:
// sparse ./ dense
n=u(e,t,s,!0)}break;default:switch(e.storage()){case"sparse":
// dense ./ sparse
n=c(t,e,s,!1);break;default:
// dense ./ dense
n=h(t,e,s)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return m(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return m(o(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return m(t,o(e))},"Matrix, any":function(t,e){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=f(t,e,s,!1);break;default:n=d(t,e,s,!1)}return n},"any, Matrix":function(t,e){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=p(e,t,s,!0);break;default:n=d(e,t,s,!0)}return n},"Array, any":function(t,e){
// use matrix implementation
return d(o(t),e,s,!1).valueOf()},"any, Array":function(t,e){
// use matrix implementation
return d(o(e),t,s,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+a.operators.dotDivide+"${args[1]}\\right)"},m}e.name="dotDivide",e.factory=r},/* 254 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Round a value towards zero.
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.fix(x)
   *
   * Examples:
   *
   *    math.fix(3.2);                // returns number 3
   *    math.fix(3.8);                // returns number 3
   *    math.fix(-4.2);               // returns number -4
   *    math.fix(-4.7);               // returns number -4
   *
   *    var c = math.complex(3.2, -2.7);
   *    math.fix(c);                  // returns Complex 3 - 2i
   *
   *    math.fix([3.2, 3.8, -4.7]);   // returns Array [3, 3, -4]
   *
   * See also:
   *
   *    ceil, floor, round
   *
   * @param {number | BigNumber | Fraction | Complex | Array | Matrix} x Number to be rounded
   * @return {number | BigNumber | Fraction | Complex | Array | Matrix}            Rounded value
   */
var o=r("fix",{number:function(t){return t>0?Math.floor(t):Math.ceil(t)},Complex:function(e){return new t.Complex(e.re>0?Math.floor(e.re):Math.ceil(e.re),e.im>0?Math.floor(e.im):Math.ceil(e.im))},BigNumber:function(t){return t.isNegative()?t.ceil():t.floor()},Fraction:function(t){return t.s<0?t.ceil():t.floor()},"Array | Matrix":function(t){
// deep map collection, skip zeros since fix(0) = 0
return i(t,o,!0)}});return o.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},o}var i=n(3);e.name="fix",e.factory=r},/* 255 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){var s=r(n(38)),a=o("log",{number:function(n){return n>=0||e.predictable?Math.log(n):new t.Complex(n,0).log()},Complex:function(t){return t.log()},BigNumber:function(n){return!n.isNegative()||e.predictable?n.ln():new t.Complex(n.toNumber(),0).log()},"Array | Matrix":function(t){return i(t,a)},"any, any":function(t,e){
// calculate logarithm for a specified base, log(x, base)
return s(a(t),a(e))}});return a.toTex={1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},a}var i=n(3);e.name="log",e.factory=r},/* 256 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(34)),s=r(n(41)),a=r(n(21)),u=r(n(79)),c=r(n(80)),l=r(n(126)),f=r(n(125)),p=r(n(100)),h=r(n(84)),d=r(n(61)),m=i("stirlingS2",{"number | BigNumber, number | BigNumber":function(t,e){if(!h(t)||p(t)||!h(e)||p(e))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(d(e,t))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var n=l(e),r=0,i=0;i<=e;i++){var m=c(-1,s(e,i)),v=f(e,i),y=c(i,t);r=o(r,a(a(v,y),m))}return u(r,n)}});return m.toTex={2:"\\mathrm{S}\\left(${args}\\right)"},m}e.name="stirlingS2",e.factory=r},/* 257 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){var s=n(6),a=o("not",{number:function(t){return!t},Complex:function(t){return 0===t.re&&0===t.im},BigNumber:function(t){return t.isZero()||t.isNaN()},Unit:function(t){return a(t.value)},"Array | Matrix":function(t){return i(t,a)}});return a.toTex={1:s.operators.not+"\\left(${args[0]}\\right)"},a}var i=n(3);e.name="not",e.factory=r},/* 258 */
/***/
function(t,e,n){"use strict";function r(t,e,r,l){var f=r(n(2)),p=l("concat",{
// TODO: change signature to '...Array | Matrix, dim?' when supported
"...Array | Matrix | number | BigNumber":function(t){var e,n,r=t.length,l=-1,p=!1,h=[];// contains multi dimensional arrays
for(e=0;e<r;e++){var d=t[e];if(
// test whether we need to return a Matrix (if not we return an Array)
d&&!0===d.isMatrix&&(p=!0),"number"==typeof d||d&&!0===d.isBigNumber){if(e!==r-1)throw new Error("Dimension must be specified as last argument");// change BigNumber to number
if(
// last argument contains the dimension on which to concatenate
n=l,l=d.valueOf(),!s(l))throw new TypeError("Integer number expected for dimension");if(l<0||e>0&&l>n)
// TODO: would be more clear when throwing a DimensionError here
throw new u(l,n+1)}else{
// this is a matrix or array
var m=o(d).valueOf(),v=a.size(m);
// verify whether each of the matrices has the same number of dimensions
if(h[e]=m,n=l,l=v.length-1,e>0&&l!=n)throw new c(n+1,l+1)}}if(0==h.length)throw new SyntaxError("At least one matrix expected");for(var y=h.shift();h.length;)y=i(y,h.shift(),l,0);return p?f(y):y},"...string":function(t){return t.join("")}});// use default template
return p.toTex=void 0,p}/**
 * Recursively concatenate two matrices.
 * The contents of the matrices is not cloned.
 * @param {Array} a             Multi dimensional array
 * @param {Array} b             Multi dimensional array
 * @param {number} concatDim    The dimension on which to concatenate (zero-based)
 * @param {number} dim          The current dim (zero-based)
 * @return {Array} c            The concatenated matrix
 * @private
 */
function i(t,e,n,r){if(r<n){
// recurse into next dimension
if(t.length!=e.length)throw new c(t.length,e.length);for(var o=[],s=0;s<t.length;s++)o[s]=i(t[s],e[s],n,r+1);return o}
// concatenate this dimension
return t.concat(e)}var o=n(9).clone,s=n(5).isInteger,a=n(11),u=n(95),c=n(18);e.name="concat",e.factory=r},/* 259 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){/**
   * Calculate the determinant of a matrix
   * @param {Array[]} matrix  A square, two dimensional matrix
   * @param {number} rows     Number of rows of the matrix (zero-based)
   * @param {number} cols     Number of columns of the matrix (zero-based)
   * @returns {number} det
   * @private
   */
function a(t,e,n){if(1==e)
// this is a 1 x 1 matrix
return o.clone(t[0][0]);if(2==e)
// this is a 2 x 2 matrix
// the determinant of [a11,a12;a21,a22] is det = a11*a22-a21*a12
return l(f(t[0][0],t[1][1]),f(t[1][0],t[0][1]));for(var r=t,i=0;i<e-1;i++)r=f(function(t){var e,n,r=new Array(t.length),i=0;for(e=1;e<t.length;e++)i=c(i,t[e][e]);for(e=0;e<t.length;e++){for(r[e]=new Array(t.length),r[e][e]=p(i),n=0;n<e;n++)r[e][n]=0;for(n=e+1;n<t.length;n++)r[e][n]=t[e][n];e+1<t.length&&(i=l(i,t[e+1][e+1]))}return r}(r),t);return e%2==0?p(r[0][0]):r[0][0]}var u=r(n(2)),c=r(n(34)),l=r(n(41)),f=r(n(21)),p=r(n(81)),h=i("det",{any:function(t){return o.clone(t)},"Array | Matrix":function(t){var e;switch(t&&!0===t.isMatrix?e=t.size():Array.isArray(t)?(t=u(t),e=t.size()):
// a scalar
e=[],e.length){case 0:
// scalar
return o.clone(t);case 1:
// vector
if(1==e[0])return o.clone(t.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+s.format(e)+")");case 2:
// two dimensional array
var n=e[0],r=e[1];if(n==r)return a(t.clone().valueOf(),n,r);throw new RangeError("Matrix must be square (size: "+s.format(e)+")");default:
// multi dimensional array
throw new RangeError("Matrix must be two dimensional (size: "+s.format(e)+")")}}});return h.toTex={1:"\\det\\left(${args[0]}\\right)"},h}var i=n(51),o=i.object,s=i.string;e.name="det",e.factory=r},/* 260 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){var a=r(n(2)),u=s("filter",{"Array, function":i,"Array, RegExp":o,"Matrix, function":function(t,e){return a(i(t.toArray(),e))},"Matrix, RegExp":function(t,e){return a(o(t.toArray(),e))}});// use default template
return u.toTex=void 0,u}/**
 * Filter values in a callback given a callback function
 * @param {Array} x
 * @param {Function} callback
 * @return {Array} Returns the filtered array
 * @private
 */
function i(t,e){if(1!==s(t).length)throw new Error("Only one dimensional matrices supported");
// figure out what number of arguments the callback function expects
var n=a(e);return t.filter(function(t,r,i){
// invoke the callback function with the right number of arguments
// invoke the callback function with the right number of arguments
return 1===n?e(t):2===n?e(t,[r]):e(t,[r],i)})}/**
 * Filter values in a callback given a regular expression
 * @param {Array} x
 * @param {Function} regexp
 * @return {Array} Returns the filtered array
 * @private
 */
function o(t,e){if(1!==s(t).length)throw new Error("Only one dimensional matrices supported");return t.filter(function(t){return e.test(t)})}var s=n(11).size,a=n(71).maxArgumentCount;e.name="filter",e.factory=r},/* 261 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Iterate over all elements of a matrix/array, and executes the given callback function.
   *
   * Syntax:
   *
   *    math.forEach(x, callback)
   *
   * Examples:
   *
   *    math.forEach([1, 2, 3], function(value) {
   *      console.log(value);
   *    });
   *    // outputs 1, 2, 3
   *
   * See also:
   *
   *    filter, map, sort
   *
   * @param {Matrix | Array} x    The matrix to iterate on.
   * @param {Function} callback   The callback function is invoked with three
   *                              parameters: the value of the element, the index
   *                              of the element, and the Matrix/array being traversed.
   */
var o=r("forEach",{"Array, function":i,"Matrix, function":function(t,e){return t.forEach(e)}});// use default template
return o.toTex=void 0,o}/**
 * forEach for a multi dimensional array
 * @param {Array} array
 * @param {Function} callback
 * @private
 */
function i(t,e){
// figure out what number of arguments the callback function expects
var n=o(e),r=function(i,o){Array.isArray(i)?i.forEach(function(t,e){
// we create a copy of the index array and append the new index value
r(t,o.concat(e))}):
// invoke the callback function with the right number of arguments
1===n?e(i):2===n?e(i,o):// 3 or -1
e(i,o,t)};r(t,[])}var o=n(71).maxArgumentCount;e.name="forEach",e.factory=r},/* 262 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){/**
   * Calculate the inverse of a square matrix
   * @param {Array[]} mat     A square matrix
   * @param {number} rows     Number of rows
   * @param {number} cols     Number of columns, must equal rows
   * @return {Array[]} inv    Inverse matrix
   * @private
   */
function s(t,e,n){var r,i,o,s,a;if(1==e){if(0==(
// this is a 1 x 1 matrix
s=t[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[u(1,s)]]}if(2==e){
// this is a 2 x 2 matrix
var d=p(t);if(0==d)throw Error("Cannot calculate inverse, determinant is zero");return[[u(t[1][1],d),u(f(t[0][1]),d)],[u(f(t[1][0]),d),u(t[0][0],d)]]}
// this is a matrix of 3 x 3 or larger
// calculate inverse using gauss-jordan elimination
//      http://en.wikipedia.org/wiki/Gaussian_elimination
//      http://mathworld.wolfram.com/MatrixInverse.html
//      http://math.uww.edu/~mcfarlat/inverse.htm
// make a copy of the matrix (only the arrays, not of the elements)
var m=t.concat();for(r=0;r<e;r++)m[r]=m[r].concat();
// loop over all columns, and perform row reductions
for(var v=h(e).valueOf(),y=0;y<n;y++){for(
// element Acc should be non zero. if not, swap content
// with one of the lower rows
r=y;r<e&&0==m[r][y];)r++;if(r==e||0==m[r][y])
// TODO: in case of zero det, just return a matrix wih Infinity values? (like octave)
throw Error("Cannot calculate inverse, determinant is zero");r!=y&&(a=m[y],m[y]=m[r],m[r]=a,a=v[y],v[y]=v[r],v[r]=a);
// eliminate non-zero values on the other rows at column c
var g=m[y],b=v[y];for(r=0;r<e;r++){var w=m[r],_=v[r];if(r!=y){
// eliminate value at column c and row r
if(0!=w[y]){
// add (f * row c) to row r to eliminate the value
// at column c
for(o=u(f(w[y]),g[y]),i=y;i<n;i++)w[i]=c(w[i],l(o,g[i]));for(i=0;i<n;i++)_[i]=c(_[i],l(o,b[i]))}}else{for(
// normalize value at Acc to 1,
// divide each value on row r with the value at Acc
o=g[y],i=y;i<n;i++)w[i]=u(w[i],o);for(i=0;i<n;i++)_[i]=u(_[i],o)}}}return v}var a=r(n(2)),u=r(n(38)),c=r(n(40)),l=r(n(21)),f=r(n(81)),p=r(n(259)),h=r(n(165)),d=o("inv",{"Array | Matrix":function(t){var e=!0===t.isMatrix?t.size():i.array.size(t);switch(e.length){case 1:
// vector
if(1==e[0])return!0===t.isMatrix?a([u(1,t.valueOf()[0])]):[u(1,t[0])];throw new RangeError("Matrix must be square (size: "+i.string.format(e)+")");case 2:
// two dimensional array
var n=e[0],r=e[1];if(n==r)return!0===t.isMatrix?a(s(t.valueOf(),n,r),t.storage()):s(t,n,r);throw new RangeError("Matrix must be square (size: "+i.string.format(e)+")");default:
// multi dimensional array
throw new RangeError("Matrix must be two dimensional (size: "+i.string.format(e)+")")}},any:function(t){
// scalar
return u(1,t)}});return d.toTex={1:"\\left(${args[0]}\\right)^{-1}"},d}var i=n(51);e.name="inv",e.factory=r},/* 263 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){function o(t){return"Array"===e.matrix?t:p(t)}function s(n,r){var i=f(n);if(!i)throw new SyntaxError('String "'+n+'" is no valid range');var s;return"BigNumber"===e.number?(s=r?l:c,o(s(new t.BigNumber(i.start),new t.BigNumber(i.end),new t.BigNumber(i.step)))):(s=r?u:a,o(s(i.start,i.end,i.step)))}/**
   * Create a range with numbers. End is excluded
   * @param {number} start
   * @param {number} end
   * @param {number} step
   * @returns {Array} range
   * @private
   */
function a(t,e,n){var r=[],i=t;if(n>0)for(;i<e;)r.push(i),i+=n;else if(n<0)for(;i>e;)r.push(i),i+=n;return r}/**
   * Create a range with numbers. End is included
   * @param {number} start
   * @param {number} end
   * @param {number} step
   * @returns {Array} range
   * @private
   */
function u(t,e,n){var r=[],i=t;if(n>0)for(;i<=e;)r.push(i),i+=n;else if(n<0)for(;i>=e;)r.push(i),i+=n;return r}/**
   * Create a range with big numbers. End is excluded
   * @param {BigNumber} start
   * @param {BigNumber} end
   * @param {BigNumber} step
   * @returns {Array} range
   * @private
   */
function c(t,e,n){var r=[],i=t;if(n.gt(h))for(;i.lt(e);)r.push(i),i=i.plus(n);else if(n.lt(h))for(;i.gt(e);)r.push(i),i=i.plus(n);return r}/**
   * Create a range with big numbers. End is included
   * @param {BigNumber} start
   * @param {BigNumber} end
   * @param {BigNumber} step
   * @returns {Array} range
   * @private
   */
function l(t,e,n){var r=[],i=t;if(n.gt(h))for(;i.lte(e);)r.push(i),i=i.plus(n);else if(n.lt(h))for(;i.gte(e);)r.push(i),i=i.plus(n);return r}/**
   * Parse a string into a range,
   * The string contains the start, optional step, and end, separated by a colon.
   * If the string does not contain a valid range, null is returned.
   * For example str='0:2:11'.
   * @param {string} str
   * @return {{start: number, end: number, step: number} | null} range Object containing properties start, end, step
   * @private
   */
function f(t){var e=t.split(":"),n=e.map(function(t){
// use Number and not parseFloat as Number returns NaN on invalid garbage in the string
return Number(t)});if(n.some(function(t){return isNaN(t)}))return null;switch(n.length){case 2:return{start:n[0],end:n[1],step:1};case 3:return{start:n[0],end:n[2],step:n[1]};default:return null}}var p=r(n(2)),h=new t.BigNumber(0),d=new t.BigNumber(1),m=i("range",{
// TODO: simplify signatures when typed-function supports default values and optional arguments
// TODO: a number or boolean should not be converted to string here
string:s,"string, boolean":s,"number, number":function(t,e){return o(a(t,e,1))},"number, number, number":function(t,e,n){return o(a(t,e,n))},"number, number, boolean":function(t,e,n){return o(n?u(t,e,1):a(t,e,1))},"number, number, number, boolean":function(t,e,n,r){return o(r?u(t,e,n):a(t,e,n))},"BigNumber, BigNumber":function(t,e){return o(c(t,e,d))},"BigNumber, BigNumber, BigNumber":function(t,e,n){return o(c(t,e,n))},"BigNumber, BigNumber, boolean":function(t,e,n){return o(n?l(t,e,d):c(t,e,d))},"BigNumber, BigNumber, BigNumber, boolean":function(t,e,n,r){return o(r?l(t,e,n):c(t,e,n))}});// use default template
return m.toTex=void 0,m}e.name="range",e.factory=r},/* 264 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){var a=r(n(2)),u=r(n(34)),c=s("trace",{Array:function(t){
// use dense matrix implementation
return c(a(t))},Matrix:function(t){
// result
var e;
// process storage format
switch(t.storage()){case"dense":e=l(t);break;case"sparse":e=f(t)}return e},any:i}),l=function(t){
// matrix size & data
var e=t._size,n=t._data;
// process dimensions
switch(e.length){case 1:
// vector
if(1==e[0])
// return data[0]
return i(n[0]);throw new RangeError("Matrix must be square (size: "+o(e)+")");case 2:
// two dimensional
var r=e[0];if(r===e[1]){
// loop diagonal
for(var s=0,a=0;a<r;a++)s=u(s,n[a][a]);
// return trace
return s}throw new RangeError("Matrix must be square (size: "+o(e)+")");default:
// multi dimensional
throw new RangeError("Matrix must be two dimensional (size: "+o(e)+")")}},f=function(t){
// matrix arrays
var e=t._values,n=t._index,r=t._ptr,i=t._size,s=i[0],a=i[1];
// matrix must be square
if(s===a){
// calulate sum
var c=0;
// check we have data (avoid looping columns)
if(e.length>0)
// loop columns
for(var l=0;l<a;l++)
// loop k within [k0, k1[
for(var f=r[l],p=r[l+1],h=f;h<p;h++){
// row index
var d=n[h];
// check row
if(d===l){
// accumulate value
c=u(c,e[h]);
// exit loop
break}if(d>l)
// exit loop, no value on the diagonal for column j
break}
// return trace
return c}throw new RangeError("Matrix must be square (size: "+o(i)+")")};return c.toTex={1:"\\mathrm{tr}\\left(${args[0]}\\right)"},c}var i=n(9).clone,o=n(42).format;e.name="trace",e.factory=r},/* 265 */
/***/
function(t,e,n){"use strict";function r(t,e,r,u){/**
   * Calculate factorial for a BigNumber
   * @param {BigNumber} n
   * @returns {BigNumber} Returns the factorial of n
   */
function c(n){if(n.isZero())return new t.BigNumber(1);// number
for(var r=e.precision+(0|Math.log(n.toNumber())),i=t.BigNumber.clone({precision:r}),o=new i(n),s=n.toNumber()-1;s>1;)o=o.times(s),s--;return new t.BigNumber(o.toPrecision(t.BigNumber.precision))}var l=r(n(21)),f=r(n(80)),p=u("gamma",{number:function(t){var e,n;if(o(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var r=t-2,i=t-1;r>1;)i*=r,r--;return 0==i&&(i=1),i}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*p(1-t));if(t>=171.35)return 1/0;if(t>85){// Extended Stirling Approx
var u=t*t,c=u*t,l=c*t,f=l*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*u)-139/(51840*c)-571/(2488320*l)+163879/(209018880*f)+5246819/(75246796800*f*t))}--t,n=a[0];for(var h=1;h<a.length;++h)n+=a[h]/(t+h);return e=t+s+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*n},Complex:function(e){var n,r;if(0==e.im)return p(e.re);e=new t.Complex(e.re-1,e.im),r=new t.Complex(a[0],0);for(var i=1;i<a.length;++i){var o=e.re+i,u=o*o+e.im*e.im;0!=u?(r.re+=a[i]*o/u,r.im+=-a[i]*e.im/u):r.re=a[i]<0?-1/0:1/0}n=new t.Complex(e.re+s+.5,e.im);var c=Math.sqrt(2*Math.PI);e.re+=.5;var h=f(n,e);0==h.im?// sqrt(2*PI)*result
h.re*=c:0==h.re?h.im*=c:(h.re*=c,h.im*=c);var d=Math.exp(-n.re);// exp(-t)
return n.re=d*Math.cos(-n.im),n.im=d*Math.sin(-n.im),l(l(h,n),r)},BigNumber:function(e){if(e.isInteger())return e.isNegative()||e.isZero()?new t.BigNumber(1/0):c(e.minus(1));if(!e.isFinite())return new t.BigNumber(e.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(t){return i(t,p)}});return p.toTex={1:"\\Gamma\\left(${args[0]}\\right)"},p}var i=n(3),o=n(5).isInteger,s=4.7421875,a=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];e.name="gamma",e.factory=r},/* 266 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){var a=r(n(2)),u=r(n(31)),c=r(n(50)),l=r(n(33)),f=r(n(12)),p=r(n(10)),h=n(6),d=s("largerEq",{"boolean, boolean":function(t,e){return t>=e},"number, number":function(t,n){return t>=n||i(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return t.gte(n)||o(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return-1!==t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"string, string":function(t,e){return t>=e},"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse + sparse
n=c(t,e,d);break;default:
// sparse + dense
n=u(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":
// dense + sparse
n=u(t,e,d,!1);break;default:
// dense + dense
n=f(t,e,d)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return d(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return d(a(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return d(t,a(e))},"Matrix, any":function(t,e){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=l(t,e,d,!1);break;default:n=p(t,e,d,!1)}return n},"any, Matrix":function(t,e){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=l(e,t,d,!0);break;default:n=p(e,t,d,!0)}return n},"Array, any":function(t,e){
// use matrix implementation
return p(a(t),e,d,!1).valueOf()},"any, Array":function(t,e){
// use matrix implementation
return p(a(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+h.operators.largerEq+"${args[1]}\\right)"},d}var i=n(5).nearlyEqual,o=n(69);e.name="largerEq",e.factory=r},/* 267 */
/***/
function(t,e,n){"use strict";function r(t,e,r,a){/**
   * Return the largest of two values
   * @param {*} x
   * @param {*} y
   * @returns {*} Returns x when x is largest, or y when y is largest
   * @private
   */
function u(t,e){return l(t,e)?t:e}/**
   * Recursively calculate the maximum value in an n-dimensional array
   * @param {Array} array
   * @return {number} max
   * @private
   */
function c(t){var e=void 0;if(i(t,function(t){(void 0===e||l(t,e))&&(e=t)}),void 0===e)throw new Error("Cannot calculate max of an empty array");return e}var l=r(n(61)),f=a("max",{
// max([a, b, c, d, ...])
"Array | Matrix":c,
// max([a, b, c, d, ...], dim)
"Array | Matrix, number | BigNumber":function(t,e){return o(t,e.valueOf(),u)},
// max(a, b, c, d, ...)
"...":function(t){if(s(t))throw new TypeError("Scalar values expected in function max");return c(t)}});return f.toTex="\\max\\left(${args}\\right)",f}var i=n(70),o=n(131),s=n(130);e.name="max",e.factory=r},/* 268 */
/***/
function(t,e,n){"use strict";function r(t,e,r,u){/**
   * Calculate the mean value in an n-dimensional array, returning a
   * n-1 dimensional array
   * @param {Array} array
   * @param {number} dim
   * @return {number} mean
   * @private
   */
function c(t,e){var n=s(t,e,f),r=Array.isArray(t)?i(t):t.size();return p(n,r[e])}/**
   * Recursively calculate the mean value in an n-dimensional array
   * @param {Array} array
   * @return {number} mean
   * @private
   */
function l(t){var e=0,n=0;if(o(t,function(t){e=f(e,t),n++}),0===n)throw new Error("Cannot calculate mean of an empty array");return p(e,n)}var f=r(n(34)),p=r(n(79)),h=u("mean",{
// mean([a, b, c, d, ...])
"Array | Matrix":l,
// mean([a, b, c, d, ...], dim)
"Array | Matrix, number | BigNumber":c,
// mean(a, b, c, d, ...)
"...":function(t){if(a(t))throw new TypeError("Scalar values expected in function mean");return l(t)}});// use default template
return h.toTex=void 0,h}var i=n(11).size,o=n(70),s=n(131),a=n(130);e.name="mean",e.factory=r},/* 269 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){/**
   * Recursively calculate the median of an n-dimensional array
   * @param {Array} array
   * @return {Number} median
   * @private
   */
function a(t){t=i(t.valueOf());var e=t.length;if(0==e)throw new Error("Cannot calculate median of an empty array");if(e%2==0){for(var n=e/2-1,r=f(t,n+1),o=t[n],s=0;s<n;++s)l(t[s],o)>0&&(o=t[s]);return d(o,r)}
// odd: return the middle value
var a=f(t,(e-1)/2);return h(a)}var u=r(n(40)),c=r(n(38)),l=r(n(99)),f=r(n(167)),p=s("median",{
// median([a, b, c, d, ...])
"Array | Matrix":a,
// median([a, b, c, d, ...], dim)
"Array | Matrix, number | BigNumber":function(t,e){
// TODO: implement median(A, dim)
throw new Error("median(A, dim) is not yet supported")},
// median(a, b, c, d, ...)
"...":function(t){if(o(t))throw new TypeError("Scalar values expected in function median");return a(t)}}),h=s({"number | BigNumber | Unit":function(t){return t}}),d=s({"number | BigNumber | Unit, number | BigNumber | Unit":function(t,e){return c(u(t,e),2)}});// use default template
return p.toTex=void 0,p}var i=n(11).flatten,o=(n(131),n(130));e.name="median",e.factory=r},/* 270 */
/***/
function(t,e,n){"use strict";function r(t,e,r,a){/**
   * Return the smallest of two values
   * @param {*} x
   * @param {*} y
   * @returns {*} Returns x when x is smallest, or y when y is smallest
   * @private
   */
function u(t,e){return l(t,e)?t:e}/**
   * Recursively calculate the minimum value in an n-dimensional array
   * @param {Array} array
   * @return {number} min
   * @private
   */
function c(t){var e=void 0;if(i(t,function(t){(void 0===e||l(t,e))&&(e=t)}),void 0===e)throw new Error("Cannot calculate min of an empty array");return e}var l=r(n(83)),f=a("min",{
// min([a, b, c, d, ...])
"Array | Matrix":c,
// min([a, b, c, d, ...], dim)
"Array | Matrix, number | BigNumber":function(t,e){return o(t,e.valueOf(),u)},
// min(a, b, c, d, ...)
"...":function(t){if(s(t))throw new TypeError("Scalar values expected in function min");return c(t)}});return f.toTex="\\min\\left(${args}\\right)",f}var i=n(70),o=n(131),s=n(130);e.name="min",e.factory=r},/* 271 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){/**
   * Recursively calculate the sum of an n-dimensional array
   * @param {Array} array
   * @return {number} sum
   * @private
   */
function s(n){var r=void 0;if(i(n,function(t){r=void 0===r?t:a(r,t)}),void 0===r)switch(e.number){case"number":return 0;case"BigNumber":return new t.BigNumber(0);case"Fraction":return new t.Fraction(0);default:return 0}return r}var a=r(n(40)),u=o("sum",{"Array | Matrix":function(t){
// sum([a, b, c, d, ...])
return s(t)},"Array | Matrix, number | BigNumber":function(){
// sum([a, b, c, d, ...], dim)
// TODO: implement sum(A, dim)
throw new Error("sum(A, dim) is not yet supported")},"...":function(t){
// sum(a, b, c, d, ...)
return s(t)}});// use default template
return u.toTex=void 0,u}var i=n(70);e.name="sum",e.factory=r},/* 272 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){/**
   * Recursively calculate the variance of an n-dimensional array
   * @param {Array} array
   * @param {string} normalization
   *                        Determines how to normalize the variance:
   *                        - 'unbiased'    The sum of squared errors is divided by (n - 1)
   *                        - 'uncorrected' The sum of squared errors is divided by n
   *                        - 'biased'      The sum of squared errors is divided by (n + 1)
   * @return {number | BigNumber} variance
   * @private
   */
function a(e,n){var r=0,i=0;if(0==e.length)throw new SyntaxError("Function var requires one or more parameters (0 provided)");if(
// calculate the mean and number of elements
o(e,function(t){r=u(r,t),i++}),0===i)throw new Error("Cannot calculate var of an empty array");var s=f(r,i);switch(
// calculate the variance
r=0,o(e,function(t){var e=c(t,s);r=u(r,l(e,e))}),n){case"uncorrected":return f(r,i);case"biased":return f(r,i+1);case"unbiased":var a=r&&!0===r.isBigNumber?new t.BigNumber(0):0;return 1==i?a:f(r,i-1);default:throw new Error('Unknown normalization "'+n+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}var u=r(n(40)),c=r(n(41)),l=r(n(47)),f=r(n(38)),p=s("variance",{
// var([a, b, c, d, ...])
"Array | Matrix":function(t){return a(t,i)},
// var([a, b, c, d, ...], normalization)
"Array | Matrix, string":a,
// var(a, b, c, d, ...)
"...":function(t){return a(t,i)}});return p.toTex="\\mathrm{Var}\\left(${args}\\right)",p}var i="unbiased",o=n(70);e.name="var",e.factory=r},/* 273 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Format a value of any type into a string.
   *
   * Syntax:
   *
   *    math.format(value)
   *    math.format(value, options)
   *    math.format(value, precision)
   *    math.format(value, callback)
   *
   * Where:
   *
   *  - `value: *`
   *    The value to be formatted
   *  - `options: Object`
   *    An object with formatting options. Available options:
   *    - `notation: string`
   *      Number notation. Choose from:
   *      - 'fixed'
   *        Always use regular number notation.
   *        For example '123.40' and '14000000'
   *      - 'exponential'
   *        Always use exponential notation.
   *        For example '1.234e+2' and '1.4e+7'
   *      - 'engineering'
   *        Always use engineering notation.
   *        For example '123.4e+0' and '14.0e+6'
   *      - 'auto' (default)
   *        Regular number notation for numbers having an absolute value between
   *        `lower` and `upper` bounds, and uses exponential notation elsewhere.
   *        Lower bound is included, upper bound is excluded.
   *        For example '123.4' and '1.4e7'.
   *    - `precision: number`
   *      A number between 0 and 16 to round the digits of the number. In case
   *      of notations 'exponential' and 'auto', `precision` defines the total
   *      number of significant digits returned and is undefined by default.
   *      In case of notation 'fixed', `precision` defines the number of
   *      significant digits after the decimal point, and is 0 by default.
   *    - `exponential: Object`
   *      An object containing two parameters, {number} lower and {number} upper,
   *      used by notation 'auto' to determine when to return exponential
   *      notation. Default values are `lower=1e-3` and `upper=1e5`. Only
   *      applicable for notation `auto`.
   *    - `fraction: string`. Available values: 'ratio' (default) or 'decimal'.
   *      For example `format(fraction(1, 3))` will output '1/3' when 'ratio' is
   *      configured, and will output `0.(3)` when 'decimal' is configured.
   * - `callback: function`
   *   A custom formatting function, invoked for all numeric elements in `value`,
   *   for example all elements of a matrix, or the real and imaginary
   *   parts of a complex number. This callback can be used to override the
   *   built-in numeric notation with any type of formatting. Function `callback`
   *   is called with `value` as parameter and must return a string.
   *
   * When `value` is an Object:
   *
   * - When the object contains a property `format` being a function, this function
   *   is invoked as `value.format(options)` and the result is returned.
   * - When the object has its own `toString` method, this method is invoked
   *   and the result is returned.
   * - In other cases the function will loop over all object properties and
   *   return JSON object notation like '{"a": 2, "b": 3}'.
   *
   * When value is a function:
   *
   * - When the function has a property `syntax`, it returns this
   *   syntax description.
   * - In other cases, a string `'function'` is returned.
   *
   * Examples:
   *
   *    math.format(6.4);                                        // returns '6.4'
   *    math.format(1240000);                                    // returns '1.24e6'
   *    math.format(1/3);                                        // returns '0.3333333333333333'
   *    math.format(1/3, 3);                                     // returns '0.333'
   *    math.format(21385, 2);                                   // returns '21000'
   *    math.format(12.071, {notation: 'fixed'});                // returns '12'
   *    math.format(2.3,    {notation: 'fixed', precision: 2});  // returns '2.30'
   *    math.format(52.8,   {notation: 'exponential'});          // returns '5.28e+1'
   *    math.format(12400,  {notation: 'engineering'});         // returns '12.400e+3'
   *
   *    function formatCurrency(value) {
   *      // return currency notation with two digits:
   *      return '$' + value.toFixed(2);
   *
   *      // you could also use math.format inside the callback:
   *      // return '$' + math.format(value, {notation: 'fixed', precision: 2});
   *    }
   *    math.format([2.1, 3, 0.016], formatCurrency};            // returns '[$2.10, $3.00, $0.02]'
   *
   * See also:
   *
   *    print
   *
   * @param {*} value                               Value to be stringified
   * @param {Object | Function | number} [options]  Formatting options
   * @return {string} The formatted value
   */
var o=r("format",{any:i.format,"any, Object | function | number":i.format});// use default template
return o.toTex=void 0,o}var i=n(42);e.name="format",e.factory=r},/* 274 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the hyperbolic arccos of a value,
   * defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.acosh(x)
   *
   * Examples:
   *
   *    math.acosh(1.5);       // returns 0.9624236501192069
   *
   * See also:
   *
   *    cosh, asinh, atanh
   *
   * @param {number | Complex | Unit | Array | Matrix} x  Function input
   * @return {number | Complex | Array | Matrix} Hyperbolic arccosine of x
   */
var s=r("acosh",{number:function(n){return n>=1||e.predictable?o(n):n<=-1?new t.Complex(Math.log(Math.sqrt(n*n-1)-n),Math.PI):new t.Complex(n,0).acosh()},Complex:function(t){return t.acosh()},BigNumber:function(t){return t.acosh()},"Array | Matrix":function(t){return i(t,s)}});return s.toTex={1:"\\cosh^{-1}\\left(${args[0]}\\right)"},s}var i=n(3),o=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)};e.name="acosh",e.factory=r},/* 275 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Test whether a value is zero.
   * The function can check for zero for types `number`, `BigNumber`, `Fraction`,
   * `Complex`, and `Unit`.
   *
   * The function is evaluated element-wise in case of Array or Matrix input.
   *
   * Syntax:
   *
   *     math.isZero(x)
   *
   * Examples:
   *
   *    math.isZero(0);                     // returns true
   *    math.isZero(2);                     // returns false
   *    math.isZero(0.5);                   // returns false
   *    math.isZero(math.bignumber(0));     // returns true
   *    math.isZero(math.fraction(0));      // returns true
   *    math.isZero(math.fraction(1,3));    // returns false
   *    math.isZero(math.complex('2 - 4i'); // returns false
   *    math.isZero(math.complex('0i');     // returns true
   *    math.isZero('0');                   // returns true
   *    math.isZero('2');                   // returns false
   *    math.isZero([2, 0, -3]');           // returns [false, true, false]
   *
   * See also:
   *
   *    isNumeric, isPositive, isNegative, isInteger
   *
   * @param {number | BigNumber | Complex | Fraction | Unit | Array | Matrix} x       Value to be tested
   * @return {boolean}  Returns true when `x` is zero.
   *                    Throws an error in case of an unknown data type.
   */
var o=r("isZero",{number:function(t){return 0===t},BigNumber:function(t){return t.isZero()},Complex:function(t){return 0===t.re&&0===t.im},Fraction:function(t){return 1===t.d&&0===t.n},Unit:function(t){return o(t.value)},"Array | Matrix":function(t){return i(t,o)}});return o}var i=n(3);n(5);e.name="isZero",e.factory=r},/* 276 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Determine the type of a variable.
   *
   * Function `typeof` recognizes the following types of objects:
   *
   * Object                 | Returns       | Example
   * ---------------------- | ------------- | ------------------------------------------
   * null                   | `'null'`      | `math.typeof(null)`
   * number                 | `'number'`    | `math.typeof(3.5)`
   * boolean                | `'boolean'`   | `math.typeof (true)`
   * string                 | `'string'`    | `math.typeof ('hello world')`
   * Array                  | `'Array'`     | `math.typeof ([1, 2, 3])`
   * Date                   | `'Date'`      | `math.typeof (new Date())`
   * Function               | `'Function'`  | `math.typeof (function () {})`
   * Object                 | `'Object'`    | `math.typeof ({a: 2, b: 3})`
   * RegExp                 | `'RegExp'`    | `math.typeof (/a regexp/)`
   * undefined              | `'undefined'` | `math.typeof(undefined)`
   * math.type.BigNumber    | `'BigNumber'` | `math.typeof (math.bignumber('2.3e500'))`
   * math.type.Chain        | `'Chain'`     | `math.typeof (math.chain(2))`
   * math.type.Complex      | `'Complex'`   | `math.typeof (math.complex(2, 3))`
   * math.type.Fraction     | `'Fraction'`  | `math.typeof (math.fraction(1, 3))`
   * math.type.Help         | `'Help'`      | `math.typeof (math.help('sqrt'))`
   * math.type.Index        | `'Index'`     | `math.typeof (math.index(1, 3))`
   * math.type.Matrix       | `'Matrix'`    | `math.typeof (math.matrix([[1,2], [3, 4]]))`
   * math.type.Range        | `'Range'`     | `math.typeof (math.range(0, 10))`
   * math.type.Unit         | `'Unit'`      | `math.typeof (math.unit('45 deg'))`
   *
   * Syntax:
   *
   *    math.typeof(x)
   *
   * Examples:
   *
   *    math.typeof(3.5);                     // returns 'number'
   *    math.typeof(math.complex('2-4i'));    // returns 'Complex'
   *    math.typeof(math.unit('45 deg'));     // returns 'Unit'
   *    math.typeof('hello world');           // returns 'string'
   *
   * @param {*} x     The variable for which to test the type.
   * @return {string} Returns the name of the type. Primitive types are lower case,
   *                  non-primitive types are upper-camel-case.
   *                  For example 'number', 'string', 'Array', 'Date'.
   */
var o=r("_typeof",{any:function(t){
// JavaScript types
var e=i.type(t);
// math.js types
if("Object"===e){if(!0===t.isBigNumber)return"BigNumber";if(!0===t.isComplex)return"Complex";if(!0===t.isFraction)return"Fraction";if(!0===t.isMatrix)return"Matrix";if(!0===t.isUnit)return"Unit";if(!0===t.isIndex)return"Index";if(!0===t.isRange)return"Range";if(!0===t.isChain)return"Chain";if(!0===t.isHelp)return"Help"}return e}});// use default template
return o.toTex=void 0,o}var i=n(133);e.name="typeof",e.factory=r},/* 277 */
/***/
function(t,e,n){function r(t,e,n,r,a){/**
   * Attach type information
   */
/**
   * Get a JSON representation of the complex number
   * @returns {Object} Returns a JSON object structured as:
   *                   `{"mathjs": "Complex", "re": 2, "im": 3}`
   */
/*
   * Return the value of the complex number in polar notation
   * The angle phi will be set in the interval of [-pi, pi].
   * @return {{r: number, phi: number}} Returns and object with properties r and phi.
   */
/**
   * Get a string representation of the complex number,
   * with optional formatting options.
   * @param {Object | number | Function} [options]  Formatting options. See
   *                                                lib/utils/number:format for a
   *                                                description of the available
   *                                                options.
   * @return {string} str
   */
/**
   * Create a complex number from polar coordinates
   *
   * Usage:
   *
   *     Complex.fromPolar(r: number, phi: number) : Complex
   *     Complex.fromPolar({r: number, phi: number}) : Complex
   *
   * @param {*} args...
   * @return {Complex}
   */
/**
   * Create a Complex number from a JSON object
   * @param {Object} json  A JSON Object structured as
   *                       {"mathjs": "Complex", "re": 2, "im": 3}
   *                       All properties are optional, default values
   *                       for `re` and `im` are 0.
   * @return {Complex} Returns a new Complex number
   */
// apply the current epsilon
// listen for changed in the configuration, automatically apply changed epsilon
return i.prototype.type="Complex",i.prototype.isComplex=!0,i.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},i.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},i.prototype.format=function(t){var e=this.im,n=this.re,r=o(this.re,t),i=o(this.im,t),a=s(t)?t:t?t.precision:null;if(null!==a){var u=Math.pow(10,-a);Math.abs(n/e)<u&&(n=0),Math.abs(e/n)<u&&(e=0)}
// purely complex value
// complex value
return 0==e?r:0==n?1==e?"i":-1==e?"-i":i+"i":e>0?1==e?r+" + i":r+" + "+i+"i":-1==e?r+" - i":r+" - "+i.substring(1)+"i"},i.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return i(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(s(n)){if(r&&r.isUnit&&r.hasBase("ANGLE")&&(
// convert unit to a number in radians
r=r.toNumber("rad")),s(r))return new i({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},i.prototype.valueOf=i.prototype.toString,i.fromJSON=function(t){return new i(t)},i.EPSILON=e.epsilon,a.on("config",function(t,e){t.epsilon!==e.epsilon&&(i.EPSILON=t.epsilon)}),i}var i=n(346),o=n(5).format,s=n(5).isNumber;e.name="Complex",e.path="type",e.factory=r,e.math=!0},/* 278 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Create a fraction convert a value to a fraction.
   *
   * Syntax:
   *     math.fraction(numerator, denominator)
   *     math.fraction({n: numerator, d: denominator})
   *     math.fraction(matrix: Array | Matrix)         Turn all matrix entries
   *                                                   into fractions
   *
   * Examples:
   *
   *     math.fraction(1, 3);
   *     math.fraction('2/3');
   *     math.fraction({n: 2, d: 3});
   *     math.fraction([0.2, 0.25, 1.25]);
   *
   * See also:
   *
   *    bignumber, number, string, unit
   *
   * @param {number | string | Fraction | BigNumber | Array | Matrix} [args]
   *            Arguments specifying the numerator and denominator of
   *            the fraction
   * @return {Fraction | Array | Matrix} Returns a fraction
   */
var o=r("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new t.Fraction(e)},string:function(e){return new t.Fraction(e)},"number, number":function(e,n){return new t.Fraction(e,n)},BigNumber:function(e){return new t.Fraction(e.toString())},Fraction:function(t){return t},Object:function(e){return new t.Fraction(e)},"Array | Matrix":function(t){return i(t,o)}});return o}var i=n(3);e.name="fraction",e.factory=r},/* 279 */
/***/
function(t,e,n){"use strict";function r(t,e,r,c){// force loading Matrix (do not use via type.Matrix)
/**
   * Dense Matrix implementation. A regular, dense matrix, supporting multi-dimensional matrices. This is the default matrix type.
   * @class DenseMatrix
   */
function m(t,e){if(!(this instanceof m))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!h(e))throw new Error("Invalid datatype: "+e);if(t&&!0===t.isMatrix)
// check data is a DenseMatrix
"DenseMatrix"===t.type?(
// clone data & size
this._data=u.clone(t._data),this._size=u.clone(t._size),this._datatype=e||t._datatype):(
// build data from existing matrix
this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&l(t.data)&&l(t.size))
// initialize fields from JSON representation
this._data=t.data,this._size=t.size,this._datatype=e||t.datatype;else if(l(t))
// replace nested Matrices with Arrays
this._data=_(t),
// get the dimensions of the array
this._size=a.size(this._data),
// verify the dimensions of the array, TODO: compute size while processing array
a.validate(this._data,this._size),
// data type unknown
this._datatype=e;else{if(t)
// unsupported type
throw new TypeError("Unsupported type of data ("+i.types.type(t)+")");
// nothing provided
this._data=[],this._size=[0],this._datatype=e}}/**
   * Get a submatrix of this matrix
   * @memberof DenseMatrix
   * @param {DenseMatrix} matrix
   * @param {Index} index   Zero-based index
   * @private
   */
function v(t,e){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");if(e.isScalar())
// return a scalar
return t.get(e.min());
// validate dimensions
var n=e.size();if(n.length!=t._size.length)throw new o(n.length,t._size.length);for(var r=e.min(),i=e.max(),s=0,a=t._size.length;s<a;s++)d(r[s],t._size[s]),d(i[s],t._size[s]);
// retrieve submatrix
// TODO: more efficient when creating an empty matrix and setting _data and _size manually
return new m(y(t._data,e,n.length,0),t._datatype)}/**
   * Recursively get a submatrix of a multi dimensional matrix.
   * Index is not checked for correct number or length of dimensions.
   * @memberof DenseMatrix
   * @param {Array} data
   * @param {Index} index
   * @param {number} dims   Total number of dimensions
   * @param {number} dim    Current dimension
   * @return {Array} submatrix
   * @private
   */
function y(t,e,n,r){var i=r==n-1,o=e.dimension(r);return i?o.map(function(e){return t[e]}).valueOf():o.map(function(i){return y(t[i],e,n,r+1)}).valueOf()}/**
   * Replace a submatrix in this matrix
   * Indexes are zero-based.
   * @memberof DenseMatrix
   * @param {DenseMatrix} matrix
   * @param {Index} index
   * @param {DenseMatrix | Array | *} submatrix
   * @param {*} defaultValue          Default value, filled in on new entries when
   *                                  the matrix is resized.
   * @return {DenseMatrix} matrix
   * @private
   */
function g(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");
// get index size and check whether the index contains a single value
var i,s=e.size(),c=e.isScalar();if(n&&!0===n.isMatrix?(i=n.size(),n=n.valueOf()):i=a.size(n),c){
// set a scalar
// check whether submatrix is a scalar
if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{
// set a submatrix
// validate dimensions
if(s.length<t._size.length)throw new o(s.length,t._size.length,"<");if(i.length<s.length){for(
// calculate number of missing outer dimensions
var l=0,f=0;1===s[l]&&1===i[l];)l++;for(;1===s[l];)f++,l++;
// unsqueeze both outer and inner dimensions
n=a.unsqueeze(n,s.length,f,i)}
// check whether the size of the submatrix matches the index size
if(!u.deepEqual(s,i))throw new o(s,i,">");w(t,e.max().map(function(t){return t+1}),r);
// insert the sub matrix
var p=s.length;b(t._data,e,n,p,0)}return t}/**
   * Replace a submatrix of a multi dimensional matrix.
   * @memberof DenseMatrix
   * @param {Array} data
   * @param {Index} index
   * @param {Array} submatrix
   * @param {number} dims   Total number of dimensions
   * @param {number} dim
   * @private
   */
function b(t,e,n,r,i){var o=i==r-1,s=e.dimension(i);o?s.forEach(function(e,r){d(e),t[e]=n[r[0]]}):s.forEach(function(o,s){d(o),b(t[o],e,n[s[0]],r,i+1)})}/**
   * Enlarge the matrix when it is smaller than given size.
   * If the matrix is larger or equal sized, nothing is done.
   * @memberof DenseMatrix
   * @param {DenseMatrix} matrix           The matrix to be resized
   * @param {number[]} size
   * @param {*} defaultValue          Default value, filled in on new entries.
   * @private
   */
function w(t,e,n){
// add dimensions when needed
for(var r=t._size.slice(0),// copy the array
i=!1;r.length<e.length;)r.push(0),i=!0;
// enlarge size when needed
for(var o=0,s=e.length;o<s;o++)e[o]>r[o]&&(r[o]=e[o],i=!0);i&&
// resize only when size is changed
E(t,r,n)}/**
   * Preprocess data, which can be an Array or DenseMatrix with nested Arrays and
   * Matrices. Replaces all nested Matrices with Arrays
   * @memberof DenseMatrix
   * @param {Array} data
   * @return {Array} data
   */
function _(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];l(r)?t[e]=_(r):r&&!0===r.isMatrix&&(t[e]=_(r.valueOf()))}return t}var x=r(n(171));m.prototype=new x,/**
   * Attach type information
   */
m.prototype.type="DenseMatrix",m.prototype.isDenseMatrix=!0,/**
   * Get the storage format used by the matrix.
   *
   * Usage:
   *     var format = matrix.storage()                   // retrieve storage format
   *
   * @memberof DenseMatrix
   * @return {string}           The storage format.
   */
m.prototype.storage=function(){return"dense"},/**
   * Get the datatype of the data stored in the matrix.
   *
   * Usage:
   *     var format = matrix.datatype()                   // retrieve matrix datatype
   *
   * @memberof DenseMatrix
   * @return {string}           The datatype.
   */
m.prototype.datatype=function(){return this._datatype},/**
   * Create a new DenseMatrix
   * @memberof DenseMatrix
   * @param {Array} data
   * @param {string} [datatype]
   */
m.prototype.create=function(t,e){return new m(t,e)},/**
   * Get a subset of the matrix, or replace a subset of the matrix.
   *
   * Usage:
   *     var subset = matrix.subset(index)               // retrieve subset
   *     var value = matrix.subset(index, replacement)   // replace subset
   *
   * @memberof DenseMatrix
   * @param {Index} index
   * @param {Array | DenseMatrix | *} [replacement]
   * @param {*} [defaultValue=0]      Default value, filled in on new entries when
   *                                  the matrix is resized. If not provided,
   *                                  new matrix elements will be filled with zeros.
   */
m.prototype.subset=function(t,e,n){switch(arguments.length){case 1:return v(this,t);
// intentional fall through
case 2:case 3:return g(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},/**
   * Get a single element from the matrix.
   * @memberof DenseMatrix
   * @param {number[]} index   Zero-based index
   * @return {*} value
   */
m.prototype.get=function(t){if(!l(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new o(t.length,this._size.length);
// check index
for(var e=0;e<t.length;e++)d(t[e],this._size[e]);for(var n=this._data,r=0,i=t.length;r<i;r++){var s=t[r];d(s,n.length),n=n[s]}return n},/**
   * Replace a single element in the matrix.
   * @memberof DenseMatrix
   * @param {number[]} index   Zero-based index
   * @param {*} value
   * @param {*} [defaultValue]        Default value, filled in on new entries when
   *                                  the matrix is resized. If not provided,
   *                                  new matrix elements will be left undefined.
   * @return {DenseMatrix} self
   */
m.prototype.set=function(t,e,n){if(!l(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new o(t.length,this._size.length,"<");var r,i,s;w(this,t.map(function(t){return t+1}),n);
// traverse over the dimensions
var a=this._data;for(r=0,i=t.length-1;r<i;r++)s=t[r],d(s,a.length),a=a[s];
// set new value
return s=t[t.length-1],d(s,a.length),a[s]=e,this},/**
   * Resize the matrix to the given size. Returns a copy of the matrix when
   * `copy=true`, otherwise return the matrix itself (resize in place).
   *
   * @memberof DenseMatrix
   * @param {number[]} size           The new size the matrix should have.
   * @param {*} [defaultValue=0]      Default value, filled in on new entries.
   *                                  If not provided, the matrix elements will
   *                                  be filled with zeros.
   * @param {boolean} [copy]          Return a resized copy of the matrix
   *
   * @return {Matrix}                 The resized matrix
   */
m.prototype.resize=function(t,e,n){
// validate arguments
if(!l(t))throw new TypeError("Array expected");
// matrix to resize
var r=n?this.clone():this;
// resize matrix
return E(r,t,e)};var E=function(t,e,n){
// check size
if(0===e.length){
// go deep
for(
// first value in matrix
var r=t._data;l(r);)r=r[0];return r}
// return matrix
// resize matrix
// copy the array
return t._size=e.slice(0),t._data=a.resize(t._data,t._size,n),t};
// exports
/**
   * Reshape the matrix to the given size. Returns a copy of the matrix when
   * `copy=true`, otherwise return the matrix itself (reshape in place).
   *
   * NOTE: This might be better suited to copy by default, instead of modifying
   *       in place. For now, it operates in place to remain consistent with
   *       resize().
   *
   * @memberof DenseMatrix
   * @param {number[]} size           The new size the matrix should have.
   * @param {boolean} [copy]          Return a reshaped copy of the matrix
   *
   * @return {Matrix}                 The reshaped matrix
   */
/**
   * Create a clone of the matrix
   * @memberof DenseMatrix
   * @return {DenseMatrix} clone
   */
/**
   * Retrieve the size of the matrix.
   * @memberof DenseMatrix
   * @returns {number[]} size
   */
/**
   * Create a new matrix with the results of the callback function executed on
   * each entry of the matrix.
   * @memberof DenseMatrix
   * @param {Function} callback   The callback function is invoked with three
   *                              parameters: the value of the element, the index
   *                              of the element, and the Matrix being traversed.
   *
   * @return {DenseMatrix} matrix
   */
/**
   * Execute a callback function on each entry of the matrix.
   * @memberof DenseMatrix
   * @param {Function} callback   The callback function is invoked with three
   *                              parameters: the value of the element, the index
   *                              of the element, and the Matrix being traversed.
   */
/**
   * Create an Array with a copy of the data of the DenseMatrix
   * @memberof DenseMatrix
   * @returns {Array} array
   */
/**
   * Get the primitive value of the DenseMatrix: a multidimensional array
   * @memberof DenseMatrix
   * @returns {Array} array
   */
/**
   * Get a string representation of the matrix, with optional formatting options.
   * @memberof DenseMatrix
   * @param {Object | number | Function} [options]  Formatting options. See
   *                                                lib/utils/number:format for a
   *                                                description of the available
   *                                                options.
   * @returns {string} str
   */
/**
   * Get a string representation of the matrix
   * @memberof DenseMatrix
   * @returns {string} str
   */
/**
   * Get a JSON representation of the matrix
   * @memberof DenseMatrix
   * @returns {Object}
   */
/**
   * Get the kth Matrix diagonal.
   *
   * @memberof DenseMatrix
   * @param {number | BigNumber} [k=0]     The kth diagonal where the vector will retrieved.
   *
   * @returns {Array}                      The array vector with the diagonal values.
   */
/**
   * Create a diagonal matrix.
   *
   * @memberof DenseMatrix
   * @param {Array} size                   The matrix size.
   * @param {number | Array} value          The values for the diagonal.
   * @param {number | BigNumber} [k=0]     The kth diagonal where the vector will be filled in.
   * @param {number} [defaultValue]        The default value for non-diagonal
   *
   * @returns {DenseMatrix}
   */
/**
   * Generate a matrix from a JSON object
   * @memberof DenseMatrix
   * @param {Object} json  An object structured like
   *                       `{"mathjs": "DenseMatrix", data: [], size: []}`,
   *                       where mathjs is optional
   * @returns {DenseMatrix}
   */
/**
   * Swap rows i and j in Matrix.
   *
   * @memberof DenseMatrix
   * @param {number} i       Matrix row index 1
   * @param {number} j       Matrix row index 2
   *
   * @return {Matrix}        The matrix reference
   */
/**
   * Swap rows i and j in Dense Matrix data structure.
   *
   * @param {number} i       Matrix row index 1
   * @param {number} j       Matrix row index 2
   */
// register this type in the base class Matrix
return m.prototype.reshape=function(t,e){var n=e?this.clone():this;return n._data=a.reshape(n._data,t),n._size=t.slice(0),n},m.prototype.clone=function(){return new m({data:u.clone(this._data),size:u.clone(this._size),datatype:this._datatype})},m.prototype.size=function(){return this._size.slice(0)},m.prototype.map=function(t){
// matrix instance
var e=this,n=function(r,i){return l(r)?r.map(function(t,e){return n(t,i.concat(e))}):t(r,i,e)};
// return dense format
return new m({data:n(this._data,[]),size:u.clone(this._size),datatype:this._datatype})},m.prototype.forEach=function(t){
// matrix instance
var e=this,n=function(r,i){l(r)?r.forEach(function(t,e){n(t,i.concat(e))}):t(r,i,e)};n(this._data,[])},m.prototype.toArray=function(){return u.clone(this._data)},m.prototype.valueOf=function(){return this._data},m.prototype.format=function(t){return s.format(this._data,t)},m.prototype.toString=function(){return s.format(this._data)},m.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},m.prototype.diagonal=function(t){
// validate k if any
if(t){
// is must be an integer
if(
// convert BigNumber to a number
!0===t.isBigNumber&&(t=t.toNumber()),!f(t)||!p(t))throw new TypeError("The parameter k must be an integer number")}else
// default value
t=0;
// loop rows
for(var e=t>0?t:0,n=t<0?-t:0,r=this._size[0],i=this._size[1],o=Math.min(r-n,i-e),s=[],a=0;a<o;a++)s[a]=this._data[a+n][a+e];
// create DenseMatrix
return new m({data:s,size:[o],datatype:this._datatype})},m.diagonal=function(e,n,r,i,o){if(!l(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");
// validate k if any
if(
// map size & validate
e=e.map(function(t){
// validate arguments
if(
// check it is a big number
t&&!0===t.isBigNumber&&(
// convert it
t=t.toNumber()),!f(t)||!p(t)||t<1)throw new Error("Size values must be positive integers");return t}),r){
// is must be an integer
if(
// convert BigNumber to a number
r&&!0===r.isBigNumber&&(r=r.toNumber()),!f(r)||!p(r))throw new TypeError("The parameter k must be an integer number")}else
// default value
r=0;i&&h(o)&&(
// convert defaultValue to the same datatype
i=c.convert(i,o));var s,u=r>0?r:0,d=r<0?-r:0,v=e[0],y=e[1],g=Math.min(v-d,y-u);
// check value
if(l(n)){
// validate array
if(n.length!==g)
// number of values in array must be n
throw new Error("Invalid value array length");
// define function
s=function(t){
// return value @ i
return n[t]}}else if(n&&!0===n.isMatrix){
// matrix size
var b=n.size();
// validate matrix
if(1!==b.length||b[0]!==g)
// number of values in array must be n
throw new Error("Invalid matrix length");
// define function
s=function(t){
// return value @ i
return n.get([t])}}else
// define function
s=function(){
// return value
return n};
// discover default value if needed
i||(
// check first value in array
i=s(0)&&!0===s(0).isBigNumber?new t.BigNumber(0):0);
// empty array
var w=[];
// check we need to resize array
if(e.length>0){
// resize array
w=a.resize(w,e,i);
// fill diagonal
for(var _=0;_<g;_++)w[_+d][_+u]=s(_)}
// create DenseMatrix
return new m({data:w,size:[v,y]})},m.fromJSON=function(t){return new m(t)},m.prototype.swapRows=function(t,e){
// check index
if(!(f(t)&&p(t)&&f(e)&&p(e)))throw new Error("Row index must be positive integers");
// check dimensions
if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");
// return current instance
// validate index
// swap rows
return d(t,this._size[0]),d(e,this._size[0]),m._swapRows(t,e,this._data),this},m._swapRows=function(t,e,n){
// swap values i <-> j
var r=n[t];n[t]=n[e],n[e]=r},t.Matrix._storage.dense=m,t.Matrix._storage.default=m,m}var i=n(51),o=n(18),s=i.string,a=i.array,u=i.object,c=i.number,l=Array.isArray,f=c.isNumber,p=c.isInteger,h=s.isString,d=a.validateIndex;e.name="DenseMatrix",e.path="type",e.factory=r,e.lazy=!1},/* 280 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Create a range. A range has a start, step, and end, and contains functions
   * to iterate over the range.
   *
   * A range can be constructed as:
   *     var range = new Range(start, end);
   *     var range = new Range(start, end, step);
   *
   * To get the result of the range:
   *     range.forEach(function (x) {
   *         console.log(x);
   *     });
   *     range.map(function (x) {
   *         return math.sin(x);
   *     });
   *     range.toArray();
   *
   * Example usage:
   *     var c = new Range(2, 6);         // 2:1:5
   *     c.toArray();                     // [2, 3, 4, 5]
   *     var d = new Range(2, -3, -1);    // 2:-1:-2
   *     d.toArray();                     // [2, 1, 0, -1, -2]
   *
   * @class Range
   * @constructor Range
   * @param {number} start  included lower bound
   * @param {number} end    excluded upper bound
   * @param {number} [step] step size, default value is 1
   */
function o(t,e,n){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(null!=t)if(!0===t.isBigNumber)t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(null!=e)if(!0===e.isBigNumber)e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter end must be a number");if(null!=n)if(!0===n.isBigNumber)n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=null!=t?parseFloat(t):0,this.end=null!=e?parseFloat(e):0,this.step=null!=n?parseFloat(n):1}/**
   * Attach type information
   */
/**
   * Parse a string into a range,
   * The string contains the start, optional step, and end, separated by a colon.
   * If the string does not contain a valid range, null is returned.
   * For example str='0:2:11'.
   * @memberof Range
   * @param {string} str
   * @return {Range | null} range
   */
/**
   * Create a clone of the range
   * @return {Range} clone
   */
/**
   * Retrieve the size of the range.
   * Returns an array containing one number, the number of elements in the range.
   * @memberof Range
   * @returns {number[]} size
   */
/**
   * Calculate the minimum value in the range
   * @memberof Range
   * @return {number | undefined} min
   */
/**
   * Calculate the maximum value in the range
   * @memberof Range
   * @return {number | undefined} max
   */
/**
   * Execute a callback function for each value in the range.
   * @memberof Range
   * @param {function} callback   The callback method is invoked with three
   *                              parameters: the value of the element, the index
   *                              of the element, and the Range being traversed.
   */
/**
   * Execute a callback function for each value in the Range, and return the
   * results as an array
   * @memberof Range
   * @param {function} callback   The callback method is invoked with three
   *                              parameters: the value of the element, the index
   *                              of the element, and the Matrix being traversed.
   * @returns {Array} array
   */
/**
   * Create an Array with a copy of the Ranges data
   * @memberof Range
   * @returns {Array} array
   */
/**
   * Get the primitive value of the Range, a one dimensional array
   * @memberof Range
   * @returns {Array} array
   */
/**
   * Get a string representation of the range, with optional formatting options.
   * Output is formatted as 'start:step:end', for example '2:6' or '0:0.2:11'
   * @memberof Range
   * @param {Object | number | function} [options]  Formatting options. See
   *                                                lib/utils/number:format for a
   *                                                description of the available
   *                                                options.
   * @returns {string} str
   */
/**
   * Get a string representation of the range.
   * @memberof Range
   * @returns {string}
   */
/**
   * Get a JSON representation of the range
   * @memberof Range
   * @returns {Object} Returns a JSON object structured as:
   *                   `{"mathjs": "Range", "start": 2, "end": 4, "step": 1}`
   */
/**
   * Instantiate a Range from a JSON object
   * @memberof Range
   * @param {Object} json A JSON object structured as:
   *                      `{"mathjs": "Range", "start": 2, "end": 4, "step": 1}`
   * @return {Range}
   */
return o.prototype.type="Range",o.prototype.isRange=!0,o.parse=function(t){if("string"!=typeof t)return null;var e=t.split(":"),n=e.map(function(t){return parseFloat(t)});if(n.some(function(t){return isNaN(t)}))return null;switch(n.length){case 2:return new o(n[0],n[1]);case 3:return new o(n[0],n[2],n[1]);default:return null}},o.prototype.clone=function(){return new o(this.start,this.end,this.step)},o.prototype.size=function(){var t=0,e=this.start,n=this.step,r=this.end,o=r-e;return i.sign(n)==i.sign(o)?t=Math.ceil(o/n):0==o&&(t=0),isNaN(t)&&(t=0),[t]},o.prototype.min=function(){var t=this.size()[0];return t>0?this.step>0?this.start:this.start+(t-1)*this.step:void 0},o.prototype.max=function(){var t=this.size()[0];return t>0?this.step>0?this.start+(t-1)*this.step:this.start:void 0},o.prototype.forEach=function(t){var e=this.start,n=this.step,r=this.end,i=0;if(n>0)for(;e<r;)t(e,[i],this),e+=n,i++;else if(n<0)for(;e>r;)t(e,[i],this),e+=n,i++},o.prototype.map=function(t){var e=[];return this.forEach(function(n,r,i){e[r[0]]=t(n,r,i)}),e},o.prototype.toArray=function(){var t=[];return this.forEach(function(e,n){t[n[0]]=e}),t},o.prototype.valueOf=function(){
// TODO: implement a caching mechanism for range.valueOf()
return this.toArray()},o.prototype.format=function(t){var e=i.format(this.start,t);return 1!=this.step&&(e+=":"+i.format(this.step,t)),e+=":"+i.format(this.end,t)},o.prototype.toString=function(){return this.format()},o.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},o.fromJSON=function(t){return new o(t.start,t.end,t.step)},o}var i=n(5);e.name="Range",e.path="type",e.factory=r},/* 281 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){var s=r(n(19)),a=t.SparseMatrix;return function(t,e,n){
// sparse matrix arrays
var r=t._values,u=t._index,c=t._ptr,l=t._size,f=t._datatype,p=e._values,h=e._index,d=e._ptr,m=e._size,v=e._datatype;
// validate dimensions
if(l.length!==m.length)throw new i(l.length,m.length);
// check rows & columns
if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");
// rows & columns
var y,g=l[0],b=l[1],w=s,_=0,x=n;
// process data types
"string"==typeof f&&f===v&&(
// datatype
y=f,
// find signature that matches (dt, dt)
w=o.find(s,[y,y]),
// convert 0 to the same datatype
_=o.convert(0,y),
// callback
x=o.find(n,[y,y]));
// result arrays
var E,C,S,N,M,O=r&&p?[]:void 0,T=[],A=[],P=new a({values:O,index:T,ptr:A,size:[g,b],datatype:y}),k=O?[]:void 0,I=[];
// loop columns
for(C=0;C<b;C++){
// update cptr
A[C]=T.length;
// column mark
var R=C+1;
// check we need to process values
if(k)
// loop B(:,j)
for(N=d[C],M=d[C+1],S=N;S<M;S++)
// row
E=h[S],
// update workspace
I[E]=R,k[E]=p[S];
// loop A(:,j)
for(N=c[C],M=c[C+1],S=N;S<M;S++)
// check we need to process values
if(
// row
E=u[S],k){
// b value @ i,j
var j=I[E]===R?k[E]:_,D=x(r[S],j);
// check zero value
w(D,_)||(
// push index
T.push(E),
// push value
O.push(D))}else
// push index
T.push(E)}
// return sparse matrix
// update cptr
return A[b]=T.length,P}}var i=n(18);e.name="algorithm09",e.factory=r},/* 282 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * A ResultSet contains a list or results
   * @class ResultSet
   * @param {Array} entries
   * @constructor ResultSet
   */
function i(t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}/**
   * Attach type information
   */
/**
   * Returns the array with results hold by this ResultSet
   * @memberof ResultSet
   * @returns {Array} entries
   */
/**
   * Returns the stringified results of the ResultSet
   * @memberof ResultSet
   * @returns {string} string
   */
/**
   * Get a JSON representation of the ResultSet
   * @memberof ResultSet
   * @returns {Object} Returns a JSON object structured as:
   *                   `{"mathjs": "ResultSet", "entries": [...]}`
   */
/**
   * Instantiate a ResultSet from a JSON object
   * @memberof ResultSet
   * @param {Object} json  A JSON object structured as:
   *                       `{"mathjs": "ResultSet", "entries": [...]}`
   * @return {ResultSet}
   */
return i.prototype.type="ResultSet",i.prototype.isResultSet=!0,i.prototype.valueOf=function(){return this.entries},i.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},i.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},i.fromJSON=function(t){return new i(t.entries)},i}e.name="ResultSet",e.path="type",e.factory=r},/* 283 */
/***/
function(t,e,n){"use strict";function r(t,e,r,a,u){/**
   * A unit can be constructed in the following ways:
   *     var a = new Unit(value, name);
   *     var b = new Unit(null, name);
   *     var c = Unit.parse(str);
   *
   * Example usage:
   *     var a = new Unit(5, 'cm');               // 50 mm
   *     var b = Unit.parse('23 kg');             // 23 kg
   *     var c = math.in(a, new Unit(null, 'm');  // 0.05 m
   *     var d = new Unit(9.81, "m/s^2");         // 9.81 m/s^2
   *
   * @class Unit
   * @constructor Unit
   * @param {number | BigNumber | Fraction | Complex | boolean} [value]  A value like 5.2
   * @param {string} [name]   A unit name like "cm" or "inch", or a derived unit of the form: "u1[^ex1] [u2[^ex2] ...] [/ u3[^ex3] [u4[^ex4]]]", such as "kg m^2/s^2", where each unit appearing after the forward slash is taken to be in the denominator. "kg m^2 s^-2" is a synonym and is also acceptable. Any of the units can include a prefix.
   */
function c(t,e){if(!(this instanceof c))throw new Error("Constructor must be called with the new operator");if(void 0!==t&&!T(t)&&!t.isComplex)throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!=e&&("string"!=typeof e||""==e))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!=e){var n=c.parse(e);this.units=n.units,this.dimensions=n.dimensions}else{this.units=[{unit:q,prefix:F.NONE,// link to a list with supported prefixes
power:0}],this.dimensions=[];for(var r=0;r<V.length;r++)this.dimensions[r]=0}this.value=void 0!=t?this._normalize(t):null,this.fixPrefix=!1,// if true, function format will not search for the
// best prefix but leave it as initially provided.
// fixPrefix is set true by the method Unit.to
// The justification behind this is that if the constructor is explicitly called,
// the caller wishes the units to be returned exactly as he supplied.
this.isUnitListSimplified=!0}function l(){for(;" "==D||"\t"==D;)h()}function f(t){return t>="0"&&t<="9"||"."==t}function p(t){return t>="0"&&t<="9"}function h(){j++,D=R.charAt(j)}function d(t){j=t,D=R.charAt(j)}function m(){var t,e="";if(t=j,"+"==D?h():"-"==D&&(e+=D,h()),!f(D))
// a + or - must be followed by a digit
return d(t),null;
// get number, can have a single dot
if("."==D){if(e+=D,h(),!p(D))
// this is no legal number, it is just a dot
return d(t),null}else{for(;p(D);)e+=D,h();"."==D&&(e+=D,h())}for(;p(D);)e+=D,h();
// check for exponential notation like "2.3e-4" or "1.23e50"
if("E"==D||"e"==D){
// The grammar branches here. This could either be part of an exponent or the start of a unit that begins with the letter e, such as "4exabytes"
var n="",r=j;
// Scientific notation MUST be followed by an exponent (otherwise we assume it is not scientific notation)
if(n+=D,h(),"+"!=D&&"-"!=D||(n+=D,h()),!p(D))
// The e or E must belong to something else, so return the number without the e or E.
return d(r),e;for(
// We can now safely say that this is scientific notation.
e+=n;p(D);)e+=D,h()}return e}function v(){for(var t="",e=R.charCodeAt(j);e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122;)t+=D,h(),e=R.charCodeAt(j);
// Must begin with [a-zA-Z]
return e=t.charCodeAt(0),e>=65&&e<=90||e>=97&&e<=122?t||null:null}function y(t){return D===t?(h(),t):null}/**
   * Find a unit from a string
   * @memberof Unit
   * @param {string} str              A string like 'cm' or 'inch'
   * @returns {Object | null} result  When found, an object with fields unit and
   *                                  prefix is returned. Else, null is returned.
   * @private
   */
function g(t){
// First, match units names exactly. For example, a user could define 'mm' as 10^-4 m, which is silly, but then we would want 'mm' to match the user-defined unit.
if(H.hasOwnProperty(t)){var e=H[t],n=e.prefixes[""];return{unit:e,prefix:n}}for(var r in H)if(H.hasOwnProperty(r)&&i(t,r)){var e=H[r],o=t.length-r.length,s=t.substring(0,o),n=e.prefixes[s];if(void 0!==n)
// store unit, prefix, and value
return{unit:e,prefix:n}}return null}/**
   * Calculate the values for the angle units.
   * Value is calculated as number or BigNumber depending on the configuration
   * @param {{number: 'number' | 'BigNumber'}} config
   */
function b(e){if("BigNumber"===e.number){var n=s.pi(t.BigNumber);H.rad.value=new t.BigNumber(1),H.deg.value=n.div(180),// 2 * pi / 360;
H.grad.value=n.div(200),// 2 * pi / 400;
H.cycle.value=n.times(2),// 2 * pi
H.arcsec.value=n.div(648e3),// 2 * pi / 360 / 3600
H.arcmin.value=n.div(10800)}else// number
H.rad.value=1,H.deg.value=Math.PI/180,// 2 * pi / 360;
H.grad.value=Math.PI/200,// 2 * pi / 400;
H.cycle.value=2*Math.PI,// 2 * pi
H.arcsec.value=Math.PI/648e3,// 2 * pi / 360 / 3600;
H.arcmin.value=Math.PI/10800}function w(t){for(var e=0;e<t.length;e++){var n=t.charAt(e),r=function(t){return/^[a-zA-Z]$/.test(t)};if(0===e&&!r(n))throw new Error('Invalid unit name (must begin with alpha character): "'+t+'"');if(e>0&&!r(n)&&!function(t){return t>="0"&&t<="9"}(n))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+t+'"')}}var _=r(n(40)),x=r(n(41)),E=r(n(47)),C=r(n(38)),S=r(n(80)),N=r(n(60)),M=r(n(254)),O=r(n(169)),T=r(n(170)),A=r(n(273)),P=r(n(276)),k=r(n(174)),I=r(n(277));/**
   * Attach type information
   */
c.prototype.type="Unit",c.prototype.isUnit=!0;
// private variables and functions for the Unit parser
var R,j,D;/**
   * Parse a string into a unit. The value of the unit is parsed as number,
   * BigNumber, or Fraction depending on the math.js config setting `number`.
   *
   * Throws an exception if the provided string does not contain a valid unit or
   * cannot be parsed.
   * @memberof Unit
   * @param {string} str        A string like "5.2 inch", "4e2 cm/s^2"
   * @return {Unit} unit
   */
c.parse=function(n,r){if(r=r||{},R=n,j=-1,D="","string"!=typeof R)throw new TypeError("Invalid argument in Unit.parse, string expected");var i=new c;i.units=[],
// A unit should follow this pattern:
// [number]unit[^number] [unit[^number]]...[/unit[^number] [unit[^number]]]
// Rules:
// number is any floating point number.
// unit is any alphanumeric string beginning with an alpha. Units with names like e3 should be avoided because they look like the exponent of a floating point number!
// The string may optionally begin with a number.
// Each unit may optionally be followed by ^number.
// Whitespace or a forward slash is recommended between consecutive units, although the following technically is parseable:
//   2m^2kg/s^2
// it is not good form. If a unit starts with e, then it could be confused as a floating point number:
//   4erg
h(),l();
// Optional number at the start of the string
var o=m(),s=null;o&&(s="BigNumber"===e.number?new t.BigNumber(o):"Fraction"===e.number?new t.Fraction(o):parseFloat(o)),l();for(// Whitespace is not required here
// Next, we read any number of unit[^number]
var a=1,u=!1,f=[],p=1;;){
// Check for and consume opening parentheses, pushing powerMultiplierCurrent to the stack
// A '(' will always appear directly before a unit.
for(l();"("===D;)f.push(a),p*=a,a=1,h(),l();
// Is there something here?
if(!D)
// End of input.
break;var d=D,b=v();if(null==b)throw new SyntaxError('Unexpected "'+d+'" in "'+R+'" at index '+j.toString());
// Verify the unit exists and get the prefix (if any)
var w=g(b);if(null==w)
// Unit not found.
throw new SyntaxError('Unit "'+b+'" not found.');var _=a*p;if(
// Is there a "^ number"?
l(),y("^")){l();var x=m();if(null==x)
// No valid number found for the power!
throw new SyntaxError('In "'+n+'", "^" must be followed by a floating-point number');_*=x}
// Add the unit to the list
i.units.push({unit:w.unit,prefix:w.prefix,power:_});for(var E=0;E<V.length;E++)i.dimensions[E]+=(w.unit.dimensions[E]||0)*_;for(
// Check for and consume closing parentheses, popping from the stack.
// A ')' will always follow a unit.
l();")"===D;){if(0===f.length)throw new SyntaxError('Unmatched ")" in "'+R+'" at index '+j.toString());p/=f.pop(),h(),l()}
// Replace the unit into the auto unit system
if(
// "*" and "/" should mean we are expecting something to come next.
// Is there a forward slash? If so, negate powerMultiplierCurrent. The next unit or paren group is in the denominator.
u=!1,y("*")?(
// explicit multiplication
a=1,u=!0):y("/")?(
// division
a=-1,u=!0):
// implicit multiplication
a=1,w.unit.base){var C=w.unit.base.key;W.auto[C]={unit:w.unit,prefix:w.prefix}}}if(
// Has the string been entirely consumed?
l(),D)throw new SyntaxError('Could not parse: "'+n+'"');
// Is there a trailing slash?
if(u)throw new SyntaxError('Trailing characters: "'+n+'"');
// Is the parentheses stack empty?
if(0!==f.length)throw new SyntaxError('Unmatched "(" in "'+R+'"');
// Are there any units at all?
if(0==i.units.length&&!r.allowNoUnits)throw new SyntaxError('"'+n+'" contains no units');return i.value=void 0!=s?i._normalize(s):null,i},/**
   * create a copy of this unit
   * @memberof Unit
   * @return {Unit} Returns a cloned version of the unit
   */
c.prototype.clone=function(){var t=new c;t.fixPrefix=this.fixPrefix,t.isUnitListSimplified=this.isUnitListSimplified,t.value=o(this.value),t.dimensions=this.dimensions.slice(0),t.units=[];for(var e=0;e<this.units.length;e++){t.units[e]={};for(var n in this.units[e])this.units[e].hasOwnProperty(n)&&(t.units[e][n]=this.units[e][n])}return t},/**
   * Return whether the unit is derived (such as m/s, or cm^2, but not N)
   * @memberof Unit
   * @return {boolean} True if the unit is derived
   */
c.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},/**
   * Normalize a value, based on its currently set unit(s)
   * @memberof Unit
   * @param {number | BigNumber | Fraction | boolean} value
   * @return {number | BigNumber | Fraction | boolean} normalized value
   * @private
   */
c.prototype._normalize=function(t){var e,n,r,i,o;if(null==t||0===this.units.length)return t;if(this._isDerived()){
// This is a derived unit, so do not apply offsets.
// For example, with J kg^-1 degC^-1 you would NOT want to apply the offset.
var s=t;o=c._getNumberConverter(P(t));// convert to Fraction or BigNumber if needed
for(var a=0;a<this.units.length;a++)e=o(this.units[a].unit.value),i=o(this.units[a].prefix.value),r=o(this.units[a].power),s=E(s,S(E(e,i),r));return s}
// This is a single unit of power 1, like kg or degC
// convert to Fraction or BigNumber if needed
return o=c._getNumberConverter(P(t)),e=o(this.units[0].unit.value),n=o(this.units[0].unit.offset),i=o(this.units[0].prefix.value),E(_(t,n),E(e,i))},/**
   * Denormalize a value, based on its currently set unit(s)
   * @memberof Unit
   * @param {number} value
   * @param {number} [prefixValue]    Optional prefix value to be used (ignored if this is a derived unit)
   * @return {number} denormalized value
   * @private
   */
c.prototype._denormalize=function(t,e){var n,r,i,o,s;if(null==t||0===this.units.length)return t;if(this._isDerived()){
// This is a derived unit, so do not apply offsets.
// For example, with J kg^-1 degC^-1 you would NOT want to apply the offset.
// Also, prefixValue is ignored--but we will still use the prefix value stored in each unit, since kg is usually preferable to g unless the user decides otherwise.
var a=t;s=c._getNumberConverter(P(t));// convert to Fraction or BigNumber if needed
for(var u=0;u<this.units.length;u++)n=s(this.units[u].unit.value),o=s(this.units[u].prefix.value),i=s(this.units[u].power),a=C(a,S(E(n,o),i));return a}
// This is a single unit of power 1, like kg or degC
// convert to Fraction or BigNumber if needed
return s=c._getNumberConverter(P(t)),n=s(this.units[0].unit.value),o=s(this.units[0].prefix.value),r=s(this.units[0].unit.offset),void 0==e?x(C(C(t,n),o),r):x(C(C(t,n),e),r)},/**
   * Test if the given expression is a unit.
   * The unit can have a prefix but cannot have a value.
   * @memberof Unit
   * @param {string} name   A string to be tested whether it is a value less unit.
   *                        The unit can have prefix, like "cm"
   * @return {boolean}      true if the given string is a unit
   */
c.isValuelessUnit=function(t){return null!=g(t)},/**
   * check if this unit has given base unit
   * If this unit is a derived unit, this will ALWAYS return false, since by definition base units are not derived.
   * @memberof Unit
   * @param {BASE_UNITS | string | undefined} base
   */
c.prototype.hasBase=function(t){if("string"==typeof t&&(t=B[t]),!t)return!1;
// All dimensions must be the same
for(var e=0;e<V.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return!1;return!0},/**
   * Check if this unit has a base or bases equal to another base or bases
   * For derived units, the exponent on each base also must match
   * @memberof Unit
   * @param {Unit} other
   * @return {boolean} true if equal base
   */
c.prototype.equalBase=function(t){
// All dimensions must be the same
for(var e=0;e<V.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return!1;return!0},/**
   * Check if this unit equals another unit
   * @memberof Unit
   * @param {Unit} other
   * @return {boolean} true if both units are equal
   */
c.prototype.equals=function(t){return this.equalBase(t)&&O(this.value,t.value)},/**
   * Multiply this unit with another one
   * @memberof Unit
   * @param {Unit} other
   * @return {Unit} product of this unit and the other unit
   */
c.prototype.multiply=function(t){for(var e=this.clone(),n=0;n<V.length;n++)
// Dimensions arrays may be of different lengths. Default to 0.
e.dimensions[n]=(this.dimensions[n]||0)+(t.dimensions[n]||0);
// Append other's units list onto res (simplify later in Unit.prototype.format)
for(var n=0;n<t.units.length;n++){
// Make a deep copy
var r={};for(var i in t.units[n])r[i]=t.units[n][i];e.units.push(r)}
// If at least one operand has a value, then the result should also have a value
if(null!=this.value||null!=t.value){var o=null==this.value?this._normalize(1):this.value,s=null==t.value?t._normalize(1):t.value;e.value=E(o,s)}else e.value=null;
// Trigger simplification of the unit list at some future time
return e.isUnitListSimplified=!1,L(e)},/**
   * Divide this unit by another one
   * @memberof Unit
   * @param {Unit} other
   * @return {Unit} result of dividing this unit by the other unit
   */
c.prototype.divide=function(t){for(var e=this.clone(),n=0;n<V.length;n++)
// Dimensions arrays may be of different lengths. Default to 0.
e.dimensions[n]=(this.dimensions[n]||0)-(t.dimensions[n]||0);
// Invert and append other's units list onto res (simplify later in Unit.prototype.format)
for(var n=0;n<t.units.length;n++){
// Make a deep copy
var r={};for(var i in t.units[n])r[i]=t.units[n][i];r.power=-r.power,e.units.push(r)}
// If at least one operand has a value, the result should have a value
if(null!=this.value||null!=t.value){var o=null==this.value?this._normalize(1):this.value,s=null==t.value?t._normalize(1):t.value;e.value=C(o,s)}else e.value=null;
// Trigger simplification of the unit list at some future time
return e.isUnitListSimplified=!1,L(e)},/**
   * Calculate the power of a unit
   * @memberof Unit
   * @param {number | Fraction | BigNumber} p
   * @returns {Unit}      The result: this^p
   */
c.prototype.pow=function(t){for(var e=this.clone(),n=0;n<V.length;n++)
// Dimensions arrays may be of different lengths. Default to 0.
e.dimensions[n]=(this.dimensions[n]||0)*t;
// Adjust the power of each unit in the list
for(var n=0;n<e.units.length;n++)e.units[n].power*=t;
// Trigger lazy evaluation of the unit list
return null!=e.value?e.value=S(e.value,t):e.value=null,e.isUnitListSimplified=!1,L(e)};/**
   * Return the numeric value of this unit if it is dimensionless, has a value, and config.predictable == false; or the original unit otherwise
   * @param {Unit} unit
   * @returns {number | Fraction | BigNumber | Unit}  The numeric value of the unit if conditions are met, or the original unit otherwise
   */
var L=function(t){return t.equalBase(B.NONE)&&null!==t.value&&!e.predictable?t.value:t};/**
   * Calculate the absolute value of a unit
   * @memberof Unit
   * @param {number | Fraction | BigNumber} x
   * @returns {Unit}      The result: |x|, absolute value of x
   */
c.prototype.abs=function(){
// This gives correct, but unexpected, results for units with an offset.
// For example, abs(-283.15 degC) = -263.15 degC !!!
var t=this.clone();t.value=N(t.value);for(var e in t.units)"VA"!==t.units[e].unit.name&&"VAR"!==t.units[e].unit.name||(t.units[e].unit=H.W);return t},/**
   * Convert the unit to a specific unit name.
   * @memberof Unit
   * @param {string | Unit} valuelessUnit   A unit without value. Can have prefix, like "cm"
   * @returns {Unit} Returns a clone of the unit with a fixed prefix and unit.
   */
c.prototype.to=function(t){var e,n=null==this.value?this._normalize(1):this.value;if("string"==typeof t){if(
//other = new Unit(null, valuelessUnit);
e=c.parse(t),!this.equalBase(e))throw new Error("Units do not match");if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return e.value=o(n),e.fixPrefix=!0,e.isUnitListSimplified=!0,e}if(t&&t.isUnit){if(!this.equalBase(t))throw new Error("Units do not match");if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return e=t.clone(),e.value=o(n),e.fixPrefix=!0,e.isUnitListSimplified=!0,e}throw new Error("String or Unit expected as parameter")},/**
   * Return the value of the unit when represented with given valueless unit
   * @memberof Unit
   * @param {string | Unit} valuelessUnit    For example 'cm' or 'inch'
   * @return {number} Returns the unit value as number.
   */
// TODO: deprecate Unit.toNumber? It's always better to use toNumeric
c.prototype.toNumber=function(t){return k(this.toNumeric(t))},/**
   * Return the value of the unit in the original numeric type
   * @memberof Unit
   * @param {string | Unit} valuelessUnit    For example 'cm' or 'inch'
   * @return {number | BigNumber | Fraction} Returns the unit value
   */
c.prototype.toNumeric=function(t){var e=this;
// Allow getting the numeric value without converting to a different unit
return t&&(e=this.to(t)),e._isDerived()?e._denormalize(e.value):e._denormalize(e.value,e.units[0].prefix.value)},/**
   * Get a string representation of the unit.
   * @memberof Unit
   * @return {string}
   */
c.prototype.toString=function(){return this.format()},/**
   * Get a JSON representation of the unit
   * @memberof Unit
   * @returns {Object} Returns a JSON object structured as:
   *                   `{"mathjs": "Unit", "value": 2, "unit": "cm", "fixPrefix": false}`
   */
c.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},/**
   * Instantiate a Unit from a JSON object
   * @memberof Unit
   * @param {Object} json  A JSON object structured as:
   *                       `{"mathjs": "Unit", "value": 2, "unit": "cm", "fixPrefix": false}`
   * @return {Unit}
   */
c.fromJSON=function(t){var e=new c(t.value,t.unit);return e.fixPrefix=t.fixPrefix||!1,e},/**
   * Returns the string representation of the unit.
   * @memberof Unit
   * @return {string}
   */
c.prototype.valueOf=c.prototype.toString,/**
   * Attempt to simplify the list of units for this unit according to the dimensions array and the current unit system. After the call, this Unit will contain a list of the "best" units for formatting.
   * Intended to be evaluated lazily. You must set isUnitListSimplified = false before the call! After the call, isUnitListSimplified will be set to true.
   */
c.prototype.simplifyUnitListLazy=function(){if(!this.isUnitListSimplified&&null!=this.value){var t,e=[];for(var n in $)if(this.hasBase(B[n])){t=n;break}if("NONE"===t)this.units=[];else{var r;t&&$.hasOwnProperty(t)&&(r=$[t]);if(r)this.units=[{unit:r.unit,prefix:r.prefix,power:1}];else{for(var i=!1,o=0;o<V.length;o++){var s=V[o];Math.abs(this.dimensions[o]||0)>1e-12&&($.hasOwnProperty(s)?e.push({unit:$[s].unit,prefix:$[s].prefix,power:this.dimensions[o]||0}):i=!0)}
// Is the proposed unit list "simpler" than the existing one?
e.length<this.units.length&&!i&&(
// Replace this unit list with the proposed list
this.units=e)}}this.isUnitListSimplified=!0}},c.prototype.toSI=function(){for(var t=this.clone(),e=[],n=0;n<V.length;n++){var r=V[n];if(Math.abs(t.dimensions[n]||0)>1e-12){if(!W.si.hasOwnProperty(r))throw new Error("Cannot express custom unit "+r+" in SI units");e.push({unit:W.si[r].unit,prefix:W.si[r].prefix,power:t.dimensions[n]||0})}}
// Replace this unit list with the proposed list
return t.units=e,t.isUnitListSimplified=!0,t},/**
   * Get a string representation of the units of this Unit, without the value.
   * @memberof Unit
   * @return {string}
   */
c.prototype.formatUnits=function(){
// Lazy evaluation of the unit list
this.simplifyUnitListLazy();for(var t="",e="",n=0,r=0,i=0;i<this.units.length;i++)this.units[i].power>0?(n++,t+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(t+="^"+this.units[i].power)):this.units[i].power<0&&r++;if(r>0)for(var i=0;i<this.units.length;i++)this.units[i].power<0&&(n>0?(e+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power+1)>1e-15&&(e+="^"+-this.units[i].power)):(e+=" "+this.units[i].prefix.name+this.units[i].unit.name,e+="^"+this.units[i].power));
// Remove leading " "
t=t.substr(1),e=e.substr(1),
// Add parans for better copy/paste back into the eval, for example, or for better pretty print formatting
n>1&&r>0&&(t="("+t+")"),r>1&&n>0&&(e="("+e+")");var o=t;return n>0&&r>0&&(o+=" / "),o+=e},/**
   * Get a string representation of the Unit, with optional formatting options.
   * @memberof Unit
   * @param {Object | number | Function} [options]  Formatting options. See
   *                                                lib/utils/number:format for a
   *                                                description of the available
   *                                                options.
   * @return {string}
   */
c.prototype.format=function(t){
// Simplfy the unit list, if necessary
this.simplifyUnitListLazy();
// Apply some custom logic for handling VA and VAR. The goal is to express the value of the unit as a real value, if possible. Otherwise, use a real-valued unit instead of a complex-valued one.
var e=!1;void 0!==this.value&&null!==this.value&&this.value.isComplex&&(
// TODO: Make this better, for example, use relative magnitude of re and im rather than absolute
e=Math.abs(this.value.re)<1e-14,Math.abs(this.value.im));for(var n in this.units)this.units[n].unit&&("VA"===this.units[n].unit.name&&e?this.units[n].unit=H.VAR:"VAR"!==this.units[n].unit.name||e||(this.units[n].unit=H.VA));
// Now apply the best prefix
// Units must have only one unit and not have the fixPrefix flag set
1!==this.units.length||this.fixPrefix||
// Units must have integer powers, otherwise the prefix will change the
// outputted value by not-an-integer-power-of-ten
Math.abs(this.units[0].power-Math.round(this.units[0].power))<1e-14&&(
// Apply the best prefix
this.units[0].prefix=this._bestPrefix());var r=this._denormalize(this.value),i=null!==this.value?A(r,t||{}):"",o=this.formatUnits();return this.value&&this.value.isComplex&&(i="("+i+")"),o.length>0&&i.length>0&&(i+=" "),i+=o},/**
   * Calculate the best prefix using current value.
   * @memberof Unit
   * @returns {Object} prefix
   * @private
   */
c.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");
// find the best prefix value (resulting in the value of which
// the absolute value of the log10 is closest to zero,
// though with a little offset of 1.2 for nicer values: you get a
// sequence 1mm 100mm 500mm 0.6m 1m 10m 100m 500m 0.6km 1km ...
// Note: the units value can be any numeric type, but to find the best
// prefix it's enough to work with limited precision of a regular number
// Update: using mathjs abs since we also allow complex numbers
var t=N(this.value),e=N(this.units[0].unit.value),n=this.units[0].prefix;if(0===t)return n;var r=this.units[0].power,i=Math.log(t/Math.pow(n.value*e,r))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return n;// Allow the original prefix
i=Math.abs(i);var o=this.units[0].unit.prefixes;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];if(a.scientific){var u=Math.abs(Math.log(t/Math.pow(a.value*e,r))/Math.LN10-1.2);(u<i||u===i&&a.name.length<n.name.length)&&(
// choose the prefix with the smallest diff, or if equal, choose the one
// with the shortest name (can happen with SHORTLONG for example)
n=a,i=u)}}return n},/**
   * Returns an array of units whose sum is equal to this unit
   * @memberof Unit
   * @param {Array} [parts] An array of strings or valueless units. 
   *
   *   Example:
   *
   *   var u = new Unit(1, 'm');
   *   u.splitUnit(['feet', 'inch']);
   *     [ 3 feet, 3.3700787401575 inch ]
   *
   * @return {Array} An array of units.
   */
c.prototype.splitUnit=function(t){for(var e=this.clone(),n=[],r=0;r<t.length&&(e=e.to(t[r]),r!=t.length-1);r++){
// fix rounds a number towards 0
var i=M(e.toNumeric()),o=new c(i,t[r].toString());n.push(o),e=x(e,o)}return n.push(e),n};var F={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};
// Add a prefix list for both short and long prefixes (for ohm in particular, since Mohm and megaohm are both acceptable):
F.SHORTLONG={};for(var U in F.SHORT)F.SHORT.hasOwnProperty(U)&&(F.SHORTLONG[U]=F.SHORT[U]);for(var U in F.LONG)F.LONG.hasOwnProperty(U)&&(F.SHORTLONG[U]=F.LONG[U]);/* Internally, each unit is represented by a value and a dimension array. The elements of the dimensions array have the following meaning:
   * Index  Dimension
   * -----  ---------
   *   0    Length
   *   1    Mass
   *   2    Time
   *   3    Current
   *   4    Temperature
   *   5    Luminous intensity
   *   6    Amount of substance
   *   7    Angle
   *   8    Bit (digital)
   * For example, the unit "298.15 K" is a pure temperature and would have a value of 298.15 and a dimension array of [0, 0, 0, 0, 1, 0, 0, 0, 0]. The unit "1 cal / (gm C)" can be written in terms of the 9 fundamental dimensions as [length^2] / ([time^2] * [temperature]), and would a value of (after conversion to SI) 4184.0 and a dimensions array of [2, 0, -2, 0, -1, 0, 0, 0, 0].
   *
   */
var V=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],B={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var U in B)B[U].key=U;var z={},q={name:"",base:z,value:1,offset:0,dimensions:[0,0,0,0,0,0,0,0,0]},H={
// length
meter:{name:"meter",base:B.LENGTH,prefixes:F.LONG,value:1,offset:0},inch:{name:"inch",base:B.LENGTH,prefixes:F.NONE,value:.0254,offset:0},foot:{name:"foot",base:B.LENGTH,prefixes:F.NONE,value:.3048,offset:0},yard:{name:"yard",base:B.LENGTH,prefixes:F.NONE,value:.9144,offset:0},mile:{name:"mile",base:B.LENGTH,prefixes:F.NONE,value:1609.344,offset:0},link:{name:"link",base:B.LENGTH,prefixes:F.NONE,value:.201168,offset:0},rod:{name:"rod",base:B.LENGTH,prefixes:F.NONE,value:5.02921,offset:0},chain:{name:"chain",base:B.LENGTH,prefixes:F.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:B.LENGTH,prefixes:F.NONE,value:1e-10,offset:0},m:{name:"m",base:B.LENGTH,prefixes:F.SHORT,value:1,offset:0},in:{name:"in",base:B.LENGTH,prefixes:F.NONE,value:.0254,offset:0},ft:{name:"ft",base:B.LENGTH,prefixes:F.NONE,value:.3048,offset:0},yd:{name:"yd",base:B.LENGTH,prefixes:F.NONE,value:.9144,offset:0},mi:{name:"mi",base:B.LENGTH,prefixes:F.NONE,value:1609.344,offset:0},li:{name:"li",base:B.LENGTH,prefixes:F.NONE,value:.201168,offset:0},rd:{name:"rd",base:B.LENGTH,prefixes:F.NONE,value:5.02921,offset:0},ch:{name:"ch",base:B.LENGTH,prefixes:F.NONE,value:20.1168,offset:0},mil:{name:"mil",base:B.LENGTH,prefixes:F.NONE,value:254e-7,offset:0},// 1/1000 inch
// Surface
m2:{name:"m2",base:B.SURFACE,prefixes:F.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:B.SURFACE,prefixes:F.NONE,value:64516e-8,offset:0},// 645.16 mm2
sqft:{name:"sqft",base:B.SURFACE,prefixes:F.NONE,value:.09290304,offset:0},// 0.09290304 m2
sqyd:{name:"sqyd",base:B.SURFACE,prefixes:F.NONE,value:.83612736,offset:0},// 0.83612736 m2
sqmi:{name:"sqmi",base:B.SURFACE,prefixes:F.NONE,value:2589988.110336,offset:0},// 2.589988110336 km2
sqrd:{name:"sqrd",base:B.SURFACE,prefixes:F.NONE,value:25.29295,offset:0},// 25.29295 m2
sqch:{name:"sqch",base:B.SURFACE,prefixes:F.NONE,value:404.6873,offset:0},// 404.6873 m2
sqmil:{name:"sqmil",base:B.SURFACE,prefixes:F.NONE,value:6.4516e-10,offset:0},// 6.4516 * 10^-10 m2
acre:{name:"acre",base:B.SURFACE,prefixes:F.NONE,value:4046.86,offset:0},// 4046.86 m2
hectare:{name:"hectare",base:B.SURFACE,prefixes:F.NONE,value:1e4,offset:0},// 10000 m2
// Volume
m3:{name:"m3",base:B.VOLUME,prefixes:F.CUBIC,value:1,offset:0},L:{name:"L",base:B.VOLUME,prefixes:F.SHORT,value:.001,offset:0},// litre
l:{name:"l",base:B.VOLUME,prefixes:F.SHORT,value:.001,offset:0},// litre
litre:{name:"litre",base:B.VOLUME,prefixes:F.LONG,value:.001,offset:0},cuin:{name:"cuin",base:B.VOLUME,prefixes:F.NONE,value:16387064e-12,offset:0},// 1.6387064e-5 m3
cuft:{name:"cuft",base:B.VOLUME,prefixes:F.NONE,value:.028316846592,offset:0},// 28.316 846 592 L
cuyd:{name:"cuyd",base:B.VOLUME,prefixes:F.NONE,value:.764554857984,offset:0},// 764.554 857 984 L
teaspoon:{name:"teaspoon",base:B.VOLUME,prefixes:F.NONE,value:5e-6,offset:0},// 5 mL
tablespoon:{name:"tablespoon",base:B.VOLUME,prefixes:F.NONE,value:15e-6,offset:0},// 15 mL
//{name: 'cup', base: BASE_UNITS.VOLUME, prefixes: PREFIXES.NONE, value: 0.000240, offset: 0}, // 240 mL  // not possible, we have already another cup
drop:{name:"drop",base:B.VOLUME,prefixes:F.NONE,value:5e-8,offset:0},// 0.05 mL = 5e-8 m3
gtt:{name:"gtt",base:B.VOLUME,prefixes:F.NONE,value:5e-8,offset:0},// 0.05 mL = 5e-8 m3
// Liquid volume
minim:{name:"minim",base:B.VOLUME,prefixes:F.NONE,value:6.161152e-8,offset:0},// 0.06161152 mL
fluiddram:{name:"fluiddram",base:B.VOLUME,prefixes:F.NONE,value:36966911e-13,offset:0},// 3.696691 mL
fluidounce:{name:"fluidounce",base:B.VOLUME,prefixes:F.NONE,value:2957353e-11,offset:0},// 29.57353 mL
gill:{name:"gill",base:B.VOLUME,prefixes:F.NONE,value:.0001182941,offset:0},// 118.2941 mL
cc:{name:"cc",base:B.VOLUME,prefixes:F.NONE,value:1e-6,offset:0},// 1e-6 L
cup:{name:"cup",base:B.VOLUME,prefixes:F.NONE,value:.0002365882,offset:0},// 236.5882 mL
pint:{name:"pint",base:B.VOLUME,prefixes:F.NONE,value:.0004731765,offset:0},// 473.1765 mL
quart:{name:"quart",base:B.VOLUME,prefixes:F.NONE,value:.0009463529,offset:0},// 946.3529 mL
gallon:{name:"gallon",base:B.VOLUME,prefixes:F.NONE,value:.003785412,offset:0},// 3.785412 L
beerbarrel:{name:"beerbarrel",base:B.VOLUME,prefixes:F.NONE,value:.1173478,offset:0},// 117.3478 L
oilbarrel:{name:"oilbarrel",base:B.VOLUME,prefixes:F.NONE,value:.1589873,offset:0},// 158.9873 L
hogshead:{name:"hogshead",base:B.VOLUME,prefixes:F.NONE,value:.238481,offset:0},// 238.4810 L
//{name: 'min', base: BASE_UNITS.VOLUME, prefixes: PREFIXES.NONE, value: 0.00000006161152, offset: 0}, // 0.06161152 mL // min is already in use as minute
fldr:{name:"fldr",base:B.VOLUME,prefixes:F.NONE,value:36966911e-13,offset:0},// 3.696691 mL
floz:{name:"floz",base:B.VOLUME,prefixes:F.NONE,value:2957353e-11,offset:0},// 29.57353 mL
gi:{name:"gi",base:B.VOLUME,prefixes:F.NONE,value:.0001182941,offset:0},// 118.2941 mL
cp:{name:"cp",base:B.VOLUME,prefixes:F.NONE,value:.0002365882,offset:0},// 236.5882 mL
pt:{name:"pt",base:B.VOLUME,prefixes:F.NONE,value:.0004731765,offset:0},// 473.1765 mL
qt:{name:"qt",base:B.VOLUME,prefixes:F.NONE,value:.0009463529,offset:0},// 946.3529 mL
gal:{name:"gal",base:B.VOLUME,prefixes:F.NONE,value:.003785412,offset:0},// 3.785412 L
bbl:{name:"bbl",base:B.VOLUME,prefixes:F.NONE,value:.1173478,offset:0},// 117.3478 L
obl:{name:"obl",base:B.VOLUME,prefixes:F.NONE,value:.1589873,offset:0},// 158.9873 L
//{name: 'hogshead', base: BASE_UNITS.VOLUME, prefixes: PREFIXES.NONE, value: 0.2384810, offset: 0}, // 238.4810 L // TODO: hh?
// Mass
g:{name:"g",base:B.MASS,prefixes:F.SHORT,value:.001,offset:0},gram:{name:"gram",base:B.MASS,prefixes:F.LONG,value:.001,offset:0},ton:{name:"ton",base:B.MASS,prefixes:F.SHORT,value:907.18474,offset:0},tonne:{name:"tonne",base:B.MASS,prefixes:F.SHORT,value:1e3,offset:0},grain:{name:"grain",base:B.MASS,prefixes:F.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:B.MASS,prefixes:F.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:B.MASS,prefixes:F.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:B.MASS,prefixes:F.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:B.MASS,prefixes:F.NONE,value:45.359237,offset:0},stick:{name:"stick",base:B.MASS,prefixes:F.NONE,value:.115,offset:0},stone:{name:"stone",base:B.MASS,prefixes:F.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:B.MASS,prefixes:F.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:B.MASS,prefixes:F.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:B.MASS,prefixes:F.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:B.MASS,prefixes:F.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:B.MASS,prefixes:F.NONE,value:45.359237,offset:0},
// Time
s:{name:"s",base:B.TIME,prefixes:F.SHORT,value:1,offset:0},min:{name:"min",base:B.TIME,prefixes:F.NONE,value:60,offset:0},h:{name:"h",base:B.TIME,prefixes:F.NONE,value:3600,offset:0},second:{name:"second",base:B.TIME,prefixes:F.LONG,value:1,offset:0},sec:{name:"sec",base:B.TIME,prefixes:F.LONG,value:1,offset:0},minute:{name:"minute",base:B.TIME,prefixes:F.NONE,value:60,offset:0},hour:{name:"hour",base:B.TIME,prefixes:F.NONE,value:3600,offset:0},day:{name:"day",base:B.TIME,prefixes:F.NONE,value:86400,offset:0},week:{name:"week",base:B.TIME,prefixes:F.NONE,value:604800,offset:0},month:{name:"month",base:B.TIME,prefixes:F.NONE,value:2629800,//1/12th of Julian year
offset:0},year:{name:"year",base:B.TIME,prefixes:F.NONE,value:31557600,//Julian year
offset:0},decade:{name:"year",base:B.TIME,prefixes:F.NONE,value:315576e3,//Julian decade
offset:0},century:{name:"century",base:B.TIME,prefixes:F.NONE,value:315576e4,//Julian century
offset:0},millennium:{name:"millennium",base:B.TIME,prefixes:F.NONE,value:315576e5,//Julian millennium
offset:0},
// Frequency
hertz:{name:"Hertz",base:B.FREQUENCY,prefixes:F.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:B.FREQUENCY,prefixes:F.SHORT,value:1,offset:0,reciprocal:!0},
// Angle
rad:{name:"rad",base:B.ANGLE,prefixes:F.LONG,value:1,offset:0},
// deg = rad / (2*pi) * 360 = rad / 0.017453292519943295769236907684888
deg:{name:"deg",base:B.ANGLE,prefixes:F.LONG,value:null,// will be filled in by calculateAngleValues()
offset:0},
// grad = rad / (2*pi) * 400  = rad / 0.015707963267948966192313216916399
grad:{name:"grad",base:B.ANGLE,prefixes:F.LONG,value:null,// will be filled in by calculateAngleValues()
offset:0},
// cycle = rad / (2*pi) = rad / 6.2831853071795864769252867665793
cycle:{name:"cycle",base:B.ANGLE,prefixes:F.NONE,value:null,// will be filled in by calculateAngleValues()
offset:0},
// arcsec = rad / (3600 * (360 / 2 * pi)) = rad / 0.0000048481368110953599358991410235795
arcsec:{name:"arcsec",base:B.ANGLE,prefixes:F.NONE,value:null,// will be filled in by calculateAngleValues()
offset:0},
// arcmin = rad / (60 * (360 / 2 * pi)) = rad / 0.00029088820866572159615394846141477
arcmin:{name:"arcmin",base:B.ANGLE,prefixes:F.NONE,value:null,// will be filled in by calculateAngleValues()
offset:0},
// Electric current
A:{name:"A",base:B.CURRENT,prefixes:F.SHORT,value:1,offset:0},ampere:{name:"ampere",base:B.CURRENT,prefixes:F.LONG,value:1,offset:0},
// Temperature
// K(C) = C + 273.15
// K(F) = (F + 459.67) / 1.8
// K(R) = R / 1.8
K:{name:"K",base:B.TEMPERATURE,prefixes:F.NONE,value:1,offset:0},degC:{name:"degC",base:B.TEMPERATURE,prefixes:F.NONE,value:1,offset:273.15},degF:{name:"degF",base:B.TEMPERATURE,prefixes:F.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:B.TEMPERATURE,prefixes:F.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:B.TEMPERATURE,prefixes:F.NONE,value:1,offset:0},celsius:{name:"celsius",base:B.TEMPERATURE,prefixes:F.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:B.TEMPERATURE,prefixes:F.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:B.TEMPERATURE,prefixes:F.NONE,value:1/1.8,offset:0},
// amount of substance
mol:{name:"mol",base:B.AMOUNT_OF_SUBSTANCE,prefixes:F.SHORT,value:1,offset:0},mole:{name:"mole",base:B.AMOUNT_OF_SUBSTANCE,prefixes:F.LONG,value:1,offset:0},
// luminous intensity
cd:{name:"cd",base:B.LUMINOUS_INTENSITY,prefixes:F.NONE,value:1,offset:0},candela:{name:"candela",base:B.LUMINOUS_INTENSITY,prefixes:F.NONE,value:1,offset:0},
// TODO: units STERADIAN
//{name: 'sr', base: BASE_UNITS.STERADIAN, prefixes: PREFIXES.NONE, value: 1, offset: 0},
//{name: 'steradian', base: BASE_UNITS.STERADIAN, prefixes: PREFIXES.NONE, value: 1, offset: 0},
// Force
N:{name:"N",base:B.FORCE,prefixes:F.SHORT,value:1,offset:0},newton:{name:"newton",base:B.FORCE,prefixes:F.LONG,value:1,offset:0},dyn:{name:"dyn",base:B.FORCE,prefixes:F.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:B.FORCE,prefixes:F.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:B.FORCE,prefixes:F.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:B.FORCE,prefixes:F.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:B.FORCE,prefixes:F.LONG,value:4448.2216,offset:0},
// Energy
J:{name:"J",base:B.ENERGY,prefixes:F.SHORT,value:1,offset:0},joule:{name:"joule",base:B.ENERGY,prefixes:F.SHORT,value:1,offset:0},erg:{name:"erg",base:B.ENERGY,prefixes:F.NONE,value:1e-5,offset:0},Wh:{name:"Wh",base:B.ENERGY,prefixes:F.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:B.ENERGY,prefixes:F.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:B.ENERGY,prefixes:F.SHORT,value:1.602176565e-19,offset:0},electronvolt:{name:"electronvolt",base:B.ENERGY,prefixes:F.LONG,value:1.602176565e-19,offset:0},
// Power
W:{name:"W",base:B.POWER,prefixes:F.SHORT,value:1,offset:0},watt:{name:"W",base:B.POWER,prefixes:F.LONG,value:1,offset:0},hp:{name:"hp",base:B.POWER,prefixes:F.NONE,value:745.6998715386,offset:0},
// Electrical power units
VAR:{name:"VAR",base:B.POWER,prefixes:F.SHORT,value:I.I,offset:0},VA:{name:"VA",base:B.POWER,prefixes:F.SHORT,value:1,offset:0},
// Pressure
Pa:{name:"Pa",base:B.PRESSURE,prefixes:F.SHORT,value:1,offset:0},psi:{name:"psi",base:B.PRESSURE,prefixes:F.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:B.PRESSURE,prefixes:F.NONE,value:101325,offset:0},bar:{name:"bar",base:B.PRESSURE,prefixes:F.NONE,value:1e5,offset:0},torr:{name:"torr",base:B.PRESSURE,prefixes:F.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:B.PRESSURE,prefixes:F.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:B.PRESSURE,prefixes:F.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:B.PRESSURE,prefixes:F.NONE,value:98.0665,offset:0},
// Electric charge
coulomb:{name:"coulomb",base:B.ELECTRIC_CHARGE,prefixes:F.LONG,value:1,offset:0},C:{name:"C",base:B.ELECTRIC_CHARGE,prefixes:F.SHORT,value:1,offset:0},
// Electric capacitance
farad:{name:"farad",base:B.ELECTRIC_CAPACITANCE,prefixes:F.LONG,value:1,offset:0},F:{name:"F",base:B.ELECTRIC_CAPACITANCE,prefixes:F.SHORT,value:1,offset:0},
// Electric potential
volt:{name:"volt",base:B.ELECTRIC_POTENTIAL,prefixes:F.LONG,value:1,offset:0},V:{name:"V",base:B.ELECTRIC_POTENTIAL,prefixes:F.SHORT,value:1,offset:0},
// Electric resistance
ohm:{name:"ohm",base:B.ELECTRIC_RESISTANCE,prefixes:F.SHORTLONG,// Both Mohm and megaohm are acceptable
value:1,offset:0},/*
     * Unicode breaks in browsers if charset is not specified
    : {
      name: '',
      base: BASE_UNITS.ELECTRIC_RESISTANCE,
      prefixes: PREFIXES.SHORT,
      value: 1,
      offset: 0
    },
    */
// Electric inductance
henry:{name:"henry",base:B.ELECTRIC_INDUCTANCE,prefixes:F.LONG,value:1,offset:0},H:{name:"H",base:B.ELECTRIC_INDUCTANCE,prefixes:F.SHORT,value:1,offset:0},
// Electric conductance
siemens:{name:"siemens",base:B.ELECTRIC_CONDUCTANCE,prefixes:F.LONG,value:1,offset:0},S:{name:"S",base:B.ELECTRIC_CONDUCTANCE,prefixes:F.SHORT,value:1,offset:0},
// Magnetic flux
weber:{name:"weber",base:B.MAGNETIC_FLUX,prefixes:F.LONG,value:1,offset:0},Wb:{name:"Wb",base:B.MAGNETIC_FLUX,prefixes:F.SHORT,value:1,offset:0},
// Magnetic flux density
tesla:{name:"tesla",base:B.MAGNETIC_FLUX_DENSITY,prefixes:F.LONG,value:1,offset:0},T:{name:"T",base:B.MAGNETIC_FLUX_DENSITY,prefixes:F.SHORT,value:1,offset:0},
// Binary
b:{name:"b",base:B.BIT,prefixes:F.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:B.BIT,prefixes:F.BINARY_LONG,value:1,offset:0},B:{name:"B",base:B.BIT,prefixes:F.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:B.BIT,prefixes:F.BINARY_LONG,value:8,offset:0}},G={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",hertz:"hertz",radians:"rad",degree:"deg",degrees:"deg",gradian:"grad",gradians:"grad",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole"};
// apply the angle values now
b(e),
// recalculate the values on change of configuration
u.on("config",function(t,e){t.number!==e.number&&b(t)});/**
   * A unit system is a set of dimensionally independent base units plus a set of derived units, formed by multiplication and division of the base units, that are by convention used with the unit system.
   * A user perhaps could issue a command to select a preferred unit system, or use the default (see below).
   * Auto unit system: The default unit system is updated on the fly anytime a unit is parsed. The corresponding unit in the default unit system is updated, so that answers are given in the same units the user supplies.
   */
var W={si:{
// Base units
NONE:{unit:q,prefix:F.NONE[""]},LENGTH:{unit:H.m,prefix:F.SHORT[""]},MASS:{unit:H.g,prefix:F.SHORT.k},TIME:{unit:H.s,prefix:F.SHORT[""]},CURRENT:{unit:H.A,prefix:F.SHORT[""]},TEMPERATURE:{unit:H.K,prefix:F.SHORT[""]},LUMINOUS_INTENSITY:{unit:H.cd,prefix:F.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:H.mol,prefix:F.SHORT[""]},ANGLE:{unit:H.rad,prefix:F.SHORT[""]},BIT:{unit:H.bit,prefix:F.SHORT[""]},
// Derived units
FORCE:{unit:H.N,prefix:F.SHORT[""]},ENERGY:{unit:H.J,prefix:F.SHORT[""]},POWER:{unit:H.W,prefix:F.SHORT[""]},PRESSURE:{unit:H.Pa,prefix:F.SHORT[""]},ELECTRIC_CHARGE:{unit:H.C,prefix:F.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:H.F,prefix:F.SHORT[""]},ELECTRIC_POTENTIAL:{unit:H.V,prefix:F.SHORT[""]},ELECTRIC_RESISTANCE:{unit:H.ohm,prefix:F.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:H.H,prefix:F.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:H.S,prefix:F.SHORT[""]},MAGNETIC_FLUX:{unit:H.Wb,prefix:F.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:H.T,prefix:F.SHORT[""]},FREQUENCY:{unit:H.Hz,prefix:F.SHORT[""]}}};
// Clone to create the other unit systems
W.cgs=JSON.parse(JSON.stringify(W.si)),W.cgs.LENGTH={unit:H.m,prefix:F.SHORT.c},W.cgs.MASS={unit:H.g,prefix:F.SHORT[""]},W.cgs.FORCE={unit:H.dyn,prefix:F.SHORT[""]},W.cgs.ENERGY={unit:H.erg,prefix:F.NONE[""]},
// there are wholly 4 unique cgs systems for electricity and magnetism,
// so let's not worry about it unless somebody complains
W.us=JSON.parse(JSON.stringify(W.si)),W.us.LENGTH={unit:H.ft,prefix:F.NONE[""]},W.us.MASS={unit:H.lbm,prefix:F.NONE[""]},W.us.TEMPERATURE={unit:H.degF,prefix:F.NONE[""]},W.us.FORCE={unit:H.lbf,prefix:F.NONE[""]},W.us.ENERGY={unit:H.BTU,prefix:F.BTU[""]},W.us.POWER={unit:H.hp,prefix:F.NONE[""]},W.us.PRESSURE={unit:H.psi,prefix:F.NONE[""]},
// Add additional unit systems here.
// Choose a unit system to seed the auto unit system.
W.auto=JSON.parse(JSON.stringify(W.si));
// Set the current unit system
var $=W.auto;/**
   * Set a unit system for formatting derived units.
   * @param {string} [name] The name of the unit system.
   */
c.setUnitSystem=function(t){if(!W.hasOwnProperty(t))throw new Error("Unit system "+t+" does not exist. Choices are: "+Object.keys(W).join(", "));$=W[t]},/**
   * Return the current unit system.
   * @return {string} The current unit system.
   */
c.getUnitSystem=function(){for(var t in W)if(W[t]===$)return t},/**
   * Converters to convert from number to an other numeric type like BigNumber
   * or Fraction
   */
c.typeConverters={BigNumber:function(e){return new t.BigNumber(e+"")},Fraction:function(e){return new t.Fraction(e)},Complex:function(t){return t},number:function(t){return t}},/**
   * Retrieve the right convertor function corresponding with the type
   * of provided exampleValue.
   *
   * @param {string} type   A string 'number', 'BigNumber', or 'Fraction'
   *                        In case of an unknown type,
   * @return {Function}
   */
c._getNumberConverter=function(t){if(!c.typeConverters[t])throw new TypeError('Unsupported type "'+t+'"');return c.typeConverters[t]};
// Add dimensions to each built-in unit
for(var U in H){var Y=H[U];Y.dimensions=Y.base.dimensions}
// Create aliases
for(var X in G)if(G.hasOwnProperty(X)){var Y=H[G[X]],Z={};for(var U in Y)Y.hasOwnProperty(U)&&(Z[U]=Y[U]);Z.name=X,H[X]=Z}/**
   * Wrapper around createUnitSingle.
   * Example: 
   *  createUnit({
   *    foo: { },
   *    bar: {
   *      definition: 'kg/foo',
   *      aliases: ['ba', 'barr', 'bars'],
   *      offset: 200
   *    },
   *    baz: '4 bar'
   *  }, 
   *  {
   *    override: true;
   *  });
   * @param {object} obj      Object map. Each key becomes a unit which is defined by its value.
   * @param {object} options
   */
/**
   * Create a user-defined unit and register it with the Unit type.
   * Example: 
   *  createUnitSingle('knot', '0.514444444 m/s')
   *  createUnitSingle('acre', new Unit(43560, 'ft^2'))
   *
   * @param {string} name      The name of the new unit. Must be unique. Example: 'knot'
   * @param {string, Unit} definition      Definition of the unit in terms of existing units. For example, '0.514444444 m / s'.
   * @param {Object} options   (optional) An object containing any of the following properties:
   *     prefixes {string} "none", "short", "long", "binary_short", or "binary_long". The default is "none".
   *     aliases {Array} Array of strings. Example: ['knots', 'kt', 'kts']
   *     offset {Numeric} An offset to apply when converting from the unit. For example, the offset for celsius is 273.15 and the offset for farhenheit is 459.67. Default is 0.
   *
   * @return {Unit} 
   */
return c.createUnit=function(t,e){if("object"!=typeof t)throw new TypeError("createUnit expects first parameter to be of type 'Object'");
// Remove all units and aliases we are overriding
if(e&&e.override)for(var n in t)if(t.hasOwnProperty(n)&&c.deleteUnit(n),t[n].aliases)for(var r=0;r<t[n].aliases.length;r++)c.deleteUnit(t[n].aliases[r]);
// TODO: traverse multiple times until all units have been added
var i;for(var n in t)t.hasOwnProperty(n)&&(i=c.createUnitSingle(n,t[n]));return i},c.createUnitSingle=function(t,e,n){if(void 0!==e&&null!==e||(e={}),"string"!=typeof t)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");
// Check collisions with existing units
if(H.hasOwnProperty(t))throw new Error('Cannot create unit "'+t+'": a unit with that name already exists');
// TODO: Validate name for collisions with other built-in functions (like abs or cos, for example), and for acceptable variable names. For example, '42' is probably not a valid unit. Nor is '%', since it is also an operator.
w(t);var r,i,o=null,s=[],a=0;if(e&&"Unit"===e.type)o=e.clone();else if("string"==typeof e)""!==e&&(r=e);else{if("object"!=typeof e)throw new TypeError('Cannot create unit "'+t+'" from "'+e.toString()+'": expecting "string" or "Unit" or "Object"');r=e.definition,i=e.prefixes,a=e.offset,s=e.aliases}if(s)for(var u=0;u<s.length;u++)if(H.hasOwnProperty(s[u]))throw new Error('Cannot create alias "'+s[u]+'": a unit with that name already exists');if(r&&"string"==typeof r&&!o)try{o=c.parse(r,{allowNoUnits:!0})}catch(e){throw e.message='Could not create unit "'+t+'" from "'+r+'": '+e.message,e}else r&&"Unit"===r.type&&(o=r.clone());s=s||[],a=a||0,i=i&&i.toUpperCase?F[i.toUpperCase()]||F.NONE:F.NONE;
// If defUnit is null, it is because the user did not
// specify a defintion. So create a new base dimension.
var l={};if(o){l={name:t,value:o.value,dimensions:o.dimensions.slice(0),prefixes:i,offset:a};
// Create a new base if no matching base exists
var f=!1;for(var u in B)if(B.hasOwnProperty(u)){for(var p=!0,h=0;h<V.length;h++)if(Math.abs((l.dimensions[h]||0)-(B[u].dimensions[h]||0))>1e-12){p=!1;break}if(p){f=!0;break}}if(!f){var d=t+"_STUFF",m={dimensions:o.dimensions.slice(0)};m.key=d,B[d]=m,$[d]={unit:l,prefix:F.NONE[""]},l.base=d}}else{
// Add a new base dimension
var d=t+"_STUFF";// foo --> foo_STUFF, or the essence of foo
if(V.indexOf(d)>=0)throw new Error('Cannot create new base unit "'+t+'": a base unit with that name already exists (and cannot be overridden)');V.push(d);
// Push 0 onto existing base units
for(var v in B)B.hasOwnProperty(v)&&(B[v].dimensions[V.length-1]=0);for(var m={dimensions:[]},u=0;u<V.length;u++)m.dimensions[u]=0;m.dimensions[V.length-1]=1,m.key=d,B[d]=m,l={name:t,value:1,dimensions:B[d].dimensions.slice(0),prefixes:i,offset:a,base:d},$[d]={unit:l,prefix:F.NONE[""]}}c.UNITS[t]=l;for(var u=0;u<s.length;u++){var y=s[u],g={};for(var b in l)l.hasOwnProperty(b)&&(g[b]=l[b]);g.name=y,c.UNITS[y]=g}return new c(null,t)},c.deleteUnit=function(t){delete c.UNITS[t]},c.PREFIXES=F,c.BASE_UNITS=B,c.UNITS=H,c.UNIT_SYSTEMS=W,c}var i=n(42).endsWith,o=n(9).clone,s=n(284);e.name="Unit",e.path="type",e.factory=r,e.math=!0},/* 284 */
/***/
function(t,e,n){/**
 * Create a hash for a BigNumber constructor function. The created has is
 * the configured precision
 * @param {Array} args         Supposed to contain a single entry with
 *                             a BigNumber constructor
 * @return {number} precision
 * @private
 */
function r(t){return t[0].precision}var i=n(71).memoize;/**
 * Calculate BigNumber e
 * @param {function} BigNumber   BigNumber constructor
 * @returns {BigNumber} Returns e
 */
e.e=i(function(t){return new t(1).exp()},r),/**
 * Calculate BigNumber golden ratio, phi = (1+sqrt(5))/2
 * @param {function} BigNumber   BigNumber constructor
 * @returns {BigNumber} Returns phi
 */
e.phi=i(function(t){return new t(1).plus(new t(5).sqrt()).div(2)},r),/**
 * Calculate BigNumber pi.
 * @param {function} BigNumber   BigNumber constructor
 * @returns {BigNumber} Returns pi
 */
e.pi=i(function(t){return pi=t.acos(-1)},r),/**
 * Calculate BigNumber tau, tau = 2 * pi
 * @param {function} BigNumber   BigNumber constructor
 * @returns {BigNumber} Returns tau
 */
e.tau=i(function(t){return e.pi(t).times(2)},r)},/* 285 */
/***/
function(t,e,n){var r=n(1115);/**
 * Extend given object with emitter functions `on`, `off`, `once`, `emit`
 * @param {Object} obj
 * @return {Object} obj
 */
e.mixin=function(t){
// create event emitter
var e=new r;
// bind methods to obj (we don't want to expose the emitter.e Array...)
return t.on=e.on.bind(e),t.off=e.off.bind(e),t.once=e.once.bind(e),t.emit=e.emit.bind(e),t}},/* 286 */
,/* 287 */
/***/
function(t,e,n){"use strict";e.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},/* 288 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(22),o=function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return r(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(i.Subscription);e.SubjectSubscription=o},/* 289 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(17),o=n(0),s=n(4),a=n(22),u=function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0}return r(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(t=this._connection=new a.Subscription,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed?(this._connection=null,t=a.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return this.lift(new l(this))},e}(o.Observable);e.ConnectableObservable=u,e.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subscribe:{value:u.prototype._subscribe},getSubject:{value:u.prototype.getSubject},connect:{value:u.prototype.connect},refCount:{value:u.prototype.refCount}};var c=function(t){function e(e,n){t.call(this,e),this.connectable=n}return r(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.SubjectSubscriber),l=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new f(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),f=function(t){function e(e,n){t.call(this,e),this.connectable=n}return r(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(!t)return void(this.connection=null);this.connectable=null;var e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);
///
// Compare the local RefCountSubscriber's connection Subscription to the
// connection Subscription on the shared ConnectableObservable. In cases
// where the ConnectableObservable source synchronously emits values, and
// the RefCountSubscriber's downstream Observers synchronously unsubscribe,
// execution continues to here before the RefCountOperator has a chance to
// supply the RefCountSubscriber with the shared connection Subscription.
// For example:
// ```
// Observable.range(0, 10)
//   .publish()
//   .refCount()
//   .take(5)
//   .subscribe();
// ```
// In order to account for this case, RefCountSubscriber should only dispose
// the ConnectableObservable's shared connection Subscription if the
// connection Subscription exists, *and* either:
//   a. RefCountSubscriber doesn't have a reference to the shared connection
//      Subscription yet, or,
//   b. RefCountSubscriber's connection Subscription reference is identical
//      to the shared connection Subscription
///
var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()},e}(s.Subscriber)},/* 290 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(52),o=n(321),s=n(291),a=n(991),u=n(57),c=n(980),l=n(106),f=n(0),p=n(185),h=n(136),d=function(t){return t&&"number"==typeof t.length},m=function(t){function e(e,n){t.call(this,null),this.ish=e,this.scheduler=n}/**
     * Creates an Observable from an Array, an array-like object, a Promise, an
     * iterable object, or an Observable-like object.
     *
     * <span class="informal">Converts almost anything to an Observable.</span>
     *
     * <img src="./img/from.png" width="100%">
     *
     * Convert various other objects and data types into Observables. `from`
     * converts a Promise or an array-like or an
     * [iterable](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#iterable)
     * object into an Observable that emits the items in that promise or array or
     * iterable. A String, in this context, is treated as an array of characters.
     * Observable-like objects (contains a function named with the ES2015 Symbol
     * for Observable) can also be converted through this operator.
     *
     * @example <caption>Converts an array to an Observable</caption>
     * var array = [10, 20, 30];
     * var result = Rx.Observable.from(array);
     * result.subscribe(x => console.log(x));
     *
     * // Results in the following:
     * // 10 20 30
     *
     * @example <caption>Convert an infinite iterable (from a generator) to an Observable</caption>
     * function* generateDoubles(seed) {
     *   var i = seed;
     *   while (true) {
     *     yield i;
     *     i = 2 * i; // double it
     *   }
     * }
     *
     * var iterator = generateDoubles(3);
     * var result = Rx.Observable.from(iterator).take(10);
     * result.subscribe(x => console.log(x));
     *
     * // Results in the following:
     * // 3 6 12 24 48 96 192 384 768 1536
     *
     * @see {@link create}
     * @see {@link fromEvent}
     * @see {@link fromEventPattern}
     * @see {@link fromPromise}
     *
     * @param {ObservableInput<T>} ish A subscribable object, a Promise, an
     * Observable-like, an Array, an iterable or an array-like object to be
     * converted.
     * @param {Scheduler} [scheduler] The scheduler on which to schedule the
     * emissions of values.
     * @return {Observable<T>} The Observable whose values are originally from the
     * input object that was converted.
     * @static true
     * @name from
     * @owner Observable
     */
return r(e,t),e.create=function(t,n){if(null!=t){if("function"==typeof t[h.$$observable])return t instanceof f.Observable&&!n?t:new e(t,n);if(i.isArray(t))return new u.ArrayObservable(t,n);if(o.isPromise(t))return new s.PromiseObservable(t,n);if("function"==typeof t[l.$$iterator]||"string"==typeof t)return new a.IteratorObservable(t,n);if(d(t))return new c.ArrayLikeObservable(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,n=this.scheduler;return null==n?e[h.$$observable]().subscribe(t):e[h.$$observable]().subscribe(new p.ObserveOnSubscriber(t,n,0))},e}(f.Observable);e.FromObservable=m},/* 291 */
/***/
function(t,e,n){"use strict";function r(t){var e=t.value,n=t.subscriber;n.closed||(n.next(e),n.complete())}function i(t){var e=t.err,n=t.subscriber;n.closed||n.error(e)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n(27),a=n(0),u=function(t){function e(e,n){t.call(this),this.promise=e,this.scheduler=n}/**
     * Converts a Promise to an Observable.
     *
     * <span class="informal">Returns an Observable that just emits the Promise's
     * resolved value, then completes.</span>
     *
     * Converts an ES2015 Promise or a Promises/A+ spec compliant Promise to an
     * Observable. If the Promise resolves with a value, the output Observable
     * emits that resolved value as a `next`, and then completes. If the Promise
     * is rejected, then the output Observable emits the corresponding Error.
     *
     * @example <caption>Convert the Promise returned by Fetch to an Observable</caption>
     * var result = Rx.Observable.fromPromise(fetch('http://myserver.com/'));
     * result.subscribe(x => console.log(x), e => console.error(e));
     *
     * @see {@link bindCallback}
     * @see {@link from}
     *
     * @param {Promise<T>} promise The promise to be converted.
     * @param {Scheduler} [scheduler] An optional Scheduler to use for scheduling
     * the delivery of the resolved value (or the rejection).
     * @return {Observable<T>} An Observable which wraps the Promise.
     * @static true
     * @name fromPromise
     * @owner Observable
     */
return o(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=this.promise,o=this.scheduler;if(null==o)this._isScalar?t.closed||(t.next(this.value),t.complete()):n.then(function(n){e.value=n,e._isScalar=!0,t.closed||(t.next(n),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){
// escape the promise trap, throw unhandled errors
s.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return o.schedule(r,0,{value:this.value,subscriber:t})}else n.then(function(n){e.value=n,e._isScalar=!0,t.closed||t.add(o.schedule(r,0,{value:n,subscriber:t}))},function(e){t.closed||t.add(o.schedule(i,0,{err:e,subscriber:t}))}).then(null,function(t){
// escape the promise trap, throw unhandled errors
s.root.setTimeout(function(){throw t})})},e}(a.Observable);e.PromiseObservable=u},/* 292 */
/***/
function(t,e,n){"use strict";function r(){if(f.root.XMLHttpRequest){var t=new f.root.XMLHttpRequest;return"withCredentials"in t&&(t.withCredentials=!!this.withCredentials),t}if(f.root.XDomainRequest)return new f.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function i(){if(f.root.XMLHttpRequest)return new f.root.XMLHttpRequest;var t=void 0;try{for(var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],n=0;n<3;n++)try{if(t=e[n],new f.root.ActiveXObject(t))break}catch(t){}return new f.root.ActiveXObject(t)}catch(t){throw new Error("XMLHttpRequest is not supported by your browser")}}function o(t,e){return void 0===e&&(e=null),new y({method:"GET",url:t,headers:e})}function s(t,e,n){return new y({method:"POST",url:t,body:e,headers:n})}function a(t,e){return new y({method:"DELETE",url:t,headers:e})}function u(t,e,n){return new y({method:"PUT",url:t,body:e,headers:n})}function c(t,e){return new y({method:"GET",url:t,responseType:"json",headers:e}).lift(new v.MapOperator(function(t,e){return t.response},null))}var l=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},f=n(27),p=n(28),h=n(24),d=n(0),m=n(4),v=n(102);e.ajaxGet=o,e.ajaxPost=s,e.ajaxDelete=a,e.ajaxPut=u,e.ajaxGetJSON=c;/**
 * We need this JSDoc comment for affecting ESDoc.
 * @extends {Ignored}
 * @hide true
 */
var y=function(t){function e(e){t.call(this);var n={async:!0,createXHR:function(){return this.crossDomain?r.call(this):i()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof e)n.url=e;else for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);this.request=n}/**
     * Creates an observable for an Ajax request with either a request object with
     * url, headers, etc or a string for a URL.
     *
     * @example
     * source = Rx.Observable.ajax('/products');
     * source = Rx.Observable.ajax({ url: 'products', method: 'GET' });
     *
     * @param {string|Object} request Can be one of the following:
     *   A string of the URL to make the Ajax call.
     *   An object with the following properties
     *   - url: URL of the request
     *   - body: The body of the request
     *   - method: Method of the request, such as GET, POST, PUT, PATCH, DELETE
     *   - async: Whether the request is async
     *   - headers: Optional headers
     *   - crossDomain: true if a cross domain request, else false
     *   - createXHR: a function to override if you need to use an alternate
     *   XMLHttpRequest implementation.
     *   - resultSelector: a function to use to alter the output value type of
     *   the Observable. Gets {@link AjaxResponse} as an argument.
     * @return {Observable} An observable sequence containing the XMLHttpRequest.
     * @static true
     * @name ajax
     * @owner Observable
    */
return l(e,t),e.prototype._subscribe=function(t){return new g(t,this.request)},e.create=function(){var t=function(t){return new e(t)};return t.get=o,t.post=s,t.delete=a,t.put=u,t.getJSON=c,t}(),e}(d.Observable);e.AjaxObservable=y;/**
 * We need this JSDoc comment for affecting ESDoc.
 * @ignore
 * @extends {Ignored}
 */
var g=function(t){function e(e,n){t.call(this,e),this.request=n,this.done=!1;var r=n.headers=n.headers||{};
// force CORS if requested
n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),
// ensure content type is set
"Content-Type"in r||f.root.FormData&&n.body instanceof f.root.FormData||void 0===n.body||(r["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),
// properly serialize body
n.body=this.serializeBody(n.body,n.headers["Content-Type"]),this.send()}return l(e,t),e.prototype.next=function(t){this.done=!0;var e=this,n=e.xhr,r=e.request,i=e.destination,o=new b(t,n,r);i.next(o)},e.prototype.send=function(){var t=this,e=t.request,n=t.request,r=n.user,i=n.method,o=n.url,s=n.async,a=n.password,u=n.headers,c=n.body,l=e.createXHR,f=p.tryCatch(l).call(e);if(f===h.errorObject)this.error(h.errorObject.e);else{this.xhr=f;if((r?p.tryCatch(f.open).call(f,i,o,s,r,a):p.tryCatch(f.open).call(f,i,o,s))===h.errorObject)return this.error(h.errorObject.e),null;if(
// timeout and responseType can be set once the XHR is open
f.timeout=e.timeout,f.responseType=e.responseType,
// set headers
this.setHeaders(f,u),
// now set up the events
this.setupEvents(f,e),(c?p.tryCatch(f.send).call(f,c):p.tryCatch(f.send).call(f))===h.errorObject)return this.error(h.errorObject.e),null}return f},e.prototype.serializeBody=function(t,e){if(!t||"string"==typeof t)return t;if(f.root.FormData&&t instanceof f.root.FormData)return t;if(e){var n=e.indexOf(";");-1!==n&&(e=e.substring(0,n))}switch(e){case"application/x-www-form-urlencoded":return Object.keys(t).map(function(e){return encodeURI(e)+"="+encodeURI(t[e])}).join("&");case"application/json":return JSON.stringify(t);default:return t}},e.prototype.setHeaders=function(t,e){for(var n in e)e.hasOwnProperty(n)&&t.setRequestHeader(n,e[n])},e.prototype.setupEvents=function(t,e){function n(t){var e=n,r=e.subscriber,i=e.progressSubscriber,o=e.request;i&&i.error(t),r.error(new _(this,o))}function r(t){var e=r,n=e.subscriber,i=e.progressSubscriber,o=e.request;if(4===this.readyState){
// normalize IE9 bug (http://bugs.jquery.com/ticket/1450)
var s=1223===this.status?204:this.status,a="text"===this.responseType?this.response||this.responseText:this.response;
// fix status code when it is 0 (0 status is undocumented).
// Occurs when accessing file resources or on Android 4.1 stock browser
// while retrieving files from application cache.
0===s&&(s=a?200:0),200<=s&&s<300?(i&&i.complete(),n.next(t),n.complete()):(i&&i.error(t),n.error(new w("ajax error "+s,this,o)))}}var i=e.progressSubscriber;if(t.ontimeout=n,n.request=e,n.subscriber=this,n.progressSubscriber=i,t.upload&&"withCredentials"in t&&f.root.XDomainRequest){if(i){var o;o=function(t){o.progressSubscriber.next(t)},t.onprogress=o,o.progressSubscriber=i}var s;s=function(t){var e=s,n=e.progressSubscriber,r=e.subscriber,i=e.request;n&&n.error(t),r.error(new w("ajax error",this,i))},t.onerror=s,s.request=e,s.subscriber=this,s.progressSubscriber=i}t.onreadystatechange=r,r.subscriber=this,r.progressSubscriber=i,r.request=e},e.prototype.unsubscribe=function(){var e=this,n=e.done,r=e.xhr;!n&&r&&4!==r.readyState&&"function"==typeof r.abort&&r.abort(),t.prototype.unsubscribe.call(this)},e}(m.Subscriber);e.AjaxSubscriber=g;/**
 * A normalized AJAX response.
 *
 * @see {@link ajax}
 *
 * @class AjaxResponse
 */
var b=function(){function t(t,e,n){switch(this.originalEvent=t,this.xhr=e,this.request=n,this.status=e.status,this.responseType=e.responseType||n.responseType,this.responseType){case"json":
//IE does not support json as responseType, parse it internally
this.response="response"in e?e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):JSON.parse(e.responseText||"null");break;case"xml":this.response=e.responseXML;break;case"text":default:this.response="response"in e?e.response:e.responseText}}return t}();e.AjaxResponse=b;/**
 * A normalized AJAX error.
 *
 * @see {@link ajax}
 *
 * @class AjaxError
 */
var w=function(t){function e(e,n,r){t.call(this,e),this.message=e,this.xhr=n,this.request=r,this.status=n.status}return l(e,t),e}(Error);e.AjaxError=w;/**
 * @see {@link ajax}
 *
 * @class AjaxTimeoutError
 */
var _=function(t){function e(e,n){t.call(this,"ajax timeout",e,n)}return l(e,t),e}(w);e.AjaxTimeoutError=_},/* 293 */
/***/
function(t,e,n){"use strict";var r=n(985);e.forkJoin=r.ForkJoinObservable.create},/* 294 */
/***/
function(t,e,n){"use strict";var r=n(290);e.from=r.FromObservable.create},/* 295 */
/***/
function(t,e,n){"use strict";var r=n(305);e.merge=r.mergeStatic},/* 296 */
/***/
function(t,e,n){"use strict";var r=n(57);e.of=r.ArrayObservable.of},/* 297 */
/***/
function(t,e,n){"use strict";/**
 * Catches errors on the observable to be handled by returning a new observable or throwing an error.
 * @param {function} selector a function that takes as arguments `err`, which is the error, and `caught`, which
 *  is the source observable, in case you'd like to "retry" that observable by returning it again. Whatever observable
 *  is returned by the `selector` will be used to continue the observable chain.
 * @return {Observable} an observable that originates from either the source or the observable returned by the
 *  catch `selector` function.
 * @method catch
 * @name catch
 * @owner Observable
 */
function r(t){var e=new a(t),n=this.lift(e);return e.caught=n}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),s=n(8);e._catch=r;var a=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.selector,this.caught))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.selector=n,this.caught=r}
// NOTE: overriding `error` instead of `_error` because we don't want
// to have this flag this subscriber as `isStopped`.
return i(e,t),e.prototype.error=function(t){if(!this.isStopped){var e=void 0;try{e=this.selector(t,this.caught)}catch(t){return void this.destination.error(t)}this.unsubscribe(),this.destination.remove(this),s.subscribeToResult(this,e)}},e}(o.OuterSubscriber)},/* 298 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Converts a higher-order Observable into a first-order Observable by
 * concatenating the inner Observables in order.
 *
 * <span class="informal">Flattens an Observable-of-Observables by putting one
 * inner Observable after the other.</span>
 *
 * <img src="./img/concatAll.png" width="100%">
 *
 * Joins every Observable emitted by the source (a higher-order Observable), in
 * a serial fashion. It subscribes to each inner Observable only after the
 * previous inner Observable has completed, and merges all of their values into
 * the returned observable.
 *
 * __Warning:__ If the source Observable emits Observables quickly and
 * endlessly, and the inner Observables it emits generally complete slower than
 * the source emits, you can run into memory issues as the incoming Observables
 * collect in an unbounded buffer.
 *
 * Note: `concatAll` is equivalent to `mergeAll` with concurrency parameter set
 * to `1`.
 *
 * @example <caption>For each click event, tick every second from 0 to 3, with no concurrency</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var higherOrder = clicks.map(ev => Rx.Observable.interval(1000).take(4));
 * var firstOrder = higherOrder.concatAll();
 * firstOrder.subscribe(x => console.log(x));
 *
 * // Results in the following:
 * // (results are not concurrent)
 * // For every click on the "document" it will emit values 0 to 3 spaced
 * // on a 1000ms interval
 * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3
 *
 * @see {@link combineAll}
 * @see {@link concat}
 * @see {@link concatMap}
 * @see {@link concatMapTo}
 * @see {@link exhaust}
 * @see {@link mergeAll}
 * @see {@link switch}
 * @see {@link zipAll}
 *
 * @return {Observable} An Observable emitting values from all the inner
 * Observables concatenated.
 * @method concatAll
 * @owner Observable
 */
function r(){return this.lift(new i.MergeAllOperator(1))}var i=n(103);e.concatAll=r},/* 299 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Projects each source value to an Observable which is merged in the output
 * Observable, in a serialized fashion waiting for each one to complete before
 * merging the next.
 *
 * <span class="informal">Maps each value to an Observable, then flattens all of
 * these inner Observables using {@link concatAll}.</span>
 *
 * <img src="./img/concatMap.png" width="100%">
 *
 * Returns an Observable that emits items based on applying a function that you
 * supply to each item emitted by the source Observable, where that function
 * returns an (so-called "inner") Observable. Each new inner Observable is
 * concatenated with the previous inner Observable.
 *
 * __Warning:__ if source values arrive endlessly and faster than their
 * corresponding inner Observables can complete, it will result in memory issues
 * as inner Observables amass in an unbounded buffer waiting for their turn to
 * be subscribed to.
 *
 * Note: `concatMap` is equivalent to `mergeMap` with concurrency parameter set
 * to `1`.
 *
 * @example <caption>For each click event, tick every second from 0 to 3, with no concurrency</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks.concatMap(ev => Rx.Observable.interval(1000).take(4));
 * result.subscribe(x => console.log(x));
 *
 * // Results in the following:
 * // (results are not concurrent)
 * // For every click on the "document" it will emit values 0 to 3 spaced
 * // on a 1000ms interval
 * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3
 *
 * @see {@link concat}
 * @see {@link concatAll}
 * @see {@link concatMapTo}
 * @see {@link exhaustMap}
 * @see {@link mergeMap}
 * @see {@link switchMap}
 *
 * @param {function(value: T, ?index: number): Observable} project A function
 * that, when applied to an item emitted by the source Observable, returns an
 * Observable.
 * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]
 * A function to produce the value on the output Observable based on the values
 * and the indices of the source (outer) emission and the inner Observable
 * emission. The arguments passed to this function are:
 * - `outerValue`: the value that came from the source
 * - `innerValue`: the value that came from the projected Observable
 * - `outerIndex`: the "index" of the value that came from the source
 * - `innerIndex`: the "index" of the value from the projected Observable
 * @return {Observable} an observable of values merged from the projected
 * Observables as they were subscribed to, one at a time. Optionally, these
 * values may have been projected from a passed `projectResult` argument.
 * @return {Observable} An Observable that emits the result of applying the
 * projection function (and the optional `resultSelector`) to each item emitted
 * by the source Observable and taking values from each projected inner
 * Observable sequentially.
 * @method concatMap
 * @owner Observable
 */
function r(t,e){return this.lift(new i.MergeMapOperator(t,e,1))}var i=n(184);e.concatMap=r},/* 300 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from the previous item.
 * If a comparator function is provided, then it will be called for each item to test for whether or not that value should be emitted.
 * If a comparator function is not provided, an equality check is used by default.
 * @param {function} [compare] optional comparison function called to test if an item is distinct from the previous item in the source.
 * @return {Observable} an Observable that emits items from the source Observable with distinct values.
 * @method distinctUntilChanged
 * @owner Observable
 */
function r(t,e){return this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),s=n(28),a=n(24);e.distinctUntilChanged=r;var u=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.compare,this.keySelector))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.keySelector=r,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}return i(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=this.keySelector,n=t;if(e&&(n=s.tryCatch(this.keySelector)(t))===a.errorObject)return this.destination.error(a.errorObject.e);var r=!1;if(this.hasKey){if((r=s.tryCatch(this.compare)(this.key,n))===a.errorObject)return this.destination.error(a.errorObject.e)}else this.hasKey=!0;!1===Boolean(r)&&(this.key=n,this.destination.next(t))},e}(o.Subscriber)},/* 301 */
/***/
function(t,e,n){"use strict";/**
 * Returns an Observable that emits whether or not every item of the source satisfies the condition specified.
 * @param {function} predicate a function for determining if an item meets a specified condition.
 * @param {any} [thisArg] optional object to use for `this` in the callback
 * @return {Observable} an Observable of booleans that determines if all items of the source Observable meet the condition specified.
 * @method every
 * @owner Observable
 */
function r(t,e){return this.lift(new s(t,e,this))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.every=r;var s=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg,this.source))},t}(),a=function(t){function e(e,n,r,i){t.call(this,e),this.predicate=n,this.thisArg=r,this.source=i,this.index=0,this.thisArg=r||this}return i(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(o.Subscriber)},/* 302 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Emits only the first value emitted by the source Observable that meets some
 * condition.
 *
 * <span class="informal">Finds the first value that passes some test and emits
 * that.</span>
 *
 * <img src="./img/find.png" width="100%">
 *
 * `find` searches for the first item in the source Observable that matches the
 * specified condition embodied by the `predicate`, and returns the first
 * occurrence in the source. Unlike {@link first}, the `predicate` is required
 * in `find`, and does not emit an error if a valid value is not found.
 *
 * @example <caption>Find and emit the first click that happens on a DIV element</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks.find(ev => ev.target.tagName === 'DIV');
 * result.subscribe(x => console.log(x));
 *
 * @see {@link filter}
 * @see {@link first}
 * @see {@link findIndex}
 * @see {@link take}
 *
 * @param {function(value: T, index: number, source: Observable<T>): boolean} predicate
 * A function called with each item to test for condition matching.
 * @param {any} [thisArg] An optional argument to determine the value of `this`
 * in the `predicate` function.
 * @return {Observable<T>} An Observable of the first item that matches the
 * condition.
 * @method find
 * @owner Observable
 */
function r(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return this.lift(new s(t,this,!1,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.find=r;var s=function(){function t(t,e,n,r){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=r}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}();e.FindValueOperator=s;/**
 * We need this JSDoc comment for affecting ESDoc.
 * @ignore
 * @extends {Ignored}
 */
var a=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.source=r,this.yieldIndex=i,this.thisArg=o,this.index=0}return i(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){var e=this,n=e.predicate,r=e.thisArg,i=this.index++;try{n.call(r||this,t,i,this.source)&&this.notifyComplete(this.yieldIndex?i:t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(o.Subscriber);e.FindValueSubscriber=a},/* 303 */
/***/
function(t,e,n){"use strict";/**
 * Emits only the first value (or the first value that meets some condition)
 * emitted by the source Observable.
 *
 * <span class="informal">Emits only the first value. Or emits only the first
 * value that passes some test.</span>
 *
 * <img src="./img/first.png" width="100%">
 *
 * If called with no arguments, `first` emits the first value of the source
 * Observable, then completes. If called with a `predicate` function, `first`
 * emits the first value of the source that matches the specified condition. It
 * may also take a `resultSelector` function to produce the output value from
 * the input value, and a `defaultValue` to emit in case the source completes
 * before it is able to emit a valid value. Throws an error if `defaultValue`
 * was not provided and a matching element is not found.
 *
 * @example <caption>Emit only the first click that happens on the DOM</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks.first();
 * result.subscribe(x => console.log(x));
 *
 * @example <caption>Emits the first click that happens on a DIV</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks.first(ev => ev.target.tagName === 'DIV');
 * result.subscribe(x => console.log(x));
 *
 * @see {@link filter}
 * @see {@link find}
 * @see {@link take}
 *
 * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`
 * callback if the Observable completes before any `next` notification was sent.
 *
 * @param {function(value: T, index: number, source: Observable<T>): boolean} [predicate]
 * An optional function called with each item to test for condition matching.
 * @param {function(value: T, index: number): R} [resultSelector] A function to
 * produce the value on the output Observable based on the values
 * and the indices of the source Observable. The arguments passed to this
 * function are:
 * - `value`: the value that was emitted on the source.
 * - `index`: the "index" of the value from the source.
 * @param {R} [defaultValue] The default value emitted in case no valid value
 * was found on the source.
 * @return {Observable<T|R>} an Observable of the first item that matches the
 * condition.
 * @method first
 * @owner Observable
 */
function r(t,e,n){return this.lift(new a(t,e,n,this))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),s=n(107);e.first=r;var a=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),u=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return i(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}n&&this._emit(t,e)},e.prototype._emit=function(t,e){if(this.resultSelector)return void this._tryResultSelector(t,e);this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(n)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||t.error(new s.EmptyError):(t.next(this.defaultValue),t.complete())},e}(o.Subscriber)},/* 304 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Returns an Observable that emits only the last item emitted by the source Observable.
 * It optionally takes a predicate function as a parameter, in which case, rather than emitting
 * the last item from the source Observable, the resulting Observable will emit the last item
 * from the source Observable that satisfies the predicate.
 *
 * <img src="./img/last.png" width="100%">
 *
 * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`
 * callback if the Observable completes before any `next` notification was sent.
 * @param {function} predicate - the condition any source emitted item has to satisfy.
 * @return {Observable} an Observable that emits only the last item satisfying the given condition
 * from the source, or an NoSuchElementException if no such items are emitted.
 * @throws - Throws if no items that match the predicate are emitted by the source Observable.
 * @method last
 * @owner Observable
 */
function r(t,e,n){return this.lift(new a(t,e,n,this))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),s=n(107);e.last=r;var a=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),u=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,void 0!==i&&(this.lastValue=i,this.hasValue=!0)}return i(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(n){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=n,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new s.EmptyError)},e}(o.Subscriber)},/* 305 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Creates an output Observable which concurrently emits all values from every
 * given input Observable.
 *
 * <span class="informal">Flattens multiple Observables together by blending
 * their values into one Observable.</span>
 *
 * <img src="./img/merge.png" width="100%">
 *
 * `merge` subscribes to each given input Observable (either the source or an
 * Observable given as argument), and simply forwards (without doing any
 * transformation) all the values from all the input Observables to the output
 * Observable. The output Observable only completes once all input Observables
 * have completed. Any error delivered by an input Observable will be immediately
 * emitted on the output Observable.
 *
 * @example <caption>Merge together two Observables: 1s interval and clicks</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var timer = Rx.Observable.interval(1000);
 * var clicksOrTimer = clicks.merge(timer);
 * clicksOrTimer.subscribe(x => console.log(x));
 *
 * @example <caption>Merge together 3 Observables, but only 2 run concurrently</caption>
 * var timer1 = Rx.Observable.interval(1000).take(10);
 * var timer2 = Rx.Observable.interval(2000).take(6);
 * var timer3 = Rx.Observable.interval(500).take(10);
 * var concurrent = 2; // the argument
 * var merged = timer1.merge(timer2, timer3, concurrent);
 * merged.subscribe(x => console.log(x));
 *
 * @see {@link mergeAll}
 * @see {@link mergeMap}
 * @see {@link mergeMapTo}
 * @see {@link mergeScan}
 *
 * @param {Observable} other An input Observable to merge with the source
 * Observable. More than one input Observables may be given as argument.
 * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input
 * Observables being subscribed to concurrently.
 * @param {Scheduler} [scheduler=null] The Scheduler to use for managing
 * concurrency of input Observables.
 * @return {Observable} an Observable that emits items that are the result of
 * every input Observable.
 * @method merge
 * @owner Observable
 */
function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.lift.call(i.apply(void 0,[this].concat(t)))}/* tslint:enable:max-line-length */
/**
 * Creates an output Observable which concurrently emits all values from every
 * given input Observable.
 *
 * <span class="informal">Flattens multiple Observables together by blending
 * their values into one Observable.</span>
 *
 * <img src="./img/merge.png" width="100%">
 *
 * `merge` subscribes to each given input Observable (as arguments), and simply
 * forwards (without doing any transformation) all the values from all the input
 * Observables to the output Observable. The output Observable only completes
 * once all input Observables have completed. Any error delivered by an input
 * Observable will be immediately emitted on the output Observable.
 *
 * @example <caption>Merge together two Observables: 1s interval and clicks</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var timer = Rx.Observable.interval(1000);
 * var clicksOrTimer = Rx.Observable.merge(clicks, timer);
 * clicksOrTimer.subscribe(x => console.log(x));
 *
 * // Results in the following:
 * // timer will emit ascending values, one every second(1000ms) to console
 * // clicks logs MouseEvents to console everytime the "document" is clicked
 * // Since the two streams are merged you see these happening
 * // as they occur.
 *
 * @example <caption>Merge together 3 Observables, but only 2 run concurrently</caption>
 * var timer1 = Rx.Observable.interval(1000).take(10);
 * var timer2 = Rx.Observable.interval(2000).take(6);
 * var timer3 = Rx.Observable.interval(500).take(10);
 * var concurrent = 2; // the argument
 * var merged = Rx.Observable.merge(timer1, timer2, timer3, concurrent);
 * merged.subscribe(x => console.log(x));
 *
 * // Results in the following:
 * // - First timer1 and timer2 will run concurrently
 * // - timer1 will emit a value every 1000ms for 10 iterations
 * // - timer2 will emit a value every 2000ms for 6 iterations
 * // - after timer1 hits it's max iteration, timer2 will
 * //   continue, and timer3 will start to run concurrently with timer2
 * // - when timer2 hits it's max iteration it terminates, and
 * //   timer3 will continue to emit a value every 500ms until it is complete
 *
 * @see {@link mergeAll}
 * @see {@link mergeMap}
 * @see {@link mergeMapTo}
 * @see {@link mergeScan}
 *
 * @param {...Observable} observables Input Observables to merge together.
 * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input
 * Observables being subscribed to concurrently.
 * @param {Scheduler} [scheduler=null] The Scheduler to use for managing
 * concurrency of input Observables.
 * @return {Observable} an Observable that emits items that are the result of
 * every input Observable.
 * @static true
 * @name merge
 * @owner Observable
 */
function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return a.isScheduler(i)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===r&&1===t.length?t[0]:new o.ArrayObservable(t,r).lift(new s.MergeAllOperator(n))}var o=n(57),s=n(103),a=n(64);e.merge=r,e.mergeStatic=i},/* 306 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Projects each source value to the same Observable which is merged multiple
 * times in the output Observable.
 *
 * <span class="informal">It's like {@link mergeMap}, but maps each value always
 * to the same inner Observable.</span>
 *
 * <img src="./img/mergeMapTo.png" width="100%">
 *
 * Maps each source value to the given Observable `innerObservable` regardless
 * of the source value, and then merges those resulting Observables into one
 * single Observable, which is the output Observable.
 *
 * @example <caption>For each click event, start an interval Observable ticking every 1 second</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks.mergeMapTo(Rx.Observable.interval(1000));
 * result.subscribe(x => console.log(x));
 *
 * @see {@link concatMapTo}
 * @see {@link merge}
 * @see {@link mergeAll}
 * @see {@link mergeMap}
 * @see {@link mergeScan}
 * @see {@link switchMapTo}
 *
 * @param {Observable} innerObservable An Observable to replace each value from
 * the source Observable.
 * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]
 * A function to produce the value on the output Observable based on the values
 * and the indices of the source (outer) emission and the inner Observable
 * emission. The arguments passed to this function are:
 * - `outerValue`: the value that came from the source
 * - `innerValue`: the value that came from the projected Observable
 * - `outerIndex`: the "index" of the value that came from the source
 * - `innerIndex`: the "index" of the value from the projected Observable
 * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input
 * Observables being subscribed to concurrently.
 * @return {Observable} An Observable that emits items from the given
 * `innerObservable` (and optionally transformed through `resultSelector`) every
 * time a value is emitted on the source Observable.
 * @method mergeMapTo
 * @owner Observable
 */
function r(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"number"==typeof e&&(n=e,e=null),this.lift(new a(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),s=n(8);e.mergeMapTo=r;
// TODO: Figure out correct signature here: an Operator<Observable<T>, R>
//       needs to implement call(observer: Subscriber<R>): Subscriber<Observable<T>>
var a=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.ish=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.ish,this.resultSelector,this.concurrent))},t}();e.MergeMapToOperator=a;/**
 * We need this JSDoc comment for affecting ESDoc.
 * @ignore
 * @extends {Ignored}
 */
var u=function(t){function e(e,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.ish=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.resultSelector,n=this.index++,r=this.ish,i=this.destination;this.active++,this._innerSub(r,i,e,t,n)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,n,r,i){this.add(s.subscribeToResult(this,t,r,i))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this,s=o.resultSelector,a=o.destination;s?this.trySelectResult(t,e,n,r):a.next(e)},e.prototype.trySelectResult=function(t,e,n,r){var i,o=this,s=o.resultSelector,a=o.destination;try{i=s(t,e,n,r)}catch(t){return void a.error(t)}a.next(i)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber);e.MergeMapToSubscriber=u},/* 307 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&a.isArray(t[0])&&(t=t[0]),this.lift(new l(t))}/* tslint:enable:max-line-length */
function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null;return 1===t.length&&a.isArray(t[0])&&(t=t[0]),n=t.shift(),new s.FromObservable(n,null).lift(new l(t))}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n(290),a=n(52),u=n(7),c=n(8);e.onErrorResumeNext=r,e.onErrorResumeNextStatic=i;var l=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.nextSources))},t}(),f=function(t){function e(e,n){t.call(this,e),this.destination=e,this.nextSources=n}return o(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource()},e.prototype._complete=function(){this.subscribeToNextSource()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();t?this.add(c.subscribeToResult(this,t)):this.destination.complete()},e}(u.OuterSubscriber)},/* 308 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Returns an Observable that mirrors the first source Observable to emit an item
 * from the combination of this Observable and supplied Observables
 * @param {...Observables} ...observables sources used to race for which Observable emits first.
 * @return {Observable} an Observable that mirrors the output of the first Observable to emit an item.
 * @method race
 * @owner Observable
 */
function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];
// if the only argument is an array, it was most likely called with
// `pair([obs1, obs2, ...])`
return 1===t.length&&s.isArray(t[0])&&(t=t[0]),this.lift.call(i.apply(void 0,[this].concat(t)))}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];
// if the only argument is an array, it was most likely called with
// `pair([obs1, obs2, ...])`
if(1===t.length){if(!s.isArray(t[0]))return t[0];t=t[0]}return new a.ArrayObservable(t).lift(new l)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n(52),a=n(57),u=n(7),c=n(8);e.race=r,e.raceStatic=i;var l=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new f(t))},t}();e.RaceOperator=l;/**
 * We need this JSDoc comment for affecting ESDoc.
 * @ignore
 * @extends {Ignored}
 */
var f=function(t){function e(e){t.call(this,e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return o(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],i=c.subscribeToResult(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(u.OuterSubscriber);e.RaceSubscriber=f},/* 309 */
/***/
function(t,e,n){"use strict";function r(){return new s.Subject}/**
 * Returns a new Observable that multicasts (shares) the original Observable. As long as there is at least one
 * Subscriber this Observable will be subscribed and emitting data. When all subscribers have unsubscribed it will
 * unsubscribe from the source Observable. Because the Observable is multicasting it makes the stream `hot`.
 * This is an alias for .publish().refCount().
 *
 * <img src="./img/share.png" width="100%">
 *
 * @return {Observable<T>} an Observable that upon connection causes the source Observable to emit items to its Observers
 * @method share
 * @owner Observable
 */
function i(){return o.multicast.call(this,r).refCount()}var o=n(86),s=n(17);e.share=i},/* 310 */
/***/
function(t,e,n){"use strict";/**
 * @param scheduler
 * @return {Observable<TimeInterval<any>>|WebSocketSubject<T>|Observable<T>}
 * @method timeInterval
 * @owner Observable
 */
function r(t){return void 0===t&&(t=s.async),this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),s=n(35);e.timeInterval=r;var a=function(){function t(t,e){this.value=t,this.interval=e}return t}();e.TimeInterval=a;var u=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.scheduler))},t}(),c=function(t){function e(e,n){t.call(this,e),this.scheduler=n,this.lastTime=0,this.lastTime=n.now()}return i(e,t),e.prototype._next=function(t){var e=this.scheduler.now(),n=e-this.lastTime;this.lastTime=e,this.destination.next(new a(t,n))},e}(o.Subscriber)},/* 311 */
/***/
function(t,e,n){"use strict";/**
 * @param scheduler
 * @return {Observable<Timestamp<any>>|WebSocketSubject<T>|Observable<T>}
 * @method timestamp
 * @owner Observable
 */
function r(t){return void 0===t&&(t=s.async),this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),s=n(35);e.timestamp=r;var a=function(){function t(t,e){this.value=t,this.timestamp=e}return t}();e.Timestamp=a;var u=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.scheduler))},t}(),c=function(t){function e(e,n){t.call(this,e),this.scheduler=n}return i(e,t),e.prototype._next=function(t){var e=this.scheduler.now();this.destination.next(new a(t,e))},e}(o.Subscriber)},/* 312 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(104),o=n(105),s=function(t){function e(e,n){var r=this;void 0===e&&(e=a),void 0===n&&(n=Number.POSITIVE_INFINITY),t.call(this,e,function(){return r.frame}),this.maxFrames=n,this.frame=0,this.index=-1}/**
     * Prompt the Scheduler to execute all of its queued actions, therefore
     * clearing its queue.
     * @return {void}
     */
return r(e,t),e.prototype.flush=function(){for(var t,e,n=this,r=n.actions,i=n.maxFrames;(e=r.shift())&&(this.frame=e.delay)<=i&&!(t=e.execute(e.state,e.delay)););if(t){for(;e=r.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(o.AsyncScheduler);e.VirtualTimeScheduler=s;/**
 * We need this JSDoc comment for affecting ESDoc.
 * @ignore
 * @extends {Ignored}
 */
var a=function(t){function e(e,n,r){void 0===r&&(r=e.index+=1),t.call(this,e,n),this.scheduler=e,this.work=n,this.index=r,this.index=e.index=r}return r(e,t),e.prototype.schedule=function(n,r){return void 0===r&&(r=0),this.id?this.add(new e(this.scheduler,this.work)).schedule(n,r):t.prototype.schedule.call(this,n,r)},e.prototype.requestAsyncId=function(t,n,r){void 0===r&&(r=0),this.delay=t.frame+r;var i=t.actions;return i.push(this),i.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,n){void 0===n&&(n=0)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(i.AsyncAction);e.VirtualAction=a},/* 313 */
/***/
function(t,e,n){"use strict";var r=n(1096),i=n(1097);e.asap=new i.AsapScheduler(r.AsapAction)},/* 314 */
/***/
function(t,e,n){"use strict";var r=n(1098),i=n(1099);e.queue=new i.QueueScheduler(r.QueueAction)},/* 315 */
/***/
function(t,e,n){"use strict";var r=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.subscribedFrame=t,this.unsubscribedFrame=e}return t}();e.SubscriptionLog=r},/* 316 */
/***/
function(t,e,n){"use strict";var r=n(315),i=function(){function t(){this.subscriptions=[]}return t.prototype.logSubscribedFrame=function(){return this.subscriptions.push(new r.SubscriptionLog(this.scheduler.now())),this.subscriptions.length-1},t.prototype.logUnsubscribedFrame=function(t){var e=this.subscriptions,n=e[t];e[t]=new r.SubscriptionLog(n.subscribedFrame,this.scheduler.now())},t}();e.SubscriptionLoggable=i},/* 317 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(){var e=t.call(this,"Timeout has occurred");this.name=e.name="TimeoutError",this.stack=e.stack,this.message=e.message}return r(e,t),e}(Error);e.TimeoutError=i},/* 318 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return r(e,t),e}(Error);e.UnsubscriptionError=i},/* 319 */
/***/
function(t,e,n){"use strict";function r(t,e){for(var n=0,r=e.length;n<r;n++)for(var i=e[n],o=Object.getOwnPropertyNames(i.prototype),s=0,a=o.length;s<a;s++){var u=o[s];t.prototype[u]=i.prototype[u]}}e.applyMixins=r},/* 320 */
/***/
function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t}e.isObject=r},/* 321 */
/***/
function(t,e,n){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}e.isPromise=r},/* 322 */
/***/
function(t,e,n){"use strict";/* tslint:disable:no-empty */
function r(){}e.noop=r},/* 323 */
/***/
function(t,e,n){function r(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;
// DOM APIs, for completeness
e.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},
// Does not start the time, just sets up the members needed.
e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},
// setimmediate attaches itself to the global object
n(1114),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},/* 324 */
,/* 325 */
,/* 326 */
/***/
function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=326},/* 327 */
/***/
function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} method
 * @return {?}
 */
function r(t){if("string"!=typeof t)return t;switch(t.toUpperCase()){case"GET":return b.Get;case"POST":return b.Post;case"PUT":return b.Put;case"DELETE":return b.Delete;case"OPTIONS":return b.Options;case"HEAD":return b.Head;case"PATCH":return b.Patch}throw new Error('Invalid request method. The method "'+t+'" is not supported.')}/**
 * @param {?} xhr
 * @return {?}
 */
function i(t){return"responseURL"in t?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):void 0}/**
 * @param {?} input
 * @return {?}
 */
function o(t){for(var/** @type {?} */e=new Uint16Array(t.length),/** @type {?} */n=0,/** @type {?} */r=t.length;n<r;n++)e[n]=t.charCodeAt(n);return e.buffer}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 * @param {?=} rawParams
 * @return {?}
 */
function s(t){void 0===t&&(t="");var/** @type {?} */e=new Map;if(t.length>0){t.split("&").forEach(function(t){var/** @type {?} */n=t.indexOf("="),r=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)],i=r[0],o=r[1],/** @type {?} */s=e.get(i)||[];s.push(o),e.set(i,s)})}return e}/**
 * @param {?} v
 * @return {?}
 */
function a(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}/**
 * @return {?}
 */
function u(){var/** @type {?} */t="object"==typeof window?window:{};return null===L&&(L=t[D]={}),L}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} backend
 * @param {?} request
 * @return {?}
 */
function c(t,e){return t.createConnection(e).response}/**
 * @param {?} defaultOpts
 * @param {?} providedOpts
 * @param {?} method
 * @param {?} url
 * @return {?}
 */
function l(t,e,n,r){var/** @type {?} */i=t;return e?i.merge(new X({method:e.method||n,url:e.url||r,search:e.search,params:e.params,headers:e.headers,body:e.body,withCredentials:e.withCredentials,responseType:e.responseType})):i.merge(new X({method:n,url:r}))}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @module
 * @description
 * The http module provides services to perform http requests. To get started, see the {@link Http}
 * class.
 */
/**
 * @return {?}
 */
function f(){return new $}/**
 * @param {?} xhrBackend
 * @param {?} requestOptions
 * @return {?}
 */
function p(t,e){return new rt(t,e)}/**
 * @param {?} jsonpBackend
 * @param {?} requestOptions
 * @return {?}
 */
function h(t,e){return new it(t,e)}Object.defineProperty(e,"__esModule",{value:!0});/* harmony import */
var d=n(23),m=n(0),v=(n.n(m),n(72));/* harmony export (binding) */
n.d(e,"BrowserXhr",function(){return g}),/* harmony export (binding) */
n.d(e,"JSONPBackend",function(){return q}),/* harmony export (binding) */
n.d(e,"JSONPConnection",function(){return B}),/* harmony export (binding) */
n.d(e,"CookieXSRFStrategy",function(){return $}),/* harmony export (binding) */
n.d(e,"XHRBackend",function(){return Y}),/* harmony export (binding) */
n.d(e,"XHRConnection",function(){return W}),/* harmony export (binding) */
n.d(e,"BaseRequestOptions",function(){return Z}),/* harmony export (binding) */
n.d(e,"RequestOptions",function(){return X}),/* harmony export (binding) */
n.d(e,"BaseResponseOptions",function(){return N}),/* harmony export (binding) */
n.d(e,"ResponseOptions",function(){return S}),/* harmony export (binding) */
n.d(e,"ReadyState",function(){return w}),/* harmony export (binding) */
n.d(e,"RequestMethod",function(){return b}),/* harmony export (binding) */
n.d(e,"ResponseContentType",function(){return E}),/* harmony export (binding) */
n.d(e,"ResponseType",function(){return _}),/* harmony export (binding) */
n.d(e,"Headers",function(){return C}),/* harmony export (binding) */
n.d(e,"Http",function(){return rt}),/* harmony export (binding) */
n.d(e,"Jsonp",function(){return it}),/* harmony export (binding) */
n.d(e,"HttpModule",function(){return ot}),/* harmony export (binding) */
n.d(e,"JsonpModule",function(){return st}),/* harmony export (binding) */
n.d(e,"Connection",function(){return O}),/* harmony export (binding) */
n.d(e,"ConnectionBackend",function(){return M}),/* harmony export (binding) */
n.d(e,"XSRFStrategy",function(){return T}),/* harmony export (binding) */
n.d(e,"Request",function(){return K}),/* harmony export (binding) */
n.d(e,"Response",function(){return R}),/* harmony export (binding) */
n.d(e,"QueryEncoder",function(){return P}),/* harmony export (binding) */
n.d(e,"URLSearchParams",function(){return k}),/* harmony export (binding) */
n.d(e,"VERSION",function(){return at}),/* harmony export (binding) */
n.d(e,"g",function(){return F}),/* harmony export (binding) */
n.d(e,"a",function(){return H}),/* harmony export (binding) */
n.d(e,"f",function(){return I}),/* harmony export (binding) */
n.d(e,"b",function(){return f}),/* harmony export (binding) */
n.d(e,"c",function(){return p}),/* harmony export (binding) */
n.d(e,"d",function(){return h});var y=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},g=function(){function t(){}/**
     * @return {?}
     */
return t.prototype.build=function(){return new XMLHttpRequest},t}();g.decorators=[{type:d.Injectable}],/**
 * @nocollapse
 */
g.ctorParameters=function(){return[]};var b={};b.Get=0,b.Post=1,b.Put=2,b.Delete=3,b.Options=4,b.Head=5,b.Patch=6,b[b.Get]="Get",b[b.Post]="Post",b[b.Put]="Put",b[b.Delete]="Delete",b[b.Options]="Options",b[b.Head]="Head",b[b.Patch]="Patch";var w={};w.Unsent=0,w.Open=1,w.HeadersReceived=2,w.Loading=3,w.Done=4,w.Cancelled=5,w[w.Unsent]="Unsent",w[w.Open]="Open",w[w.HeadersReceived]="HeadersReceived",w[w.Loading]="Loading",w[w.Done]="Done",w[w.Cancelled]="Cancelled";var _={};_.Basic=0,_.Cors=1,_.Default=2,_.Error=3,_.Opaque=4,_[_.Basic]="Basic",_[_.Cors]="Cors",_[_.Default]="Default",_[_.Error]="Error",_[_.Opaque]="Opaque";var x={};x.NONE=0,x.JSON=1,x.FORM=2,x.FORM_DATA=3,x.TEXT=4,x.BLOB=5,x.ARRAY_BUFFER=6,x[x.NONE]="NONE",x[x.JSON]="JSON",x[x.FORM]="FORM",x[x.FORM_DATA]="FORM_DATA",x[x.TEXT]="TEXT",x[x.BLOB]="BLOB",x[x.ARRAY_BUFFER]="ARRAY_BUFFER";var E={};E.Text=0,E.Json=1,E.ArrayBuffer=2,E.Blob=3,E[E.Text]="Text",E[E.Json]="Json",E[E.ArrayBuffer]="ArrayBuffer",E[E.Blob]="Blob";/**
 * Polyfill for [Headers](https://developer.mozilla.org/en-US/docs/Web/API/Headers/Headers), as
 * specified in the [Fetch Spec](https://fetch.spec.whatwg.org/#headers-class).
 *
 * The only known difference between this `Headers` implementation and the spec is the
 * lack of an `entries` method.
 *
 * ### Example
 *
 * ```
 * import {Headers} from '\@angular/http';
 *
 * var firstHeaders = new Headers();
 * firstHeaders.append('Content-Type', 'image/jpeg');
 * console.log(firstHeaders.get('Content-Type')) //'image/jpeg'
 *
 * // Create headers from Plain Old JavaScript Object
 * var secondHeaders = new Headers({
 *   'X-My-Custom-Header': 'Angular'
 * });
 * console.log(secondHeaders.get('X-My-Custom-Header')); //'Angular'
 *
 * var thirdHeaders = new Headers(secondHeaders);
 * console.log(thirdHeaders.get('X-My-Custom-Header')); //'Angular'
 * ```
 *
 * \@experimental
 */
var C=function(){/**
     * @param {?=} headers
     */
function t(e){var n=this;if(/**
         * \@internal header names are lower case
         */
this._headers=new Map,/**
         * \@internal map lower case names to actual names
         */
this._normalizedNames=new Map,e)return e instanceof t?void e.forEach(function(t,e){t.forEach(function(t){return n.append(e,t)})}):void Object.keys(e).forEach(function(t){var r=Array.isArray(e[t])?e[t]:[e[t]];n.delete(t),r.forEach(function(e){return n.append(t,e)})})}/**
     * Returns a new Headers instance from the given DOMString of Response Headers
     * @param {?} headersString
     * @return {?}
     */
/**
     * Appends a header to existing list of header values for a given header name.
     * @param {?} name
     * @param {?} value
     * @return {?}
     */
/**
     * Deletes all header values for the given name.
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} fn
     * @return {?}
     */
/**
     * Returns first header that matches given name.
     * @param {?} name
     * @return {?}
     */
/**
     * Checks for existence of header by given name.
     * @param {?} name
     * @return {?}
     */
/**
     * Returns the names of the headers
     * @return {?}
     */
/**
     * Sets or overrides header value for given name.
     * @param {?} name
     * @param {?} value
     * @return {?}
     */
/**
     * Returns values of all headers.
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * Returns list of header values for a given name.
     * @param {?} name
     * @return {?}
     */
/**
     * This method is not implemented.
     * @return {?}
     */
/**
     * @param {?} name
     * @return {?}
     */
return t.fromResponseHeaderString=function(e){var/** @type {?} */n=new t;return e.split("\n").forEach(function(t){var/** @type {?} */e=t.indexOf(":");if(e>0){var/** @type {?} */r=t.slice(0,e),/** @type {?} */i=t.slice(e+1).trim();n.set(r,i)}}),n},t.prototype.append=function(t,e){var/** @type {?} */n=this.getAll(t);null===n?this.set(t,e):n.push(e)},t.prototype.delete=function(t){var/** @type {?} */e=t.toLowerCase();this._normalizedNames.delete(e),this._headers.delete(e)},t.prototype.forEach=function(t){var e=this;this._headers.forEach(function(n,r){return t(n,e._normalizedNames.get(r),e._headers)})},t.prototype.get=function(t){var/** @type {?} */e=this.getAll(t);return null===e?null:e.length>0?e[0]:null},t.prototype.has=function(t){return this._headers.has(t.toLowerCase())},t.prototype.keys=function(){return Array.from(this._normalizedNames.values())},t.prototype.set=function(t,e){Array.isArray(e)?e.length&&this._headers.set(t.toLowerCase(),[e.join(",")]):this._headers.set(t.toLowerCase(),[e]),this.mayBeSetNormalizedName(t)},t.prototype.values=function(){return Array.from(this._headers.values())},t.prototype.toJSON=function(){var t=this,/** @type {?} */e={};return this._headers.forEach(function(n,r){var/** @type {?} */i=[];n.forEach(function(t){return i.push.apply(i,t.split(","))}),e[t._normalizedNames.get(r)]=i}),e},t.prototype.getAll=function(t){return this.has(t)?this._headers.get(t.toLowerCase()):null},t.prototype.entries=function(){throw new Error('"entries" method is not implemented on Headers class')},t.prototype.mayBeSetNormalizedName=function(t){var/** @type {?} */e=t.toLowerCase();this._normalizedNames.has(e)||this._normalizedNames.set(e,t)},t}(),S=function(){/**
     * @param {?=} __0
     */
function t(t){var e=void 0===t?{}:t,n=e.body,r=e.status,i=e.headers,o=e.statusText,s=e.type,a=e.url;this.body=null!=n?n:null,this.status=null!=r?r:null,this.headers=null!=i?i:null,this.statusText=null!=o?o:null,this.type=null!=s?s:null,this.url=null!=a?a:null}/**
     * Creates a copy of the `ResponseOptions` instance, using the optional input as values to
     * override
     * existing values. This method will not change the values of the instance on which it is being
     * called.
     *
     * This may be useful when sharing a base `ResponseOptions` object inside tests,
     * where certain properties may change from test to test.
     *
     * ### Example ([live demo](http://plnkr.co/edit/1lXquqFfgduTFBWjNoRE?p=preview))
     *
     * ```typescript
     * import {ResponseOptions, Response} from '\@angular/http';
     *
     * var options = new ResponseOptions({
     *   body: {name: 'Jeff'}
     * });
     * var res = new Response(options.merge({
     *   url: 'https://google.com'
     * }));
     * console.log('options.url:', options.url); // null
     * console.log('res.json():', res.json()); // Object {name: "Jeff"}
     * console.log('res.url:', res.url); // https://google.com
     * ```
     * @param {?=} options
     * @return {?}
     */
return t.prototype.merge=function(e){return new t({body:e&&null!=e.body?e.body:this.body,status:e&&null!=e.status?e.status:this.status,headers:e&&null!=e.headers?e.headers:this.headers,statusText:e&&null!=e.statusText?e.statusText:this.statusText,type:e&&null!=e.type?e.type:this.type,url:e&&null!=e.url?e.url:this.url})},t}(),N=function(t){function e(){return t.call(this,{status:200,statusText:"Ok",type:_.Default,headers:new C})||this}return y(e,t),e}(S);N.decorators=[{type:d.Injectable}],/**
 * @nocollapse
 */
N.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Abstract class from which real backends are derived.
 *
 * The primary purpose of a `ConnectionBackend` is to create new connections to fulfill a given
 * {\@link Request}.
 *
 * \@experimental
 * @abstract
 */
var M=function(){function t(){}/**
     * @abstract
     * @param {?} request
     * @return {?}
     */
return t.prototype.createConnection=function(t){},t}(),O=function(){function t(){}return t}(),T=function(){function t(){}/**
     * @abstract
     * @param {?} req
     * @return {?}
     */
return t.prototype.configureRequest=function(t){},t}(),A=function(t){return t>=200&&t<300},P=function(){function t(){}/**
     * @param {?} k
     * @return {?}
     */
/**
     * @param {?} v
     * @return {?}
     */
return t.prototype.encodeKey=function(t){return a(t)},t.prototype.encodeValue=function(t){return a(t)},t}(),k=function(){/**
     * @param {?=} rawParams
     * @param {?=} queryEncoder
     */
function t(t,e){void 0===t&&(t=""),void 0===e&&(e=new P),this.rawParams=t,this.queryEncoder=e,this.paramsMap=s(t)}/**
     * @return {?}
     */
/**
     * @param {?} param
     * @return {?}
     */
/**
     * @param {?} param
     * @return {?}
     */
/**
     * @param {?} param
     * @return {?}
     */
/**
     * @param {?} param
     * @param {?} val
     * @return {?}
     */
/**
     * @param {?} searchParams
     * @return {?}
     */
/**
     * @param {?} param
     * @param {?} val
     * @return {?}
     */
/**
     * @param {?} searchParams
     * @return {?}
     */
/**
     * @param {?} searchParams
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} param
     * @return {?}
     */
return t.prototype.clone=function(){var/** @type {?} */e=new t("",this.queryEncoder);return e.appendAll(this),e},t.prototype.has=function(t){return this.paramsMap.has(t)},t.prototype.get=function(t){var/** @type {?} */e=this.paramsMap.get(t);return Array.isArray(e)?e[0]:null},t.prototype.getAll=function(t){return this.paramsMap.get(t)||[]},t.prototype.set=function(t,e){if(void 0===e||null===e)return void this.delete(t);var/** @type {?} */n=this.paramsMap.get(t)||[];n.length=0,n.push(e),this.paramsMap.set(t,n)},t.prototype.setAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var/** @type {?} */r=e.paramsMap.get(n)||[];r.length=0,r.push(t[0]),e.paramsMap.set(n,r)})},t.prototype.append=function(t,e){if(void 0!==e&&null!==e){var/** @type {?} */n=this.paramsMap.get(t)||[];n.push(e),this.paramsMap.set(t,n)}},t.prototype.appendAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){for(var/** @type {?} */r=e.paramsMap.get(n)||[],/** @type {?} */i=0;i<t.length;++i)r.push(t[i]);e.paramsMap.set(n,r)})},t.prototype.replaceAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var/** @type {?} */r=e.paramsMap.get(n)||[];r.length=0;for(var/** @type {?} */i=0;i<t.length;++i)r.push(t[i]);e.paramsMap.set(n,r)})},t.prototype.toString=function(){var t=this,/** @type {?} */e=[];return this.paramsMap.forEach(function(n,r){n.forEach(function(n){return e.push(t.queryEncoder.encodeKey(r)+"="+t.queryEncoder.encodeValue(n))})}),e.join("&")},t.prototype.delete=function(t){this.paramsMap.delete(t)},t}(),I=function(){function t(){}/**
     * Attempts to return body as parsed `JSON` object, or raises an exception.
     * @return {?}
     */
/**
     * Returns the body as a string, presuming `toString()` can be called on the response body.
     * @return {?}
     */
/**
     * Return the body as an ArrayBuffer
     * @return {?}
     */
/**
     * Returns the request's body as a Blob, assuming that body exists.
     * @return {?}
     */
return t.prototype.json=function(){/** @type {?} */
return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body},t.prototype.text=function(){/** @type {?} */
return this._body instanceof k?this._body.toString():this._body instanceof ArrayBuffer?String.fromCharCode.apply(null,new Uint16Array(this._body)):null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()},t.prototype.arrayBuffer=function(){return this._body instanceof ArrayBuffer?this._body:o(this.text())},t.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")},t}(),R=function(t){/**
     * @param {?} responseOptions
     */
function e(e){var n=t.call(this)||this;return n._body=e.body,n.status=e.status,n.ok=n.status>=200&&n.status<=299,n.statusText=e.statusText,n.headers=e.headers,n.type=e.type,n.url=e.url,n}/**
     * @return {?}
     */
return y(e,t),e.prototype.toString=function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url},e}(I),j=0,D="__ng_jsonp__",L=null,F=function(){function t(){}/**
     * @param {?} url
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} id
     * @return {?}
     */
/**
     * @param {?} id
     * @param {?} connection
     * @return {?}
     */
/**
     * @param {?} id
     * @return {?}
     */
/**
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} node
     * @return {?}
     */
return t.prototype.build=function(t){var/** @type {?} */e=document.createElement("script");return e.src=t,e},t.prototype.nextRequestID=function(){return"__req"+j++},t.prototype.requestCallback=function(t){return D+"."+t+".finished"},t.prototype.exposeConnection=function(t,e){u()[t]=e},t.prototype.removeConnection=function(t){u()[t]=null},t.prototype.send=function(t){document.body.appendChild(/** @type {?} */t)},t.prototype.cleanup=function(t){t.parentNode&&t.parentNode.removeChild(/** @type {?} */t)},t}();F.decorators=[{type:d.Injectable}],/**
 * @nocollapse
 */
F.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var U="JSONP injected script did not invoke callback.",V="JSONP requests must use GET request method.",B=function(){function t(){}/**
     * Callback called when the JSONP request completes, to notify the application
     * of the new data.
     * @abstract
     * @param {?=} data
     * @return {?}
     */
return t.prototype.finished=function(t){},t}(),z=function(t){/**
     * @param {?} req
     * @param {?} _dom
     * @param {?=} baseResponseOptions
     */
function e(e,n,r){var i=t.call(this)||this;if(i._dom=n,i.baseResponseOptions=r,i._finished=!1,e.method!==b.Get)throw new TypeError(V);return i.request=e,i.response=new m.Observable(function(t){i.readyState=w.Loading;var o=i._id=n.nextRequestID();n.exposeConnection(o,i);
// Workaround Dart
// url = url.replace(/=JSONP_CALLBACK(&|$)/, `generated method`);
var s=n.requestCallback(i._id),a=e.url;a.indexOf("=JSONP_CALLBACK&")>-1?a=a.replace("=JSONP_CALLBACK&","="+s+"&"):a.lastIndexOf("=JSONP_CALLBACK")===a.length-"=JSONP_CALLBACK".length&&(a=a.substring(0,a.length-"=JSONP_CALLBACK".length)+"="+s);var u=i._script=n.build(a),c=function(e){if(i.readyState!==w.Cancelled){if(i.readyState=w.Done,n.cleanup(u),!i._finished){var o=new S({body:U,type:_.Error,url:a});return r&&(o=r.merge(o)),void t.error(new R(o))}var s=new S({body:i._responseData,url:a});i.baseResponseOptions&&(s=i.baseResponseOptions.merge(s)),t.next(new R(s)),t.complete()}},l=function(e){if(i.readyState!==w.Cancelled){i.readyState=w.Done,n.cleanup(u);var o=new S({body:e.message,type:_.Error});r&&(o=r.merge(o)),t.error(new R(o))}};return u.addEventListener("load",c),u.addEventListener("error",l),n.send(u),function(){i.readyState=w.Cancelled,u.removeEventListener("load",c),u.removeEventListener("error",l),i._dom.cleanup(u)}}),i}/**
     * @param {?=} data
     * @return {?}
     */
return y(e,t),e.prototype.finished=function(t){
// Don't leak connections
this._finished=!0,this._dom.removeConnection(this._id),this.readyState!==w.Cancelled&&(this._responseData=t)},e}(B),q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y(e,t),e}(M),H=function(t){/**
     * @param {?} _browserJSONP
     * @param {?} _baseResponseOptions
     */
function e(e,n){var r=t.call(this)||this;return r._browserJSONP=e,r._baseResponseOptions=n,r}/**
     * @param {?} request
     * @return {?}
     */
return y(e,t),e.prototype.createConnection=function(t){return new z(t,this._browserJSONP,this._baseResponseOptions)},e}(q);H.decorators=[{type:d.Injectable}],/**
 * @nocollapse
 */
H.ctorParameters=function(){return[{type:F},{type:S}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var G=/^\)\]\}',?\n/,W=function(){/**
     * @param {?} req
     * @param {?} browserXHR
     * @param {?=} baseResponseOptions
     */
function t(t,e,n){var r=this;this.request=t,this.response=new m.Observable(function(o){var s=e.build();s.open(b[t.method].toUpperCase(),t.url),null!=t.withCredentials&&(s.withCredentials=t.withCredentials);
// load event handler
var a=function(){
// normalize IE9 bug (http://bugs.jquery.com/ticket/1450)
var e=1223===s.status?204:s.status,r=null;
// HTTP 204 means no content
204!==e&&"string"==typeof(
// responseText is the old-school way of retrieving response (supported by IE8 & 9)
// response/responseType properties were introduced in ResourceLoader Level2 spec
// (supported by IE10)
r=void 0===s.response?s.responseText:s.response)&&(r=r.replace(G,"")),
// fix status code when it is 0 (0 status is undocumented).
// Occurs when accessing file resources or on Android 4.1 stock browser
// while retrieving files from application cache.
0===e&&(e=r?200:0);var a=C.fromResponseHeaderString(s.getAllResponseHeaders()),u=i(s)||t.url,c=s.statusText||"OK",l=new S({body:r,status:e,headers:a,statusText:c,url:u});null!=n&&(l=n.merge(l));var f=new R(l);if(f.ok=A(e),f.ok)
// TODO(gdi2290): defer complete if array buffer until done
return o.next(f),void o.complete();o.error(f)},u=function(t){var e=new S({body:t,type:_.Error,status:s.status,statusText:s.statusText});null!=n&&(e=n.merge(e)),o.error(new R(e))};
// Select the correct buffer type to store the response
if(r.setDetectedContentType(t,s),null==t.headers&&(t.headers=new C),t.headers.has("Accept")||t.headers.append("Accept","application/json, text/plain, */*"),t.headers.forEach(function(t,e){return s.setRequestHeader(e,t.join(","))}),null!=t.responseType&&null!=s.responseType)switch(t.responseType){case E.ArrayBuffer:s.responseType="arraybuffer";break;case E.Json:s.responseType="json";break;case E.Text:s.responseType="text";break;case E.Blob:s.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return s.addEventListener("load",a),s.addEventListener("error",u),s.send(r.request.getBody()),function(){s.removeEventListener("load",a),s.removeEventListener("error",u),s.abort()}})}/**
     * @param {?} req
     * @param {?} _xhr
     * @return {?}
     */
return t.prototype.setDetectedContentType=function(t,e){
// Skip if a custom Content-Type header is provided
if(null==t.headers||null==t.headers.get("Content-Type"))
// Set the detected content type
switch(t.contentType){case x.NONE:break;case x.JSON:e.setRequestHeader("content-type","application/json");break;case x.FORM:e.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case x.TEXT:e.setRequestHeader("content-type","text/plain");break;case x.BLOB:var/** @type {?} */n=t.blob();n.type&&e.setRequestHeader("content-type",n.type)}},t}(),$=function(){/**
     * @param {?=} _cookieName
     * @param {?=} _headerName
     */
function t(t,e){void 0===t&&(t="XSRF-TOKEN"),void 0===e&&(e="X-XSRF-TOKEN"),this._cookieName=t,this._headerName=e}/**
     * @param {?} req
     * @return {?}
     */
return t.prototype.configureRequest=function(t){var/** @type {?} */e=n.i(v["getDOM"])().getCookie(this._cookieName);e&&t.headers.set(this._headerName,e)},t}(),Y=function(){/**
     * @param {?} _browserXHR
     * @param {?} _baseResponseOptions
     * @param {?} _xsrfStrategy
     */
function t(t,e,n){this._browserXHR=t,this._baseResponseOptions=e,this._xsrfStrategy=n}/**
     * @param {?} request
     * @return {?}
     */
return t.prototype.createConnection=function(t){return this._xsrfStrategy.configureRequest(t),new W(t,this._browserXHR,this._baseResponseOptions)},t}();Y.decorators=[{type:d.Injectable}],/**
 * @nocollapse
 */
Y.ctorParameters=function(){return[{type:g},{type:S},{type:T}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Creates a request options object to be optionally provided when instantiating a
 * {\@link Request}.
 *
 * This class is based on the `RequestInit` description in the [Fetch
 * Spec](https://fetch.spec.whatwg.org/#requestinit).
 *
 * All values are null by default. Typical defaults can be found in the {\@link BaseRequestOptions}
 * class, which sub-classes `RequestOptions`.
 *
 * ```typescript
 * import {RequestOptions, Request, RequestMethod} from '\@angular/http';
 *
 * const options = new RequestOptions({
 *   method: RequestMethod.Post,
 *   url: 'https://google.com'
 * });
 * const req = new Request(options);
 * console.log('req.method:', RequestMethod[req.method]); // Post
 * console.log('options.url:', options.url); // https://google.com
 * ```
 *
 * \@experimental
 */
var X=function(){/**
     * @param {?=} __0
     */
function t(t){var e=void 0===t?{}:t,n=e.method,i=e.headers,o=e.body,s=e.url,a=e.search,u=e.params,c=e.withCredentials,l=e.responseType;this.method=null!=n?r(n):null,this.headers=null!=i?i:null,this.body=null!=o?o:null,this.url=null!=s?s:null,this.params=this._mergeSearchParams(u||a),this.withCredentials=null!=c?c:null,this.responseType=null!=l?l:null}/**
     * Creates a copy of the `RequestOptions` instance, using the optional input as values to override
     * existing values. This method will not change the values of the instance on which it is being
     * called.
     *
     * Note that `headers` and `search` will override existing values completely if present in
     * the `options` object. If these values should be merged, it should be done prior to calling
     * `merge` on the `RequestOptions` instance.
     *
     * ```typescript
     * import {RequestOptions, Request, RequestMethod} from '\@angular/http';
     *
     * const options = new RequestOptions({
     *   method: RequestMethod.Post
     * });
     * const req = new Request(options.merge({
     *   url: 'https://google.com'
     * }));
     * console.log('req.method:', RequestMethod[req.method]); // Post
     * console.log('options.url:', options.url); // null
     * console.log('req.url:', req.url); // https://google.com
     * ```
     * @param {?=} options
     * @return {?}
     */
/**
     * @param {?} params
     * @return {?}
     */
/**
     * @param {?=} objParams
     * @return {?}
     */
/**
     * @param {?} key
     * @param {?} value
     * @param {?} params
     * @return {?}
     */
return Object.defineProperty(t.prototype,"search",{/**
         * @deprecated from 4.0.0. Use params instead.
         * @return {?}
         */
get:function(){return this.params},/**
         * @deprecated from 4.0.0. Use params instead.
         * @param {?} params
         * @return {?}
         */
set:function(t){this.params=t},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){return new t({method:e&&null!=e.method?e.method:this.method,headers:e&&null!=e.headers?e.headers:new C(this.headers),body:e&&null!=e.body?e.body:this.body,url:e&&null!=e.url?e.url:this.url,params:e&&this._mergeSearchParams(e.params||e.search),withCredentials:e&&null!=e.withCredentials?e.withCredentials:this.withCredentials,responseType:e&&null!=e.responseType?e.responseType:this.responseType})},t.prototype._mergeSearchParams=function(t){return t?t instanceof k?t.clone():"string"==typeof t?new k(t):this._parseParams(t):this.params},t.prototype._parseParams=function(t){var e=this;void 0===t&&(t={});var/** @type {?} */n=new k;return Object.keys(t).forEach(function(r){var/** @type {?} */i=t[r];Array.isArray(i)?i.forEach(function(t){return e._appendParam(r,t,n)}):e._appendParam(r,i,n)}),n},t.prototype._appendParam=function(t,e,n){"string"!=typeof e&&(e=JSON.stringify(e)),n.append(t,e)},t}(),Z=function(t){function e(){return t.call(this,{method:b.Get,headers:new C})||this}return y(e,t),e}(X);Z.decorators=[{type:d.Injectable}],/**
 * @nocollapse
 */
Z.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Creates `Request` instances from provided values.
 *
 * The Request's interface is inspired by the Request constructor defined in the [Fetch
 * Spec](https://fetch.spec.whatwg.org/#request-class),
 * but is considered a static value whose body can be accessed many times. There are other
 * differences in the implementation, but this is the most significant.
 *
 * `Request` instances are typically created by higher-level classes, like {\@link Http} and
 * {\@link Jsonp}, but it may occasionally be useful to explicitly create `Request` instances.
 * One such example is when creating services that wrap higher-level services, like {\@link Http},
 * where it may be useful to generate a `Request` with arbitrary headers and search params.
 *
 * ```typescript
 * import {Injectable, Injector} from '\@angular/core';
 * import {HTTP_PROVIDERS, Http, Request, RequestMethod} from '\@angular/http';
 *
 * \@Injectable()
 * class AutoAuthenticator {
 *   constructor(public http:Http) {}
 *   request(url:string) {
 *     return this.http.request(new Request({
 *       method: RequestMethod.Get,
 *       url: url,
 *       search: 'password=123'
 *     }));
 *   }
 * }
 *
 * var injector = Injector.resolveAndCreate([HTTP_PROVIDERS, AutoAuthenticator]);
 * var authenticator = injector.get(AutoAuthenticator);
 * authenticator.request('people.json').subscribe(res => {
 *   //URL should have included '?password=123'
 *   console.log('people', res.json());
 * });
 * ```
 *
 * \@experimental
 */
var K=function(t){/**
     * @param {?} requestOptions
     */
function e(e){var n=t.call(this)||this,i=e.url;if(n.url=e.url,e.params){var o=e.params.toString();if(o.length>0){var s="?";-1!=n.url.indexOf("?")&&(s="&"==n.url[n.url.length-1]?"":"&"),
// TODO: just delete search-query-looking string in url?
n.url=i+s+o}}
// TODO(jeffbcross): implement behavior
// Defaults to 'omit', consistent with browser
return n._body=e.body,n.method=r(e.method),n.headers=new C(e.headers),n.contentType=n.detectContentType(),n.withCredentials=e.withCredentials,n.responseType=e.responseType,n}/**
     * Returns the content type enum based on header options.
     * @return {?}
     */
/**
     * Returns the content type of request's body based on its type.
     * @return {?}
     */
/**
     * Returns the request's body according to its type. If body is undefined, return
     * null.
     * @return {?}
     */
return y(e,t),e.prototype.detectContentType=function(){switch(this.headers.get("content-type")){case"application/json":return x.JSON;case"application/x-www-form-urlencoded":return x.FORM;case"multipart/form-data":return x.FORM_DATA;case"text/plain":case"text/html":return x.TEXT;case"application/octet-stream":return this._body instanceof nt?x.ARRAY_BUFFER:x.BLOB;default:return this.detectContentTypeFromBody()}},e.prototype.detectContentTypeFromBody=function(){return null==this._body?x.NONE:this._body instanceof k?x.FORM:this._body instanceof tt?x.FORM_DATA:this._body instanceof et?x.BLOB:this._body instanceof nt?x.ARRAY_BUFFER:this._body&&"object"==typeof this._body?x.JSON:x.TEXT},e.prototype.getBody=function(){switch(this.contentType){case x.JSON:case x.FORM:return this.text();case x.FORM_DATA:return this._body;case x.TEXT:return this.text();case x.BLOB:return this.blob();case x.ARRAY_BUFFER:return this.arrayBuffer();default:return null}},e}(I),Q=function(){},J="object"==typeof window?window:Q,tt=J.FormData||Q,et=J.Blob||Q,nt=J.ArrayBuffer||Q,rt=function(){/**
     * @param {?} _backend
     * @param {?} _defaultOptions
     */
function t(t,e){this._backend=t,this._defaultOptions=e}/**
     * Performs any type of http request. First argument is required, and can either be a url or
     * a {\@link Request} instance. If the first argument is a url, an optional {\@link RequestOptions}
     * object can be provided as the 2nd argument. The options object will be merged with the values
     * of {\@link BaseRequestOptions} before performing the request.
     * @param {?} url
     * @param {?=} options
     * @return {?}
     */
/**
     * Performs a request with `get` http method.
     * @param {?} url
     * @param {?=} options
     * @return {?}
     */
/**
     * Performs a request with `post` http method.
     * @param {?} url
     * @param {?} body
     * @param {?=} options
     * @return {?}
     */
/**
     * Performs a request with `put` http method.
     * @param {?} url
     * @param {?} body
     * @param {?=} options
     * @return {?}
     */
/**
     * Performs a request with `delete` http method.
     * @param {?} url
     * @param {?=} options
     * @return {?}
     */
/**
     * Performs a request with `patch` http method.
     * @param {?} url
     * @param {?} body
     * @param {?=} options
     * @return {?}
     */
/**
     * Performs a request with `head` http method.
     * @param {?} url
     * @param {?=} options
     * @return {?}
     */
/**
     * Performs a request with `options` http method.
     * @param {?} url
     * @param {?=} options
     * @return {?}
     */
return t.prototype.request=function(t,e){var/** @type {?} */n;if("string"==typeof t)n=c(this._backend,new K(l(this._defaultOptions,e,b.Get,/** @type {?} */t)));else{if(!(t instanceof K))throw new Error("First argument must be a url string or Request instance.");n=c(this._backend,t)}return n},t.prototype.get=function(t,e){return this.request(new K(l(this._defaultOptions,e,b.Get,t)))},t.prototype.post=function(t,e,n){return this.request(new K(l(this._defaultOptions.merge(new X({body:e})),n,b.Post,t)))},t.prototype.put=function(t,e,n){return this.request(new K(l(this._defaultOptions.merge(new X({body:e})),n,b.Put,t)))},t.prototype.delete=function(t,e){return this.request(new K(l(this._defaultOptions,e,b.Delete,t)))},t.prototype.patch=function(t,e,n){return this.request(new K(l(this._defaultOptions.merge(new X({body:e})),n,b.Patch,t)))},t.prototype.head=function(t,e){return this.request(new K(l(this._defaultOptions,e,b.Head,t)))},t.prototype.options=function(t,e){return this.request(new K(l(this._defaultOptions,e,b.Options,t)))},t}();rt.decorators=[{type:d.Injectable}],/**
 * @nocollapse
 */
rt.ctorParameters=function(){return[{type:M},{type:X}]};/**
 * \@experimental
 */
var it=function(t){/**
     * @param {?} backend
     * @param {?} defaultOptions
     */
function e(e,n){return t.call(this,e,n)||this}/**
     * Performs any type of http request. First argument is required, and can either be a url or
     * a {\@link Request} instance. If the first argument is a url, an optional {\@link RequestOptions}
     * object can be provided as the 2nd argument. The options object will be merged with the values
     * of {\@link BaseRequestOptions} before performing the request.
     *
     * \@security Regular XHR is the safest alternative to JSONP for most applications, and is
     * supported by all current browsers. Because JSONP creates a `<script>` element with
     * contents retrieved from a remote source, attacker-controlled data introduced by an untrusted
     * source could expose your application to XSS risks. Data exposed by JSONP may also be
     * readable by malicious third-party websites. In addition, JSONP introduces potential risk for
     * future security issues (e.g. content sniffing).  For more detail, see the
     * [Security Guide](http://g.co/ng/security).
     * @param {?} url
     * @param {?=} options
     * @return {?}
     */
return y(e,t),e.prototype.request=function(t,e){if("string"==typeof t&&(t=new K(l(this._defaultOptions,e,b.Get,/** @type {?} */t))),!(t instanceof K))throw new Error("First argument must be a url string or Request instance.");if(t.method!==b.Get)throw new Error("JSONP requests must use GET request method.");return c(this._backend,t)},e}(rt);it.decorators=[{type:d.Injectable}],/**
 * @nocollapse
 */
it.ctorParameters=function(){return[{type:M},{type:X}]};/**
 * The module that includes http's providers
 *
 * \@experimental
 */
var ot=function(){function t(){}return t}();ot.decorators=[{type:d.NgModule,args:[{providers:[
// TODO(pascal): use factory type annotations once supported in DI
// issue: https://github.com/angular/angular/issues/3183
{provide:rt,useFactory:p,deps:[Y,X]},g,{provide:X,useClass:Z},{provide:S,useClass:N},Y,{provide:T,useFactory:f}]}]}],/**
 * @nocollapse
 */
ot.ctorParameters=function(){return[]};/**
 * The module that includes jsonp's providers
 *
 * \@experimental
 */
var st=function(){function t(){}return t}();st.decorators=[{type:d.NgModule,args:[{providers:[
// TODO(pascal): use factory type annotations once supported in DI
// issue: https://github.com/angular/angular/issues/3183
{provide:it,useFactory:h,deps:[q,X]},F,{provide:X,useClass:Z},{provide:S,useClass:N},{provide:q,useClass:H}]}]}],/**
 * @nocollapse
 */
st.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @module
 * @description
 * Entry point for all public APIs of the common package.
 */
/**
 * \@stable
 */
var at=new d.Version("4.0.1")},/* 328 */
,/* 329 */
,/* 330 */
,/* 331 */
,/* 332 */
,/* 333 */
,/* 334 */
,/* 335 */
,/* 336 */
,/* 337 */
,/* 338 */
,/* 339 */
,/* 340 */
,/* 341 */
,/* 342 */
/***/
function(t,e,n){"use strict";/* tslint:disable:no-unused-variable */
// Subject imported before Observable to bypass circular dependency issue since
// Subject extends Observable and Observable references Subject in it's
// definition
var r=n(17);e.Subject=r.Subject,e.AnonymousSubject=r.AnonymousSubject;/* tslint:enable:no-unused-variable */
var i=n(0);e.Observable=i.Observable,
// statics
/* tslint:disable:no-use-before-declare */
n(853),n(854),n(855),n(856),n(857),n(860),n(861),n(862),n(863),n(864),n(865),n(866),n(867),n(868),n(869),n(874),n(870),n(871),n(872),n(873),n(875),n(878),n(876),n(877),n(879),
//dom
n(858),n(859),
//operators
n(882),n(883),n(884),n(885),n(886),n(887),n(888),n(889),n(890),n(891),n(892),n(893),n(894),n(900),n(895),n(896),n(897),n(898),n(899),n(901),n(902),n(903),n(904),n(907),n(908),n(909),n(905),n(910),n(911),n(912),n(913),n(914),n(915),n(916),n(917),n(880),n(881),n(918),n(919),n(906),n(920),n(921),n(922),n(923),n(924),n(925),n(926),n(927),n(928),n(929),n(930),n(931),n(932),n(933),n(934),n(935),n(936),n(937),n(939),n(938),n(940),n(941),n(942),n(943),n(944),n(945),n(946),n(947),n(948),n(949),n(950),n(951),n(952),n(953),n(954),n(955),n(956),n(957),n(958),n(959),n(960),n(961),n(962),n(963),n(964),n(965),n(966),n(967),n(968),n(969),n(970),n(971),n(972),n(973),n(974),n(975),n(976),n(977),n(978),n(979);/* tslint:disable:no-unused-variable */
var o=n(22);e.Subscription=o.Subscription;var s=n(4);e.Subscriber=s.Subscriber;var a=n(134);e.AsyncSubject=a.AsyncSubject;var u=n(178);e.ReplaySubject=u.ReplaySubject;var c=n(177);e.BehaviorSubject=c.BehaviorSubject;var l=n(289);e.ConnectableObservable=l.ConnectableObservable;var f=n(101);e.Notification=f.Notification;var p=n(107);e.EmptyError=p.EmptyError;var h=n(138);e.ArgumentOutOfRangeError=h.ArgumentOutOfRangeError;var d=n(139);e.ObjectUnsubscribedError=d.ObjectUnsubscribedError;var m=n(317);e.TimeoutError=m.TimeoutError;var v=n(318);e.UnsubscriptionError=v.UnsubscriptionError;var y=n(310);e.TimeInterval=y.TimeInterval;var g=n(311);e.Timestamp=g.Timestamp;var b=n(1103);e.TestScheduler=b.TestScheduler;var w=n(312);e.VirtualTimeScheduler=w.VirtualTimeScheduler;var _=n(292);e.AjaxResponse=_.AjaxResponse,e.AjaxError=_.AjaxError,e.AjaxTimeoutError=_.AjaxTimeoutError;var x=n(313),E=n(35),C=n(314),S=n(1100),N=n(137),M=n(106),O=n(136),T={asap:x.asap,queue:C.queue,animationFrame:S.animationFrame,async:E.async};e.Scheduler=T;/**
 * @typedef {Object} Rx.Symbol
 * @property {Symbol|string} rxSubscriber A symbol to use as a property name to
 * retrieve an "Rx safe" Observer from an object. "Rx safety" can be defined as
 * an object that has all of the traits of an Rx Subscriber, including the
 * ability to add and remove subscriptions to the subscription chain and
 * guarantees involving event triggering (can't "next" after unsubscription,
 * etc).
 * @property {Symbol|string} observable A symbol to use as a property name to
 * retrieve an Observable as defined by the [ECMAScript "Observable" spec](https://github.com/zenparsing/es-observable).
 * @property {Symbol|string} iterator The ES6 symbol to use as a property name
 * to retrieve an iterator from an object.
 */
var A={rxSubscriber:N.$$rxSubscriber,observable:O.$$observable,iterator:M.$$iterator};e.Symbol=A},/* 343 */
,/* 344 */
,/* 345 */
/***/
function(t,e,n){"use strict";/**
 * Visit every node in a list of {\@link TemplateAst}s with the given {\@link TemplateAstVisitor}.
 * @param {?} visitor
 * @param {?} asts
 * @param {?=} context
 * @return {?}
 */
function r(t,e,n){void 0===n&&(n=null);var/** @type {?} */r=[],/** @type {?} */i=t.visit?function(e){return t.visit(e,n)||e.visit(t,n)}:function(e){return e.visit(t,n)};return e.forEach(function(t){var/** @type {?} */e=i(t);e&&r.push(e)}),r}/**
 * @param {?} elementName
 * @return {?}
 */
function i(t){if(":"!=t[0])return[null,t];var/** @type {?} */e=t.indexOf(":",1);if(-1==e)throw new Error('Unsupported format "'+t+'" expecting ":namespace:name"');return[t.slice(1,e),t.slice(e+1)]}/**
 * @param {?} fullName
 * @return {?}
 */
function o(t){return null===t?null:i(t)[0]}/**
 * @param {?} prefix
 * @param {?} localName
 * @return {?}
 */
function s(t,e){return t?":"+t+":"+e:e}/**
 * @param {?} tagName
 * @return {?}
 */
function a(t){return ui[t.toLowerCase()]||ci}/**
 * @param {?} input
 * @return {?}
 */
/**
 * @param {?} input
 * @return {?}
 */
function u(t){return t.replace(vi,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t[1].toUpperCase()})}/**
 * @param {?} input
 * @param {?} defaultValues
 * @return {?}
 */
function c(t,e){return f(t,":",e)}/**
 * @param {?} input
 * @param {?} defaultValues
 * @return {?}
 */
function l(t,e){return f(t,".",e)}/**
 * @param {?} input
 * @param {?} character
 * @param {?} defaultValues
 * @return {?}
 */
function f(t,e,n){var/** @type {?} */r=t.indexOf(e);return-1==r?n:[t.slice(0,r).trim(),t.slice(r+1).trim()]}/**
 * @param {?} value
 * @param {?} visitor
 * @param {?} context
 * @return {?}
 */
function p(t,e,n){/** @type {?} */
/** @type {?} */
return Array.isArray(t)?e.visitArray(t,n):m(t)?e.visitStringMap(t,n):null==t||"string"==typeof t||"number"==typeof t||"boolean"==typeof t?e.visitPrimitive(t,n):e.visitOther(t,n)}/**
 * @param {?} msg
 * @return {?}
 */
function h(t){var/** @type {?} */e=Error(t);return e[bi]=!0,e}/**
 * @param {?} s
 * @return {?}
 */
function d(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}/**
 * @param {?} obj
 * @return {?}
 */
function m(t){return"object"==typeof t&&null!==t&&Object.getPrototypeOf(t)===wi}/**
 * @param {?} str
 * @return {?}
 */
function v(t){for(var/** @type {?} */e="",/** @type {?} */n=0;n<t.length;n++){var/** @type {?} */r=t.charCodeAt(n);
// decode surrogate
// see https://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae
if(r>=55296&&r<=56319&&t.length>n+1){var/** @type {?} */i=t.charCodeAt(n+1);i>=56320&&i<=57343&&(n++,r=(r-55296<<10)+i-56320+65536)}r<=127?e+=String.fromCharCode(r):r<=2047?e+=String.fromCharCode(r>>6&31|192,63&r|128):r<=65535?e+=String.fromCharCode(r>>12|224,r>>6&63|128,63&r|128):r<=2097151&&(e+=String.fromCharCode(r>>18&7|240,r>>12&63|128,r>>6&63|128,63&r|128))}return e}/**
 * @param {?} name
 * @return {?}
 */
function y(t){return t.replace(/\W/g,"_")}/**
 * @param {?} compileIdentifier
 * @return {?}
 */
function g(t){if(!t||!t.reference)return null;var/** @type {?} */e=t.reference;if(e instanceof ri)return e.name;if(e.__anonymousType)return e.__anonymousType;var/** @type {?} */r=n.i(Vr["stringify"])(e);
// case: anonymous functions!
return r.indexOf("(")>=0?(r="anonymous_"+Ci++,e.__anonymousType=r):r=y(r),r}/**
 * @param {?} compileIdentifier
 * @return {?}
 */
function b(t){var/** @type {?} */e=t.reference;return e instanceof ri?e.filePath:Vr["reflector"].importUri(e)}/**
 * @param {?} compType
 * @param {?} embeddedTemplateIndex
 * @return {?}
 */
function w(t,e){return"View_"+g({reference:t})+"_"+e}/**
 * @param {?} compType
 * @return {?}
 */
function _(t){return"RenderType_"+g({reference:t})}/**
 * @param {?} compType
 * @return {?}
 */
function x(t){return"HostView_"+g({reference:t})}/**
 * @param {?} compType
 * @return {?}
 */
function E(t){return g({reference:t})+"NgFactory"}/**
 * @param {?} token
 * @return {?}
 */
function C(t){return null!=t.value?y(t.value):g(t.identifier)}/**
 * @param {?} token
 * @return {?}
 */
function S(t){return null!=t.identifier?t.identifier.reference:t.value}/**
 * Construct {\@link CompileDirectiveMetadata} from {\@link ComponentTypeMetadata} and a selector.
 * @param {?} hostTypeReference
 * @param {?} compMeta
 * @param {?} hostViewType
 * @return {?}
 */
function N(t,e,n){var/** @type {?} */r=fi.parse(e.selector)[0].getMatchingElementTemplate();return Oi.create({isHost:!0,type:{reference:t,diDeps:[],lifecycleHooks:[]},template:new Mi({encapsulation:Vr.ViewEncapsulation.None,template:r,templateUrl:"",styles:[],styleUrls:[],ngContentSelectors:[],animations:[],isInline:!0}),changeDetection:Vr.ChangeDetectionStrategy.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],viewQueries:[],componentViewType:n,rendererType:{id:"__Host__",encapsulation:Vr.ViewEncapsulation.None,styles:[],data:{}}})}/**
 * @param {?} obj
 * @return {?}
 */
function M(t){return t||[]}/**
 * @template T
 * @param {?} list
 * @return {?}
 */
function O(t){return t.reduce(function(t,e){var/** @type {?} */n=Array.isArray(e)?O(e):e;return t.concat(n)},[])}/**
 * @param {?} url
 * @return {?}
 */
function T(t){
// Note: We need 3 "/" so that ng shows up as a separate domain
// in the chrome dev tools.
return t.replace(/(\w+:\/\/[\w:-]+)?(\/+)?/,"ng:///")}/**
 * @param {?} ngModuleType
 * @param {?} compMeta
 * @param {?} templateMeta
 * @return {?}
 */
function A(t,e,n){var/** @type {?} */r;
// always prepend ng:// to make angular resources easy to find and not clobber
// user resources.
// Note: a .ts file might contain multiple components with inline templates,
// so we need to give them unique urls, as these will be used for sourcemaps.
return r=n.isInline?e.type.reference instanceof ri?e.type.reference.filePath+"."+e.type.reference.name+".html":g(t)+"/"+g(e.type)+".html":n.templateUrl,T(r)}/**
 * @param {?} meta
 * @param {?} id
 * @return {?}
 */
function P(t,e){var/** @type {?} */n=t.moduleUrl.split(/\/\\/g);return T("css/"+e+n[n.length-1]+".ngstyle.js")}/**
 * @param {?} moduleMeta
 * @return {?}
 */
function k(t){return T(g(t.type)+"/module.ngfactory.js")}/**
 * @param {?} ngModuleType
 * @param {?} compMeta
 * @return {?}
 */
function I(t,e){return T(g(t)+"/"+g(e.type)+".ngfactory.js")}/**
 * @param {?} code
 * @return {?}
 */
function R(t){return t>=uo&&t<=ho||t==Vo}/**
 * @param {?} code
 * @return {?}
 */
function j(t){return Co<=t&&t<=So}/**
 * @param {?} code
 * @return {?}
 */
function D(t){return t>=Po&&t<=Fo||t>=No&&t<=To}/**
 * @param {?} code
 * @return {?}
 */
function L(t){return t>=Po&&t<=Io||t>=No&&t<=Oo||j(t)}/**
 * A replacement for \@Injectable to be used in the compiler, so that
 * we don't try to evaluate the metadata in the compiler during AoT.
 * This decorator is enough to make the compiler work with the ReflectiveInjector though.
 * \@Annotation
 * @return {?}
 */
function F(){return function(t){return t}}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} identifier
 * @param {?} value
 * @return {?}
 */
function U(t,e){if(n.i(Vr.isDevMode)()&&null!=e){if(!Array.isArray(e))throw new Error("Expected '"+t+"' to be an array of strings.");for(var/** @type {?} */r=0;r<e.length;r+=1)if("string"!=typeof e[r])throw new Error("Expected '"+t+"' to be an array of strings.")}}/**
 * @param {?} identifier
 * @param {?} value
 * @return {?}
 */
function V(t,e){if(!(null==e||Array.isArray(e)&&2==e.length))throw new Error("Expected '"+t+"' to be an array, [start, end].");if(n.i(Vr.isDevMode)()&&null!=e){var/** @type {?} */r=e[0],/** @type {?} */i=e[1];
// black list checking
zo.forEach(function(t){if(t.test(r)||t.test(i))throw new Error("['"+r+"', '"+i+"'] contains unusable interpolation symbol.")})}}/**
 * @param {?} index
 * @param {?} code
 * @return {?}
 */
function B(t,e){return new Yo(t,Go.Character,e,String.fromCharCode(e))}/**
 * @param {?} index
 * @param {?} text
 * @return {?}
 */
function z(t,e){return new Yo(t,Go.Identifier,0,e)}/**
 * @param {?} index
 * @param {?} text
 * @return {?}
 */
function q(t,e){return new Yo(t,Go.Keyword,0,e)}/**
 * @param {?} index
 * @param {?} text
 * @return {?}
 */
function H(t,e){return new Yo(t,Go.Operator,0,e)}/**
 * @param {?} index
 * @param {?} text
 * @return {?}
 */
function G(t,e){return new Yo(t,Go.String,0,e)}/**
 * @param {?} index
 * @param {?} n
 * @return {?}
 */
function W(t,e){return new Yo(t,Go.Number,e,"")}/**
 * @param {?} index
 * @param {?} message
 * @return {?}
 */
function $(t,e){return new Yo(t,Go.Error,0,e)}/**
 * @param {?} code
 * @return {?}
 */
function Y(t){return Po<=t&&t<=Fo||No<=t&&t<=To||t==Ao||t==vo}/**
 * @param {?} input
 * @return {?}
 */
function X(t){if(0==t.length)return!1;var/** @type {?} */e=new Zo(t);if(!Y(e.peek))return!1;for(e.advance();e.peek!==ao;){if(!Z(e.peek))return!1;e.advance()}return!0}/**
 * @param {?} code
 * @return {?}
 */
function Z(t){return D(t)||j(t)||t==Ao||t==vo}/**
 * @param {?} code
 * @return {?}
 */
function K(t){return t==ko||t==Mo}/**
 * @param {?} code
 * @return {?}
 */
function Q(t){return t==bo||t==go}/**
 * @param {?} code
 * @return {?}
 */
function J(t){return t===yo||t===mo||t===Bo}/**
 * @param {?} code
 * @return {?}
 */
function tt(t){switch(t){case Ro:return co;case Io:return fo;case jo:return po;case Do:return uo;case Lo:return lo;default:return t}}/**
 * @param {?} text
 * @return {?}
 */
function et(t){var/** @type {?} */e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}/**
 * @param {?} config
 * @return {?}
 */
function nt(t){var/** @type {?} */e=d(t.start)+"([\\s\\S]*?)"+d(t.end);return new RegExp(e,"g")}/**
 * @param {?} kind
 * @param {?} type
 * @return {?}
 */
function rt(t,e){var/** @type {?} */n=b(e),/** @type {?} */r=null!=n?"in "+t+" "+g(e)+" in "+n:"in "+t+" "+g(e),/** @type {?} */i=new rs("",r);return new is(new ns(i,null,null,null),new ns(i,null,null,null))}/**
 * @param {?} visitor
 * @param {?} nodes
 * @param {?=} context
 * @return {?}
 */
function it(t,e,n){void 0===n&&(n=null);var/** @type {?} */r=[],/** @type {?} */i=t.visit?function(e){return t.visit(e,n)||e.visit(t,n)}:function(e){return e.visit(t,n)};return e.forEach(function(t){var/** @type {?} */e=i(t);e&&r.push(e)}),r}/**
 * @param {?} source
 * @param {?} url
 * @param {?} getTagDefinition
 * @param {?=} tokenizeExpansionForms
 * @param {?=} interpolationConfig
 * @return {?}
 */
function ot(t,e,n,r,i){return void 0===r&&(r=!1),void 0===i&&(i=Ho),new gs(new rs(t,e),n,r,i).tokenize()}/**
 * @param {?} charCode
 * @return {?}
 */
function st(t){return'Unexpected character "'+(t===ao?"EOF":String.fromCharCode(t))+'"'}/**
 * @param {?} entitySrc
 * @return {?}
 */
function at(t){return'Unknown entity "'+t+'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax'}/**
 * @param {?} code
 * @return {?}
 */
function ut(t){return!R(t)||t===ao}/**
 * @param {?} code
 * @return {?}
 */
function ct(t){return R(t)||t===Eo||t===wo||t===yo||t===mo||t===xo}/**
 * @param {?} code
 * @return {?}
 */
function lt(t){return(t<Po||Fo<t)&&(t<No||To<t)&&(t<Co||t>So)}/**
 * @param {?} code
 * @return {?}
 */
function ft(t){return t==_o||t==ao||!L(t)}/**
 * @param {?} code
 * @return {?}
 */
function pt(t){return t==_o||t==ao||!D(t)}/**
 * @param {?} input
 * @param {?} offset
 * @param {?} interpolationConfig
 * @return {?}
 */
function ht(t,e,n){var/** @type {?} */r=!!n&&t.indexOf(n.start,e)==e;return t.charCodeAt(e)==Uo&&!r}/**
 * @param {?} peek
 * @return {?}
 */
function dt(t){return t===xo||D(t)}/**
 * @param {?} code1
 * @param {?} code2
 * @return {?}
 */
function mt(t,e){return vt(t)==vt(e)}/**
 * @param {?} code
 * @return {?}
 */
function vt(t){return t>=Po&&t<=Fo?t-Po+No:t}/**
 * @param {?} srcTokens
 * @return {?}
 */
function yt(t){for(var/** @type {?} */e,/** @type {?} */n=[],/** @type {?} */r=0;r<t.length;r++){var/** @type {?} */i=t[r];e&&e.type==hs.TEXT&&i.type==hs.TEXT?(e.parts[0]+=i.parts[0],e.sourceSpan.end=i.sourceSpan.end):(e=i,n.push(e))}return n}/**
 * @param {?} stack
 * @param {?} element
 * @return {?}
 */
function gt(t,e){return t.length>0&&t[t.length-1]===e}/**
 * Returns a function converting html nodes to an i18n Message given an interpolationConfig
 * @param {?} interpolationConfig
 * @return {?}
 */
function bt(t){var/** @type {?} */e=new js(Rs,t);return function(t,n,r,i){return e.toI18nMessage(t,n,r,i)}}/**
 * @param {?} input
 * @return {?}
 */
function wt(t){return t.split(Ds)[2]}/**
 * Extract translatable messages from an html AST
 * @param {?} nodes
 * @param {?} interpolationConfig
 * @param {?} implicitTags
 * @param {?} implicitAttrs
 * @return {?}
 */
function _t(t,e,n,r){return new qs(n,r).extract(t,e)}/**
 * @param {?} nodes
 * @param {?} translations
 * @param {?} interpolationConfig
 * @param {?} implicitTags
 * @param {?} implicitAttrs
 * @return {?}
 */
function xt(t,e,n,r,i){return new qs(r,i).merge(t,e,n)}/**
 * @param {?} n
 * @return {?}
 */
function Et(t){return t instanceof ps&&t.value&&t.value.startsWith("i18n")}/**
 * @param {?} n
 * @return {?}
 */
function Ct(t){return t instanceof ps&&t.value&&"/i18n"===t.value}/**
 * @param {?} p
 * @return {?}
 */
function St(t){return t.attrs.find(function(t){return t.name===Fs})||null}/**
 * @param {?} i18n
 * @return {?}
 */
function Nt(t){if(!t)return{meaning:"",description:"",id:""};var/** @type {?} */e=t.indexOf(Vs),/** @type {?} */n=t.indexOf(Us),r=e>-1?[t.slice(0,e),t.slice(e+2)]:[t,""],i=r[0],o=r[1],s=n>-1?[i.slice(0,n),i.slice(n+1)]:["",i];return{meaning:s[0],description:s[1],id:o}}/**
 * @param {?} tagName
 * @return {?}
 */
function Mt(t){return Gs}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} message
 * @return {?}
 */
function Ot(t){return t.id||Pt(At(t.nodes).join("")+"["+t.meaning+"]")}/**
 * @param {?} message
 * @return {?}
 */
function Tt(t){if(t.id)return t.id;var/** @type {?} */e=new Xs;return Rt(t.nodes.map(function(t){return t.visit(e,null)}).join(""),t.meaning)}/**
 * @param {?} nodes
 * @return {?}
 */
function At(t){return t.map(function(t){return t.visit(Ys,null)})}/**
 * Compute the SHA1 of the given string
 *
 * see http://csrc.nist.gov/publications/fips/fips180-4/fips-180-4.pdf
 *
 * WARNING: this function has not been designed not tested with security in mind.
 *          DO NOT USE IT IN A SECURITY SENSITIVE CONTEXT.
 * @param {?} str
 * @return {?}
 */
function Pt(t){var/** @type {?} */e=v(t),/** @type {?} */n=qt(e,Zs.Big),/** @type {?} */r=8*e.length,/** @type {?} */i=new Array(80),o=[1732584193,4023233417,2562383102,271733878,3285377520],s=o[0],a=o[1],u=o[2],c=o[3],l=o[4];n[r>>5]|=128<<24-r%32,n[15+(r+64>>9<<4)]=r;for(var/** @type {?} */f=0;f<n.length;f+=16){for(var p=[s,a,u,c,l],h=p[0],d=p[1],m=p[2],y=p[3],g=p[4],/** @type {?} */b=0;b<80;b++){i[b]=b<16?n[f+b]:Bt(i[b-3]^i[b-8]^i[b-14]^i[b-16],1);var w=kt(b,a,u,c),_=w[0],x=w[1],/** @type {?} */E=[Bt(s,5),_,l,x,i[b]].reduce(Lt);C=[c,u,Bt(a,30),s,E],l=C[0],c=C[1],u=C[2],a=C[3],s=C[4]}S=[Lt(s,h),Lt(a,d),Lt(u,m),Lt(c,y),Lt(l,g)],s=S[0],a=S[1],u=S[2],c=S[3],l=S[4]}return Yt(Wt([s,a,u,c,l]));var C,S}/**
 * @param {?} index
 * @param {?} b
 * @param {?} c
 * @param {?} d
 * @return {?}
 */
function kt(t,e,n,r){return t<20?[e&n|~e&r,1518500249]:t<40?[e^n^r,1859775393]:t<60?[e&n|e&r|n&r,2400959708]:[e^n^r,3395469782]}/**
 * Compute the fingerprint of the given string
 *
 * The output is 64 bit number encoded as a decimal string
 *
 * based on:
 * https://github.com/google/closure-compiler/blob/master/src/com/google/javascript/jscomp/GoogleJsMessageIdGenerator.java
 * @param {?} str
 * @return {?}
 */
function It(t){var/** @type {?} */e=v(t),n=[jt(e,0),jt(e,102072)],r=n[0],i=n[1];return 0!=r||0!=i&&1!=i||(r^=319790063,i^=-1801410264),[r,i]}/**
 * @param {?} msg
 * @param {?} meaning
 * @return {?}
 */
function Rt(t,e){var n=It(t),r=n[0],i=n[1];if(e){var o=It(e),s=o[0],a=o[1];u=Ut(zt([r,i],1),[s,a]),r=u[0],i=u[1]}return Xt(Wt([2147483647&r,i]));var u}/**
 * @param {?} str
 * @param {?} c
 * @return {?}
 */
function jt(t,e){var/** @type {?} */n,r=[2654435769,2654435769],i=r[0],o=r[1],/** @type {?} */s=t.length;for(n=0;n+12<=s;n+=12)i=Lt(i,Gt(t,n,Zs.Little)),o=Lt(o,Gt(t,n+4,Zs.Little)),e=Lt(e,Gt(t,n+8,Zs.Little)),a=Dt([i,o,e]),i=a[0],o=a[1],e=a[2];
// the first byte of c is reserved for the length
return i=Lt(i,Gt(t,n,Zs.Little)),o=Lt(o,Gt(t,n+4,Zs.Little)),e=Lt(e,s),e=Lt(e,Gt(t,n+8,Zs.Little)<<8),Dt([i,o,e])[2];var a}/**
 * @param {?} __0
 * @return {?}
 */
function Dt(t){var e=t[0],n=t[1],r=t[2];return e=Vt(e,n),e=Vt(e,r),e^=r>>>13,n=Vt(n,r),n=Vt(n,e),n^=e<<8,r=Vt(r,e),r=Vt(r,n),r^=n>>>13,e=Vt(e,n),e=Vt(e,r),e^=r>>>12,n=Vt(n,r),n=Vt(n,e),n^=e<<16,r=Vt(r,e),r=Vt(r,n),r^=n>>>5,e=Vt(e,n),e=Vt(e,r),e^=r>>>3,n=Vt(n,r),n=Vt(n,e),n^=e<<10,r=Vt(r,e),r=Vt(r,n),r^=n>>>15,[e,n,r]}/**
 * @param {?} a
 * @param {?} b
 * @return {?}
 */
function Lt(t,e){return Ft(t,e)[1]}/**
 * @param {?} a
 * @param {?} b
 * @return {?}
 */
function Ft(t,e){var/** @type {?} */n=(65535&t)+(65535&e),/** @type {?} */r=(t>>>16)+(e>>>16)+(n>>>16);return[r>>>16,r<<16|65535&n]}/**
 * @param {?} __0
 * @param {?} __1
 * @return {?}
 */
function Ut(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=Ft(r,o),a=s[0],u=s[1];return[Lt(Lt(n,i),a),u]}/**
 * @param {?} a
 * @param {?} b
 * @return {?}
 */
function Vt(t,e){var/** @type {?} */n=(65535&t)-(65535&e);return(t>>16)-(e>>16)+(n>>16)<<16|65535&n}/**
 * @param {?} a
 * @param {?} count
 * @return {?}
 */
function Bt(t,e){return t<<e|t>>>32-e}/**
 * @param {?} __0
 * @param {?} count
 * @return {?}
 */
function zt(t,e){var n=t[0],r=t[1];return[n<<e|r>>>32-e,r<<e|n>>>32-e]}/**
 * @param {?} str
 * @param {?} endian
 * @return {?}
 */
function qt(t,e){for(var/** @type {?} */n=Array(t.length+3>>>2),/** @type {?} */r=0;r<n.length;r++)n[r]=Gt(t,4*r,e);return n}/**
 * @param {?} str
 * @param {?} index
 * @return {?}
 */
function Ht(t,e){return e>=t.length?0:255&t.charCodeAt(e)}/**
 * @param {?} str
 * @param {?} index
 * @param {?} endian
 * @return {?}
 */
function Gt(t,e,n){var/** @type {?} */r=0;if(n===Zs.Big)for(var/** @type {?} */i=0;i<4;i++)r+=Ht(t,e+i)<<24-8*i;else for(var/** @type {?} */i=0;i<4;i++)r+=Ht(t,e+i)<<8*i;return r}/**
 * @param {?} words32
 * @return {?}
 */
function Wt(t){return t.reduce(function(t,e){return t+$t(e)},"")}/**
 * @param {?} word
 * @return {?}
 */
function $t(t){for(var/** @type {?} */e="",/** @type {?} */n=0;n<4;n++)e+=String.fromCharCode(t>>>8*(3-n)&255);return e}/**
 * @param {?} str
 * @return {?}
 */
function Yt(t){for(var/** @type {?} */e="",/** @type {?} */n=0;n<t.length;n++){var/** @type {?} */r=Ht(t,n);e+=(r>>>4).toString(16)+(15&r).toString(16)}return e.toLowerCase()}/**
 * @param {?} str
 * @return {?}
 */
function Xt(t){for(var/** @type {?} */e="",/** @type {?} */n="1",/** @type {?} */r=t.length-1;r>=0;r--)e=Zt(e,Kt(Ht(t,r),n)),n=Kt(256,n);return e.split("").reverse().join("")}/**
 * @param {?} x
 * @param {?} y
 * @return {?}
 */
function Zt(t,e){for(var/** @type {?} */n="",/** @type {?} */r=Math.max(t.length,e.length),/** @type {?} */i=0,/** @type {?} */o=0;i<r||o;i++){var/** @type {?} */s=o+ +(t[i]||0)+ +(e[i]||0);s>=10?(o=1,n+=s-10):(o=0,n+=s)}return n}/**
 * @param {?} num
 * @param {?} b
 * @return {?}
 */
function Kt(t,e){for(var/** @type {?} */n="",/** @type {?} */r=e;0!==t;t>>>=1)1&t&&(n=Zt(n,r)),r=Zt(r,r);return n}/**
 * @param {?} nodes
 * @return {?}
 */
function Qt(t){return t.map(function(t){return t.visit(ta)}).join("")}/**
 * @param {?} text
 * @return {?}
 */
function Jt(t){return sa.reduce(function(t,e){return t.replace(e[0],e[1])},t)}/**
 * @param {?} tag
 * @return {?}
 */
function te(t){switch(t.toLowerCase()){case"br":return"lb";case"img":return"image";default:return"x-"+t}}/**
 * @param {?} message
 * @return {?}
 */
function ee(t){return Tt(t)}/**
 * @param {?} internalName
 * @return {?}
 */
function ne(t){return t.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}/**
 * @param {?} messages
 * @param {?} id
 * @param {?} valueFn
 * @return {?}
 */
function re(t,e,n){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var/** @type {?} */r=n();return Object.defineProperty(t,e,{enumerable:!0,value:r}),r},set:function(t){throw new Error("Could not overwrite an XTB translation")}})}/**
 * @param {?=} format
 * @return {?}
 */
function ie(t){switch(t=(t||"xlf").toLowerCase()){case"xmb":return new fa;case"xtb":return new da;case"xliff":case"xlf":default:return new aa}}/**
 * @param {?} identifier
 * @return {?}
 */
function oe(t){var/** @type {?} */e=t.name;return Vr["reflector"].resolveIdentifier(e,t.moduleUrl,null,t.runtime)}/**
 * @param {?} identifier
 * @return {?}
 */
function se(t){return{reference:oe(t)}}/**
 * @param {?} identifier
 * @return {?}
 */
function ae(t){return{identifier:t}}/**
 * @param {?} identifier
 * @return {?}
 */
function ue(t){return ae(se(t))}/**
 * Expands special forms into elements.
 *
 * For example,
 *
 * ```
 * { messages.length, plural,
 *   =0 {zero}
 *   =1 {one}
 *   other {more than one}
 * }
 * ```
 *
 * will be expanded into
 *
 * ```
 * <ng-container [ngPlural]="messages.length">
 *   <ng-template ngPluralCase="=0">zero</ng-template>
 *   <ng-template ngPluralCase="=1">one</ng-template>
 *   <ng-template ngPluralCase="other">more than one</ng-template>
 * </ng-container>
 * ```
 * @param {?} nodes
 * @return {?}
 */
function ce(t){var/** @type {?} */e=new Na;return new Ca(it(e,t),e.isExpanded,e.errors)}/**
 * @param {?} ast
 * @param {?} errors
 * @return {?}
 */
function le(t,e){var/** @type {?} */n=t.cases.map(function(t){-1!=Ea.indexOf(t.value)||t.value.match(/^=\d+$/)||e.push(new Sa(t.valueSourceSpan,'Plural cases should be "=<number>" or one of '+Ea.join(", ")));var/** @type {?} */n=ce(t.expression);return e.push.apply(e,n.errors),new fs("ng-template",[new ls("ngPluralCase",""+t.value,t.valueSourceSpan)],n.nodes,t.sourceSpan,t.sourceSpan,t.sourceSpan)}),/** @type {?} */r=new ls("[ngPlural]",t.switchValue,t.switchValueSourceSpan);return new fs("ng-container",[r],n,t.sourceSpan,t.sourceSpan,t.sourceSpan)}/**
 * @param {?} ast
 * @param {?} errors
 * @return {?}
 */
function fe(t,e){var/** @type {?} */n=t.cases.map(function(t){var/** @type {?} */n=ce(t.expression);return e.push.apply(e,n.errors),"other"===t.value?new fs("ng-template",[new ls("ngSwitchDefault","",t.valueSourceSpan)],n.nodes,t.sourceSpan,t.sourceSpan,t.sourceSpan):new fs("ng-template",[new ls("ngSwitchCase",""+t.value,t.valueSourceSpan)],n.nodes,t.sourceSpan,t.sourceSpan,t.sourceSpan)}),/** @type {?} */r=new ls("[ngSwitch]",t.switchValue,t.switchValueSourceSpan);return new fs("ng-container",[r],n,t.sourceSpan,t.sourceSpan,t.sourceSpan)}/**
 * @param {?} provider
 * @param {?} __1
 * @return {?}
 */
function pe(t,e){var n=e.useExisting,r=e.useValue,i=e.deps;return{token:t.token,useClass:t.useClass,useExisting:n,useFactory:t.useFactory,useValue:r,deps:i,multi:t.multi}}/**
 * @param {?} provider
 * @param {?} __1
 * @return {?}
 */
function he(t,e){var n=e.eager,r=e.providers;return new Jr(t.token,t.multiProvider,t.eager||n,r,t.providerType,t.lifecycleHooks,t.sourceSpan)}/**
 * @param {?} directives
 * @param {?} sourceSpan
 * @param {?} targetErrors
 * @return {?}
 */
function de(t,e,n){var/** @type {?} */r=new Map;return t.forEach(function(t){me([{token:{identifier:t.type},useClass:t.type}],t.isComponent?ti.Component:ti.Directive,!0,e,n,r)}),t.filter(function(t){return t.isComponent}).concat(t.filter(function(t){return!t.isComponent})).forEach(function(t){me(t.providers,ti.PublicService,!1,e,n,r),me(t.viewProviders,ti.PrivateService,!1,e,n,r)}),r}/**
 * @param {?} providers
 * @param {?} providerType
 * @param {?} eager
 * @param {?} sourceSpan
 * @param {?} targetErrors
 * @param {?} targetProvidersByToken
 * @return {?}
 */
function me(t,e,n,r,i,o){t.forEach(function(t){var/** @type {?} */s=o.get(S(t.token));if(null!=s&&!!s.multiProvider!=!!t.multi&&i.push(new Ma("Mixing multi and non multi provider is not possible for token "+C(s.token),r)),s)t.multi||(s.providers.length=0),s.providers.push(t);else{var/** @type {?} */a=t.token.identifier&&t.token.identifier.lifecycleHooks?t.token.identifier.lifecycleHooks:[],/** @type {?} */u=!(t.useClass||t.useExisting||t.useFactory);s=new Jr(t.token,t.multi,n||u,[t],e,a,r),o.set(S(t.token),s)}})}/**
 * @param {?} component
 * @return {?}
 */
function ve(t){
// Note: queries start with id 1 so we can use the number in a Bloom filter!
var/** @type {?} */e=1,/** @type {?} */n=new Map;return t.viewQueries&&t.viewQueries.forEach(function(t){return ge(n,{meta:t,queryId:e++})}),n}/**
 * @param {?} contentQueryStartId
 * @param {?} directives
 * @return {?}
 */
function ye(t,e){var/** @type {?} */n=t,/** @type {?} */r=new Map;return e.forEach(function(t,e){t.queries&&t.queries.forEach(function(t){return ge(r,{meta:t,queryId:n++})})}),r}/**
 * @param {?} map
 * @param {?} query
 * @return {?}
 */
function ge(t,e){e.meta.selectors.forEach(function(n){var/** @type {?} */r=t.get(S(n));r||(r=[],t.set(S(n),r)),r.push(e)})}/**
 * @param {?} url
 * @return {?}
 */
function be(t){if(null==t||0===t.length||"/"==t[0])return!1;var/** @type {?} */e=t.match(ja);return null===e||"package"==e[1]||"asset"==e[1]}/**
 * Rewrites stylesheets by resolving and removing the \@import urls that
 * are either relative or don't have a `package:` scheme
 * @param {?} resolver
 * @param {?} baseUrl
 * @param {?} cssText
 * @return {?}
 */
function we(t,e,n){var/** @type {?} */r=[],/** @type {?} */i=n.replace(Ra,"").replace(Ia,function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var/** @type {?} */o=n[1]||n[2];return be(o)?(r.push(t.resolve(e,o)),""):n[0]});return new ka(i,r)}/**
 * @param {?} name
 * @return {?}
 */
function _e(t){return"@"==t[0]}/**
 * @param {?} registry
 * @param {?} selector
 * @param {?} propName
 * @param {?} isAttribute
 * @return {?}
 */
function xe(t,e,n,r){var/** @type {?} */i=[];return fi.parse(e).forEach(function(e){var/** @type {?} */o=e.element?[e.element]:t.allKnownElementNames(),/** @type {?} */s=new Set(e.notSelectors.filter(function(t){return t.isElementSelector()}).map(function(t){return t.element})),/** @type {?} */a=o.filter(function(t){return!s.has(t)});i.push.apply(i,a.map(function(e){return t.securityContext(e,n,r)}))}),0===i.length?[Vr.SecurityContext.NONE]:Array.from(new Set(i)).sort()}/**
 * @param {?} ast
 * @return {?}
 */
function Ee(t){var/** @type {?} */e=null,/** @type {?} */n=null,/** @type {?} */r=null,/** @type {?} */o=!1,/** @type {?} */s=null;t.attrs.forEach(function(t){var/** @type {?} */i=t.name.toLowerCase();i==Va?e=t.value:i==Ha?n=t.value:i==qa?r=t.value:t.name==Ya?o=!0:t.name==Xa&&t.value.length>0&&(s=t.value)}),e=Ce(e);var/** @type {?} */a=t.name.toLowerCase(),/** @type {?} */u=Za.OTHER;return i(a)[1]==Ba?u=Za.NG_CONTENT:a==Wa?u=Za.STYLE:a==$a?u=Za.SCRIPT:a==za&&r==Ga&&(u=Za.STYLESHEET),new Ka(u,e,n,o,s)}/**
 * @param {?} selectAttr
 * @return {?}
 */
function Ce(t){return null===t||0===t.length?"*":t}/**
 * @param {?} warnings
 * @return {?}
 */
function Se(t){return function(e){return-1===t.indexOf(e.msg)||(ru[e.msg]=(ru[e.msg]||0)+1,ru[e.msg]<=1)}}/**
 * @param {?} classAttrValue
 * @return {?}
 */
function Ne(t){return t.trim().split(/\s+/g)}/**
 * @param {?} elementName
 * @param {?} attributes
 * @return {?}
 */
function Me(t,e){var/** @type {?} */n=new fi,/** @type {?} */r=i(t)[1];n.setElement(r);for(var/** @type {?} */o=0;o<e.length;o++){var/** @type {?} */s=e[o][0],/** @type {?} */a=i(s)[1],/** @type {?} */u=e[o][1];if(n.addAttribute(a,u),s.toLowerCase()==tu){Ne(u).forEach(function(t){return n.addClassName(t)})}}return n}/**
 * @param {?} node
 * @return {?}
 */
function Oe(t){return t instanceof as&&0==t.value.trim().length}/**
 * @template T
 * @param {?} items
 * @return {?}
 */
function Te(t){var/** @type {?} */e=new Map;return t.forEach(function(t){e.get(t.type.reference)||e.set(t.type.reference,t)}),Array.from(e.values())}/**
 * @param {?} ast
 * @return {?}
 */
function Ae(t){return t instanceof ro&&(t=t.ast),t instanceof Fi}/**
 * @param {?} el
 * @param {?} enableLegacyTemplate
 * @param {?} reportDeprecation
 * @return {?}
 */
function Pe(t,e,n){var/** @type {?} */r=i(t.name)[1];
// `<ng-template>` is an angular construct and is lower case
// `<ng-template>` is an angular construct and is lower case
// `<template>` is HTML and case insensitive
return r===Qa||(r.toLowerCase()===Ja?!(!e||r.toLowerCase()!==Ja)&&(n(nu,t.sourceSpan),!0):void 0)}/**
 * @return {?}
 */
function ke(){return new vu(".")}/**
 * Extract the scheme of a URL.
 * @param {?} url
 * @return {?}
 */
function Ie(t){var/** @type {?} */e=je(t);return e&&e[gu.Scheme]||""}/**
 * Builds a URI string from already-encoded parts.
 *
 * No encoding is performed.  Any component may be omitted as either null or
 * undefined.
 *
 * @param {?=} opt_scheme The scheme such as 'http'.
 * @param {?=} opt_userInfo The user name before the '\@'.
 * @param {?=} opt_domain The domain such as 'www.google.com', already
 *     URI-encoded.
 * @param {?=} opt_port The port number.
 * @param {?=} opt_path The path, already URI-encoded.  If it is not
 *     empty, it must begin with a slash.
 * @param {?=} opt_queryData The URI-encoded query data.
 * @param {?=} opt_fragment The URI-encoded fragment identifier.
 * @return {?} The fully combined URI.
 */
function Re(t,e,n,r,i,o,s){var/** @type {?} */a=[];return null!=t&&a.push(t+":"),null!=n&&(a.push("//"),null!=e&&a.push(e+"@"),a.push(n),null!=r&&a.push(":"+r)),null!=i&&a.push(i),null!=o&&a.push("?"+o),null!=s&&a.push("#"+s),a.join("")}/**
 * Splits a URI into its component parts.
 *
 * Each component can be accessed via the component indices; for example:
 * <pre>
 * goog.uri.utils.split(someStr)[goog.uri.utils.CompontentIndex.QUERY_DATA];
 * </pre>
 *
 * @param {?} uri The URI string to examine.
 * @return {?} Each component still URI-encoded.
 *     Each component that is present will contain the encoded value, whereas
 *     components that are not present will be undefined or empty, depending
 *     on the browser's regular expression implementation.  Never null, since
 *     arbitrary strings may still look like path names.
 */
function je(t){return t.match(yu)}/**
 * Removes dot segments in given path component, as described in
 * RFC 3986, section 5.2.4.
 *
 * @param {?} path A non-empty path component.
 * @return {?} Path component with removed dot segments.
 */
function De(t){if("/"==t)return"/";for(var/** @type {?} */e="/"==t[0]?"/":"",/** @type {?} */n="/"===t[t.length-1]?"/":"",/** @type {?} */r=t.split("/"),/** @type {?} */i=[],/** @type {?} */o=0,/** @type {?} */s=0;s<r.length;s++){var/** @type {?} */a=r[s];switch(a){case"":case".":break;case"..":i.length>0?i.pop():o++;break;default:i.push(a)}}if(""==e){for(;o-- >0;)i.unshift("..");0===i.length&&i.push(".")}return e+i.join("/")+n}/**
 * Takes an array of the parts from split and canonicalizes the path part
 * and then joins all the parts.
 * @param {?} parts
 * @return {?}
 */
function Le(t){var/** @type {?} */e=t[gu.Path];return e=null==e?"":De(e),t[gu.Path]=e,Re(t[gu.Scheme],t[gu.UserInfo],t[gu.Domain],t[gu.Port],e,t[gu.QueryData],t[gu.Fragment])}/**
 * Resolves a URL.
 * @param {?} base The URL acting as the base URL.
 * @param {?} url
 * @return {?}
 */
function Fe(t,e){var/** @type {?} */n=je(encodeURI(e)),/** @type {?} */r=je(t);if(null!=n[gu.Scheme])return Le(n);n[gu.Scheme]=r[gu.Scheme];for(var/** @type {?} */i=gu.Scheme;i<=gu.Port;i++)null==n[i]&&(n[i]=r[i]);if("/"==n[gu.Path][0])return Le(n);var/** @type {?} */o=r[gu.Path];null==o&&(o="/");var/** @type {?} */s=o.lastIndexOf("/");return o=o.substring(0,s+1)+n[gu.Path],n[gu.Path]=o,Le(n)}/**
 * @param {?} type
 * @return {?}
 */
function Ue(t){return t instanceof Vr.Directive}/**
 * @template T
 * @param {?} arr
 * @param {?} condition
 * @return {?}
 */
function Ve(t,e){for(var/** @type {?} */n=t.length-1;n>=0;n--)if(e(t[n]))return t[n];return null}/**
 * @param {?} filePath
 * @return {?}
 */
function Be(t){var/** @type {?} */e=He(t);return e[0]+".ngfactory"+e[1]}/**
 * @param {?} filePath
 * @return {?}
 */
function ze(t){return t.replace(Cu,".")}/**
 * @param {?} filePath
 * @return {?}
 */
function qe(t){return Cu.test(t)}/**
 * @param {?} path
 * @return {?}
 */
function He(t){if(t.endsWith(".d.ts"))return[t.slice(0,-5),".ts"];var/** @type {?} */e=t.lastIndexOf(".");return-1!==e?[t.substring(0,e),t.substring(e)]:[t,""]}/**
 * @param {?} fileName
 * @return {?}
 */
function Ge(t){return t.replace(Eu,"")+".ngsummary.json"}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} hook
 * @param {?} token
 * @return {?}
 */
function We(t,e){return Vr["reflector"].hasLifecycleHook(e,$e(t))}/**
 * @param {?} hook
 * @return {?}
 */
function $e(t){switch(t){case Vr["LifecycleHooks"].OnInit:return"ngOnInit";case Vr["LifecycleHooks"].OnDestroy:return"ngOnDestroy";case Vr["LifecycleHooks"].DoCheck:return"ngDoCheck";case Vr["LifecycleHooks"].OnChanges:return"ngOnChanges";case Vr["LifecycleHooks"].AfterContentInit:return"ngAfterContentInit";case Vr["LifecycleHooks"].AfterContentChecked:return"ngAfterContentChecked";case Vr["LifecycleHooks"].AfterViewInit:return"ngAfterViewInit";case Vr["LifecycleHooks"].AfterViewChecked:return"ngAfterViewChecked"}}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} obj
 * @return {?}
 */
function Ye(t){return t instanceof Vr.NgModule}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} type
 * @return {?}
 */
function Xe(t){return t instanceof Vr.Pipe}/**
 * @param {?} tree
 * @param {?=} out
 * @return {?}
 */
function Ze(t,e){if(void 0===e&&(e=[]),t)for(var/** @type {?} */r=0;r<t.length;r++){var/** @type {?} */i=n.i(Vr.resolveForwardRef)(t[r]);Array.isArray(i)?Ze(i,e):e.push(i)}return e}/**
 * @param {?} array
 * @return {?}
 */
function Ke(t){return t?Array.from(new Set(t)):[]}/**
 * @param {?} tree
 * @return {?}
 */
function Qe(t){return Ke(Ze(t))}/**
 * @param {?} value
 * @return {?}
 */
function Je(t){return t instanceof ri||t instanceof Vr.Type}/**
 * @param {?} reflector
 * @param {?} type
 * @param {?} cmpMetadata
 * @return {?}
 */
function tn(t,e,n){if(e instanceof ri)return t.resourceUri(e);var/** @type {?} */r=n.moduleId;if("string"==typeof r){return Ie(r)?r:"package:"+r+mi}if(null!==r&&void 0!==r)throw h('moduleId should be a string in "'+nn(e)+"\". See https://goo.gl/wIDDiL for more information.\nIf you're using Webpack you should inline the template and the styles, see https://goo.gl/X2J8zc.");return t.importUri(e)}/**
 * @param {?} value
 * @param {?} targetIdentifiers
 * @return {?}
 */
function en(t,e){p(t,new Au,e)}/**
 * @param {?} type
 * @return {?}
 */
function nn(t){return t instanceof ri?t.name+" in "+t.filePath:n.i(Vr["stringify"])(t)}/**
 * Indicates that a component is still being loaded in a synchronous compile.
 * @param {?} compType
 * @return {?}
 */
function rn(t){var/** @type {?} */e=Error("Can't compile synchronously as "+n.i(Vr["stringify"])(t)+" is still being loaded!");return e[Vr["ERROR_COMPONENT_TYPE"]]=t,e}/**
 * @param {?} stmts
 * @return {?}
 */
function on(t){var/** @type {?} */e=new kc;return e.visitAllStatements(t,null),e.varNames}/**
 * @param {?} stmt
 * @param {?} sourceSpan
 * @return {?}
 */
function sn(t,e){if(!e)return t;var/** @type {?} */n=new Ic(e);return t.visitStatement(n,null)}/**
 * @param {?} expr
 * @param {?} sourceSpan
 * @return {?}
 */
function an(t,e){if(!e)return t;var/** @type {?} */n=new Ic(e);return t.visitExpression(n,null)}/**
 * @param {?} name
 * @param {?=} type
 * @param {?=} sourceSpan
 * @return {?}
 */
function un(t,e,n){return void 0===e&&(e=null),new Hu(t,e,n)}/**
 * @param {?} id
 * @param {?=} typeParams
 * @param {?=} sourceSpan
 * @return {?}
 */
function cn(t,e,n){return void 0===e&&(e=null),new Ju(t,null,e,n)}/**
 * @param {?} id
 * @param {?=} typeParams
 * @param {?=} typeModifiers
 * @return {?}
 */
function ln(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),null!=t?fn(cn(t,e),n):null}/**
 * @param {?} expr
 * @param {?=} typeModifiers
 * @return {?}
 */
function fn(t,e){return void 0===e&&(e=null),null!=t?new ju(t,e):null}/**
 * @param {?} values
 * @param {?=} type
 * @param {?=} sourceSpan
 * @return {?}
 */
function pn(t,e,n){return void 0===e&&(e=null),new uc(t,e,n)}/**
 * @param {?} values
 * @param {?=} type
 * @param {?=} quoted
 * @return {?}
 */
function hn(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=!1),new lc(t.map(function(t){return new cc(t[0],t[1],n)}),e)}/**
 * @param {?} expr
 * @param {?=} sourceSpan
 * @return {?}
 */
function dn(t,e){return new ec(t,e)}/**
 * @param {?} params
 * @param {?} body
 * @param {?=} type
 * @param {?=} sourceSpan
 * @return {?}
 */
function mn(t,e,n,r){return void 0===n&&(n=null),new ic(t,e,n,r)}/**
 * @param {?} value
 * @param {?=} type
 * @param {?=} sourceSpan
 * @return {?}
 */
function vn(t,e,n){return void 0===e&&(e=null),new Qu(t,e,n)}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * Create a new class stmts based on the given data.
 * @param {?} config
 * @return {?}
 */
function yn(t){var/** @type {?} */e=t.parentArgs||[],/** @type {?} */n=t.parent?[hc.callFn(e).toStmt()]:[],/** @type {?} */r=gn(Array.isArray(t.builders)?t.builders:[t.builders]),/** @type {?} */i=new Cc(null,t.ctorParams||[],n.concat(r.ctorStmts));return new Nc(t.name,t.parent,r.fields,r.getters,i,r.methods,t.modifiers||[],t.sourceSpan)}/**
 * @param {?} builders
 * @return {?}
 */
function gn(t){return{fields:[].concat.apply([],t.map(function(t){return t.fields||[]})),methods:[].concat.apply([],t.map(function(t){return t.methods||[]})),getters:[].concat.apply([],t.map(function(t){return t.getters||[]})),ctorStmts:[].concat.apply([],t.map(function(t){return t.ctorStmts||[]}))}}/**
 * @param {?} value
 * @param {?=} type
 * @return {?}
 */
function bn(t,e){return void 0===e&&(e=null),p(t,new Rc,e)}/**
 * @param {?} token
 * @return {?}
 */
function wn(t){return null!=t.value?vn(t.value):cn(t.identifier)}/**
 * @param {?} value
 * @return {?}
 */
function _n(t){var/** @type {?} */e="";t=v(t);for(var/** @type {?} */n=0;n<t.length;){var/** @type {?} */r=t.charCodeAt(n++),/** @type {?} */i=t.charCodeAt(n++),/** @type {?} */o=t.charCodeAt(n++);e+=En(r>>2),e+=En((3&r)<<4|(isNaN(i)?0:i>>4)),e+=isNaN(i)?"=":En((15&i)<<2|o>>6),e+=isNaN(i)||isNaN(o)?"=":En(63&o)}return e}/**
 * @param {?} value
 * @return {?}
 */
function xn(t){t=t<0?1+(-t<<1):t<<1;var/** @type {?} */e="";do{var/** @type {?} */n=31&t;t>>=5,t>0&&(n|=32),e+=En(n)}while(t>0);return e}/**
 * @param {?} value
 * @return {?}
 */
function En(t){if(t<0||t>=64)throw new Error("Can only encode value in the range [0, 63]");return zc[t]}/**
 * @param {?} input
 * @param {?} escapeDollar
 * @param {?=} alwaysQuote
 * @return {?}
 */
function Cn(t,e,n){if(void 0===n&&(n=!0),null==t)return null;var/** @type {?} */r=t.replace(qc,function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return"$"==t[0]?e?"\\$":"$":"\n"==t[0]?"\\n":"\r"==t[0]?"\\r":"\\"+t[0]});return n||!Hc.test(r)?"'"+r+"'":r}/**
 * @param {?} count
 * @return {?}
 */
function Sn(t){for(var/** @type {?} */e="",/** @type {?} */n=0;n<t;n++)e+=Gc;return e}/**
 * @param {?} ast
 * @return {?}
 */
function Nn(t){var/** @type {?} */e=new Qc(Kc,{/**
         * @param {?} filePath
         * @param {?} containingFilePath
         * @return {?}
         */
fileNameToModuleName:function(t,e){return t},/**
         * @param {?} symbol
         * @return {?}
         */
getImportAs:function(t){return null},getTypeArity:function(t){return null}}),/** @type {?} */n=Xc.createRoot([]);return(Array.isArray(t)?t:[t]).forEach(function(t){if(t instanceof yc)t.visitStatement(e,n);else if(t instanceof zu)t.visitExpression(e,n);else{if(!(t instanceof ku))throw new Error("Don't know how to print debug info for "+t);t.visitType(e,n)}}),n.toSource()}/**
 * @param {?} ctx
 * @param {?} specs
 * @return {?}
 */
function Mn(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];Jc[i.toLowerCase()]=t}}/**
 * @param {?} prop
 * @return {?}
 */
function On(t){switch(t){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}/**
 * @param {?} input
 * @return {?}
 */
function Tn(t){return t.replace(Sl,"")}/**
 * @param {?} input
 * @return {?}
 */
function An(t){var/** @type {?} */e=t.match(Nl);return e?e[0]:""}/**
 * @param {?} input
 * @param {?} ruleCallback
 * @return {?}
 */
function Pn(t,e){var/** @type {?} */n=kn(t),/** @type {?} */r=0;return n.escapedString.replace(Ml,function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var/** @type {?} */o=t[2],/** @type {?} */s="",/** @type {?} */a=t[4],/** @type {?} */u="";a&&a.startsWith("{"+Pl)&&(s=n.blocks[r++],a=a.substring(Pl.length+1),u="{");var/** @type {?} */c=e(new kl(o,s));return""+t[1]+c.selector+t[3]+u+c.content+a})}/**
 * @param {?} input
 * @return {?}
 */
function kn(t){for(var/** @type {?} */e=t.split(Ol),/** @type {?} */n=[],/** @type {?} */r=[],/** @type {?} */i=0,/** @type {?} */o=[],/** @type {?} */s=0;s<e.length;s++){var/** @type {?} */a=e[s];a==Al&&i--,i>0?o.push(a):(o.length>0&&(r.push(o.join("")),n.push(Pl),o=[]),n.push(a)),a==Tl&&i++}return o.length>0&&(r.push(o.join("")),n.push(Pl)),new Il(n.join(""),r)}/**
 * @param {?} component
 * @return {?}
 */
function In(t){var/** @type {?} */e="styles";return t&&(e+="_"+g(t.type)),e}/**
 * Converts the given expression AST into an executable output AST, assuming the expression is
 * used in an action binding (e.g. an event handler).
 * @param {?} localResolver
 * @param {?} implicitReceiver
 * @param {?} action
 * @param {?} bindingId
 * @return {?}
 */
function Rn(t,e,n,r){t||(t=new Hl);var/** @type {?} */i=jn({createLiteralArrayConverter:function(t){
// Note: no caching for literal arrays in actions.
return function(t){return pn(t)}},createLiteralMapConverter:function(t){
// Note: no caching for literal maps in actions.
return function(e){/** @type {?} */return hn(t.map(function(t,n){return[t,e[n]]}))}},createPipeConverter:function(t){throw new Error("Illegal State: Actions are not allowed to contain pipes. Pipe: "+t)}},n),/** @type {?} */o=new ql(t,e,r),/** @type {?} */s=[];Hn(i.visit(o,Bl.Statement),s),Vn(o.temporaryCount,r,s);var/** @type {?} */a=s.length-1,/** @type {?} */u=null;if(a>=0){var/** @type {?} */c=s[a],/** @type {?} */l=$n(c);l&&(
// Note: We need to cast the result of the method call to dynamic,
// as it might be a void method!
u=Wn(r),s[a]=u.set(l.cast(Fu).notIdentical(vn(!1))).toDeclStmt(null,[vc.Final]))}return new Ul(s,u)}/**
 * @param {?} converterFactory
 * @param {?} ast
 * @return {?}
 */
function jn(t,e){return Ln(t,e)}/**
 * Converts the given expression AST into an executable output AST, assuming the expression
 * is used in property binding. The expression has to be preprocessed via
 * `convertPropertyBindingBuiltins`.
 * @param {?} localResolver
 * @param {?} implicitReceiver
 * @param {?} expressionWithoutBuiltins
 * @param {?} bindingId
 * @return {?}
 */
function Dn(t,e,n,r){t||(t=new Hl);var/** @type {?} */i=Gn(r),/** @type {?} */o=[],/** @type {?} */s=new ql(t,e,r),/** @type {?} */a=n.visit(s,Bl.Expression);if(s.temporaryCount)for(var/** @type {?} */u=0;u<s.temporaryCount;u++)o.push(Un(r,u));return o.push(i.set(a).toDeclStmt(null,[vc.Final])),new Vl(o,i)}/**
 * @param {?} converterFactory
 * @param {?} ast
 * @return {?}
 */
function Ln(t,e){var/** @type {?} */n=new zl(t);return e.visit(n)}/**
 * @param {?} bindingId
 * @param {?} temporaryNumber
 * @return {?}
 */
function Fn(t,e){return"tmp_"+t+"_"+e}/**
 * @param {?} bindingId
 * @param {?} temporaryNumber
 * @return {?}
 */
function Un(t,e){return new gc(Fn(t,e),dc)}/**
 * @param {?} temporaryCount
 * @param {?} bindingId
 * @param {?} statements
 * @return {?}
 */
function Vn(t,e,n){for(var/** @type {?} */r=t-1;r>=0;r--)n.unshift(Un(e,r))}/**
 * @param {?} mode
 * @param {?} ast
 * @return {?}
 */
function Bn(t,e){if(t!==Bl.Statement)throw new Error("Expected a statement, but saw "+e)}/**
 * @param {?} mode
 * @param {?} ast
 * @return {?}
 */
function zn(t,e){if(t!==Bl.Expression)throw new Error("Expected an expression, but saw "+e)}/**
 * @param {?} mode
 * @param {?} expr
 * @return {?}
 */
function qn(t,e){return t===Bl.Statement?e.toStmt():e}/**
 * @param {?} arg
 * @param {?} output
 * @return {?}
 */
function Hn(t,e){Array.isArray(t)?t.forEach(function(t){return Hn(t,e)}):e.push(t)}/**
 * @param {?} bindingId
 * @return {?}
 */
function Gn(t){return un("currVal_"+t)}/**
 * @param {?} bindingId
 * @return {?}
 */
function Wn(t){return un("pd_"+t)}/**
 * @param {?} stmt
 * @return {?}
 */
function $n(t){return t instanceof wc?t.expr:t instanceof _c?t.value:null}/**
 * @param {?} providerAst
 * @return {?}
 */
function Yn(t){return t.multiProvider?Xn(t.providers):Zn(t.providerType,t.providers[0])}/**
 * @param {?} providers
 * @return {?}
 */
function Xn(t){/**
     * @param {?} providerIndex
     * @param {?} deps
     * @return {?}
     */
function e(t,e){return e.map(function(e,i){var/** @type {?} */o="p"+t+"_"+i;return r.push(new rc(o,Fu)),n.push(Qn(e)),un(o)})}var/** @type {?} */n=[],/** @type {?} */r=[],/** @type {?} */i=t.map(function(t,n){var/** @type {?} */r;if(t.useClass){var/** @type {?} */i=e(n,t.deps||t.useClass.diDeps);r=cn(t.useClass).instantiate(i)}else if(t.useFactory){var/** @type {?} */i=e(n,t.deps||t.useFactory.diDeps);r=cn(t.useFactory).callFn(i)}else if(t.useExisting){var/** @type {?} */i=e(n,[{token:t.useExisting}]);r=i[0]}else r=bn(t.useValue);return r});return{providerExpr:mn(r,[new _c(pn(i))],Uu),flags:512,depsExpr:pn(n)}}/**
 * @param {?} providerType
 * @param {?} providerMeta
 * @return {?}
 */
function Zn(t,e){var/** @type {?} */n,/** @type {?} */r,/** @type {?} */i;return t===ti.Directive||t===ti.Component?(n=cn(e.useClass),r=8192,i=e.deps||e.useClass.diDeps):e.useClass?(n=cn(e.useClass),r=256,i=e.deps||e.useClass.diDeps):e.useFactory?(n=cn(e.useFactory),r=512,i=e.deps||e.useFactory.diDeps):e.useExisting?(n=dc,r=1024,i=[{token:e.useExisting}]):(n=bn(e.useValue),r=128,i=[]),{providerExpr:n,flags:r,depsExpr:pn(i.map(function(t){return Qn(t)}))}}/**
 * @param {?} tokenMeta
 * @return {?}
 */
function Kn(t){return t.identifier?cn(t.identifier):vn(t.value)}/**
 * @param {?} dep
 * @return {?}
 */
function Qn(t){
// Note: the following fields have already been normalized out by provider_analyzer:
// - isAttribute, isSelf, isHost
var/** @type {?} */e=t.isValue?bn(t.value):Kn(t.token),/** @type {?} */n=0;return t.isSkipSelf&&(n|=1),t.isOptional&&(n|=2),t.isValue&&(n|=8),0===n?e:pn([vn(n),e])}/**
 * @param {?} astNodes
 * @return {?}
 */
function Jn(t){var/** @type {?} */e=t[t.length-1];return e instanceof Zr?e.hasViewContainer:e instanceof Xr?e.name===Yl&&e.children.length?Jn(e.children):e.hasViewContainer:e instanceof ei}/**
 * @param {?} lifecycleHook
 * @return {?}
 */
function tr(t){var/** @type {?} */e=0;switch(t){case Vr["LifecycleHooks"].AfterContentChecked:e=1048576;break;case Vr["LifecycleHooks"].AfterContentInit:e=524288;break;case Vr["LifecycleHooks"].AfterViewChecked:e=4194304;break;case Vr["LifecycleHooks"].AfterViewInit:e=2097152;break;case Vr["LifecycleHooks"].DoCheck:e=131072;break;case Vr["LifecycleHooks"].OnChanges:e=262144;break;case Vr["LifecycleHooks"].OnDestroy:e=65536;break;case Vr["LifecycleHooks"].OnInit:e=32768}return e}/**
 * @param {?} inputAst
 * @param {?} dirAst
 * @return {?}
 */
function er(t,e){switch(t.type){case ni.Attribute:return pn([vn(1),vn(t.name),vn(t.securityContext)]);case ni.Property:return pn([vn(8),vn(t.name),vn(t.securityContext)]);case ni.Animation:return pn([vn(8|(e&&e.directive.isComponent?32:16)),vn("@"+t.name),vn(t.securityContext)]);case ni.Class:return pn([vn(2),vn(t.name),dc]);case ni.Style:return pn([vn(4),vn(t.name),vn(t.unit)])}}/**
 * @param {?} elementAst
 * @return {?}
 */
function nr(t){var/** @type {?} */e=Object.create(null);t.attrs.forEach(function(t){e[t.name]=t.value}),t.directives.forEach(function(t){Object.keys(t.directive.hostAttributes).forEach(function(n){var/** @type {?} */r=t.directive.hostAttributes[n],/** @type {?} */i=e[n];e[n]=null!=i?rr(n,i,r):r})});
// Note: We need to sort to get a defined output order
// for tests and for caching generated artifacts...
return pn(Object.keys(e).sort().map(function(t){return pn([vn(t),vn(e[t])])}))}/**
 * @param {?} attrName
 * @param {?} attrValue1
 * @param {?} attrValue2
 * @return {?}
 */
function rr(t,e,n){return t==Wl||t==$l?e+" "+n:n}/**
 * @param {?} nodeIndex
 * @param {?} exprs
 * @return {?}
 */
function ir(t,e){return e.length>10?Jl.callFn([Ql,vn(t),vn(1),pn(e)]):Jl.callFn([Ql,vn(t),vn(0)].concat(e))}/**
 * @param {?} nodeIndex
 * @param {?} bindingIdx
 * @param {?} expr
 * @return {?}
 */
function or(t,e,n){return cn(se(xa.unwrapValue)).callFn([Ql,vn(t),vn(e),n])}/**
 * @param {?} nodes
 * @param {?=} result
 * @return {?}
 */
function sr(t,e){return void 0===e&&(e=new Map),t.forEach(function(t){var/** @type {?} */n,/** @type {?} */r=new Set,/** @type {?} */i=new Set;t instanceof Xr?(sr(t.children,e),t.children.forEach(function(t){var/** @type {?} */n=e.get(t);n.staticQueryIds.forEach(function(t){return r.add(t)}),n.dynamicQueryIds.forEach(function(t){return i.add(t)})}),n=t.queryMatches):t instanceof Zr&&(sr(t.children,e),t.children.forEach(function(t){var/** @type {?} */n=e.get(t);n.staticQueryIds.forEach(function(t){return i.add(t)}),n.dynamicQueryIds.forEach(function(t){return i.add(t)})}),n=t.queryMatches),n&&n.forEach(function(t){return r.add(t.queryId)}),i.forEach(function(t){return r.delete(t)}),e.set(t,{staticQueryIds:r,dynamicQueryIds:i})}),e}/**
 * @param {?} nodeStaticQueryIds
 * @return {?}
 */
function ar(t){var/** @type {?} */e=new Set,/** @type {?} */n=new Set;return Array.from(t.values()).forEach(function(t){t.staticQueryIds.forEach(function(t){return e.add(t)}),t.dynamicQueryIds.forEach(function(t){return n.add(t)})}),n.forEach(function(t){return e.delete(t)}),{staticQueryIds:e,dynamicQueryIds:n}}/**
 * @param {?} directives
 * @return {?}
 */
function ur(t){var/** @type {?} */e=t.find(function(t){return t.directive.isComponent});if(e&&e.directive.entryComponents.length){var/** @type {?} */n=e.directive.entryComponents.map(function(t){return cn({reference:t.componentFactory})}),/** @type {?} */r=ue(xa.ComponentFactoryResolver),/** @type {?} */i={diDeps:[{isValue:!0,value:pn(n)},{token:r,isSkipSelf:!0,isOptional:!0},{token:ue(xa.NgModuleRef)}],lifecycleHooks:[],reference:oe(xa.CodegenComponentFactoryResolver)};return new Jr(r,!1,!0,[{token:r,multi:!1,useClass:i}],ti.PrivateService,[],e.sourceSpan)}return null}/**
 * @param {?} eventAst
 * @param {?} dirAst
 * @return {?}
 */
function cr(t,e){return t.isAnimation?{name:"@"+t.name+"."+t.phase,target:e&&e.directive.isComponent?"component":null}:t}/**
 * @param {?} queryIds
 * @param {?} queryId
 * @param {?} isFirst
 * @return {?}
 */
function lr(t,e,n){var/** @type {?} */r=0;
// Note: We only make queries static that query for a single item.
// This is because of backwards compatibility with the old view compiler...
return!n||!t.staticQueryIds.has(e)&&t.dynamicQueryIds.has(e)?r|=268435456:r|=134217728,r}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} summaryResolver
 * @param {?} symbolResolver
 * @param {?} symbols
 * @param {?} types
 * @return {?}
 */
function fr(t,e,n,r){var/** @type {?} */i=new sf(e,t);
// for symbols, we use everything except for the class metadata itself
// (we keep the statics though), as the class metadata is contained in the
// CompileTypeSummary.
n.forEach(function(t){return i.addOrMergeSummary({symbol:t.symbol,metadata:t.metadata})});
// Add summaries that are referenced by the given symbols (transitively)
// Note: the serializer.symbols array might be growing while
// we execute the loop!
for(var/** @type {?} */o=0;o<i.symbols.length;o++){var/** @type {?} */s=i.symbols[o];if(t.isLibraryFile(s.filePath)){var/** @type {?} */a=t.resolveSummary(s);if(!a){
// some symbols might originate from a plain typescript library
// that just exported .d.ts and .metadata.json files, i.e. where no summary
// files were created.
var/** @type {?} */u=e.resolveSymbol(s);u&&(a={symbol:u.symbol,metadata:u.metadata})}a&&i.addOrMergeSummary(a)}}
// Add type summaries.
// Note: We don't add the summaries of all referenced symbols as for the ResolvedSymbols,
// as the type summaries already contain the transitive data that they require
// (in a minimal way).
return r.forEach(function(e){if(i.addOrMergeSummary({symbol:e.type.reference,metadata:{__symbolic:"class"},type:e}),e.summaryKind===Si.NgModule){var/** @type {?} */n=e;n.exportedDirectives.concat(n.exportedPipes).forEach(function(e){var/** @type {?} */n=e.reference;if(t.isLibraryFile(n.filePath)){var/** @type {?} */r=t.resolveSummary(n);r&&i.addOrMergeSummary(r)}})}}),i.serialize()}/**
 * @param {?} symbolCache
 * @param {?} json
 * @return {?}
 */
function pr(t,e){return new af(t).deserialize(e)}/**
 * @param {?} reflector
 * @param {?} compileResult
 * @param {?} fileSuffix
 * @return {?}
 */
function hr(t,e,n){return e.dependencies.forEach(function(e){e.valuePlaceholder.reference=t.getStaticSymbol(dr(e.moduleUrl,e.isShimmed,n),e.name)}),e.statements}/**
 * @param {?} stylesheetUrl
 * @param {?} shim
 * @param {?} suffix
 * @return {?}
 */
function dr(t,e,n){return t+(e?".shim":"")+".ngstyle"+n}/**
 * @param {?} meta
 * @return {?}
 */
function mr(t){if(!t.isComponent)throw new Error("Could not compile '"+g(t.type)+"' because it is not a component.")}/**
 * @param {?} programStaticSymbols
 * @param {?} host
 * @param {?} metadataResolver
 * @return {?}
 */
function vr(t,e,n){var r=wr(t,e,n);return gr(t,r.ngModules,r.symbolsMissingModule,n)}/**
 * @param {?} programStaticSymbols
 * @param {?} host
 * @param {?} metadataResolver
 * @return {?}
 */
function yr(t,e,n){var/** @type {?} */r=vr(t,e,n);if(r.symbolsMissingModule&&r.symbolsMissingModule.length){throw h(r.symbolsMissingModule.map(function(t){return"Cannot determine the module for class "+t.name+" in "+t.filePath+"! Add "+t.name+" to the NgModule to fix it."}).join("\n"))}return r}/**
 * @param {?} programSymbols
 * @param {?} ngModuleMetas
 * @param {?} symbolsMissingModule
 * @param {?} metadataResolver
 * @return {?}
 */
function gr(t,e,n,r){var/** @type {?} */i=new Map;e.forEach(function(t){return i.set(t.type.reference,t)});var/** @type {?} */o=new Map,/** @type {?} */s=new Map,/** @type {?} */a=new Map,/** @type {?} */u=new Map,/** @type {?} */c=new Map,/** @type {?} */l=new Set;
// Make sure we produce an analyzed file for each input file
t.forEach(function(t){var/** @type {?} */e=t.filePath;l.add(e),r.isInjectable(t)&&c.set(e,(c.get(e)||[]).concat(t))}),
// Looping over all modules to construct:
// - a map from file to modules `ngModulesByFile`,
// - a map from file to directives `ngDirectivesByFile`,
// - a map from file to pipes `ngPipesByFile`,
// - a map from directive/pipe to module `ngModuleByPipeOrDirective`.
e.forEach(function(t){var/** @type {?} */e=t.type.reference.filePath;l.add(e),s.set(e,(s.get(e)||[]).concat(t.type.reference)),t.declaredDirectives.forEach(function(e){var/** @type {?} */n=e.reference.filePath;l.add(n),a.set(n,(a.get(n)||[]).concat(e.reference)),o.set(e.reference,t)}),t.declaredPipes.forEach(function(e){var/** @type {?} */n=e.reference.filePath;l.add(n),u.set(n,(u.get(n)||[]).concat(e.reference)),o.set(e.reference,t)})});var/** @type {?} */f=[];return l.forEach(function(t){var/** @type {?} */e=a.get(t)||[],/** @type {?} */n=u.get(t)||[],/** @type {?} */r=s.get(t)||[],/** @type {?} */i=c.get(t)||[];f.push({srcUrl:t,directives:e,pipes:n,ngModules:r,injectables:i})}),{
// map directive/pipe to module
ngModuleByPipeOrDirective:o,
// list modules and directives for every source file
files:f,ngModules:e,symbolsMissingModule:n}}/**
 * @param {?} staticSymbolResolver
 * @param {?} files
 * @param {?} host
 * @return {?}
 */
function br(t,e,n){var/** @type {?} */r=[];return e.filter(function(t){return n.isSourceFile(t)}).forEach(function(e){t.getSymbolsOf(e).forEach(function(e){var/** @type {?} */n=t.resolveSymbol(e),/** @type {?} */i=n.metadata;i&&"error"!=i.__symbolic&&
// Ignore symbols that are only included to record error information.
r.push(n.symbol)})}),r}/**
 * @param {?} programStaticSymbols
 * @param {?} host
 * @param {?} metadataResolver
 * @return {?}
 */
function wr(t,e,n){var/** @type {?} */r=new Map,/** @type {?} */i=[],/** @type {?} */o=new Set,/** @type {?} */s=function(t){if(r.has(t)||!e.isSourceFile(t.filePath))return!1;var/** @type {?} */i=n.getNgModuleMetadata(t,!1);
// For every input module add the list of transitively included modules
return i&&(r.set(i.type.reference,i),i.declaredDirectives.forEach(function(t){return o.add(t.reference)}),i.declaredPipes.forEach(function(t){return o.add(t.reference)}),i.transitiveModule.modules.forEach(function(t){return s(t.reference)})),!!i};t.forEach(function(t){s(t)||!n.isDirective(t)&&!n.isPipe(t)||i.push(t)});
// Throw an error if any of the program pipe or directives is not declared by a module
var/** @type {?} */a=i.filter(function(t){return!o.has(t)});return{ngModules:Array.from(r.values()),symbolsMissingModule:a}}/**
 * @param {?} type
 * @return {?}
 */
function _r(t){return"object"==typeof t&&t.name&&t.filePath}/**
 * @param {?} value
 * @return {?}
 */
function xr(t){return t&&"ignore"==t.__symbolic}/**
 * @param {?} error
 * @return {?}
 */
function Er(t){switch(t.message){case"Reference to non-exported class":if(t.context&&t.context.className)return"Reference to a non-exported class "+t.context.className+". Consider exporting the class";break;case"Variable not initialized":return"Only initialized variables and constants can be referenced because the value of this variable is needed by the template compiler";case"Destructuring not supported":return"Referencing an exported destructured variable or constant is not supported by the template compiler. Consider simplifying this to avoid destructuring";case"Could not resolve type":if(t.context&&t.context.typeName)return"Could not resolve type "+t.context.typeName;break;case"Function call not supported":return(t.context&&t.context.name?"Calling function '"+t.context.name+"', f":"F")+"unction calls are not supported. Consider replacing the function or lambda with a reference to an exported function";case"Reference to a local symbol":if(t.context&&t.context.name)return"Reference to a local (non-exported) symbol '"+t.context.name+"'. Consider exporting the symbol"}return t.message}/**
 * @param {?} error
 * @return {?}
 */
function Cr(t){return"Error encountered resolving symbol values statically. "+Er(t)}/**
 * @param {?} input
 * @param {?} transform
 * @return {?}
 */
function Sr(t,e){if(!t)return{};var/** @type {?} */n={};return Object.keys(t).forEach(function(r){var/** @type {?} */i=e(t[r],r);xr(i)||(lf.test(r)?Object.defineProperty(n,r,{enumerable:!1,configurable:!0,value:i}):n[r]=i)}),n}/**
 * @param {?} o
 * @return {?}
 */
function Nr(t){return null===t||"function"!=typeof t&&"object"!=typeof t}/**
 * @param {?} message
 * @param {?} fileName
 * @param {?} line
 * @param {?} column
 * @return {?}
 */
function Mr(t,e,n,r){var/** @type {?} */i=new Error(t);return i.fileName=e,i.line=n,i.column=r,i}/**
 * @param {?} identifier
 * @return {?}
 */
function Or(t){return t.startsWith("___")?t.substr(1):t}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} statements
 * @param {?} resultVars
 * @return {?}
 */
function Tr(t,e){var/** @type {?} */n=t.concat([new _c(pn(e.map(function(t){return un(t)})))]),/** @type {?} */r=new gf(null,null,null,new Map),/** @type {?} */i=new wf,/** @type {?} */o=i.visitAllStatements(n,r);return null!=o?o.value:null}/**
 * @param {?} varNames
 * @param {?} varValues
 * @param {?} statements
 * @param {?} ctx
 * @param {?} visitor
 * @return {?}
 */
function Ar(t,e,n,r,i){for(var/** @type {?} */o=r.createChildWihtLocalVars(),/** @type {?} */s=0;s<t.length;s++)o.vars.set(t[s],e[s]);var/** @type {?} */a=i.visitAllStatements(n,o);return a?a.value:null}/**
 * @param {?} _classStmt
 * @param {?} _ctx
 * @param {?} _visitor
 * @return {?}
 */
function Pr(t,e,n){var/** @type {?} */r={};t.getters.forEach(function(i){
// Note: use `function` instead of arrow function to capture `this`
r[i.name]={configurable:!1,get:function(){var/** @type {?} */r=new gf(e,this,t.name,e.vars);return Ar([],[],i.body,r,n)}}}),t.methods.forEach(function(i){var/** @type {?} */o=i.params.map(function(t){return t.name});
// Note: use `function` instead of arrow function to capture `this`
r[i.name]={writable:!1,configurable:!1,value:function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];var/** @type {?} */a=new gf(e,this,t.name,e.vars);return Ar(o,r,i.body,a,n)}}});var/** @type {?} */i=t.constructorMethod.params.map(function(t){return t.name}),/** @type {?} */o=function(){for(var r=this,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var/** @type {?} */a=new gf(e,this,t.name,e.vars);t.fields.forEach(function(t){r[t.name]=void 0}),Ar(i,o,t.constructorMethod.body,a,n)},/** @type {?} */s=t.parent?t.parent.visitExpression(n,e):Object;return o.prototype=Object.create(s.prototype,r),o}/**
 * @param {?} varNames
 * @param {?} statements
 * @param {?} ctx
 * @param {?} visitor
 * @return {?}
 */
function kr(t,e,n,r){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return Ar(t,i,e,n,r)}}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @param {?} sourceUrl
 * @param {?} ctx
 * @param {?} vars
 * @return {?}
 */
function Ir(t,e,r){var/** @type {?} */i=e.toSource()+"\n//# sourceURL="+t,/** @type {?} */o=[],/** @type {?} */s=[];for(var/** @type {?} */a in r)o.push(a),s.push(r[a]);if(n.i(Vr.isDevMode)()){
// using `new Function(...)` generates a header, 1 line of no arguments, 2 lines otherwise
// E.g. ```
// function anonymous(a,b,c
// /**/) { ... }```
// We don't want to hard code this fact, so we auto detect it via an empty function first.
var/** @type {?} */u=(new(Function.bind.apply(Function,[void 0].concat(o.concat("return null;"))))).toString(),/** @type {?} */c=u.slice(0,u.indexOf("return null;")).split("\n").length-1;i+="\n"+e.toSourceMapGenerator(t,t,c).toJsComment()}return(new(Function.bind.apply(Function,[void 0].concat(o.concat(i))))).apply(void 0,s)}/**
 * @param {?} sourceUrl
 * @param {?} statements
 * @param {?} resultVars
 * @return {?}
 */
function Rr(t,e,n){var/** @type {?} */r=new Cf,/** @type {?} */i=Xc.createRoot(n),/** @type {?} */o=new _c(pn(n.map(function(t){return un(t)})));return r.visitAllStatements(e.concat([o]),i),Ir(t,i,r.getArgs())}/**
 * @param {?} meta
 * @return {?}
 */
function jr(t){if(!t.isComponent)throw new Error("Could not compile '"+g(t.type)+"' because it is not a component.")}/**
 * @return {?}
 */
function Dr(){Vr["reflector"].reflectionCapabilities=new Vr["ReflectionCapabilities"]}/**
 * @param {?} optionsArr
 * @return {?}
 */
function Lr(t){return{useJit:Fr(t.map(function(t){return t.useJit})),defaultEncapsulation:Fr(t.map(function(t){return t.defaultEncapsulation})),providers:Ur(t.map(function(t){return t.providers})),missingTranslation:Fr(t.map(function(t){return t.missingTranslation}))}}/**
 * @template T
 * @param {?} args
 * @return {?}
 */
function Fr(t){for(var/** @type {?} */e=t.length-1;e>=0;e--)if(void 0!==t[e])return t[e]}/**
 * @param {?} parts
 * @return {?}
 */
function Ur(t){var/** @type {?} */e=[];return t.forEach(function(t){return t&&e.push.apply(e,t)}),e}/* harmony import */
var Vr=n(23);/* unused harmony export VERSION */
/* unused harmony export TEMPLATE_TRANSFORMS */
/* unused harmony export CompilerConfig */
/* unused harmony export JitCompiler */
/* unused harmony export DirectiveResolver */
/* unused harmony export PipeResolver */
/* unused harmony export NgModuleResolver */
/* unused harmony export DEFAULT_INTERPOLATION_CONFIG */
/* unused harmony export InterpolationConfig */
/* unused harmony export NgModuleCompiler */
/* unused harmony export ViewCompiler */
/* unused harmony export isSyntaxError */
/* unused harmony export syntaxError */
/* unused harmony export TextAst */
/* unused harmony export BoundTextAst */
/* unused harmony export AttrAst */
/* unused harmony export BoundElementPropertyAst */
/* unused harmony export BoundEventAst */
/* unused harmony export ReferenceAst */
/* unused harmony export VariableAst */
/* unused harmony export ElementAst */
/* unused harmony export EmbeddedTemplateAst */
/* unused harmony export BoundDirectivePropertyAst */
/* unused harmony export DirectiveAst */
/* unused harmony export ProviderAst */
/* unused harmony export ProviderAstType */
/* unused harmony export NgContentAst */
/* unused harmony export PropertyBindingType */
/* unused harmony export templateVisitAll */
/* unused harmony export CompileAnimationEntryMetadata */
/* unused harmony export CompileAnimationStateMetadata */
/* unused harmony export CompileAnimationStateDeclarationMetadata */
/* unused harmony export CompileAnimationStateTransitionMetadata */
/* unused harmony export CompileAnimationMetadata */
/* unused harmony export CompileAnimationKeyframesSequenceMetadata */
/* unused harmony export CompileAnimationStyleMetadata */
/* unused harmony export CompileAnimationAnimateMetadata */
/* unused harmony export CompileAnimationWithStepsMetadata */
/* unused harmony export CompileAnimationSequenceMetadata */
/* unused harmony export CompileAnimationGroupMetadata */
/* unused harmony export identifierName */
/* unused harmony export identifierModuleUrl */
/* unused harmony export viewClassName */
/* unused harmony export rendererTypeName */
/* unused harmony export hostViewClassName */
/* unused harmony export dirWrapperClassName */
/* unused harmony export componentFactoryName */
/* unused harmony export CompileSummaryKind */
/* unused harmony export tokenName */
/* unused harmony export tokenReference */
/* unused harmony export CompileStylesheetMetadata */
/* unused harmony export CompileTemplateMetadata */
/* unused harmony export CompileDirectiveMetadata */
/* unused harmony export createHostComponentMeta */
/* unused harmony export CompilePipeMetadata */
/* unused harmony export CompileNgModuleMetadata */
/* unused harmony export TransitiveCompileNgModuleMetadata */
/* unused harmony export ProviderMeta */
/* unused harmony export flatten */
/* unused harmony export sourceUrl */
/* unused harmony export templateSourceUrl */
/* unused harmony export sharedStylesheetJitUrl */
/* unused harmony export ngModuleJitUrl */
/* unused harmony export templateJitUrl */
/* unused harmony export createAotCompiler */
/* unused harmony export AotCompiler */
/* unused harmony export analyzeNgModules */
/* unused harmony export analyzeAndValidateNgModules */
/* unused harmony export extractProgramSymbols */
/* unused harmony export GeneratedFile */
/* unused harmony export StaticReflector */
/* unused harmony export StaticAndDynamicReflectionCapabilities */
/* unused harmony export StaticSymbol */
/* unused harmony export StaticSymbolCache */
/* unused harmony export ResolvedStaticSymbol */
/* unused harmony export StaticSymbolResolver */
/* unused harmony export unescapeIdentifier */
/* unused harmony export AotSummaryResolver */
/* unused harmony export SummaryResolver */
/* unused harmony export COMPILER_PROVIDERS */
/* unused harmony export JitCompilerFactory */
/* harmony export (binding) */
n.d(e,"b",function(){return Rf}),/* unused harmony export createUrlResolverWithoutPackagePrefix */
/* unused harmony export createOfflineCompileUrlResolver */
/* unused harmony export DEFAULT_PACKAGE_URL_PROVIDER */
/* unused harmony export UrlResolver */
/* unused harmony export getUrlScheme */
/* harmony export (binding) */
n.d(e,"a",function(){return du});/* unused harmony export ElementSchemaRegistry */
/* unused harmony export Extractor */
/* unused harmony export I18NHtmlParser */
/* unused harmony export MessageBundle */
/* unused harmony export Serializer */
/* unused harmony export Xliff */
/* unused harmony export Xmb */
/* unused harmony export Xtb */
/* unused harmony export DirectiveNormalizer */
/* unused harmony export ParserError */
/* unused harmony export ParseSpan */
/* unused harmony export AST */
/* unused harmony export Quote */
/* unused harmony export EmptyExpr */
/* unused harmony export ImplicitReceiver */
/* unused harmony export Chain */
/* unused harmony export Conditional */
/* unused harmony export PropertyRead */
/* unused harmony export PropertyWrite */
/* unused harmony export SafePropertyRead */
/* unused harmony export KeyedRead */
/* unused harmony export KeyedWrite */
/* unused harmony export BindingPipe */
/* unused harmony export LiteralPrimitive */
/* unused harmony export LiteralArray */
/* unused harmony export LiteralMap */
/* unused harmony export Interpolation */
/* unused harmony export Binary */
/* unused harmony export PrefixNot */
/* unused harmony export MethodCall */
/* unused harmony export SafeMethodCall */
/* unused harmony export FunctionCall */
/* unused harmony export ASTWithSource */
/* unused harmony export TemplateBinding */
/* unused harmony export RecursiveAstVisitor */
/* unused harmony export AstTransformer */
/* unused harmony export TokenType */
/* unused harmony export Lexer */
/* unused harmony export Token */
/* unused harmony export EOF */
/* unused harmony export isIdentifier */
/* unused harmony export isQuote */
/* unused harmony export SplitInterpolation */
/* unused harmony export TemplateBindingParseResult */
/* unused harmony export Parser */
/* unused harmony export _ParseAST */
/* unused harmony export ERROR_COLLECTOR_TOKEN */
/* unused harmony export CompileMetadataResolver */
/* unused harmony export componentModuleUrl */
/* unused harmony export Text */
/* unused harmony export Expansion */
/* unused harmony export ExpansionCase */
/* unused harmony export Attribute */
/* unused harmony export Element */
/* unused harmony export Comment */
/* unused harmony export visitAll */
/* unused harmony export ParseTreeResult */
/* unused harmony export TreeError */
/* unused harmony export HtmlParser */
/* unused harmony export HtmlTagDefinition */
/* unused harmony export getHtmlTagDefinition */
/* unused harmony export TagContentType */
/* unused harmony export splitNsName */
/* unused harmony export getNsPrefix */
/* unused harmony export mergeNsAndName */
/* unused harmony export NAMED_ENTITIES */
/* unused harmony export ImportResolver */
/* unused harmony export debugOutputAstAsTypeScript */
/* unused harmony export TypeScriptEmitter */
/* unused harmony export ParseLocation */
/* unused harmony export ParseSourceFile */
/* unused harmony export ParseSourceSpan */
/* unused harmony export ParseErrorLevel */
/* unused harmony export ParseError */
/* unused harmony export typeSourceSpan */
/* unused harmony export DomElementSchemaRegistry */
/* unused harmony export CssSelector */
/* unused harmony export SelectorMatcher */
/* unused harmony export SelectorListContext */
/* unused harmony export SelectorContext */
/* unused harmony export StylesCompileDependency */
/* unused harmony export StylesCompileResult */
/* unused harmony export CompiledStylesheet */
/* unused harmony export StyleCompiler */
/* unused harmony export TemplateParseError */
/* unused harmony export TemplateParseResult */
/* unused harmony export TemplateParser */
/* unused harmony export splitClasses */
/* unused harmony export createElementCssSelector */
/* unused harmony export removeSummaryDuplicates */
var Br=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},zr=(new Vr.Version("4.0.1"),function(){/**
     * @param {?} value
     * @param {?} ngContentIndex
     * @param {?} sourceSpan
     */
function t(t,e,n){this.value=t,this.ngContentIndex=e,this.sourceSpan=n}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){return t.visitText(this,e)},t}()),qr=function(){/**
     * @param {?} value
     * @param {?} ngContentIndex
     * @param {?} sourceSpan
     */
function t(t,e,n){this.value=t,this.ngContentIndex=e,this.sourceSpan=n}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){return t.visitBoundText(this,e)},t}(),Hr=function(){/**
     * @param {?} name
     * @param {?} value
     * @param {?} sourceSpan
     */
function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){return t.visitAttr(this,e)},t}(),Gr=function(){/**
     * @param {?} name
     * @param {?} type
     * @param {?} securityContext
     * @param {?} value
     * @param {?} unit
     * @param {?} sourceSpan
     */
function t(t,e,n,r,i,o){this.name=t,this.type=e,this.securityContext=n,this.value=r,this.unit=i,this.sourceSpan=o}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){return t.visitElementProperty(this,e)},Object.defineProperty(t.prototype,"isAnimation",{/**
         * @return {?}
         */
get:function(){return this.type===ni.Animation},enumerable:!0,configurable:!0}),t}(),Wr=function(){/**
     * @param {?} name
     * @param {?} target
     * @param {?} phase
     * @param {?} handler
     * @param {?} sourceSpan
     */
function t(t,e,n,r,i){this.name=t,this.target=e,this.phase=n,this.handler=r,this.sourceSpan=i}/**
     * @param {?} name
     * @param {?} target
     * @param {?} phase
     * @return {?}
     */
/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return t.calcFullName=function(t,e,n){return e?e+":"+t:n?"@"+t+"."+n:t},t.prototype.visit=function(t,e){return t.visitEvent(this,e)},Object.defineProperty(t.prototype,"fullName",{/**
         * @return {?}
         */
get:function(){return t.calcFullName(this.name,this.target,this.phase)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimation",{/**
         * @return {?}
         */
get:function(){return!!this.phase},enumerable:!0,configurable:!0}),t}(),$r=function(){/**
     * @param {?} name
     * @param {?} value
     * @param {?} sourceSpan
     */
function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){return t.visitReference(this,e)},t}(),Yr=function(){/**
     * @param {?} name
     * @param {?} value
     * @param {?} sourceSpan
     */
function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){return t.visitVariable(this,e)},t}(),Xr=function(){/**
     * @param {?} name
     * @param {?} attrs
     * @param {?} inputs
     * @param {?} outputs
     * @param {?} references
     * @param {?} directives
     * @param {?} providers
     * @param {?} hasViewContainer
     * @param {?} queryMatches
     * @param {?} children
     * @param {?} ngContentIndex
     * @param {?} sourceSpan
     * @param {?} endSourceSpan
     */
function t(t,e,n,r,i,o,s,a,u,c,l,f,p){this.name=t,this.attrs=e,this.inputs=n,this.outputs=r,this.references=i,this.directives=o,this.providers=s,this.hasViewContainer=a,this.queryMatches=u,this.children=c,this.ngContentIndex=l,this.sourceSpan=f,this.endSourceSpan=p}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){return t.visitElement(this,e)},t}(),Zr=function(){/**
     * @param {?} attrs
     * @param {?} outputs
     * @param {?} references
     * @param {?} variables
     * @param {?} directives
     * @param {?} providers
     * @param {?} hasViewContainer
     * @param {?} queryMatches
     * @param {?} children
     * @param {?} ngContentIndex
     * @param {?} sourceSpan
     */
function t(t,e,n,r,i,o,s,a,u,c,l){this.attrs=t,this.outputs=e,this.references=n,this.variables=r,this.directives=i,this.providers=o,this.hasViewContainer=s,this.queryMatches=a,this.children=u,this.ngContentIndex=c,this.sourceSpan=l}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){return t.visitEmbeddedTemplate(this,e)},t}(),Kr=function(){/**
     * @param {?} directiveName
     * @param {?} templateName
     * @param {?} value
     * @param {?} sourceSpan
     */
function t(t,e,n,r){this.directiveName=t,this.templateName=e,this.value=n,this.sourceSpan=r}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){return t.visitDirectiveProperty(this,e)},t}(),Qr=function(){/**
     * @param {?} directive
     * @param {?} inputs
     * @param {?} hostProperties
     * @param {?} hostEvents
     * @param {?} contentQueryStartId
     * @param {?} sourceSpan
     */
function t(t,e,n,r,i,o){this.directive=t,this.inputs=e,this.hostProperties=n,this.hostEvents=r,this.contentQueryStartId=i,this.sourceSpan=o}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){return t.visitDirective(this,e)},t}(),Jr=function(){/**
     * @param {?} token
     * @param {?} multiProvider
     * @param {?} eager
     * @param {?} providers
     * @param {?} providerType
     * @param {?} lifecycleHooks
     * @param {?} sourceSpan
     */
function t(t,e,n,r,i,o,s){this.token=t,this.multiProvider=e,this.eager=n,this.providers=r,this.providerType=i,this.lifecycleHooks=o,this.sourceSpan=s}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){
// No visit method in the visitor for now...
return null},t}(),ti={};ti.PublicService=0,ti.PrivateService=1,ti.Component=2,ti.Directive=3,ti.Builtin=4,ti[ti.PublicService]="PublicService",ti[ti.PrivateService]="PrivateService",ti[ti.Component]="Component",ti[ti.Directive]="Directive",ti[ti.Builtin]="Builtin";/**
 * Position where content is to be projected (instance of `<ng-content>` in a template).
 */
var ei=function(){/**
     * @param {?} index
     * @param {?} ngContentIndex
     * @param {?} sourceSpan
     */
function t(t,e,n){this.index=t,this.ngContentIndex=e,this.sourceSpan=n}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){return t.visitNgContent(this,e)},t}(),ni={};ni.Property=0,ni.Attribute=1,ni.Class=2,ni.Style=3,ni.Animation=4,ni[ni.Property]="Property",ni[ni.Attribute]="Attribute",ni[ni.Class]="Class",ni[ni.Style]="Style",ni[ni.Animation]="Animation";/**
 * A token representing the a reference to a static type.
 *
 * This token is unique for a filePath and name and can be used as a hash table key.
 */
var ri=function(){/**
     * @param {?} filePath
     * @param {?} name
     * @param {?} members
     */
function t(t,e,n){this.filePath=t,this.name=e,this.members=n}/**
     * @return {?}
     */
return t.prototype.assertNoMembers=function(){if(this.members.length)throw new Error("Illegal state: symbol without members expected, but got "+JSON.stringify(this)+".")},t}(),ii=function(){function t(){this.cache=new Map}/**
     * @param {?} declarationFile
     * @param {?} name
     * @param {?=} members
     * @return {?}
     */
return t.prototype.get=function(t,e,n){n=n||[];var/** @type {?} */r=n.length?"."+n.join("."):"",/** @type {?} */i='"'+t+'".'+e+r,/** @type {?} */o=this.cache.get(i);return o||(o=new ri(t,e,n),this.cache.set(i,o)),o},t}(),oi={};oi.RAW_TEXT=0,oi.ESCAPABLE_RAW_TEXT=1,oi.PARSABLE_DATA=2,oi[oi.RAW_TEXT]="RAW_TEXT",oi[oi.ESCAPABLE_RAW_TEXT]="ESCAPABLE_RAW_TEXT",oi[oi.PARSABLE_DATA]="PARSABLE_DATA";
// see http://www.w3.org/TR/html51/syntax.html#named-character-references
// see https://html.spec.whatwg.org/multipage/entities.json
// This list is not exhaustive to keep the compiler footprint low.
// The `&#123;` / `&#x1ab;` syntax should be used when the named character reference does not exist.
var si={Aacute:"",aacute:"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"",Agrave:"",agrave:"",alefsym:"",Alpha:"",alpha:"",amp:"&",and:"",ang:"",apos:"'",Aring:"",aring:"",asymp:"",Atilde:"",atilde:"",Auml:"",auml:"",bdquo:"",Beta:"",beta:"",brvbar:"",bull:"",cap:"",Ccedil:"",ccedil:"",cedil:"",cent:"",Chi:"",chi:"",circ:"",clubs:"",cong:"",copy:"",crarr:"",cup:"",curren:"",dagger:"",Dagger:"",darr:"",dArr:"",deg:"",Delta:"",delta:"",diams:"",divide:"",Eacute:"",eacute:"",Ecirc:"",ecirc:"",Egrave:"",egrave:"",empty:"",emsp:"",ensp:"",Epsilon:"",epsilon:"",equiv:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",exist:"",fnof:"",forall:"",frac12:"",frac14:"",frac34:"",frasl:"",Gamma:"",gamma:"",ge:"",gt:">",harr:"",hArr:"",hearts:"",hellip:"",Iacute:"",iacute:"",Icirc:"",icirc:"",iexcl:"",Igrave:"",igrave:"",image:"",infin:"",int:"",Iota:"",iota:"",iquest:"",isin:"",Iuml:"",iuml:"",Kappa:"",kappa:"",Lambda:"",lambda:"",lang:"",laquo:"",larr:"",lArr:"",lceil:"",ldquo:"",le:"",lfloor:"",lowast:"",loz:"",lrm:"",lsaquo:"",lsquo:"",lt:"<",macr:"",mdash:"",micro:"",middot:"",minus:"",Mu:"",mu:"",nabla:"",nbsp:"",ndash:"",ne:"",ni:"",not:"",notin:"",nsub:"",Ntilde:"",ntilde:"",Nu:"",nu:"",Oacute:"",oacute:"",Ocirc:"",ocirc:"",OElig:"",oelig:"",Ograve:"",ograve:"",oline:"",Omega:"",omega:"",Omicron:"",omicron:"",oplus:"",or:"",ordf:"",ordm:"",Oslash:"",oslash:"",Otilde:"",otilde:"",otimes:"",Ouml:"",ouml:"",para:"",permil:"",perp:"",Phi:"",phi:"",Pi:"",pi:"",piv:"",plusmn:"",pound:"",prime:"",Prime:"",prod:"",prop:"",Psi:"",psi:"",quot:'"',radic:"",rang:"",raquo:"",rarr:"",rArr:"",rceil:"",rdquo:"",real:"",reg:"",rfloor:"",Rho:"",rho:"",rlm:"",rsaquo:"",rsquo:"",sbquo:"",Scaron:"",scaron:"",sdot:"",sect:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sim:"",spades:"",sub:"",sube:"",sum:"",sup:"",sup1:"",sup2:"",sup3:"",supe:"",szlig:"",Tau:"",tau:"",there4:"",Theta:"",theta:"",thetasym:"",thinsp:"",THORN:"",thorn:"",tilde:"",times:"",trade:"",Uacute:"",uacute:"",uarr:"",uArr:"",Ucirc:"",ucirc:"",Ugrave:"",ugrave:"",uml:"",upsih:"",Upsilon:"",upsilon:"",Uuml:"",uuml:"",weierp:"",Xi:"",xi:"",Yacute:"",yacute:"",yen:"",yuml:"",Yuml:"",Zeta:"",zeta:"",zwj:"",zwnj:""},ai=function(){/**
     * @param {?=} __0
     */
function t(t){var e=void 0===t?{}:t,n=e.closedByChildren,r=e.requiredParents,i=e.implicitNamespacePrefix,o=e.contentType,s=void 0===o?oi.PARSABLE_DATA:o,a=e.closedByParent,u=void 0!==a&&a,c=e.isVoid,l=void 0!==c&&c,f=e.ignoreFirstLf,p=void 0!==f&&f,h=this;this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,n&&n.length>0&&n.forEach(function(t){return h.closedByChildren[t]=!0}),this.isVoid=l,this.closedByParent=u||l,r&&r.length>0&&(this.requiredParents={},
// The first parent is the list is automatically when none of the listed parents are present
this.parentToAdd=r[0],r.forEach(function(t){return h.requiredParents[t]=!0})),this.implicitNamespacePrefix=i,this.contentType=s,this.ignoreFirstLf=p}/**
     * @param {?} currentParent
     * @return {?}
     */
/**
     * @param {?} name
     * @return {?}
     */
return t.prototype.requireExtraParent=function(t){if(!this.requiredParents)return!1;if(!t)return!0;var/** @type {?} */e=t.toLowerCase();return!("template"===e||"ng-template"===t)&&1!=this.requiredParents[e]},t.prototype.isClosedByChild=function(t){return this.isVoid||t.toLowerCase()in this.closedByChildren},t}(),ui={base:new ai({isVoid:!0}),meta:new ai({isVoid:!0}),area:new ai({isVoid:!0}),embed:new ai({isVoid:!0}),link:new ai({isVoid:!0}),img:new ai({isVoid:!0}),input:new ai({isVoid:!0}),param:new ai({isVoid:!0}),hr:new ai({isVoid:!0}),br:new ai({isVoid:!0}),source:new ai({isVoid:!0}),track:new ai({isVoid:!0}),wbr:new ai({isVoid:!0}),p:new ai({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new ai({closedByChildren:["tbody","tfoot"]}),tbody:new ai({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new ai({closedByChildren:["tbody"],closedByParent:!0}),tr:new ai({closedByChildren:["tr"],requiredParents:["tbody","tfoot","thead"],closedByParent:!0}),td:new ai({closedByChildren:["td","th"],closedByParent:!0}),th:new ai({closedByChildren:["td","th"],closedByParent:!0}),col:new ai({requiredParents:["colgroup"],isVoid:!0}),svg:new ai({implicitNamespacePrefix:"svg"}),math:new ai({implicitNamespacePrefix:"math"}),li:new ai({closedByChildren:["li"],closedByParent:!0}),dt:new ai({closedByChildren:["dt","dd"]}),dd:new ai({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new ai({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new ai({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new ai({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new ai({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new ai({closedByChildren:["optgroup"],closedByParent:!0}),option:new ai({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new ai({ignoreFirstLf:!0}),listing:new ai({ignoreFirstLf:!0}),style:new ai({contentType:oi.RAW_TEXT}),script:new ai({contentType:oi.RAW_TEXT}),title:new ai({contentType:oi.ESCAPABLE_RAW_TEXT}),textarea:new ai({contentType:oi.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})},ci=new ai,li=new RegExp("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-.\\w*]+)(?:=([\"']?)([^\\]\"']*)\\5)?\\])|(\\))|(\\s*,\\s*)",// ","
"g"),fi=function(){function t(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}/**
     * @param {?} selector
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?=} element
     * @return {?}
     */
/**
     * Gets a template string for an element that matches the selector.
     * @return {?}
     */
/**
     * @param {?} name
     * @param {?=} value
     * @return {?}
     */
/**
     * @param {?} name
     * @return {?}
     */
/**
     * @return {?}
     */
return t.parse=function(e){var/** @type {?} */n,/** @type {?} */r=[],/** @type {?} */i=function(t,e){e.notSelectors.length>0&&!e.element&&0==e.classNames.length&&0==e.attrs.length&&(e.element="*"),t.push(e)},/** @type {?} */o=new t,/** @type {?} */s=o,/** @type {?} */a=!1;for(li.lastIndex=0;n=li.exec(e);){if(n[1]){if(a)throw new Error("Nesting :not is not allowed in a selector");a=!0,s=new t,o.notSelectors.push(s)}if(n[2]&&s.setElement(n[2]),n[3]&&s.addClassName(n[3]),n[4]&&s.addAttribute(n[4],n[6]),n[7]&&(a=!1,s=o),n[8]){if(a)throw new Error("Multiple selectors in :not are not supported");i(r,o),o=s=new t}}return i(r,o),r},t.prototype.isElementSelector=function(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length},t.prototype.hasElementSelector=function(){return!!this.element},t.prototype.setElement=function(t){void 0===t&&(t=null),this.element=t},t.prototype.getMatchingElementTemplate=function(){for(var/** @type {?} */t=this.element||"div",/** @type {?} */e=this.classNames.length>0?' class="'+this.classNames.join(" ")+'"':"",/** @type {?} */n="",/** @type {?} */r=0;r<this.attrs.length;r+=2){n+=" "+this.attrs[r]+(""!==this.attrs[r+1]?'="'+this.attrs[r+1]+'"':"")}return a(t).isVoid?"<"+t+e+n+"/>":"<"+t+e+n+"></"+t+">"},t.prototype.addAttribute=function(t,e){void 0===e&&(e=""),this.attrs.push(t,e&&e.toLowerCase()||"")},t.prototype.addClassName=function(t){this.classNames.push(t.toLowerCase())},t.prototype.toString=function(){var/** @type {?} */t=this.element||"";if(this.classNames&&this.classNames.forEach(function(e){return t+="."+e}),this.attrs)for(var/** @type {?} */e=0;e<this.attrs.length;e+=2){var/** @type {?} */n=this.attrs[e],/** @type {?} */r=this.attrs[e+1];t+="["+n+(r?"="+r:"")+"]"}return this.notSelectors.forEach(function(e){return t+=":not("+e+")"}),t},t}(),pi=function(){function t(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}/**
     * @param {?} notSelectors
     * @return {?}
     */
/**
     * @param {?} cssSelectors
     * @param {?=} callbackCtxt
     * @return {?}
     */
/**
     * Add an object that can be found later on by calling `match`.
     * @param {?} cssSelector A css selector
     * @param {?} callbackCtxt An opaque object that will be given to the callback of the `match` function
     * @param {?} listContext
     * @return {?}
     */
/**
     * @param {?} map
     * @param {?} name
     * @param {?} selectable
     * @return {?}
     */
/**
     * @param {?} map
     * @param {?} name
     * @return {?}
     */
/**
     * Find the objects that have been added via `addSelectable`
     * whose css selector is contained in the given css selector.
     * @param {?} cssSelector A css selector
     * @param {?} matchedCallback This callback will be called with the object handed into `addSelectable`
     * @return {?} boolean true if a match was found
     */
/**
     * \@internal
     * @param {?} map
     * @param {?} name
     * @param {?} cssSelector
     * @param {?} matchedCallback
     * @return {?}
     */
/**
     * \@internal
     * @param {?} map
     * @param {?} name
     * @param {?} cssSelector
     * @param {?} matchedCallback
     * @return {?}
     */
return t.createNotMatcher=function(e){var/** @type {?} */n=new t;return n.addSelectables(e,null),n},t.prototype.addSelectables=function(t,e){var/** @type {?} */n=null;t.length>1&&(n=new hi(t),this._listContexts.push(n));for(var/** @type {?} */r=0;r<t.length;r++)this._addSelectable(t[r],e,n)},t.prototype._addSelectable=function(t,e,n){var/** @type {?} */r=this,/** @type {?} */i=t.element,/** @type {?} */o=t.classNames,/** @type {?} */s=t.attrs,/** @type {?} */a=new di(t,e,n);if(i){var/** @type {?} */u=0===s.length&&0===o.length;u?this._addTerminal(r._elementMap,i,a):r=this._addPartial(r._elementPartialMap,i)}if(o)for(var/** @type {?} */c=0;c<o.length;c++){var/** @type {?} */u=0===s.length&&c===o.length-1,/** @type {?} */l=o[c];u?this._addTerminal(r._classMap,l,a):r=this._addPartial(r._classPartialMap,l)}if(s)for(var/** @type {?} */c=0;c<s.length;c+=2){var/** @type {?} */u=c===s.length-2,/** @type {?} */f=s[c],/** @type {?} */p=s[c+1];if(u){var/** @type {?} */h=r._attrValueMap,/** @type {?} */d=h.get(f);d||(d=new Map,h.set(f,d)),this._addTerminal(d,p,a)}else{var/** @type {?} */m=r._attrValuePartialMap,/** @type {?} */v=m.get(f);v||(v=new Map,m.set(f,v)),r=this._addPartial(v,p)}}},t.prototype._addTerminal=function(t,e,n){var/** @type {?} */r=t.get(e);r||(r=[],t.set(e,r)),r.push(n)},t.prototype._addPartial=function(e,n){var/** @type {?} */r=e.get(n);return r||(r=new t,e.set(n,r)),r},t.prototype.match=function(t,e){for(var/** @type {?} */n=!1,/** @type {?} */r=t.element,/** @type {?} */i=t.classNames,/** @type {?} */o=t.attrs,/** @type {?} */s=0;s<this._listContexts.length;s++)this._listContexts[s].alreadyMatched=!1;if(n=this._matchTerminal(this._elementMap,r,t,e)||n,n=this._matchPartial(this._elementPartialMap,r,t,e)||n,i)for(var/** @type {?} */s=0;s<i.length;s++){var/** @type {?} */a=i[s];n=this._matchTerminal(this._classMap,a,t,e)||n,n=this._matchPartial(this._classPartialMap,a,t,e)||n}if(o)for(var/** @type {?} */s=0;s<o.length;s+=2){var/** @type {?} */u=o[s],/** @type {?} */c=o[s+1],/** @type {?} */l=this._attrValueMap.get(u);c&&(n=this._matchTerminal(l,"",t,e)||n),n=this._matchTerminal(l,c,t,e)||n;var/** @type {?} */f=this._attrValuePartialMap.get(u);c&&(n=this._matchPartial(f,"",t,e)||n),n=this._matchPartial(f,c,t,e)||n}return n},t.prototype._matchTerminal=function(t,e,n,r){if(!t||"string"!=typeof e)return!1;var/** @type {?} */i=t.get(e)||[],/** @type {?} */o=t.get("*");if(o&&(i=i.concat(o)),0===i.length)return!1;for(var/** @type {?} */s,/** @type {?} */a=!1,/** @type {?} */u=0;u<i.length;u++)s=i[u],a=s.finalize(n,r)||a;return a},t.prototype._matchPartial=function(t,e,n,r){if(!t||"string"!=typeof e)return!1;var/** @type {?} */i=t.get(e);return!!i&&i.match(n,r)},t}(),hi=function(){/**
     * @param {?} selectors
     */
function t(t){this.selectors=t,this.alreadyMatched=!1}return t}(),di=function(){/**
     * @param {?} selector
     * @param {?} cbContext
     * @param {?} listContext
     */
function t(t,e,n){this.selector=t,this.cbContext=e,this.listContext=n,this.notSelectors=t.notSelectors}/**
     * @param {?} cssSelector
     * @param {?} callback
     * @return {?}
     */
return t.prototype.finalize=function(t,e){var/** @type {?} */n=!0;if(this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)){n=!pi.createNotMatcher(this.notSelectors).match(t,null)}return!n||!e||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),e(this.selector,this.cbContext)),n},t}(),mi="",vi=/-+([a-z0-9])/g,yi=function(){function t(){}/**
     * @param {?} arr
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} map
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} value
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} value
     * @param {?} context
     * @return {?}
     */
return t.prototype.visitArray=function(t,e){var n=this;return t.map(function(t){return p(t,n,e)})},t.prototype.visitStringMap=function(t,e){var n=this,/** @type {?} */r={};return Object.keys(t).forEach(function(i){r[i]=p(t[i],n,e)}),r},t.prototype.visitPrimitive=function(t,e){return t},t.prototype.visitOther=function(t,e){return t},t}(),gi=function(){/**
     * @param {?} syncResult
     * @param {?=} asyncResult
     */
function t(t,e){void 0===e&&(e=null),this.syncResult=t,this.asyncResult=e,e||(this.asyncResult=Promise.resolve(t))}return t}(),bi="ngSyntaxError",wi=Object.getPrototypeOf({}),_i=(function(){/**
     * @param {?=} name
     * @param {?=} definitions
     */
function t(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.name=t,this.definitions=e}}(),function(){function t(){}return t}()),xi=(function(t){/**
     * @param {?} stateNameExpr
     * @param {?} styles
     */
function e(e,n){var r=t.call(this)||this;return r.stateNameExpr=e,r.styles=n,r}Br(e,t)}(_i),function(t){/**
     * @param {?} stateChangeExpr
     * @param {?} steps
     */
function e(e,n){var r=t.call(this)||this;return r.stateChangeExpr=e,r.steps=n,r}Br(e,t)}(_i),function(){function t(){}return t}()),Ei=(function(t){/**
     * @param {?=} steps
     */
function e(e){void 0===e&&(e=[]);var n=t.call(this)||this;return n.steps=e,n}Br(e,t)}(xi),function(t){/**
     * @param {?} offset
     * @param {?=} styles
     */
function e(e,n){void 0===n&&(n=null);var r=t.call(this)||this;return r.offset=e,r.styles=n,r}Br(e,t)}(xi),function(t){/**
     * @param {?=} timings
     * @param {?=} styles
     */
function e(e,n){void 0===e&&(e=0),void 0===n&&(n=null);var r=t.call(this)||this;return r.timings=e,r.styles=n,r}Br(e,t)}(xi),function(t){/**
     * @param {?=} steps
     */
function e(e){void 0===e&&(e=null);var n=t.call(this)||this;return n.steps=e,n}return Br(e,t),e}(xi)),Ci=(function(t){/**
     * @param {?=} steps
     */
function e(e){return void 0===e&&(e=null),t.call(this,e)||this}Br(e,t)}(Ei),function(t){/**
     * @param {?=} steps
     */
function e(e){return void 0===e&&(e=null),t.call(this,e)||this}Br(e,t)}(Ei),0),Si={};Si.Pipe=0,Si.Directive=1,Si.NgModule=2,Si.Injectable=3,Si[Si.Pipe]="Pipe",Si[Si.Directive]="Directive",Si[Si.NgModule]="NgModule",Si[Si.Injectable]="Injectable";/**
 * Metadata about a stylesheet
 */
var Ni=function(){/**
     * @param {?=} __0
     */
function t(t){var e=void 0===t?{}:t,n=e.moduleUrl,r=e.styles,i=e.styleUrls;this.moduleUrl=n,this.styles=M(r),this.styleUrls=M(i)}return t}(),Mi=function(){/**
     * @param {?=} __0
     */
function t(t){var e=void 0===t?{}:t,n=e.encapsulation,r=e.template,i=e.templateUrl,o=e.styles,s=e.styleUrls,a=e.externalStylesheets,u=e.animations,c=e.ngContentSelectors,l=e.interpolation,f=e.isInline;if(this.encapsulation=n,this.template=r,this.templateUrl=i,this.styles=M(o),this.styleUrls=M(s),this.externalStylesheets=M(a),this.animations=u?O(u):[],this.ngContentSelectors=c||[],l&&2!=l.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=l,this.isInline=f}/**
     * @return {?}
     */
return t.prototype.toSummary=function(){return{animations:this.animations.map(function(t){return t.name}),ngContentSelectors:this.ngContentSelectors,encapsulation:this.encapsulation}},t}(),Oi=function(){/**
     * @param {?=} __0
     */
function t(t){var e=void 0===t?{}:t,n=e.isHost,r=e.type,i=e.isComponent,o=e.selector,s=e.exportAs,a=e.changeDetection,u=e.inputs,c=e.outputs,l=e.hostListeners,f=e.hostProperties,p=e.hostAttributes,h=e.providers,d=e.viewProviders,m=e.queries,v=e.viewQueries,y=e.entryComponents,g=e.template,b=e.componentViewType,w=e.rendererType,_=e.componentFactory;this.isHost=!!n,this.type=r,this.isComponent=i,this.selector=o,this.exportAs=s,this.changeDetection=a,this.inputs=u,this.outputs=c,this.hostListeners=l,this.hostProperties=f,this.hostAttributes=p,this.providers=M(h),this.viewProviders=M(d),this.queries=M(m),this.viewQueries=M(v),this.entryComponents=M(y),this.template=g,this.componentViewType=b,this.rendererType=w,this.componentFactory=_}/**
     * @param {?=} __0
     * @return {?}
     */
/**
     * @return {?}
     */
return t.create=function(e){var n=void 0===e?{}:e,r=n.isHost,i=n.type,o=n.isComponent,s=n.selector,a=n.exportAs,u=n.changeDetection,l=n.inputs,f=n.outputs,p=n.host,h=n.providers,d=n.viewProviders,m=n.queries,v=n.viewQueries,y=n.entryComponents,g=n.template,b=n.componentViewType,w=n.rendererType,_=n.componentFactory,/** @type {?} */x={},/** @type {?} */E={},/** @type {?} */C={};null!=p&&Object.keys(p).forEach(function(t){var/** @type {?} */e=p[t],/** @type {?} */n=t.match(/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/);null===n?C[t]=e:null!=n[1]?E[n[1]]=e:null!=n[2]&&(x[n[2]]=e)});var/** @type {?} */S={};null!=l&&l.forEach(function(t){
// canonical syntax: `dirProp: elProp`
// if there is no `:`, use dirProp = elProp
var/** @type {?} */e=c(t,[t,t]);S[e[0]]=e[1]});var/** @type {?} */N={};return null!=f&&f.forEach(function(t){
// canonical syntax: `dirProp: elProp`
// if there is no `:`, use dirProp = elProp
var/** @type {?} */e=c(t,[t,t]);N[e[0]]=e[1]}),new t({isHost:r,type:i,isComponent:!!o,selector:s,exportAs:a,changeDetection:u,inputs:S,outputs:N,hostListeners:x,hostProperties:E,hostAttributes:C,providers:h,viewProviders:d,queries:m,viewQueries:v,entryComponents:y,template:g,componentViewType:b,rendererType:w,componentFactory:_})},t.prototype.toSummary=function(){return{summaryKind:Si.Directive,type:this.type,isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,providers:this.providers,viewProviders:this.viewProviders,queries:this.queries,viewQueries:this.viewQueries,entryComponents:this.entryComponents,changeDetection:this.changeDetection,template:this.template&&this.template.toSummary(),componentViewType:this.componentViewType,rendererType:this.rendererType,componentFactory:this.componentFactory}},t}(),Ti=function(){/**
     * @param {?=} __0
     */
function t(t){var e=void 0===t?{}:t,n=e.type,r=e.name,i=e.pure;this.type=n,this.name=r,this.pure=!!i}/**
     * @return {?}
     */
return t.prototype.toSummary=function(){return{summaryKind:Si.Pipe,type:this.type,name:this.name,pure:this.pure}},t}(),Ai=function(){/**
     * @param {?=} __0
     */
function t(t){var e=void 0===t?{}:t,n=e.type,r=e.providers,i=e.declaredDirectives,o=e.exportedDirectives,s=e.declaredPipes,a=e.exportedPipes,u=e.entryComponents,c=e.bootstrapComponents,l=e.importedModules,f=e.exportedModules,p=e.schemas,h=e.transitiveModule,d=e.id;this.type=n,this.declaredDirectives=M(i),this.exportedDirectives=M(o),this.declaredPipes=M(s),this.exportedPipes=M(a),this.providers=M(r),this.entryComponents=M(u),this.bootstrapComponents=M(c),this.importedModules=M(l),this.exportedModules=M(f),this.schemas=M(p),this.id=d,this.transitiveModule=h}/**
     * @return {?}
     */
return t.prototype.toSummary=function(){return{summaryKind:Si.NgModule,type:this.type,entryComponents:this.transitiveModule.entryComponents,providers:this.transitiveModule.providers,modules:this.transitiveModule.modules,exportedDirectives:this.transitiveModule.exportedDirectives,exportedPipes:this.transitiveModule.exportedPipes}},t}(),Pi=function(){function t(){this.directivesSet=new Set,this.directives=[],this.exportedDirectivesSet=new Set,this.exportedDirectives=[],this.pipesSet=new Set,this.pipes=[],this.exportedPipesSet=new Set,this.exportedPipes=[],this.modulesSet=new Set,this.modules=[],this.entryComponentsSet=new Set,this.entryComponents=[],this.providers=[]}/**
     * @param {?} provider
     * @param {?} module
     * @return {?}
     */
/**
     * @param {?} id
     * @return {?}
     */
/**
     * @param {?} id
     * @return {?}
     */
/**
     * @param {?} id
     * @return {?}
     */
/**
     * @param {?} id
     * @return {?}
     */
/**
     * @param {?} id
     * @return {?}
     */
/**
     * @param {?} ec
     * @return {?}
     */
return t.prototype.addProvider=function(t,e){this.providers.push({provider:t,module:e})},t.prototype.addDirective=function(t){this.directivesSet.has(t.reference)||(this.directivesSet.add(t.reference),this.directives.push(t))},t.prototype.addExportedDirective=function(t){this.exportedDirectivesSet.has(t.reference)||(this.exportedDirectivesSet.add(t.reference),this.exportedDirectives.push(t))},t.prototype.addPipe=function(t){this.pipesSet.has(t.reference)||(this.pipesSet.add(t.reference),this.pipes.push(t))},t.prototype.addExportedPipe=function(t){this.exportedPipesSet.has(t.reference)||(this.exportedPipesSet.add(t.reference),this.exportedPipes.push(t))},t.prototype.addModule=function(t){this.modulesSet.has(t.reference)||(this.modulesSet.add(t.reference),this.modules.push(t))},t.prototype.addEntryComponent=function(t){this.entryComponentsSet.has(t.componentType)||(this.entryComponentsSet.add(t.componentType),this.entryComponents.push(t))},t}(),ki=function(){/**
     * @param {?} token
     * @param {?} __1
     */
function t(t,e){var n=e.useClass,r=e.useValue,i=e.useExisting,o=e.useFactory,s=e.deps,a=e.multi;this.token=t,this.useClass=n,this.useValue=r,this.useExisting=i,this.useFactory=o,this.dependencies=s,this.multi=!!a}return t}(),Ii=function(){/**
     * @param {?=} __0
     */
function t(t){var e=void 0===t?{}:t,n=e.defaultEncapsulation,r=void 0===n?Vr.ViewEncapsulation.Emulated:n,i=e.useJit,o=void 0===i||i,s=e.missingTranslation,a=e.enableLegacyTemplate;this.defaultEncapsulation=r,this.useJit=o,this.missingTranslation=s,this.enableLegacyTemplate=!1!==a}return t}(),Ri=function(){/**
     * @param {?} message
     * @param {?} input
     * @param {?} errLocation
     * @param {?=} ctxLocation
     */
function t(t,e,n,r){this.input=e,this.errLocation=n,this.ctxLocation=r,this.message="Parser Error: "+t+" "+n+" ["+e+"] in "+r}return t}(),ji=function(){/**
     * @param {?} start
     * @param {?} end
     */
function t(t,e){this.start=t,this.end=e}return t}(),Di=function(){/**
     * @param {?} span
     */
function t(t){this.span=t}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
/**
     * @return {?}
     */
return t.prototype.visit=function(t,e){return void 0===e&&(e=null),null},t.prototype.toString=function(){return"AST"},t}(),Li=function(t){/**
     * @param {?} span
     * @param {?} prefix
     * @param {?} uninterpretedExpression
     * @param {?} location
     */
function e(e,n,r,i){var o=t.call(this,e)||this;return o.prefix=n,o.uninterpretedExpression=r,o.location=i,o}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
/**
     * @return {?}
     */
return Br(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitQuote(this,e)},e.prototype.toString=function(){return"Quote"},e}(Di),Fi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return Br(e,t),e.prototype.visit=function(t,e){void 0===e&&(e=null)},e}(Di),Ui=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return Br(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitImplicitReceiver(this,e)},e}(Di),Vi=function(t){/**
     * @param {?} span
     * @param {?} expressions
     */
function e(e,n){var r=t.call(this,e)||this;return r.expressions=n,r}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return Br(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitChain(this,e)},e}(Di),Bi=function(t){/**
     * @param {?} span
     * @param {?} condition
     * @param {?} trueExp
     * @param {?} falseExp
     */
function e(e,n,r,i){var o=t.call(this,e)||this;return o.condition=n,o.trueExp=r,o.falseExp=i,o}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return Br(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitConditional(this,e)},e}(Di),zi=function(t){/**
     * @param {?} span
     * @param {?} receiver
     * @param {?} name
     */
function e(e,n,r){var i=t.call(this,e)||this;return i.receiver=n,i.name=r,i}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return Br(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPropertyRead(this,e)},e}(Di),qi=function(t){/**
     * @param {?} span
     * @param {?} receiver
     * @param {?} name
     * @param {?} value
     */
function e(e,n,r,i){var o=t.call(this,e)||this;return o.receiver=n,o.name=r,o.value=i,o}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return Br(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPropertyWrite(this,e)},e}(Di),Hi=function(t){/**
     * @param {?} span
     * @param {?} receiver
     * @param {?} name
     */
function e(e,n,r){var i=t.call(this,e)||this;return i.receiver=n,i.name=r,i}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return Br(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitSafePropertyRead(this,e)},e}(Di),Gi=function(t){/**
     * @param {?} span
     * @param {?} obj
     * @param {?} key
     */
function e(e,n,r){var i=t.call(this,e)||this;return i.obj=n,i.key=r,i}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return Br(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitKeyedRead(this,e)},e}(Di),Wi=function(t){/**
     * @param {?} span
     * @param {?} obj
     * @param {?} key
     * @param {?} value
     */
function e(e,n,r,i){var o=t.call(this,e)||this;return o.obj=n,o.key=r,o.value=i,o}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return Br(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitKeyedWrite(this,e)},e}(Di),$i=function(t){/**
     * @param {?} span
     * @param {?} exp
     * @param {?} name
     * @param {?} args
     */
function e(e,n,r,i){var o=t.call(this,e)||this;return o.exp=n,o.name=r,o.args=i,o}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return Br(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPipe(this,e)},e}(Di),Yi=function(t){/**
     * @param {?} span
     * @param {?} value
     */
function e(e,n){var r=t.call(this,e)||this;return r.value=n,r}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return Br(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralPrimitive(this,e)},e}(Di),Xi=function(t){/**
     * @param {?} span
     * @param {?} expressions
     */
function e(e,n){var r=t.call(this,e)||this;return r.expressions=n,r}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return Br(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralArray(this,e)},e}(Di),Zi=function(t){/**
     * @param {?} span
     * @param {?} keys
     * @param {?} values
     */
function e(e,n,r){var i=t.call(this,e)||this;return i.keys=n,i.values=r,i}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return Br(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralMap(this,e)},e}(Di),Ki=function(t){/**
     * @param {?} span
     * @param {?} strings
     * @param {?} expressions
     */
function e(e,n,r){var i=t.call(this,e)||this;return i.strings=n,i.expressions=r,i}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return Br(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitInterpolation(this,e)},e}(Di),Qi=function(t){/**
     * @param {?} span
     * @param {?} operation
     * @param {?} left
     * @param {?} right
     */
function e(e,n,r,i){var o=t.call(this,e)||this;return o.operation=n,o.left=r,o.right=i,o}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return Br(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitBinary(this,e)},e}(Di),Ji=function(t){/**
     * @param {?} span
     * @param {?} expression
     */
function e(e,n){var r=t.call(this,e)||this;return r.expression=n,r}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return Br(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPrefixNot(this,e)},e}(Di),to=function(t){/**
     * @param {?} span
     * @param {?} receiver
     * @param {?} name
     * @param {?} args
     */
function e(e,n,r,i){var o=t.call(this,e)||this;return o.receiver=n,o.name=r,o.args=i,o}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return Br(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitMethodCall(this,e)},e}(Di),eo=function(t){/**
     * @param {?} span
     * @param {?} receiver
     * @param {?} name
     * @param {?} args
     */
function e(e,n,r,i){var o=t.call(this,e)||this;return o.receiver=n,o.name=r,o.args=i,o}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return Br(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitSafeMethodCall(this,e)},e}(Di),no=function(t){/**
     * @param {?} span
     * @param {?} target
     * @param {?} args
     */
function e(e,n,r){var i=t.call(this,e)||this;return i.target=n,i.args=r,i}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return Br(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitFunctionCall(this,e)},e}(Di),ro=function(t){/**
     * @param {?} ast
     * @param {?} source
     * @param {?} location
     * @param {?} errors
     */
function e(e,n,r,i){var o=t.call(this,new ji(0,null==n?0:n.length))||this;return o.ast=e,o.source=n,o.location=r,o.errors=i,o}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
/**
     * @return {?}
     */
return Br(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),this.ast.visit(t,e)},e.prototype.toString=function(){return this.source+" in "+this.location},e}(Di),io=function(){/**
     * @param {?} span
     * @param {?} key
     * @param {?} keyIsVar
     * @param {?} name
     * @param {?} expression
     */
function t(t,e,n,r,i){this.span=t,this.key=e,this.keyIsVar=n,this.name=r,this.expression=i}return t}(),oo=function(){function t(){}/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} asts
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
return t.prototype.visitBinary=function(t,e){return t.left.visit(this),t.right.visit(this),null},t.prototype.visitChain=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitConditional=function(t,e){return t.condition.visit(this),t.trueExp.visit(this),t.falseExp.visit(this),null},t.prototype.visitPipe=function(t,e){return t.exp.visit(this),this.visitAll(t.args,e),null},t.prototype.visitFunctionCall=function(t,e){return t.target.visit(this),this.visitAll(t.args,e),null},t.prototype.visitImplicitReceiver=function(t,e){return null},t.prototype.visitInterpolation=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitKeyedRead=function(t,e){return t.obj.visit(this),t.key.visit(this),null},t.prototype.visitKeyedWrite=function(t,e){return t.obj.visit(this),t.key.visit(this),t.value.visit(this),null},t.prototype.visitLiteralArray=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitLiteralMap=function(t,e){return this.visitAll(t.values,e)},t.prototype.visitLiteralPrimitive=function(t,e){return null},t.prototype.visitMethodCall=function(t,e){return t.receiver.visit(this),this.visitAll(t.args,e)},t.prototype.visitPrefixNot=function(t,e){return t.expression.visit(this),null},t.prototype.visitPropertyRead=function(t,e){return t.receiver.visit(this),null},t.prototype.visitPropertyWrite=function(t,e){return t.receiver.visit(this),t.value.visit(this),null},t.prototype.visitSafePropertyRead=function(t,e){return t.receiver.visit(this),null},t.prototype.visitSafeMethodCall=function(t,e){return t.receiver.visit(this),this.visitAll(t.args,e)},t.prototype.visitAll=function(t,e){var n=this;return t.forEach(function(t){return t.visit(n,e)}),null},t.prototype.visitQuote=function(t,e){return null},t}(),so=function(){function t(){}/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} asts
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
return t.prototype.visitImplicitReceiver=function(t,e){return t},t.prototype.visitInterpolation=function(t,e){return new Ki(t.span,t.strings,this.visitAll(t.expressions))},t.prototype.visitLiteralPrimitive=function(t,e){return new Yi(t.span,t.value)},t.prototype.visitPropertyRead=function(t,e){return new zi(t.span,t.receiver.visit(this),t.name)},t.prototype.visitPropertyWrite=function(t,e){return new qi(t.span,t.receiver.visit(this),t.name,t.value.visit(this))},t.prototype.visitSafePropertyRead=function(t,e){return new Hi(t.span,t.receiver.visit(this),t.name)},t.prototype.visitMethodCall=function(t,e){return new to(t.span,t.receiver.visit(this),t.name,this.visitAll(t.args))},t.prototype.visitSafeMethodCall=function(t,e){return new eo(t.span,t.receiver.visit(this),t.name,this.visitAll(t.args))},t.prototype.visitFunctionCall=function(t,e){return new no(t.span,t.target.visit(this),this.visitAll(t.args))},t.prototype.visitLiteralArray=function(t,e){return new Xi(t.span,this.visitAll(t.expressions))},t.prototype.visitLiteralMap=function(t,e){return new Zi(t.span,t.keys,this.visitAll(t.values))},t.prototype.visitBinary=function(t,e){return new Qi(t.span,t.operation,t.left.visit(this),t.right.visit(this))},t.prototype.visitPrefixNot=function(t,e){return new Ji(t.span,t.expression.visit(this))},t.prototype.visitConditional=function(t,e){return new Bi(t.span,t.condition.visit(this),t.trueExp.visit(this),t.falseExp.visit(this))},t.prototype.visitPipe=function(t,e){return new $i(t.span,t.exp.visit(this),t.name,this.visitAll(t.args))},t.prototype.visitKeyedRead=function(t,e){return new Gi(t.span,t.obj.visit(this),t.key.visit(this))},t.prototype.visitKeyedWrite=function(t,e){return new Wi(t.span,t.obj.visit(this),t.key.visit(this),t.value.visit(this))},t.prototype.visitAll=function(t){for(var/** @type {?} */e=new Array(t.length),/** @type {?} */n=0;n<t.length;++n)e[n]=t[n].visit(this);return e},t.prototype.visitChain=function(t,e){return new Vi(t.span,this.visitAll(t.expressions))},t.prototype.visitQuote=function(t,e){return new Li(t.span,t.prefix,t.uninterpretedExpression,t.location)},t}(),ao=0,uo=9,co=10,lo=11,fo=12,po=13,ho=32,mo=34,vo=36,yo=39,go=43,bo=45,wo=47,_o=59,xo=61,Eo=62,Co=48,So=57,No=65,Mo=69,Oo=70,To=90,Ao=95,Po=97,ko=101,Io=102,Ro=110,jo=114,Do=116,Lo=118,Fo=122,Uo=123,Vo=160,Bo=96,zo=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//],qo=function(){/**
     * @param {?} start
     * @param {?} end
     */
function t(t,e){this.start=t,this.end=e}/**
     * @param {?} markers
     * @return {?}
     */
return t.fromArray=function(e){return e?(V("interpolation",e),new t(e[0],e[1])):Ho},t}(),Ho=new qo("{{","}}"),Go={};Go.Character=0,Go.Identifier=1,Go.Keyword=2,Go.String=3,Go.Operator=4,Go.Number=5,Go.Error=6,Go[Go.Character]="Character",Go[Go.Identifier]="Identifier",Go[Go.Keyword]="Keyword",Go[Go.String]="String",Go[Go.Operator]="Operator",Go[Go.Number]="Number",Go[Go.Error]="Error";var Wo=["var","let","as","null","undefined","true","false","if","else","this"],$o=function(){function t(){}/**
     * @param {?} text
     * @return {?}
     */
return t.prototype.tokenize=function(t){for(var/** @type {?} */e=new Zo(t),/** @type {?} */n=[],/** @type {?} */r=e.scanToken();null!=r;)n.push(r),r=e.scanToken();return n},t}();$o.decorators=[{type:F}],/**
 * @nocollapse
 */
$o.ctorParameters=function(){return[]};var Yo=function(){/**
     * @param {?} index
     * @param {?} type
     * @param {?} numValue
     * @param {?} strValue
     */
function t(t,e,n,r){this.index=t,this.type=e,this.numValue=n,this.strValue=r}/**
     * @param {?} code
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} operater
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
return t.prototype.isCharacter=function(t){return this.type==Go.Character&&this.numValue==t},t.prototype.isNumber=function(){return this.type==Go.Number},t.prototype.isString=function(){return this.type==Go.String},t.prototype.isOperator=function(t){return this.type==Go.Operator&&this.strValue==t},t.prototype.isIdentifier=function(){return this.type==Go.Identifier},t.prototype.isKeyword=function(){return this.type==Go.Keyword},t.prototype.isKeywordLet=function(){return this.type==Go.Keyword&&"let"==this.strValue},t.prototype.isKeywordAs=function(){return this.type==Go.Keyword&&"as"==this.strValue},t.prototype.isKeywordNull=function(){return this.type==Go.Keyword&&"null"==this.strValue},t.prototype.isKeywordUndefined=function(){return this.type==Go.Keyword&&"undefined"==this.strValue},t.prototype.isKeywordTrue=function(){return this.type==Go.Keyword&&"true"==this.strValue},t.prototype.isKeywordFalse=function(){return this.type==Go.Keyword&&"false"==this.strValue},t.prototype.isKeywordThis=function(){return this.type==Go.Keyword&&"this"==this.strValue},t.prototype.isError=function(){return this.type==Go.Error},t.prototype.toNumber=function(){return this.type==Go.Number?this.numValue:-1},t.prototype.toString=function(){switch(this.type){case Go.Character:case Go.Identifier:case Go.Keyword:case Go.Operator:case Go.String:case Go.Error:return this.strValue;case Go.Number:return this.numValue.toString();default:return null}},t}(),Xo=new Yo(-1,Go.Character,0,""),Zo=function(){/**
     * @param {?} input
     */
function t(t){this.input=t,this.peek=0,this.index=-1,this.length=t.length,this.advance()}/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} start
     * @param {?} code
     * @return {?}
     */
/**
     * @param {?} start
     * @param {?} str
     * @return {?}
     */
/**
     * Tokenize a 2/3 char long operator
     *
     * @param {?} start start index in the expression
     * @param {?} one first symbol (always part of the operator)
     * @param {?} twoCode code point for the second symbol
     * @param {?} two second symbol (part of the operator when the second code point matches)
     * @param {?=} threeCode code point for the third symbol
     * @param {?=} three third symbol (part of the operator when provided and matches source expression)
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} start
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} message
     * @param {?} offset
     * @return {?}
     */
return t.prototype.advance=function(){this.peek=++this.index>=this.length?ao:this.input.charCodeAt(this.index)},t.prototype.scanToken=function(){
// Skip whitespace.
for(var/** @type {?} */t=this.input,/** @type {?} */e=this.length,/** @type {?} */n=this.peek,/** @type {?} */r=this.index;n<=ho;){if(++r>=e){n=ao;break}n=t.charCodeAt(r)}if(this.peek=n,this.index=r,r>=e)return null;
// Handle identifiers and numbers.
if(Y(n))return this.scanIdentifier();if(j(n))return this.scanNumber(r);var/** @type {?} */i=r;switch(n){case 46:return this.advance(),j(this.peek)?this.scanNumber(i):B(i,46);case 40:case 41:case Uo:case 125:case 91:case 93:case 44:case 58:case _o:return this.scanCharacter(i,n);case yo:case mo:return this.scanString();case 35:case go:case bo:case 42:case wo:case 37:case 94:return this.scanOperator(i,String.fromCharCode(n));case 63:return this.scanComplexOperator(i,"?",46,".");case 60:case Eo:return this.scanComplexOperator(i,String.fromCharCode(n),xo,"=");case 33:case xo:return this.scanComplexOperator(i,String.fromCharCode(n),xo,"=",xo,"=");case 38:return this.scanComplexOperator(i,"&",38,"&");case 124:return this.scanComplexOperator(i,"|",124,"|");case Vo:for(;R(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error("Unexpected character ["+String.fromCharCode(n)+"]",0)},t.prototype.scanCharacter=function(t,e){return this.advance(),B(t,e)},t.prototype.scanOperator=function(t,e){return this.advance(),H(t,e)},t.prototype.scanComplexOperator=function(t,e,n,r,i,o){this.advance();var/** @type {?} */s=e;return this.peek==n&&(this.advance(),s+=r),null!=i&&this.peek==i&&(this.advance(),s+=o),H(t,s)},t.prototype.scanIdentifier=function(){var/** @type {?} */t=this.index;for(this.advance();Z(this.peek);)this.advance();var/** @type {?} */e=this.input.substring(t,this.index);return Wo.indexOf(e)>-1?q(t,e):z(t,e)},t.prototype.scanNumber=function(t){var/** @type {?} */e=this.index===t;// Skip initial digit.
for(this.advance();;){if(j(this.peek));else if(46==this.peek)e=!1;else{if(!K(this.peek))break;if(this.advance(),Q(this.peek)&&this.advance(),!j(this.peek))return this.error("Invalid exponent",-1);e=!1}this.advance()}var/** @type {?} */n=this.input.substring(t,this.index);return W(t,e?et(n):parseFloat(n))},t.prototype.scanString=function(){var/** @type {?} */t=this.index,/** @type {?} */e=this.peek;this.advance();for(// Skip initial quote.
var/** @type {?} */n="",/** @type {?} */r=this.index,/** @type {?} */i=this.input;this.peek!=e;)if(92==this.peek){n+=i.substring(r,this.index),this.advance();var/** @type {?} */o=void 0;if(
// Workaround for TS2.1-introduced type strictness
this.peek=this.peek,117==this.peek){
// 4 character hex code for unicode character.
var/** @type {?} */s=i.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(s))return this.error("Invalid unicode escape [\\u"+s+"]",0);o=parseInt(s,16);for(var/** @type {?} */a=0;a<5;a++)this.advance()}else o=tt(this.peek),this.advance();n+=String.fromCharCode(o),r=this.index}else{if(this.peek==ao)return this.error("Unterminated quote",0);this.advance()}var/** @type {?} */u=i.substring(r,this.index);// Skip terminating quote.
return this.advance(),G(t,n+u)},t.prototype.error=function(t,e){var/** @type {?} */n=this.index+e;return $(n,"Lexer Error: "+t+" at column "+n+" in expression ["+this.input+"]")},t}(),Ko=function(){/**
     * @param {?} strings
     * @param {?} expressions
     * @param {?} offsets
     */
function t(t,e,n){this.strings=t,this.expressions=e,this.offsets=n}return t}(),Qo=function(){/**
     * @param {?} templateBindings
     * @param {?} warnings
     * @param {?} errors
     */
function t(t,e,n){this.templateBindings=t,this.warnings=e,this.errors=n}return t}(),Jo=function(){/**
     * @param {?} _lexer
     */
function t(t){this._lexer=t,this.errors=[]}/**
     * @param {?} input
     * @param {?} location
     * @param {?=} interpolationConfig
     * @return {?}
     */
/**
     * @param {?} input
     * @param {?} location
     * @param {?=} interpolationConfig
     * @return {?}
     */
/**
     * @param {?} input
     * @param {?} location
     * @param {?=} interpolationConfig
     * @return {?}
     */
/**
     * @param {?} message
     * @param {?} input
     * @param {?} errLocation
     * @param {?=} ctxLocation
     * @return {?}
     */
/**
     * @param {?} input
     * @param {?} location
     * @param {?} interpolationConfig
     * @return {?}
     */
/**
     * @param {?} input
     * @param {?} location
     * @return {?}
     */
/**
     * @param {?} prefixToken
     * @param {?} input
     * @param {?} location
     * @return {?}
     */
/**
     * @param {?} input
     * @param {?} location
     * @param {?=} interpolationConfig
     * @return {?}
     */
/**
     * @param {?} input
     * @param {?} location
     * @param {?=} interpolationConfig
     * @return {?}
     */
/**
     * @param {?} input
     * @param {?} location
     * @return {?}
     */
/**
     * @param {?} input
     * @return {?}
     */
/**
     * @param {?} input
     * @return {?}
     */
/**
     * @param {?} input
     * @param {?} location
     * @param {?} interpolationConfig
     * @return {?}
     */
/**
     * @param {?} parts
     * @param {?} partInErrIdx
     * @param {?} interpolationConfig
     * @return {?}
     */
return t.prototype.parseAction=function(t,e,n){void 0===n&&(n=Ho),this._checkNoInterpolation(t,e,n);var/** @type {?} */r=this._stripComments(t),/** @type {?} */i=this._lexer.tokenize(this._stripComments(t)),/** @type {?} */o=new ts(t,e,i,r.length,!0,this.errors,t.length-r.length).parseChain();return new ro(o,t,e,this.errors)},t.prototype.parseBinding=function(t,e,n){void 0===n&&(n=Ho);var/** @type {?} */r=this._parseBindingAst(t,e,n);return new ro(r,t,e,this.errors)},t.prototype.parseSimpleBinding=function(t,e,n){void 0===n&&(n=Ho);var/** @type {?} */r=this._parseBindingAst(t,e,n),/** @type {?} */i=es.check(r);return i.length>0&&this._reportError("Host binding expression cannot contain "+i.join(" "),t,e),new ro(r,t,e,this.errors)},t.prototype._reportError=function(t,e,n,r){this.errors.push(new Ri(t,e,n,r))},t.prototype._parseBindingAst=function(t,e,n){
// Quotes expressions use 3rd-party expression language. We don't want to use
// our lexer or parser for that, so we check for that ahead of time.
var/** @type {?} */r=this._parseQuote(t,e);if(null!=r)return r;this._checkNoInterpolation(t,e,n);var/** @type {?} */i=this._stripComments(t),/** @type {?} */o=this._lexer.tokenize(i);return new ts(t,e,o,i.length,!1,this.errors,t.length-i.length).parseChain()},t.prototype._parseQuote=function(t,e){if(null==t)return null;var/** @type {?} */n=t.indexOf(":");if(-1==n)return null;var/** @type {?} */r=t.substring(0,n).trim();if(!X(r))return null;var/** @type {?} */i=t.substring(n+1);return new Li(new ji(0,t.length),r,i,e)},t.prototype.parseTemplateBindings=function(t,e,n){var/** @type {?} */r=this._lexer.tokenize(e);if(t){
// Prefix the tokens with the tokens from prefixToken but have them take no space (0 index).
var/** @type {?} */i=this._lexer.tokenize(t).map(function(t){return t.index=0,t});r.unshift.apply(r,i)}return new ts(e,n,r,e.length,!1,this.errors,0).parseTemplateBindings()},t.prototype.parseInterpolation=function(t,e,n){void 0===n&&(n=Ho);var/** @type {?} */r=this.splitInterpolation(t,e,n);if(null==r)return null;for(var/** @type {?} */i=[],/** @type {?} */o=0;o<r.expressions.length;++o){var/** @type {?} */s=r.expressions[o],/** @type {?} */a=this._stripComments(s),/** @type {?} */u=this._lexer.tokenize(this._stripComments(r.expressions[o])),/** @type {?} */c=new ts(t,e,u,a.length,!1,this.errors,r.offsets[o]+(s.length-a.length)).parseChain();i.push(c)}return new ro(new Ki(new ji(0,null==t?0:t.length),r.strings,i),t,e,this.errors)},t.prototype.splitInterpolation=function(t,e,n){void 0===n&&(n=Ho);var/** @type {?} */r=nt(n),/** @type {?} */i=t.split(r);if(i.length<=1)return null;for(var/** @type {?} */o=[],/** @type {?} */s=[],/** @type {?} */a=[],/** @type {?} */u=0,/** @type {?} */c=0;c<i.length;c++){var/** @type {?} */l=i[c];c%2==0?(
// fixed string
o.push(l),u+=l.length):l.trim().length>0?(u+=n.start.length,s.push(l),a.push(u),u+=l.length+n.end.length):(this._reportError("Blank expressions are not allowed in interpolated strings",t,"at column "+this._findInterpolationErrorColumn(i,c,n)+" in",e),s.push("$implict"),a.push(u))}return new Ko(o,s,a)},t.prototype.wrapLiteralPrimitive=function(t,e){return new ro(new Yi(new ji(0,null==t?0:t.length),t),t,e,this.errors)},t.prototype._stripComments=function(t){var/** @type {?} */e=this._commentStart(t);return null!=e?t.substring(0,e).trim():t},t.prototype._commentStart=function(t){for(var/** @type {?} */e=null,/** @type {?} */n=0;n<t.length-1;n++){var/** @type {?} */r=t.charCodeAt(n),/** @type {?} */i=t.charCodeAt(n+1);if(r===wo&&i==wo&&null==e)return n;e===r?e=null:null==e&&J(r)&&(e=r)}return null},t.prototype._checkNoInterpolation=function(t,e,n){var/** @type {?} */r=nt(n),/** @type {?} */i=t.split(r);i.length>1&&this._reportError("Got interpolation ("+n.start+n.end+") where expression was expected",t,"at column "+this._findInterpolationErrorColumn(i,1,n)+" in",e)},t.prototype._findInterpolationErrorColumn=function(t,e,n){for(var/** @type {?} */r="",/** @type {?} */i=0;i<e;i++)r+=i%2==0?t[i]:""+n.start+t[i]+n.end;return r.length},t}();Jo.decorators=[{type:F}],/**
 * @nocollapse
 */
Jo.ctorParameters=function(){return[{type:$o}]};var ts=function(){/**
     * @param {?} input
     * @param {?} location
     * @param {?} tokens
     * @param {?} inputLength
     * @param {?} parseAction
     * @param {?} errors
     * @param {?} offset
     */
function t(t,e,n,r,i,o,s){this.input=t,this.location=e,this.tokens=n,this.inputLength=r,this.parseAction=i,this.errors=o,this.offset=s,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.index=0}/**
     * @param {?} offset
     * @return {?}
     */
/**
     * @param {?} start
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} code
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} code
     * @return {?}
     */
/**
     * @param {?} op
     * @return {?}
     */
/**
     * @param {?} operator
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} terminator
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} receiver
     * @param {?=} isSafe
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * An identifier, a keyword, a string with an optional `-` inbetween.
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} message
     * @param {?=} index
     * @return {?}
     */
/**
     * @param {?=} index
     * @return {?}
     */
/**
     * @return {?}
     */
return t.prototype.peek=function(t){var/** @type {?} */e=this.index+t;return e<this.tokens.length?this.tokens[e]:Xo},Object.defineProperty(t.prototype,"next",{/**
         * @return {?}
         */
get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputIndex",{/**
         * @return {?}
         */
get:function(){return this.index<this.tokens.length?this.next.index+this.offset:this.inputLength+this.offset},enumerable:!0,configurable:!0}),t.prototype.span=function(t){return new ji(t,this.inputIndex)},t.prototype.advance=function(){this.index++},t.prototype.optionalCharacter=function(t){return!!this.next.isCharacter(t)&&(this.advance(),!0)},t.prototype.peekKeywordLet=function(){return this.next.isKeywordLet()},t.prototype.peekKeywordAs=function(){return this.next.isKeywordAs()},t.prototype.expectCharacter=function(t){this.optionalCharacter(t)||this.error("Missing expected "+String.fromCharCode(t))},t.prototype.optionalOperator=function(t){return!!this.next.isOperator(t)&&(this.advance(),!0)},t.prototype.expectOperator=function(t){this.optionalOperator(t)||this.error("Missing expected operator "+t)},t.prototype.expectIdentifierOrKeyword=function(){var/** @type {?} */t=this.next;return t.isIdentifier()||t.isKeyword()?(this.advance(),t.toString()):(this.error("Unexpected token "+t+", expected identifier or keyword"),"")},t.prototype.expectIdentifierOrKeywordOrString=function(){var/** @type {?} */t=this.next;return t.isIdentifier()||t.isKeyword()||t.isString()?(this.advance(),t.toString()):(this.error("Unexpected token "+t+", expected identifier, keyword, or string"),"")},t.prototype.parseChain=function(){for(var/** @type {?} */t=[],/** @type {?} */e=this.inputIndex;this.index<this.tokens.length;){var/** @type {?} */n=this.parsePipe();if(t.push(n),this.optionalCharacter(_o))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(_o););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==t.length?new Fi(this.span(e)):1==t.length?t[0]:new Vi(this.span(e),t)},t.prototype.parsePipe=function(){var/** @type {?} */t=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var/** @type {?} */e=this.expectIdentifierOrKeyword(),/** @type {?} */n=[];this.optionalCharacter(58);)n.push(this.parseExpression());t=new $i(this.span(t.span.start),t,e,n)}while(this.optionalOperator("|"))}return t},t.prototype.parseExpression=function(){return this.parseConditional()},t.prototype.parseConditional=function(){var/** @type {?} */t=this.inputIndex,/** @type {?} */e=this.parseLogicalOr();if(this.optionalOperator("?")){var/** @type {?} */n=this.parsePipe(),/** @type {?} */r=void 0;if(this.optionalCharacter(58))r=this.parsePipe();else{var/** @type {?} */i=this.inputIndex,/** @type {?} */o=this.input.substring(t,i);this.error("Conditional expression "+o+" requires all 3 expressions"),r=new Fi(this.span(t))}return new Bi(this.span(t),e,n,r)}return e},t.prototype.parseLogicalOr=function(){for(
// '||'
var/** @type {?} */t=this.parseLogicalAnd();this.optionalOperator("||");){var/** @type {?} */e=this.parseLogicalAnd();t=new Qi(this.span(t.span.start),"||",t,e)}return t},t.prototype.parseLogicalAnd=function(){for(
// '&&'
var/** @type {?} */t=this.parseEquality();this.optionalOperator("&&");){var/** @type {?} */e=this.parseEquality();t=new Qi(this.span(t.span.start),"&&",t,e)}return t},t.prototype.parseEquality=function(){for(
// '==','!=','===','!=='
var/** @type {?} */t=this.parseRelational();this.next.type==Go.Operator;){var/** @type {?} */e=this.next.strValue;switch(e){case"==":case"===":case"!=":case"!==":this.advance();var/** @type {?} */n=this.parseRelational();t=new Qi(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parseRelational=function(){for(
// '<', '>', '<=', '>='
var/** @type {?} */t=this.parseAdditive();this.next.type==Go.Operator;){var/** @type {?} */e=this.next.strValue;switch(e){case"<":case">":case"<=":case">=":this.advance();var/** @type {?} */n=this.parseAdditive();t=new Qi(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parseAdditive=function(){for(
// '+', '-'
var/** @type {?} */t=this.parseMultiplicative();this.next.type==Go.Operator;){var/** @type {?} */e=this.next.strValue;switch(e){case"+":case"-":this.advance();var/** @type {?} */n=this.parseMultiplicative();t=new Qi(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parseMultiplicative=function(){for(
// '*', '%', '/'
var/** @type {?} */t=this.parsePrefix();this.next.type==Go.Operator;){var/** @type {?} */e=this.next.strValue;switch(e){case"*":case"%":case"/":this.advance();var/** @type {?} */n=this.parsePrefix();t=new Qi(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parsePrefix=function(){if(this.next.type==Go.Operator){var/** @type {?} */t=this.inputIndex,/** @type {?} */e=this.next.strValue,/** @type {?} */n=void 0;switch(e){case"+":return this.advance(),this.parsePrefix();case"-":return this.advance(),n=this.parsePrefix(),new Qi(this.span(t),e,new Yi(new ji(t,t),0),n);case"!":return this.advance(),n=this.parsePrefix(),new Ji(this.span(t),n)}}return this.parseCallChain()},t.prototype.parseCallChain=function(){for(var/** @type {?} */t=this.parsePrimary();;)if(this.optionalCharacter(46))t=this.parseAccessMemberOrMethodCall(t,!1);else if(this.optionalOperator("?."))t=this.parseAccessMemberOrMethodCall(t,!0);else if(this.optionalCharacter(91)){this.rbracketsExpected++;var/** @type {?} */e=this.parsePipe();if(this.rbracketsExpected--,this.expectCharacter(93),this.optionalOperator("=")){var/** @type {?} */n=this.parseConditional();t=new Wi(this.span(t.span.start),t,e,n)}else t=new Gi(this.span(t.span.start),t,e)}else{if(!this.optionalCharacter(40))return t;this.rparensExpected++;var/** @type {?} */r=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(41),t=new no(this.span(t.span.start),t,r)}},t.prototype.parsePrimary=function(){var/** @type {?} */t=this.inputIndex;if(this.optionalCharacter(40)){this.rparensExpected++;var/** @type {?} */e=this.parsePipe();return this.rparensExpected--,this.expectCharacter(41),e}if(this.next.isKeywordNull())return this.advance(),new Yi(this.span(t),null);if(this.next.isKeywordUndefined())return this.advance(),new Yi(this.span(t),void 0);if(this.next.isKeywordTrue())return this.advance(),new Yi(this.span(t),!0);if(this.next.isKeywordFalse())return this.advance(),new Yi(this.span(t),!1);if(this.next.isKeywordThis())return this.advance(),new Ui(this.span(t));if(this.optionalCharacter(91)){this.rbracketsExpected++;var/** @type {?} */n=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new Xi(this.span(t),n)}if(this.next.isCharacter(Uo))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new Ui(this.span(t)),!1);if(this.next.isNumber()){var/** @type {?} */r=this.next.toNumber();return this.advance(),new Yi(this.span(t),r)}if(this.next.isString()){var/** @type {?} */i=this.next.toString();return this.advance(),new Yi(this.span(t),i)}return this.index>=this.tokens.length?(this.error("Unexpected end of expression: "+this.input),new Fi(this.span(t))):(this.error("Unexpected token "+this.next),new Fi(this.span(t)))},t.prototype.parseExpressionList=function(t){var/** @type {?} */e=[];if(!this.next.isCharacter(t))do{e.push(this.parsePipe())}while(this.optionalCharacter(44));return e},t.prototype.parseLiteralMap=function(){var/** @type {?} */t=[],/** @type {?} */e=[],/** @type {?} */n=this.inputIndex;if(this.expectCharacter(Uo),!this.optionalCharacter(125)){this.rbracesExpected++;do{var/** @type {?} */r=this.expectIdentifierOrKeywordOrString();t.push(r),this.expectCharacter(58),e.push(this.parsePipe())}while(this.optionalCharacter(44));this.rbracesExpected--,this.expectCharacter(125)}return new Zi(this.span(n),t,e)},t.prototype.parseAccessMemberOrMethodCall=function(t,e){void 0===e&&(e=!1);var/** @type {?} */n=t.span.start,/** @type {?} */r=this.expectIdentifierOrKeyword();if(this.optionalCharacter(40)){this.rparensExpected++;var/** @type {?} */i=this.parseCallArguments();this.expectCharacter(41),this.rparensExpected--;var/** @type {?} */o=this.span(n);return e?new eo(o,t,r,i):new to(o,t,r,i)}if(e)return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new Fi(this.span(n))):new Hi(this.span(n),t,r);if(this.optionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new Fi(this.span(n));var/** @type {?} */s=this.parseConditional();return new qi(this.span(n),t,r,s)}return new zi(this.span(n),t,r)},t.prototype.parseCallArguments=function(){if(this.next.isCharacter(41))return[];var/** @type {?} */t=[];do{t.push(this.parsePipe())}while(this.optionalCharacter(44));return t},t.prototype.expectTemplateBindingKey=function(){var/** @type {?} */t="",/** @type {?} */e=!1;do{t+=this.expectIdentifierOrKeywordOrString(),(e=this.optionalOperator("-"))&&(t+="-")}while(e);return t.toString()},t.prototype.parseTemplateBindings=function(){for(var/** @type {?} */t=[],/** @type {?} */e=null,/** @type {?} */n=[];this.index<this.tokens.length;){var/** @type {?} */r=this.inputIndex,/** @type {?} */i=this.peekKeywordLet();i&&this.advance();var/** @type {?} */o=this.expectTemplateBindingKey(),/** @type {?} */s=o;i||(null==e?e=s:s=e+s[0].toUpperCase()+s.substring(1)),this.optionalCharacter(58);var/** @type {?} */a=null,/** @type {?} */u=null;if(i)a=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.peekKeywordAs()){var/** @type {?} */c=this.inputIndex;this.advance(),// consume `as`
a=o,s=this.expectTemplateBindingKey(),// read local var name
i=!0}else if(this.next!==Xo&&!this.peekKeywordLet()){var/** @type {?} */l=this.inputIndex,/** @type {?} */f=this.parsePipe(),/** @type {?} */p=this.input.substring(l-this.offset,this.inputIndex-this.offset);u=new ro(f,p,this.location,this.errors)}if(t.push(new io(this.span(r),s,i,a,u)),this.peekKeywordAs()&&!i){var/** @type {?} */c=this.inputIndex;this.advance();// consume `as`
var/** @type {?} */h=this.expectTemplateBindingKey();// read local var name
t.push(new io(this.span(c),h,!0,s,null))}this.optionalCharacter(_o)||this.optionalCharacter(44)}return new Qo(t,n,this.errors)},t.prototype.error=function(t,e){void 0===e&&(e=null),this.errors.push(new Ri(t,this.input,this.locationText(e),this.location)),this.skip()},t.prototype.locationText=function(t){return void 0===t&&(t=null),null==t&&(t=this.index),t<this.tokens.length?"at column "+(this.tokens[t].index+1)+" in":"at the end of the expression"},t.prototype.skip=function(){for(var/** @type {?} */t=this.next;this.index<this.tokens.length&&!t.isCharacter(_o)&&(this.rparensExpected<=0||!t.isCharacter(41))&&(this.rbracesExpected<=0||!t.isCharacter(125))&&(this.rbracketsExpected<=0||!t.isCharacter(93));)this.next.isError()&&this.errors.push(new Ri(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),t=this.next},t}(),es=function(){function t(){this.errors=[]}/**
     * @param {?} ast
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} asts
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
return t.check=function(e){var/** @type {?} */n=new t;return e.visit(n),n.errors},t.prototype.visitImplicitReceiver=function(t,e){},t.prototype.visitInterpolation=function(t,e){},t.prototype.visitLiteralPrimitive=function(t,e){},t.prototype.visitPropertyRead=function(t,e){},t.prototype.visitPropertyWrite=function(t,e){},t.prototype.visitSafePropertyRead=function(t,e){},t.prototype.visitMethodCall=function(t,e){},t.prototype.visitSafeMethodCall=function(t,e){},t.prototype.visitFunctionCall=function(t,e){},t.prototype.visitLiteralArray=function(t,e){this.visitAll(t.expressions)},t.prototype.visitLiteralMap=function(t,e){this.visitAll(t.values)},t.prototype.visitBinary=function(t,e){},t.prototype.visitPrefixNot=function(t,e){},t.prototype.visitConditional=function(t,e){},t.prototype.visitPipe=function(t,e){this.errors.push("pipes")},t.prototype.visitKeyedRead=function(t,e){},t.prototype.visitKeyedWrite=function(t,e){},t.prototype.visitAll=function(t){var e=this;return t.map(function(t){return t.visit(e)})},t.prototype.visitChain=function(t,e){},t.prototype.visitQuote=function(t,e){},t}(),ns=function(){/**
     * @param {?} file
     * @param {?} offset
     * @param {?} line
     * @param {?} col
     */
function t(t,e,n,r){this.file=t,this.offset=e,this.line=n,this.col=r}/**
     * @return {?}
     */
/**
     * @param {?} delta
     * @return {?}
     */
/**
     * @param {?} maxChars
     * @param {?} maxLines
     * @return {?}
     */
return t.prototype.toString=function(){return null!=this.offset?this.file.url+"@"+this.line+":"+this.col:this.file.url},t.prototype.moveBy=function(e){for(var/** @type {?} */n=this.file.content,/** @type {?} */r=n.length,/** @type {?} */i=this.offset,/** @type {?} */o=this.line,/** @type {?} */s=this.col;i>0&&e<0;){i--,e++;var/** @type {?} */a=n.charCodeAt(i);if(a==co){o--;var/** @type {?} */u=n.substr(0,i-1).lastIndexOf(String.fromCharCode(co));s=u>0?i-u:i}else s--}for(;i<r&&e>0;){var/** @type {?} */a=n.charCodeAt(i);i++,e--,a==co?(o++,s=0):s++}return new t(this.file,i,o,s)},t.prototype.getContext=function(t,e){var/** @type {?} */n=this.file.content,/** @type {?} */r=this.offset;if(null!=r){r>n.length-1&&(r=n.length-1);for(var/** @type {?} */i=r,/** @type {?} */o=0,/** @type {?} */s=0;o<t&&r>0&&(r--,o++,"\n"!=n[r]||++s!=e););for(o=0,s=0;o<t&&i<n.length-1&&(i++,o++,"\n"!=n[i]||++s!=e););return{before:n.substring(r,this.offset),after:n.substring(this.offset,i+1)}}return null},t}(),rs=function(){/**
     * @param {?} content
     * @param {?} url
     */
function t(t,e){this.content=t,this.url=e}return t}(),is=function(){/**
     * @param {?} start
     * @param {?} end
     * @param {?=} details
     */
function t(t,e,n){void 0===n&&(n=null),this.start=t,this.end=e,this.details=n}/**
     * @return {?}
     */
return t.prototype.toString=function(){return this.start.file.content.substring(this.start.offset,this.end.offset)},t}(),os={};os.WARNING=0,os.ERROR=1,os[os.WARNING]="WARNING",os[os.ERROR]="ERROR";var ss=function(){/**
     * @param {?} span
     * @param {?} msg
     * @param {?=} level
     */
function t(t,e,n){void 0===n&&(n=os.ERROR),this.span=t,this.msg=e,this.level=n}/**
     * @return {?}
     */
return t.prototype.toString=function(){var/** @type {?} */t=this.span.start.getContext(100,3),/** @type {?} */e=t?' ("'+t.before+"["+os[this.level]+" ->]"+t.after+'")':"",/** @type {?} */n=this.span.details?", "+this.span.details:"";return""+this.msg+e+": "+this.span.start+n},t}(),as=function(){/**
     * @param {?} value
     * @param {?} sourceSpan
     */
function t(t,e){this.value=t,this.sourceSpan=e}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){return t.visitText(this,e)},t}(),us=function(){/**
     * @param {?} switchValue
     * @param {?} type
     * @param {?} cases
     * @param {?} sourceSpan
     * @param {?} switchValueSourceSpan
     */
function t(t,e,n,r,i){this.switchValue=t,this.type=e,this.cases=n,this.sourceSpan=r,this.switchValueSourceSpan=i}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){return t.visitExpansion(this,e)},t}(),cs=function(){/**
     * @param {?} value
     * @param {?} expression
     * @param {?} sourceSpan
     * @param {?} valueSourceSpan
     * @param {?} expSourceSpan
     */
function t(t,e,n,r,i){this.value=t,this.expression=e,this.sourceSpan=n,this.valueSourceSpan=r,this.expSourceSpan=i}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){return t.visitExpansionCase(this,e)},t}(),ls=function(){/**
     * @param {?} name
     * @param {?} value
     * @param {?} sourceSpan
     * @param {?=} valueSpan
     */
function t(t,e,n,r){this.name=t,this.value=e,this.sourceSpan=n,this.valueSpan=r}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){return t.visitAttribute(this,e)},t}(),fs=function(){/**
     * @param {?} name
     * @param {?} attrs
     * @param {?} children
     * @param {?} sourceSpan
     * @param {?} startSourceSpan
     * @param {?} endSourceSpan
     */
function t(t,e,n,r,i,o){this.name=t,this.attrs=e,this.children=n,this.sourceSpan=r,this.startSourceSpan=i,this.endSourceSpan=o}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){return t.visitElement(this,e)},t}(),ps=function(){/**
     * @param {?} value
     * @param {?} sourceSpan
     */
function t(t,e){this.value=t,this.sourceSpan=e}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){return t.visitComment(this,e)},t}(),hs={};hs.TAG_OPEN_START=0,hs.TAG_OPEN_END=1,hs.TAG_OPEN_END_VOID=2,hs.TAG_CLOSE=3,hs.TEXT=4,hs.ESCAPABLE_RAW_TEXT=5,hs.RAW_TEXT=6,hs.COMMENT_START=7,hs.COMMENT_END=8,hs.CDATA_START=9,hs.CDATA_END=10,hs.ATTR_NAME=11,hs.ATTR_VALUE=12,hs.DOC_TYPE=13,hs.EXPANSION_FORM_START=14,hs.EXPANSION_CASE_VALUE=15,hs.EXPANSION_CASE_EXP_START=16,hs.EXPANSION_CASE_EXP_END=17,hs.EXPANSION_FORM_END=18,hs.EOF=19,hs[hs.TAG_OPEN_START]="TAG_OPEN_START",hs[hs.TAG_OPEN_END]="TAG_OPEN_END",hs[hs.TAG_OPEN_END_VOID]="TAG_OPEN_END_VOID",hs[hs.TAG_CLOSE]="TAG_CLOSE",hs[hs.TEXT]="TEXT",hs[hs.ESCAPABLE_RAW_TEXT]="ESCAPABLE_RAW_TEXT",hs[hs.RAW_TEXT]="RAW_TEXT",hs[hs.COMMENT_START]="COMMENT_START",hs[hs.COMMENT_END]="COMMENT_END",hs[hs.CDATA_START]="CDATA_START",hs[hs.CDATA_END]="CDATA_END",hs[hs.ATTR_NAME]="ATTR_NAME",hs[hs.ATTR_VALUE]="ATTR_VALUE",hs[hs.DOC_TYPE]="DOC_TYPE",hs[hs.EXPANSION_FORM_START]="EXPANSION_FORM_START",hs[hs.EXPANSION_CASE_VALUE]="EXPANSION_CASE_VALUE",hs[hs.EXPANSION_CASE_EXP_START]="EXPANSION_CASE_EXP_START",hs[hs.EXPANSION_CASE_EXP_END]="EXPANSION_CASE_EXP_END",hs[hs.EXPANSION_FORM_END]="EXPANSION_FORM_END",hs[hs.EOF]="EOF";var ds=function(){/**
     * @param {?} type
     * @param {?} parts
     * @param {?} sourceSpan
     */
function t(t,e,n){this.type=t,this.parts=e,this.sourceSpan=n}return t}(),ms=function(t){/**
     * @param {?} errorMsg
     * @param {?} tokenType
     * @param {?} span
     */
function e(e,n,r){var i=t.call(this,r,e)||this;return i.tokenType=n,i}return Br(e,t),e}(ss),vs=function(){/**
     * @param {?} tokens
     * @param {?} errors
     */
function t(t,e){this.tokens=t,this.errors=e}return t}(),ys=function(){/**
     * @param {?} error
     */
function t(t){this.error=t}return t}(),gs=function(){/**
     * @param {?} _file The html source
     * @param {?} _getTagDefinition
     * @param {?} _tokenizeIcu Whether to tokenize ICU messages (considered as text nodes when false)
     * @param {?=} _interpolationConfig
     */
function t(t,e,n,r){void 0===r&&(r=Ho),this._file=t,this._getTagDefinition=e,this._tokenizeIcu=n,this._interpolationConfig=r,this._peek=-1,this._nextPeek=-1,this._index=-1,this._line=0,this._column=-1,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._input=t.content,this._length=t.content.length,this._advance()}/**
     * @param {?} content
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * \@internal
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?=} start
     * @param {?=} end
     * @return {?}
     */
/**
     * @param {?} type
     * @param {?=} start
     * @return {?}
     */
/**
     * @param {?} parts
     * @param {?=} end
     * @return {?}
     */
/**
     * @param {?} msg
     * @param {?} span
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} charCode
     * @return {?}
     */
/**
     * @param {?} charCode
     * @return {?}
     */
/**
     * @param {?} charCode
     * @return {?}
     */
/**
     * @param {?} chars
     * @return {?}
     */
/**
     * @param {?} chars
     * @return {?}
     */
/**
     * @param {?} chars
     * @return {?}
     */
/**
     * @param {?} predicate
     * @return {?}
     */
/**
     * @param {?} predicate
     * @param {?} len
     * @return {?}
     */
/**
     * @param {?} char
     * @return {?}
     */
/**
     * @param {?} decodeEntities
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} decodeEntities
     * @param {?} firstCharOfEnd
     * @param {?} attemptEndRest
     * @return {?}
     */
/**
     * @param {?} start
     * @return {?}
     */
/**
     * @param {?} start
     * @return {?}
     */
/**
     * @param {?} start
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} start
     * @return {?}
     */
/**
     * @param {?} lowercaseTagName
     * @param {?} decodeEntities
     * @return {?}
     */
/**
     * @param {?} start
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} start
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} char
     * @return {?}
     */
/**
     * @param {?} position
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
return t.prototype._processCarriageReturns=function(t){
// http://www.w3.org/TR/html5/syntax.html#preprocessing-the-input-stream
// In order to keep the original position in the source, we can not
// pre-process it.
// Instead CRs are processed right before instantiating the tokens.
return t.replace(/\r\n?/g,"\n")},t.prototype.tokenize=function(){for(;this._peek!==ao;){var/** @type {?} */t=this._getLocation();try{this._attemptCharCode(60)?this._attemptCharCode(33)?this._attemptCharCode(91)?this._consumeCdata(t):this._attemptCharCode(bo)?this._consumeComment(t):this._consumeDocType(t):this._attemptCharCode(wo)?this._consumeTagClose(t):this._consumeTagOpen(t):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(t){if(!(t instanceof ys))throw t;this.errors.push(t.error)}}return this._beginToken(hs.EOF),this._endToken([]),new vs(yt(this.tokens),this.errors)},t.prototype._tokenizeExpansionForm=function(){if(ht(this._input,this._index,this._interpolationConfig))return this._consumeExpansionFormStart(),!0;if(dt(this._peek)&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(125===this._peek){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1},t.prototype._getLocation=function(){return new ns(this._file,this._index,this._line,this._column)},t.prototype._getSpan=function(t,e){return void 0===t&&(t=this._getLocation()),void 0===e&&(e=this._getLocation()),new is(t,e)},t.prototype._beginToken=function(t,e){void 0===e&&(e=this._getLocation()),this._currentTokenStart=e,this._currentTokenType=t},t.prototype._endToken=function(t,e){void 0===e&&(e=this._getLocation());var/** @type {?} */n=new ds(this._currentTokenType,t,new is(this._currentTokenStart,e));return this.tokens.push(n),this._currentTokenStart=null,this._currentTokenType=null,n},t.prototype._createError=function(t,e){this._isInExpansionForm()&&(t+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');var/** @type {?} */n=new ms(t,this._currentTokenType,e);return this._currentTokenStart=null,this._currentTokenType=null,new ys(n)},t.prototype._advance=function(){if(this._index>=this._length)throw this._createError(st(ao),this._getSpan());this._peek===co?(this._line++,this._column=0):this._peek!==co&&this._peek!==po&&this._column++,this._index++,this._peek=this._index>=this._length?ao:this._input.charCodeAt(this._index),this._nextPeek=this._index+1>=this._length?ao:this._input.charCodeAt(this._index+1)},t.prototype._attemptCharCode=function(t){return this._peek===t&&(this._advance(),!0)},t.prototype._attemptCharCodeCaseInsensitive=function(t){return!!mt(this._peek,t)&&(this._advance(),!0)},t.prototype._requireCharCode=function(t){var/** @type {?} */e=this._getLocation();if(!this._attemptCharCode(t))throw this._createError(st(this._peek),this._getSpan(e,e))},t.prototype._attemptStr=function(t){var/** @type {?} */e=t.length;if(this._index+e>this._length)return!1;for(var/** @type {?} */n=this._savePosition(),/** @type {?} */r=0;r<e;r++)if(!this._attemptCharCode(t.charCodeAt(r)))
// If attempting to parse the string fails, we want to reset the parser
// to where it was before the attempt
return this._restorePosition(n),!1;return!0},t.prototype._attemptStrCaseInsensitive=function(t){for(var/** @type {?} */e=0;e<t.length;e++)if(!this._attemptCharCodeCaseInsensitive(t.charCodeAt(e)))return!1;return!0},t.prototype._requireStr=function(t){var/** @type {?} */e=this._getLocation();if(!this._attemptStr(t))throw this._createError(st(this._peek),this._getSpan(e))},t.prototype._attemptCharCodeUntilFn=function(t){for(;!t(this._peek);)this._advance()},t.prototype._requireCharCodeUntilFn=function(t,e){var/** @type {?} */n=this._getLocation();if(this._attemptCharCodeUntilFn(t),this._index-n.offset<e)throw this._createError(st(this._peek),this._getSpan(n,n))},t.prototype._attemptUntilChar=function(t){for(;this._peek!==t;)this._advance()},t.prototype._readChar=function(t){if(t&&38===this._peek)return this._decodeEntity();var/** @type {?} */e=this._index;return this._advance(),this._input[e]},t.prototype._decodeEntity=function(){var/** @type {?} */t=this._getLocation();if(this._advance(),!this._attemptCharCode(35)){var/** @type {?} */e=this._savePosition();if(this._attemptCharCodeUntilFn(pt),this._peek!=_o)return this._restorePosition(e),"&";this._advance();var/** @type {?} */n=this._input.substring(t.offset+1,this._index-1),/** @type {?} */r=si[n];if(!r)throw this._createError(at(n),this._getSpan(t));return r}var/** @type {?} */i=this._attemptCharCode(120)||this._attemptCharCode(88),/** @type {?} */o=this._getLocation().offset;if(this._attemptCharCodeUntilFn(ft),this._peek!=_o)throw this._createError(st(this._peek),this._getSpan());this._advance();var/** @type {?} */s=this._input.substring(o,this._index-1);try{var/** @type {?} */a=parseInt(s,i?16:10);return String.fromCharCode(a)}catch(e){var/** @type {?} */u=this._input.substring(t.offset+1,this._index-1);throw this._createError(at(u),this._getSpan(t))}},t.prototype._consumeRawText=function(t,e,n){var/** @type {?} */r,/** @type {?} */i=this._getLocation();this._beginToken(t?hs.ESCAPABLE_RAW_TEXT:hs.RAW_TEXT,i);for(var/** @type {?} */o=[];;){if(r=this._getLocation(),this._attemptCharCode(e)&&n())break;for(this._index>r.offset&&
// add the characters consumed by the previous if statement to the output
o.push(this._input.substring(r.offset,this._index));this._peek!==e;)o.push(this._readChar(t))}return this._endToken([this._processCarriageReturns(o.join(""))],r)},t.prototype._consumeComment=function(t){var e=this;this._beginToken(hs.COMMENT_START,t),this._requireCharCode(bo),this._endToken([]);var/** @type {?} */n=this._consumeRawText(!1,bo,function(){return e._attemptStr("->")});this._beginToken(hs.COMMENT_END,n.sourceSpan.end),this._endToken([])},t.prototype._consumeCdata=function(t){var e=this;this._beginToken(hs.CDATA_START,t),this._requireStr("CDATA["),this._endToken([]);var/** @type {?} */n=this._consumeRawText(!1,93,function(){return e._attemptStr("]>")});this._beginToken(hs.CDATA_END,n.sourceSpan.end),this._endToken([])},t.prototype._consumeDocType=function(t){this._beginToken(hs.DOC_TYPE,t),this._attemptUntilChar(Eo),this._advance(),this._endToken([this._input.substring(t.offset+2,this._index-1)])},t.prototype._consumePrefixAndName=function(){for(var/** @type {?} */t=this._index,/** @type {?} */e=null;58!==this._peek&&!lt(this._peek);)this._advance();var/** @type {?} */n;return 58===this._peek?(this._advance(),e=this._input.substring(t,this._index-1),n=this._index):n=t,this._requireCharCodeUntilFn(ct,this._index===n?1:0),[e,this._input.substring(n,this._index)]},t.prototype._consumeTagOpen=function(t){var/** @type {?} */e,/** @type {?} */n,/** @type {?} */r=this._savePosition();try{if(!D(this._peek))throw this._createError(st(this._peek),this._getSpan());var/** @type {?} */i=this._index;for(this._consumeTagOpenStart(t),e=this._input.substring(i,this._index),n=e.toLowerCase(),this._attemptCharCodeUntilFn(ut);this._peek!==wo&&this._peek!==Eo;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(ut),this._attemptCharCode(xo)&&(this._attemptCharCodeUntilFn(ut),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(ut);this._consumeTagOpenEnd()}catch(e){if(e instanceof ys)
// When the start tag is invalid, assume we want a "<"
// Back to back text tokens are merged at the end
return this._restorePosition(r),this._beginToken(hs.TEXT,t),void this._endToken(["<"]);throw e}var/** @type {?} */o=this._getTagDefinition(e).contentType;o===oi.RAW_TEXT?this._consumeRawTextWithTagClose(n,!1):o===oi.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(n,!0)},t.prototype._consumeRawTextWithTagClose=function(t,e){var n=this,/** @type {?} */r=this._consumeRawText(e,60,function(){return!!n._attemptCharCode(wo)&&(n._attemptCharCodeUntilFn(ut),!!n._attemptStrCaseInsensitive(t)&&(n._attemptCharCodeUntilFn(ut),n._attemptCharCode(Eo)))});this._beginToken(hs.TAG_CLOSE,r.sourceSpan.end),this._endToken([null,t])},t.prototype._consumeTagOpenStart=function(t){this._beginToken(hs.TAG_OPEN_START,t);var/** @type {?} */e=this._consumePrefixAndName();this._endToken(e)},t.prototype._consumeAttributeName=function(){this._beginToken(hs.ATTR_NAME);var/** @type {?} */t=this._consumePrefixAndName();this._endToken(t)},t.prototype._consumeAttributeValue=function(){this._beginToken(hs.ATTR_VALUE);var/** @type {?} */t;if(this._peek===yo||this._peek===mo){var/** @type {?} */e=this._peek;this._advance();for(var/** @type {?} */n=[];this._peek!==e;)n.push(this._readChar(!0));t=n.join(""),this._advance()}else{var/** @type {?} */r=this._index;this._requireCharCodeUntilFn(ct,1),t=this._input.substring(r,this._index)}this._endToken([this._processCarriageReturns(t)])},t.prototype._consumeTagOpenEnd=function(){var/** @type {?} */t=this._attemptCharCode(wo)?hs.TAG_OPEN_END_VOID:hs.TAG_OPEN_END;this._beginToken(t),this._requireCharCode(Eo),this._endToken([])},t.prototype._consumeTagClose=function(t){this._beginToken(hs.TAG_CLOSE,t),this._attemptCharCodeUntilFn(ut);var/** @type {?} */e=this._consumePrefixAndName();this._attemptCharCodeUntilFn(ut),this._requireCharCode(Eo),this._endToken(e)},t.prototype._consumeExpansionFormStart=function(){this._beginToken(hs.EXPANSION_FORM_START,this._getLocation()),this._requireCharCode(Uo),this._endToken([]),this._expansionCaseStack.push(hs.EXPANSION_FORM_START),this._beginToken(hs.RAW_TEXT,this._getLocation());var/** @type {?} */t=this._readUntil(44);this._endToken([t],this._getLocation()),this._requireCharCode(44),this._attemptCharCodeUntilFn(ut),this._beginToken(hs.RAW_TEXT,this._getLocation());var/** @type {?} */e=this._readUntil(44);this._endToken([e],this._getLocation()),this._requireCharCode(44),this._attemptCharCodeUntilFn(ut)},t.prototype._consumeExpansionCaseStart=function(){this._beginToken(hs.EXPANSION_CASE_VALUE,this._getLocation());var/** @type {?} */t=this._readUntil(Uo).trim();this._endToken([t],this._getLocation()),this._attemptCharCodeUntilFn(ut),this._beginToken(hs.EXPANSION_CASE_EXP_START,this._getLocation()),this._requireCharCode(Uo),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(ut),this._expansionCaseStack.push(hs.EXPANSION_CASE_EXP_START)},t.prototype._consumeExpansionCaseEnd=function(){this._beginToken(hs.EXPANSION_CASE_EXP_END,this._getLocation()),this._requireCharCode(125),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(ut),this._expansionCaseStack.pop()},t.prototype._consumeExpansionFormEnd=function(){this._beginToken(hs.EXPANSION_FORM_END,this._getLocation()),this._requireCharCode(125),this._endToken([]),this._expansionCaseStack.pop()},t.prototype._consumeText=function(){var/** @type {?} */t=this._getLocation();this._beginToken(hs.TEXT,t);var/** @type {?} */e=[];do{this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(e.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._inInterpolation&&this._attemptStr(this._interpolationConfig.end)?(e.push(this._interpolationConfig.end),this._inInterpolation=!1):e.push(this._readChar(!0))}while(!this._isTextEnd());this._endToken([this._processCarriageReturns(e.join(""))])},t.prototype._isTextEnd=function(){if(60===this._peek||this._peek===ao)return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(ht(this._input,this._index,this._interpolationConfig))
// start of an expansion form
return!0;if(125===this._peek&&this._isInExpansionCase())
// end of and expansion case
return!0}return!1},t.prototype._savePosition=function(){return[this._peek,this._index,this._column,this._line,this.tokens.length]},t.prototype._readUntil=function(t){var/** @type {?} */e=this._index;return this._attemptUntilChar(t),this._input.substring(e,this._index)},t.prototype._restorePosition=function(t){this._peek=t[0],this._index=t[1],this._column=t[2],this._line=t[3];var/** @type {?} */e=t[4];e<this.tokens.length&&(
// remove any extra tokens
this.tokens=this.tokens.slice(0,e))},t.prototype._isInExpansionCase=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===hs.EXPANSION_CASE_EXP_START},t.prototype._isInExpansionForm=function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===hs.EXPANSION_FORM_START},t}(),bs=function(t){/**
     * @param {?} elementName
     * @param {?} span
     * @param {?} msg
     */
function e(e,n,r){var i=t.call(this,n,r)||this;return i.elementName=e,i}/**
     * @param {?} elementName
     * @param {?} span
     * @param {?} msg
     * @return {?}
     */
return Br(e,t),e.create=function(t,n,r){return new e(t,n,r)},e}(ss),ws=function(){/**
     * @param {?} rootNodes
     * @param {?} errors
     */
function t(t,e){this.rootNodes=t,this.errors=e}return t}(),_s=function(){/**
     * @param {?} getTagDefinition
     */
function t(t){this.getTagDefinition=t}/**
     * @param {?} source
     * @param {?} url
     * @param {?=} parseExpansionForms
     * @param {?=} interpolationConfig
     * @return {?}
     */
return t.prototype.parse=function(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=Ho);var/** @type {?} */i=ot(t,e,this.getTagDefinition,n,r),/** @type {?} */o=new xs(i.tokens,this.getTagDefinition).build();return new ws(o.rootNodes,i.errors.concat(o.errors))},t}(),xs=function(){/**
     * @param {?} tokens
     * @param {?} getTagDefinition
     */
function t(t,e){this.tokens=t,this.getTagDefinition=e,this._index=-1,this._rootNodes=[],this._errors=[],this._elementStack=[],this._advance()}/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} startToken
     * @return {?}
     */
/**
     * @param {?} token
     * @return {?}
     */
/**
     * @param {?} token
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} start
     * @return {?}
     */
/**
     * @param {?} token
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} startTagToken
     * @return {?}
     */
/**
     * @param {?} el
     * @return {?}
     */
/**
     * @param {?} endTagToken
     * @return {?}
     */
/**
     * @param {?} fullName
     * @return {?}
     */
/**
     * @param {?} attrName
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * Returns the parent in the DOM and the container.
     *
     * `<ng-container>` elements are skipped as they are not rendered as DOM element.
     * @return {?}
     */
/**
     * @param {?} node
     * @return {?}
     */
/**
     * Insert a node between the parent and the container.
     * When no container is given, the node is appended as a child of the parent.
     * Also updates the element stack accordingly.
     *
     * \@internal
     * @param {?} parent
     * @param {?} container
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} prefix
     * @param {?} localName
     * @param {?} parentElement
     * @return {?}
     */
return t.prototype.build=function(){for(;this._peek.type!==hs.EOF;)this._peek.type===hs.TAG_OPEN_START?this._consumeStartTag(this._advance()):this._peek.type===hs.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===hs.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===hs.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===hs.TEXT||this._peek.type===hs.RAW_TEXT||this._peek.type===hs.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===hs.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):
// Skip all other tokens...
this._advance();return new ws(this._rootNodes,this._errors)},t.prototype._advance=function(){var/** @type {?} */t=this._peek;
// Note: there is always an EOF token at the end
return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],t},t.prototype._advanceIf=function(t){return this._peek.type===t?this._advance():null},t.prototype._consumeCdata=function(t){this._consumeText(this._advance()),this._advanceIf(hs.CDATA_END)},t.prototype._consumeComment=function(t){var/** @type {?} */e=this._advanceIf(hs.RAW_TEXT);this._advanceIf(hs.COMMENT_END);var/** @type {?} */n=null!=e?e.parts[0].trim():null;this._addToParent(new ps(n,t.sourceSpan))},t.prototype._consumeExpansion=function(t){
// read =
for(var/** @type {?} */e=this._advance(),/** @type {?} */n=this._advance(),/** @type {?} */r=[];this._peek.type===hs.EXPANSION_CASE_VALUE;){var/** @type {?} */i=this._parseExpansionCase();if(!i)return;// error
r.push(i)}
// read the final }
if(this._peek.type!==hs.EXPANSION_FORM_END)return void this._errors.push(bs.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));var/** @type {?} */o=new is(t.sourceSpan.start,this._peek.sourceSpan.end);this._addToParent(new us(e.parts[0],n.parts[0],r,o,e.sourceSpan)),this._advance()},t.prototype._parseExpansionCase=function(){var/** @type {?} */e=this._advance();
// read {
if(this._peek.type!==hs.EXPANSION_CASE_EXP_START)return this._errors.push(bs.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;
// read until }
var/** @type {?} */n=this._advance(),/** @type {?} */r=this._collectExpansionExpTokens(n);if(!r)return null;var/** @type {?} */i=this._advance();r.push(new ds(hs.EOF,[],i.sourceSpan));
// parse everything in between { and }
var/** @type {?} */o=new t(r,this.getTagDefinition).build();if(o.errors.length>0)/** @type {?} */
return this._errors=this._errors.concat(o.errors),null;var/** @type {?} */s=new is(e.sourceSpan.start,i.sourceSpan.end),/** @type {?} */a=new is(n.sourceSpan.start,i.sourceSpan.end);return new cs(e.parts[0],o.rootNodes,s,e.sourceSpan,a)},t.prototype._collectExpansionExpTokens=function(t){for(var/** @type {?} */e=[],/** @type {?} */n=[hs.EXPANSION_CASE_EXP_START];;){if(this._peek.type!==hs.EXPANSION_FORM_START&&this._peek.type!==hs.EXPANSION_CASE_EXP_START||n.push(this._peek.type),this._peek.type===hs.EXPANSION_CASE_EXP_END){if(!gt(n,hs.EXPANSION_CASE_EXP_START))return this._errors.push(bs.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(n.pop(),0==n.length)return e}if(this._peek.type===hs.EXPANSION_FORM_END){if(!gt(n,hs.EXPANSION_FORM_START))return this._errors.push(bs.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.pop()}if(this._peek.type===hs.EOF)return this._errors.push(bs.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;e.push(this._advance())}},t.prototype._consumeText=function(t){var/** @type {?} */e=t.parts[0];if(e.length>0&&"\n"==e[0]){var/** @type {?} */n=this._getParentElement();null!=n&&0==n.children.length&&this.getTagDefinition(n.name).ignoreFirstLf&&(e=e.substring(1))}e.length>0&&this._addToParent(new as(e,t.sourceSpan))},t.prototype._closeVoidElement=function(){if(this._elementStack.length>0){var/** @type {?} */t=this._elementStack[this._elementStack.length-1];this.getTagDefinition(t.name).isVoid&&this._elementStack.pop()}},t.prototype._consumeStartTag=function(t){for(var/** @type {?} */e=t.parts[0],/** @type {?} */n=t.parts[1],/** @type {?} */r=[];this._peek.type===hs.ATTR_NAME;)r.push(this._consumeAttr(this._advance()));var/** @type {?} */i=this._getElementFullName(e,n,this._getParentElement()),/** @type {?} */s=!1;
// Note: There could have been a tokenizer error
// so that we don't get a token for the end tag...
if(this._peek.type===hs.TAG_OPEN_END_VOID){this._advance(),s=!0;var/** @type {?} */a=this.getTagDefinition(i);a.canSelfClose||null!==o(i)||a.isVoid||this._errors.push(bs.create(i,t.sourceSpan,'Only void and foreign elements can be self closed "'+t.parts[1]+'"'))}else this._peek.type===hs.TAG_OPEN_END&&(this._advance(),s=!1);var/** @type {?} */u=this._peek.sourceSpan.start,/** @type {?} */c=new is(t.sourceSpan.start,u),/** @type {?} */l=new fs(i,r,[],c,c,null);this._pushElement(l),s&&(this._popElement(i),l.endSourceSpan=c)},t.prototype._pushElement=function(t){if(this._elementStack.length>0){var/** @type {?} */e=this._elementStack[this._elementStack.length-1];this.getTagDefinition(e.name).isClosedByChild(t.name)&&this._elementStack.pop()}var/** @type {?} */n=this.getTagDefinition(t.name),r=this._getParentElementSkippingContainers(),i=r.parent,o=r.container;if(i&&n.requireExtraParent(i.name)){var/** @type {?} */s=new fs(n.parentToAdd,[],[],t.sourceSpan,t.startSourceSpan,t.endSourceSpan);this._insertBeforeContainer(i,o,s)}this._addToParent(t),this._elementStack.push(t)},t.prototype._consumeEndTag=function(t){var/** @type {?} */e=this._getElementFullName(t.parts[0],t.parts[1],this._getParentElement());if(this._getParentElement()&&(this._getParentElement().endSourceSpan=t.sourceSpan),this.getTagDefinition(e).isVoid)this._errors.push(bs.create(e,t.sourceSpan,'Void elements do not have end tags "'+t.parts[1]+'"'));else if(!this._popElement(e)){var/** @type {?} */n='Unexpected closing tag "'+e+'". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags';this._errors.push(bs.create(e,t.sourceSpan,n))}},t.prototype._popElement=function(t){for(var/** @type {?} */e=this._elementStack.length-1;e>=0;e--){var/** @type {?} */n=this._elementStack[e];if(n.name==t)return this._elementStack.splice(e,this._elementStack.length-e),!0;if(!this.getTagDefinition(n.name).closedByParent)return!1}return!1},t.prototype._consumeAttr=function(t){var/** @type {?} */e,/** @type {?} */n=s(t.parts[0],t.parts[1]),/** @type {?} */r=t.sourceSpan.end,/** @type {?} */i="";if(this._peek.type===hs.ATTR_VALUE){var/** @type {?} */o=this._advance();i=o.parts[0],r=o.sourceSpan.end,e=o.sourceSpan}return new ls(n,i,new is(t.sourceSpan.start,r),e)},t.prototype._getParentElement=function(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null},t.prototype._getParentElementSkippingContainers=function(){for(var/** @type {?} */t=null,/** @type {?} */e=this._elementStack.length-1;e>=0;e--){if("ng-container"!==this._elementStack[e].name)return{parent:this._elementStack[e],container:t};t=this._elementStack[e]}return{parent:this._elementStack[this._elementStack.length-1],container:t}},t.prototype._addToParent=function(t){var/** @type {?} */e=this._getParentElement();null!=e?e.children.push(t):this._rootNodes.push(t)},t.prototype._insertBeforeContainer=function(t,e,n){if(e){if(t){
// replace the container with the new node in the children
var/** @type {?} */r=t.children.indexOf(e);t.children[r]=n}else this._rootNodes.push(n);n.children.push(e),this._elementStack.splice(this._elementStack.indexOf(e),0,n)}else this._addToParent(n),this._elementStack.push(n)},t.prototype._getElementFullName=function(t,e,n){return null==t&&null==(t=this.getTagDefinition(e).implicitNamespacePrefix)&&null!=n&&(t=o(n.name)),s(t,e)},t}(),Es=function(){/**
     * @param {?} nodes message AST
     * @param {?} placeholders maps placeholder names to static content
     * @param {?} placeholderToMessage maps placeholder names to messages (used for nested ICU messages)
     * @param {?} meaning
     * @param {?} description
     * @param {?} id
     */
function t(t,e,n,r,i,o){this.nodes=t,this.placeholders=e,this.placeholderToMessage=n,this.meaning=r,this.description=i,this.id=o}return t}(),Cs=function(){/**
     * @param {?} value
     * @param {?} sourceSpan
     */
function t(t,e){this.value=t,this.sourceSpan=e}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){return t.visitText(this,e)},t}(),Ss=function(){/**
     * @param {?} children
     * @param {?} sourceSpan
     */
function t(t,e){this.children=t,this.sourceSpan=e}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){return t.visitContainer(this,e)},t}(),Ns=function(){/**
     * @param {?} expression
     * @param {?} type
     * @param {?} cases
     * @param {?} sourceSpan
     */
function t(t,e,n,r){this.expression=t,this.type=e,this.cases=n,this.sourceSpan=r}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){return t.visitIcu(this,e)},t}(),Ms=function(){/**
     * @param {?} tag
     * @param {?} attrs
     * @param {?} startName
     * @param {?} closeName
     * @param {?} children
     * @param {?} isVoid
     * @param {?} sourceSpan
     */
function t(t,e,n,r,i,o,s){this.tag=t,this.attrs=e,this.startName=n,this.closeName=r,this.children=i,this.isVoid=o,this.sourceSpan=s}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){return t.visitTagPlaceholder(this,e)},t}(),Os=function(){/**
     * @param {?} value
     * @param {?} name
     * @param {?} sourceSpan
     */
function t(t,e,n){this.value=t,this.name=e,this.sourceSpan=n}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){return t.visitPlaceholder(this,e)},t}(),Ts=function(){/**
     * @param {?} value
     * @param {?} name
     * @param {?} sourceSpan
     */
function t(t,e,n){this.value=t,this.name=e,this.sourceSpan=n}/**
     * @param {?} visitor
     * @param {?=} context
     * @return {?}
     */
return t.prototype.visit=function(t,e){return t.visitIcuPlaceholder(this,e)},t}(),As=function(){function t(){}/**
     * @param {?} text
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} container
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} icu
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?=} context
     * @return {?}
     */
return t.prototype.visitText=function(t,e){return new Cs(t.value,t.sourceSpan)},t.prototype.visitContainer=function(t,e){var n=this,/** @type {?} */r=t.children.map(function(t){return t.visit(n,e)});return new Ss(r,t.sourceSpan)},t.prototype.visitIcu=function(t,e){var n=this,/** @type {?} */r={};Object.keys(t.cases).forEach(function(i){return r[i]=t.cases[i].visit(n,e)});var/** @type {?} */i=new Ns(t.expression,t.type,r,t.sourceSpan);return i.expressionPlaceholder=t.expressionPlaceholder,i},t.prototype.visitTagPlaceholder=function(t,e){var n=this,/** @type {?} */r=t.children.map(function(t){return t.visit(n,e)});return new Ms(t.tag,t.attrs,t.startName,t.closeName,r,t.isVoid,t.sourceSpan)},t.prototype.visitPlaceholder=function(t,e){return new Os(t.value,t.name,t.sourceSpan)},t.prototype.visitIcuPlaceholder=function(t,e){return new Ts(t.value,t.name,t.sourceSpan)},t}(),Ps=function(){function t(){}/**
     * @param {?} text
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} container
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} icu
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?=} context
     * @return {?}
     */
return t.prototype.visitText=function(t,e){},t.prototype.visitContainer=function(t,e){var n=this;t.children.forEach(function(t){return t.visit(n)})},t.prototype.visitIcu=function(t,e){var n=this;Object.keys(t.cases).forEach(function(e){t.cases[e].visit(n)})},t.prototype.visitTagPlaceholder=function(t,e){var n=this;t.children.forEach(function(t){return t.visit(n)})},t.prototype.visitPlaceholder=function(t,e){},t.prototype.visitIcuPlaceholder=function(t,e){},t}(),ks={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},Is=function(){function t(){this._placeHolderNameCounts={},this._signatureToName={}}/**
     * @param {?} tag
     * @param {?} attrs
     * @param {?} isVoid
     * @return {?}
     */
/**
     * @param {?} tag
     * @return {?}
     */
/**
     * @param {?} name
     * @param {?} content
     * @return {?}
     */
/**
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} tag
     * @param {?} attrs
     * @param {?} isVoid
     * @return {?}
     */
/**
     * @param {?} tag
     * @return {?}
     */
/**
     * @param {?} base
     * @return {?}
     */
return t.prototype.getStartTagPlaceholderName=function(t,e,n){var/** @type {?} */r=this._hashTag(t,e,n);if(this._signatureToName[r])return this._signatureToName[r];var/** @type {?} */i=t.toUpperCase(),/** @type {?} */o=ks[i]||"TAG_"+i,/** @type {?} */s=this._generateUniqueName(n?o:"START_"+o);return this._signatureToName[r]=s,s},t.prototype.getCloseTagPlaceholderName=function(t){var/** @type {?} */e=this._hashClosingTag(t);if(this._signatureToName[e])return this._signatureToName[e];var/** @type {?} */n=t.toUpperCase(),/** @type {?} */r=ks[n]||"TAG_"+n,/** @type {?} */i=this._generateUniqueName("CLOSE_"+r);return this._signatureToName[e]=i,i},t.prototype.getPlaceholderName=function(t,e){var/** @type {?} */n=t.toUpperCase(),/** @type {?} */r="PH: "+n+"="+e;if(this._signatureToName[r])return this._signatureToName[r];var/** @type {?} */i=this._generateUniqueName(n);return this._signatureToName[r]=i,i},t.prototype.getUniquePlaceholder=function(t){return this._generateUniqueName(t.toUpperCase())},t.prototype._hashTag=function(t,e,n){return"<"+t+Object.keys(e).sort().map(function(t){return" "+t+"="+e[t]}).join("")+(n?"/>":"></"+t+">")},t.prototype._hashClosingTag=function(t){return this._hashTag("/"+t,{},!1)},t.prototype._generateUniqueName=function(t){if(!this._placeHolderNameCounts.hasOwnProperty(t))return this._placeHolderNameCounts[t]=1,t;var/** @type {?} */e=this._placeHolderNameCounts[t];return this._placeHolderNameCounts[t]=e+1,t+"_"+e},t}(),Rs=new Jo(new $o),js=function(){/**
     * @param {?} _expressionParser
     * @param {?} _interpolationConfig
     */
function t(t,e){this._expressionParser=t,this._interpolationConfig=e}/**
     * @param {?} nodes
     * @param {?} meaning
     * @param {?} description
     * @param {?} id
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} attribute
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} text
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} comment
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} icu
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} icuCase
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} text
     * @param {?} sourceSpan
     * @return {?}
     */
return t.prototype.toI18nMessage=function(t,e,n,r){this._isIcu=1==t.length&&t[0]instanceof us,this._icuDepth=0,this._placeholderRegistry=new Is,this._placeholderToContent={},this._placeholderToMessage={};var/** @type {?} */i=it(this,t,{});return new Es(i,this._placeholderToContent,this._placeholderToMessage,e,n,r)},t.prototype.visitElement=function(t,e){var/** @type {?} */n=it(this,t.children),/** @type {?} */r={};t.attrs.forEach(function(t){
// Do not visit the attributes, translatable ones are top-level ASTs
r[t.name]=t.value});var/** @type {?} */i=a(t.name).isVoid,/** @type {?} */o=this._placeholderRegistry.getStartTagPlaceholderName(t.name,r,i);this._placeholderToContent[o]=t.sourceSpan.toString();var/** @type {?} */s="";return i||(s=this._placeholderRegistry.getCloseTagPlaceholderName(t.name),this._placeholderToContent[s]="</"+t.name+">"),new Ms(t.name,r,o,s,n,i,t.sourceSpan)},t.prototype.visitAttribute=function(t,e){return this._visitTextWithInterpolation(t.value,t.sourceSpan)},t.prototype.visitText=function(t,e){return this._visitTextWithInterpolation(t.value,t.sourceSpan)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitExpansion=function(e,n){var r=this;this._icuDepth++;var/** @type {?} */i={},/** @type {?} */o=new Ns(e.switchValue,e.type,i,e.sourceSpan);if(e.cases.forEach(function(t){i[t.value]=new Ss(t.expression.map(function(t){return t.visit(r,{})}),t.expSourceSpan)}),this._icuDepth--,this._isIcu||this._icuDepth>0){
// Returns an ICU node when:
// - the message (vs a part of the message) is an ICU message, or
// - the ICU message is nested.
var/** @type {?} */s=this._placeholderRegistry.getUniquePlaceholder("VAR_"+e.type);return o.expressionPlaceholder=s,this._placeholderToContent[s]=e.switchValue,o}
// Else returns a placeholder
// ICU placeholders should not be replaced with their original content but with the their
// translations. We need to create a new visitor (they are not re-entrant) to compute the
// message id.
// TODO(vicb): add a html.Node -> i18n.Message cache to avoid having to re-create the msg
var/** @type {?} */a=this._placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString()),/** @type {?} */u=new t(this._expressionParser,this._interpolationConfig);return this._placeholderToMessage[a]=u.toI18nMessage([e],"","",""),new Ts(o,a,e.sourceSpan)},t.prototype.visitExpansionCase=function(t,e){throw new Error("Unreachable code")},t.prototype._visitTextWithInterpolation=function(t,e){var/** @type {?} */n=this._expressionParser.splitInterpolation(t,e.start.toString(),this._interpolationConfig);if(!n)
// No expression, return a single text
return new Cs(t,e);for(var/** @type {?} */r=[],/** @type {?} */i=new Ss(r,e),o=this._interpolationConfig,s=o.start,a=o.end,/** @type {?} */u=0;u<n.strings.length-1;u++){var/** @type {?} */c=n.expressions[u],/** @type {?} */l=wt(c)||"INTERPOLATION",/** @type {?} */f=this._placeholderRegistry.getPlaceholderName(l,c);n.strings[u].length&&
// No need to add empty strings
r.push(new Cs(n.strings[u],e)),r.push(new Os(c,f,e)),this._placeholderToContent[f]=s+c+a}
// The last index contains no expression
var/** @type {?} */p=n.strings.length-1;return n.strings[p].length&&r.push(new Cs(n.strings[p],e)),i},t}(),Ds=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g,Ls=function(t){/**
     * @param {?} span
     * @param {?} msg
     */
function e(e,n){return t.call(this,e,n)||this}return Br(e,t),e}(ss),Fs="i18n",Us="|",Vs="@@",Bs=function(){/**
     * @param {?} messages
     * @param {?} errors
     */
function t(t,e){this.messages=t,this.errors=e}return t}(),zs={};zs.Extract=0,zs.Merge=1,zs[zs.Extract]="Extract",zs[zs.Merge]="Merge";/**
 * This Visitor is used:
 * 1. to extract all the translatable strings from an html AST (see `extract()`),
 * 2. to replace the translatable strings with the actual translations (see `merge()`)
 *
 * \@internal
 */
var qs=function(){/**
     * @param {?} _implicitTags
     * @param {?} _implicitAttrs
     */
function t(t,e){this._implicitTags=t,this._implicitAttrs=e}/**
     * Extracts the messages from the tree
     * @param {?} nodes
     * @param {?} interpolationConfig
     * @return {?}
     */
/**
     * Returns a tree where all translatable nodes are translated
     * @param {?} nodes
     * @param {?} translations
     * @param {?} interpolationConfig
     * @return {?}
     */
/**
     * @param {?} icuCase
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} icu
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} comment
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} text
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} attribute
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} mode
     * @param {?} interpolationConfig
     * @return {?}
     */
/**
     * @param {?} el
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?=} msgMeta
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} message
     * @return {?}
     */
/**
     * @param {?} el
     * @return {?}
     */
/**
     * Add the node as a child of the block when:
     * - we are in a block,
     * - we are not inside a ICU message (those are handled separately),
     * - the node is a "direct child" of the block
     * @param {?} node
     * @return {?}
     */
/**
     * Marks the start of a section, see `_closeTranslatableSection`
     * @param {?} node
     * @return {?}
     */
/**
     * Terminates a section.
     *
     * If a section has only one significant children (comments not significant) then we should not
     * keep the message from this children:
     *
     * `<p i18n="meaning|description">{ICU message}</p>` would produce two messages:
     * - one for the <p> content with meaning and description,
     * - another one for the ICU message.
     *
     * In this case the last message is discarded as it contains less information (the AST is
     * otherwise identical).
     *
     * Note that we should still keep messages extracted from attributes inside the section (ie in the
     * ICU message here)
     * @param {?} node
     * @param {?} directChildren
     * @return {?}
     */
/**
     * @param {?} node
     * @param {?} msg
     * @return {?}
     */
return t.prototype.extract=function(t,e){var n=this;return this._init(zs.Extract,e),t.forEach(function(t){return t.visit(n,null)}),this._inI18nBlock&&this._reportError(t[t.length-1],"Unclosed block"),new Bs(this._messages,this._errors)},t.prototype.merge=function(t,e,n){this._init(zs.Merge,n),this._translations=e;
// Construct a single fake root element
var/** @type {?} */r=new fs("wrapper",[],t,null,null,null),/** @type {?} */i=r.visit(this,null);return this._inI18nBlock&&this._reportError(t[t.length-1],"Unclosed block"),new ws(i.children,this._errors)},t.prototype.visitExpansionCase=function(t,e){
// Parse cases for translatable html attributes
var/** @type {?} */n=it(this,t.expression,e);if(this._mode===zs.Merge)return new cs(t.value,n,t.sourceSpan,t.valueSourceSpan,t.expSourceSpan)},t.prototype.visitExpansion=function(t,e){this._mayBeAddBlockChildren(t);var/** @type {?} */n=this._inIcu;this._inIcu||(
// nested ICU messages should not be extracted but top-level translated as a whole
this._isInTranslatableSection&&this._addMessage([t]),this._inIcu=!0);var/** @type {?} */r=it(this,t.cases,e);return this._mode===zs.Merge&&(t=new us(t.switchValue,t.type,r,t.sourceSpan,t.switchValueSourceSpan)),this._inIcu=n,t},t.prototype.visitComment=function(t,e){var/** @type {?} */n=Et(t);if(n&&this._isInTranslatableSection)return void this._reportError(t,"Could not start a block inside a translatable section");var/** @type {?} */r=Ct(t);if(r&&!this._inI18nBlock)return void this._reportError(t,"Trying to close an unopened block");if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(r){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(t,this._blockChildren),this._inI18nBlock=!1;var/** @type {?} */i=this._addMessage(this._blockChildren,this._blockMeaningAndDesc),/** @type {?} */o=this._translateMessage(t,i);return it(this,o)}return void this._reportError(t,"I18N blocks should not cross element boundaries")}}else n&&(this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=t.value.replace(/^i18n:?/,"").trim(),this._openTranslatableSection(t))},t.prototype.visitText=function(t,e){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(t),t},t.prototype.visitElement=function(t,e){var n=this;this._mayBeAddBlockChildren(t),this._depth++;var/** @type {?} */r,/** @type {?} */i=this._inI18nNode,/** @type {?} */o=this._inImplicitNode,/** @type {?} */s=[],/** @type {?} */a=St(t),/** @type {?} */u=a?a.value:"",/** @type {?} */c=this._implicitTags.some(function(e){return t.name===e})&&!this._inIcu&&!this._isInTranslatableSection,/** @type {?} */l=!o&&c;if(this._inImplicitNode=o||c,this._isInTranslatableSection||this._inIcu)(a||l)&&this._reportError(t,"Could not mark an element as translatable inside a translatable section"),this._mode==zs.Extract&&
// Descend into child nodes for extraction
it(this,t.children);else{if(a||l){this._inI18nNode=!0;var/** @type {?} */f=this._addMessage(t.children,u);r=this._translateMessage(t,f)}if(this._mode==zs.Extract){var/** @type {?} */p=a||l;p&&this._openTranslatableSection(t),it(this,t.children),p&&this._closeTranslatableSection(t,t.children)}}if(this._mode===zs.Merge){(r||t.children).forEach(function(t){var/** @type {?} */r=t.visit(n,e);r&&!n._isInTranslatableSection&&(
// Do not add the children from translatable sections (= i18n blocks here)
// They will be added later in this loop when the block closes (i.e. on `<!-- /i18n -->`)
s=s.concat(r))})}if(this._visitAttributesOf(t),this._depth--,this._inI18nNode=i,this._inImplicitNode=o,this._mode===zs.Merge){var/** @type {?} */h=this._translateAttributes(t);return new fs(t.name,h,s,t.sourceSpan,t.startSourceSpan,t.endSourceSpan)}},t.prototype.visitAttribute=function(t,e){throw new Error("unreachable code")},t.prototype._init=function(t,e){this._mode=t,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=bt(e)},t.prototype._visitAttributesOf=function(t){var e=this,/** @type {?} */n={},/** @type {?} */r=this._implicitAttrs[t.name]||[];t.attrs.filter(function(t){return t.name.startsWith("i18n-")}).forEach(function(t){return n[t.name.slice("i18n-".length)]=t.value}),t.attrs.forEach(function(t){t.name in n?e._addMessage([t],n[t.name]):r.some(function(e){return t.name===e})&&e._addMessage([t])})},t.prototype._addMessage=function(t,e){if(!(0==t.length||1==t.length&&t[0]instanceof ls&&!t[0].value)){var n=Nt(e),r=n.meaning,i=n.description,o=n.id,/** @type {?} */s=this._createI18nMessage(t,r,i,o);return this._messages.push(s),s}},t.prototype._translateMessage=function(t,e){if(e&&this._mode===zs.Merge){var/** @type {?} */n=this._translations.get(e);if(n)return n;this._reportError(t,'Translation unavailable for message id="'+this._translations.digest(e)+'"')}return[]},t.prototype._translateAttributes=function(t){var e=this,/** @type {?} */n=t.attrs,/** @type {?} */r={};n.forEach(function(t){t.name.startsWith("i18n-")&&(r[t.name.slice("i18n-".length)]=Nt(t.value))});var/** @type {?} */i=[];return n.forEach(function(n){if(n.name!==Fs&&!n.name.startsWith("i18n-"))if(n.value&&""!=n.value&&r.hasOwnProperty(n.name)){var o=r[n.name],s=o.meaning,a=o.description,u=o.id,/** @type {?} */c=e._createI18nMessage([n],s,a,u),/** @type {?} */l=e._translations.get(c);if(l)if(0==l.length)i.push(new ls(n.name,"",n.sourceSpan));else if(l[0]instanceof as){var/** @type {?} */f=l[0].value;i.push(new ls(n.name,f,n.sourceSpan))}else e._reportError(t,'Unexpected translation for attribute "'+n.name+'" (id="'+(u||e._translations.digest(c))+'")');else e._reportError(t,'Translation unavailable for attribute "'+n.name+'" (id="'+(u||e._translations.digest(c))+'")')}else i.push(n)}),i},t.prototype._mayBeAddBlockChildren=function(t){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(t)},t.prototype._openTranslatableSection=function(t){this._isInTranslatableSection?this._reportError(t,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length},Object.defineProperty(t.prototype,"_isInTranslatableSection",{/**
         * A translatable section could be:
         * - the content of translatable element,
         * - nodes between `<!-- i18n -->` and `<!-- /i18n -->` comments
         * @return {?}
         */
get:function(){return void 0!==this._msgCountAtSectionStart},enumerable:!0,configurable:!0}),t.prototype._closeTranslatableSection=function(t,e){if(!this._isInTranslatableSection)return void this._reportError(t,"Unexpected section end");var/** @type {?} */n=this._msgCountAtSectionStart;if(1==e.reduce(function(t,e){return t+(e instanceof ps?0:1)},0))for(var/** @type {?} */r=this._messages.length-1;r>=n;r--){var/** @type {?} */i=this._messages[r].nodes;if(!(1==i.length&&i[0]instanceof Cs)){this._messages.splice(r,1);break}}this._msgCountAtSectionStart=void 0},t.prototype._reportError=function(t,e){this._errors.push(new Ls(t.sourceSpan,e))},t}(),Hs=function(){function t(){this.closedByParent=!1,this.contentType=oi.PARSABLE_DATA,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0}/**
     * @param {?} currentParent
     * @return {?}
     */
/**
     * @param {?} name
     * @return {?}
     */
return t.prototype.requireExtraParent=function(t){return!1},t.prototype.isClosedByChild=function(t){return!1},t}(),Gs=new Hs,Ws=function(t){function e(){return t.call(this,Mt)||this}/**
     * @param {?} source
     * @param {?} url
     * @param {?=} parseExpansionForms
     * @return {?}
     */
return Br(e,t),e.prototype.parse=function(e,n,r){return void 0===r&&(r=!1),t.prototype.parse.call(this,e,n,r,null)},e}(_s),$s=function(){function t(){}/**
     * @param {?} text
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} container
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} icu
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?=} context
     * @return {?}
     */
return t.prototype.visitText=function(t,e){return t.value},t.prototype.visitContainer=function(t,e){var n=this;return"["+t.children.map(function(t){return t.visit(n)}).join(", ")+"]"},t.prototype.visitIcu=function(t,e){var n=this,/** @type {?} */r=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});return"{"+t.expression+", "+t.type+", "+r.join(", ")+"}"},t.prototype.visitTagPlaceholder=function(t,e){var n=this;return t.isVoid?'<ph tag name="'+t.startName+'"/>':'<ph tag name="'+t.startName+'">'+t.children.map(function(t){return t.visit(n)}).join(", ")+'</ph name="'+t.closeName+'">'},t.prototype.visitPlaceholder=function(t,e){return t.value?'<ph name="'+t.name+'">'+t.value+"</ph>":'<ph name="'+t.name+'"/>'},t.prototype.visitIcuPlaceholder=function(t,e){return'<ph icu name="'+t.name+'">'+t.value.visit(this)+"</ph>"},t}(),Ys=new $s,Xs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}/**
     * @param {?} icu
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitIcu=function(t,e){var n=this,/** @type {?} */r=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});
// Do not take the expression into account
return"{"+t.type+", "+r.join(", ")+"}"},e}($s),Zs={};Zs.Little=0,Zs.Big=1,Zs[Zs.Little]="Little",Zs[Zs.Big]="Big";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @abstract
 */
var Ks=function(){function t(){}/**
     * @abstract
     * @param {?} messages
     * @param {?} locale
     * @return {?}
     */
/**
     * @abstract
     * @param {?} content
     * @param {?} url
     * @return {?}
     */
/**
     * @abstract
     * @param {?} message
     * @return {?}
     */
/**
     * @param {?} message
     * @return {?}
     */
return t.prototype.write=function(t,e){},t.prototype.load=function(t,e){},t.prototype.digest=function(t){},t.prototype.createNameMapper=function(t){return null},t}(),Qs=function(t){/**
     * @param {?} message
     * @param {?} mapName
     */
function e(e,n){var r=t.call(this)||this;return r.mapName=n,r.internalToPublic={},r.publicToNextId={},r.publicToInternal={},e.nodes.forEach(function(t){return t.visit(r)}),r}/**
     * @param {?} internalName
     * @return {?}
     */
/**
     * @param {?} publicName
     * @return {?}
     */
/**
     * @param {?} text
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} internalName
     * @return {?}
     */
return Br(e,t),e.prototype.toPublicName=function(t){return this.internalToPublic.hasOwnProperty(t)?this.internalToPublic[t]:null},e.prototype.toInternalName=function(t){return this.publicToInternal.hasOwnProperty(t)?this.publicToInternal[t]:null},e.prototype.visitText=function(t,e){return null},e.prototype.visitTagPlaceholder=function(e,n){this.visitPlaceholderName(e.startName),t.prototype.visitTagPlaceholder.call(this,e,n),this.visitPlaceholderName(e.closeName)},e.prototype.visitPlaceholder=function(t,e){this.visitPlaceholderName(t.name)},e.prototype.visitIcuPlaceholder=function(t,e){this.visitPlaceholderName(t.name)},e.prototype.visitPlaceholderName=function(t){if(t&&!this.internalToPublic.hasOwnProperty(t)){var/** @type {?} */e=this.mapName(t);if(this.publicToInternal.hasOwnProperty(e)){
// Create a new XMB when it has already been used
var/** @type {?} */n=this.publicToNextId[e];this.publicToNextId[e]=n+1,e=e+"_"+n}else this.publicToNextId[e]=1;this.internalToPublic[t]=e,this.publicToInternal[e]=t}},e}(Ps),Js=function(){function t(){}/**
     * @param {?} tag
     * @return {?}
     */
/**
     * @param {?} text
     * @return {?}
     */
/**
     * @param {?} decl
     * @return {?}
     */
/**
     * @param {?} attrs
     * @return {?}
     */
/**
     * @param {?} doctype
     * @return {?}
     */
return t.prototype.visitTag=function(t){var e=this,/** @type {?} */n=this._serializeAttributes(t.attrs);if(0==t.children.length)return"<"+t.name+n+"/>";var/** @type {?} */r=t.children.map(function(t){return t.visit(e)});return"<"+t.name+n+">"+r.join("")+"</"+t.name+">"},t.prototype.visitText=function(t){return t.value},t.prototype.visitDeclaration=function(t){return"<?xml"+this._serializeAttributes(t.attrs)+" ?>"},t.prototype._serializeAttributes=function(t){var/** @type {?} */e=Object.keys(t).map(function(e){return e+'="'+t[e]+'"'}).join(" ");return e.length>0?" "+e:""},t.prototype.visitDoctype=function(t){return"<!DOCTYPE "+t.rootTag+" [\n"+t.dtd+"\n]>"},t}(),ta=new Js,ea=function(){/**
     * @param {?} unescapedAttrs
     */
function t(t){var e=this;this.attrs={},Object.keys(t).forEach(function(n){e.attrs[n]=Jt(t[n])})}/**
     * @param {?} visitor
     * @return {?}
     */
return t.prototype.visit=function(t){return t.visitDeclaration(this)},t}(),na=function(){/**
     * @param {?} rootTag
     * @param {?} dtd
     */
function t(t,e){this.rootTag=t,this.dtd=e}/**
     * @param {?} visitor
     * @return {?}
     */
return t.prototype.visit=function(t){return t.visitDoctype(this)},t}(),ra=function(){/**
     * @param {?} name
     * @param {?=} unescapedAttrs
     * @param {?=} children
     */
function t(t,e,n){void 0===e&&(e={}),void 0===n&&(n=[]);var r=this;this.name=t,this.children=n,this.attrs={},Object.keys(e).forEach(function(t){r.attrs[t]=Jt(e[t])})}/**
     * @param {?} visitor
     * @return {?}
     */
return t.prototype.visit=function(t){return t.visitTag(this)},t}(),ia=function(){/**
     * @param {?} unescapedValue
     */
function t(t){this.value=Jt(t)}/**
     * @param {?} visitor
     * @return {?}
     */
return t.prototype.visit=function(t){return t.visitText(this)},t}(),oa=function(t){/**
     * @param {?=} ws
     */
function e(e){return void 0===e&&(e=0),t.call(this,"\n"+new Array(e+1).join(" "))||this}return Br(e,t),e}(ia),sa=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]],aa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}/**
     * @param {?} messages
     * @param {?} locale
     * @return {?}
     */
/**
     * @param {?} content
     * @param {?} url
     * @return {?}
     */
/**
     * @param {?} message
     * @return {?}
     */
return Br(e,t),e.prototype.write=function(t,e){var/** @type {?} */n=new ua,/** @type {?} */r=[];t.forEach(function(t){var/** @type {?} */e=new ra("trans-unit",{id:t.id,datatype:"html"});e.children.push(new oa(8),new ra("source",{},n.serialize(t.nodes)),new oa(8),new ra("target")),t.description&&e.children.push(new oa(8),new ra("note",{priority:"1",from:"description"},[new ia(t.description)])),t.meaning&&e.children.push(new oa(8),new ra("note",{priority:"1",from:"meaning"},[new ia(t.meaning)])),e.children.push(new oa(6)),r.push(new oa(6),e)});var/** @type {?} */i=new ra("body",{},r.concat([new oa(4)])),/** @type {?} */o=new ra("file",{"source-language":e||"en",datatype:"plaintext",original:"ng2.template"},[new oa(4),i,new oa(2)]),/** @type {?} */s=new ra("xliff",{version:"1.2",xmlns:"urn:oasis:names:tc:xliff:document:1.2"},[new oa(2),o,new oa]);return Qt([new ea({version:"1.0",encoding:"UTF-8"}),new oa,s,new oa])},e.prototype.load=function(t,e){
// xliff to xml nodes
var/** @type {?} */n=new ca,r=n.parse(t,e),i=r.locale,o=r.mlNodesByMsgId,s=r.errors,/** @type {?} */a={},/** @type {?} */u=new la;if(Object.keys(o).forEach(function(t){var e=u.convert(o[t]),n=e.i18nNodes,r=e.errors;s.push.apply(s,r),a[t]=n}),s.length)throw new Error("xliff parse errors:\n"+s.join("\n"));return{locale:i,i18nNodesByMsgId:a}},e.prototype.digest=function(t){return Ot(t)},e}(Ks),ua=function(){function t(){}/**
     * @param {?} text
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} container
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} icu
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} nodes
     * @return {?}
     */
return t.prototype.visitText=function(t,e){return[new ia(t.value)]},t.prototype.visitContainer=function(t,e){var n=this,/** @type {?} */r=[];return t.children.forEach(function(t){return r.push.apply(r,t.visit(n))}),r},t.prototype.visitIcu=function(t,e){if(this._isInIcu)
// nested ICU is not supported
throw new Error("xliff does not support nested ICU messages");this._isInIcu=!0;
// TODO(vicb): support ICU messages
// https://lists.oasis-open.org/archives/xliff/201201/msg00028.html
// http://docs.oasis-open.org/xliff/v1.2/xliff-profile-po/xliff-profile-po-1.2-cd02.html
var/** @type {?} */n=[];return this._isInIcu=!1,n},t.prototype.visitTagPlaceholder=function(t,e){var/** @type {?} */n=te(t.tag),/** @type {?} */r=new ra("x",{id:t.startName,ctype:n});if(t.isVoid)
// void tags have no children nor closing tags
return[r];var/** @type {?} */i=new ra("x",{id:t.closeName,ctype:n});return[r].concat(this.serialize(t.children),[i])},t.prototype.visitPlaceholder=function(t,e){return[new ra("x",{id:t.name})]},t.prototype.visitIcuPlaceholder=function(t,e){return[new ra("x",{id:t.name})]},t.prototype.serialize=function(t){var e=this;return this._isInIcu=!1,[].concat.apply([],t.map(function(t){return t.visit(e)}))},t}(),ca=function(){function t(){this._locale=null}/**
     * @param {?} xliff
     * @param {?} url
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} attribute
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} text
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} comment
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} expansion
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} expansionCase
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} node
     * @param {?} message
     * @return {?}
     */
return t.prototype.parse=function(t,e){this._unitMlNodes=[],this._mlNodesByMsgId={};var/** @type {?} */n=(new Ws).parse(t,e,!1);return this._errors=n.errors,it(this,n.rootNodes,null),{mlNodesByMsgId:this._mlNodesByMsgId,errors:this._errors,locale:this._locale}},t.prototype.visitElement=function(t,e){switch(t.name){case"trans-unit":this._unitMlNodes=null;var/** @type {?} */n=t.attrs.find(function(t){return"id"===t.name});if(n){var/** @type {?} */r=n.value;this._mlNodesByMsgId.hasOwnProperty(r)?this._addError(t,"Duplicated translations for msg "+r):(it(this,t.children,null),this._unitMlNodes?this._mlNodesByMsgId[r]=this._unitMlNodes:this._addError(t,"Message "+r+" misses a translation"))}else this._addError(t,'<trans-unit> misses the "id" attribute');break;case"source":
// ignore source message
break;case"target":this._unitMlNodes=t.children;break;case"file":var/** @type {?} */i=t.attrs.find(function(t){return"target-language"===t.name});i&&(this._locale=i.value),it(this,t.children,null);break;default:
// TODO(vicb): assert file structure, xliff version
// For now only recurse on unhandled nodes
it(this,t.children,null)}},t.prototype.visitAttribute=function(t,e){},t.prototype.visitText=function(t,e){},t.prototype.visitComment=function(t,e){},t.prototype.visitExpansion=function(t,e){},t.prototype.visitExpansionCase=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new Ls(t.sourceSpan,e))},t}(),la=function(){function t(){}/**
     * @param {?} nodes
     * @return {?}
     */
/**
     * @param {?} text
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} icu
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} icuCase
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} comment
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} attribute
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} node
     * @param {?} message
     * @return {?}
     */
return t.prototype.convert=function(t){return this._errors=[],{i18nNodes:it(this,t),errors:this._errors}},t.prototype.visitText=function(t,e){return new Cs(t.value,t.sourceSpan)},t.prototype.visitElement=function(t,e){if("x"===t.name){var/** @type {?} */n=t.attrs.find(function(t){return"id"===t.name});if(n)return new Os("",n.value,t.sourceSpan);this._addError(t,'<x> misses the "id" attribute')}else this._addError(t,"Unexpected tag")},t.prototype.visitExpansion=function(t,e){},t.prototype.visitExpansionCase=function(t,e){},t.prototype.visitComment=function(t,e){},t.prototype.visitAttribute=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new Ls(t.sourceSpan,e))},t}(),fa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}/**
     * @param {?} messages
     * @param {?} locale
     * @return {?}
     */
/**
     * @param {?} content
     * @param {?} url
     * @return {?}
     */
/**
     * @param {?} message
     * @return {?}
     */
/**
     * @param {?} message
     * @return {?}
     */
return Br(e,t),e.prototype.write=function(t,e){var/** @type {?} */n=new ha,/** @type {?} */r=new pa,/** @type {?} */i=new ra("messagebundle");return t.forEach(function(t){var/** @type {?} */e={id:t.id};t.description&&(e.desc=t.description),t.meaning&&(e.meaning=t.meaning),i.children.push(new oa(2),new ra("msg",e,r.serialize(t.nodes)))}),i.children.push(new oa),Qt([new ea({version:"1.0",encoding:"UTF-8"}),new oa,new na("messagebundle",'<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>'),new oa,n.addDefaultExamples(i),new oa])},e.prototype.load=function(t,e){throw new Error("Unsupported")},e.prototype.digest=function(t){return ee(t)},e.prototype.createNameMapper=function(t){return new Qs(t,ne)},e}(Ks),pa=function(){function t(){}/**
     * @param {?} text
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} container
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} icu
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} nodes
     * @return {?}
     */
return t.prototype.visitText=function(t,e){return[new ia(t.value)]},t.prototype.visitContainer=function(t,e){var n=this,/** @type {?} */r=[];return t.children.forEach(function(t){return r.push.apply(r,t.visit(n))}),r},t.prototype.visitIcu=function(t,e){var n=this,/** @type {?} */r=[new ia("{"+t.expressionPlaceholder+", "+t.type+", ")];return Object.keys(t.cases).forEach(function(e){r.push.apply(r,[new ia(e+" {")].concat(t.cases[e].visit(n),[new ia("} ")]))}),r.push(new ia("}")),r},t.prototype.visitTagPlaceholder=function(t,e){var/** @type {?} */n=new ra("ex",{},[new ia("<"+t.tag+">")]),/** @type {?} */r=new ra("ph",{name:t.startName},[n]);if(t.isVoid)
// void tags have no children nor closing tags
return[r];var/** @type {?} */i=new ra("ex",{},[new ia("</"+t.tag+">")]),/** @type {?} */o=new ra("ph",{name:t.closeName},[i]);return[r].concat(this.serialize(t.children),[o])},t.prototype.visitPlaceholder=function(t,e){return[new ra("ph",{name:t.name})]},t.prototype.visitIcuPlaceholder=function(t,e){return[new ra("ph",{name:t.name})]},t.prototype.serialize=function(t){var e=this;return[].concat.apply([],t.map(function(t){return t.visit(e)}))},t}(),ha=function(){function t(){}/**
     * @param {?} node
     * @return {?}
     */
/**
     * @param {?} tag
     * @return {?}
     */
/**
     * @param {?} text
     * @return {?}
     */
/**
     * @param {?} decl
     * @return {?}
     */
/**
     * @param {?} doctype
     * @return {?}
     */
return t.prototype.addDefaultExamples=function(t){return t.visit(this),t},t.prototype.visitTag=function(t){var e=this;if("ph"===t.name){if(!t.children||0==t.children.length){var/** @type {?} */n=new ia(t.attrs.name||"...");t.children=[new ra("ex",{},[n])]}}else t.children&&t.children.forEach(function(t){return t.visit(e)})},t.prototype.visitText=function(t){},t.prototype.visitDeclaration=function(t){},t.prototype.visitDoctype=function(t){},t}(),da=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}/**
     * @param {?} messages
     * @param {?} locale
     * @return {?}
     */
/**
     * @param {?} content
     * @param {?} url
     * @return {?}
     */
/**
     * @param {?} message
     * @return {?}
     */
/**
     * @param {?} message
     * @return {?}
     */
return Br(e,t),e.prototype.write=function(t,e){throw new Error("Unsupported")},e.prototype.load=function(t,e){
// xtb to xml nodes
var/** @type {?} */n=new ma,r=n.parse(t,e),i=r.locale,o=r.msgIdToHtml,s=r.errors,/** @type {?} */a={},/** @type {?} */u=new va;if(
// Because we should be able to load xtb files that rely on features not supported by angular,
// we need to delay the conversion of html to i18n nodes so that non angular messages are not
// converted
Object.keys(o).forEach(function(t){re(a,t,function(){var n=u.convert(o[t],e),r=n.i18nNodes,i=n.errors;if(i.length)throw new Error("xtb parse errors:\n"+i.join("\n"));return r})}),s.length)throw new Error("xtb parse errors:\n"+s.join("\n"));return{locale:i,i18nNodesByMsgId:a}},e.prototype.digest=function(t){return ee(t)},e.prototype.createNameMapper=function(t){return new Qs(t,ne)},e}(Ks),ma=function(){function t(){this._locale=null}/**
     * @param {?} xtb
     * @param {?} url
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} attribute
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} text
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} comment
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} expansion
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} expansionCase
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} node
     * @param {?} message
     * @return {?}
     */
return t.prototype.parse=function(t,e){this._bundleDepth=0,this._msgIdToHtml={};
// We can not parse the ICU messages at this point as some messages might not originate
// from Angular that could not be lex'd.
var/** @type {?} */n=(new Ws).parse(t,e,!1);return this._errors=n.errors,it(this,n.rootNodes),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}},t.prototype.visitElement=function(t,e){switch(t.name){case"translationbundle":this._bundleDepth++,this._bundleDepth>1&&this._addError(t,"<translationbundle> elements can not be nested");var/** @type {?} */n=t.attrs.find(function(t){return"lang"===t.name});n&&(this._locale=n.value),it(this,t.children,null),this._bundleDepth--;break;case"translation":var/** @type {?} */r=t.attrs.find(function(t){return"id"===t.name});if(r){var/** @type {?} */i=r.value;if(this._msgIdToHtml.hasOwnProperty(i))this._addError(t,"Duplicated translations for msg "+i);else{var/** @type {?} */o=t.startSourceSpan.end.offset,/** @type {?} */s=t.endSourceSpan.start.offset,/** @type {?} */a=t.startSourceSpan.start.file.content,/** @type {?} */u=a.slice(o,s);this._msgIdToHtml[i]=u}}else this._addError(t,'<translation> misses the "id" attribute');break;default:this._addError(t,"Unexpected tag")}},t.prototype.visitAttribute=function(t,e){},t.prototype.visitText=function(t,e){},t.prototype.visitComment=function(t,e){},t.prototype.visitExpansion=function(t,e){},t.prototype.visitExpansionCase=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new Ls(t.sourceSpan,e))},t}(),va=function(){function t(){}/**
     * @param {?} message
     * @param {?} url
     * @return {?}
     */
/**
     * @param {?} text
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} icu
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} icuCase
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} comment
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} attribute
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} node
     * @param {?} message
     * @return {?}
     */
return t.prototype.convert=function(t,e){var/** @type {?} */n=(new Ws).parse(t,e,!0);return this._errors=n.errors,{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:it(this,n.rootNodes),errors:this._errors}},t.prototype.visitText=function(t,e){return new Cs(t.value,t.sourceSpan)},t.prototype.visitExpansion=function(t,e){var/** @type {?} */n={};return it(this,t.cases).forEach(function(e){n[e.value]=new Ss(e.nodes,t.sourceSpan)}),new Ns(t.switchValue,t.type,n,t.sourceSpan)},t.prototype.visitExpansionCase=function(t,e){return{value:t.value,nodes:it(this,t.expression)}},t.prototype.visitElement=function(t,e){if("ph"===t.name){var/** @type {?} */n=t.attrs.find(function(t){return"name"===t.name});if(n)return new Os("",n.value,t.sourceSpan);this._addError(t,'<ph> misses the "name" attribute')}else this._addError(t,"Unexpected tag")},t.prototype.visitComment=function(t,e){},t.prototype.visitAttribute=function(t,e){},t.prototype._addError=function(t,e){this._errors.push(new Ls(t.sourceSpan,e))},t}(),ya=function(t){function e(){return t.call(this,a)||this}/**
     * @param {?} source
     * @param {?} url
     * @param {?=} parseExpansionForms
     * @param {?=} interpolationConfig
     * @return {?}
     */
return Br(e,t),e.prototype.parse=function(e,n,r,i){return void 0===r&&(r=!1),void 0===i&&(i=Ho),t.prototype.parse.call(this,e,n,r,i)},e}(_s);ya.decorators=[{type:F}],/**
 * @nocollapse
 */
ya.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * A container for translated messages
 */
var ga=function(){/**
     * @param {?=} _i18nNodesByMsgId
     * @param {?=} locale
     * @param {?=} digest
     * @param {?=} mapperFactory
     * @param {?=} missingTranslationStrategy
     * @param {?=} console
     */
function t(t,e,n,r,i,o){void 0===t&&(t={}),void 0===i&&(i=Vr.MissingTranslationStrategy.Warning),this._i18nNodesByMsgId=t,this.digest=n,this.mapperFactory=r,this._i18nToHtml=new ba(t,e,n,r,i,o)}/**
     * @param {?} content
     * @param {?} url
     * @param {?} serializer
     * @param {?} missingTranslationStrategy
     * @param {?=} console
     * @return {?}
     */
/**
     * @param {?} srcMsg
     * @return {?}
     */
/**
     * @param {?} srcMsg
     * @return {?}
     */
return t.load=function(e,n,r,i,o){var s=r.load(e,n),a=s.locale;return new t(s.i18nNodesByMsgId,a,function(t){return r.digest(t)},function(t){return r.createNameMapper(t)},i,o)},t.prototype.get=function(t){var/** @type {?} */e=this._i18nToHtml.convert(t);if(e.errors.length)throw new Error(e.errors.join("\n"));return e.nodes},t.prototype.has=function(t){return this.digest(t)in this._i18nNodesByMsgId},t}(),ba=function(){/**
     * @param {?=} _i18nNodesByMsgId
     * @param {?=} _locale
     * @param {?=} _digest
     * @param {?=} _mapperFactory
     * @param {?=} _missingTranslationStrategy
     * @param {?=} _console
     */
function t(t,e,n,r,i,o){void 0===t&&(t={}),this._i18nNodesByMsgId=t,this._locale=e,this._digest=n,this._mapperFactory=r,this._missingTranslationStrategy=i,this._console=o,this._contextStack=[],this._errors=[]}/**
     * @param {?} srcMsg
     * @return {?}
     */
/**
     * @param {?} text
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} container
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} icu
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?=} context
     * @return {?}
     */
/**
     * Convert a source message to a translated text string:
     * - text nodes are replaced with their translation,
     * - placeholders are replaced with their content,
     * - ICU nodes are converted to ICU expressions.
     * @param {?} srcMsg
     * @return {?}
     */
/**
     * @param {?} el
     * @param {?} msg
     * @return {?}
     */
return t.prototype.convert=function(t){this._contextStack.length=0,this._errors.length=0;
// i18n to text
var/** @type {?} */e=this._convertToText(t),/** @type {?} */n=t.nodes[0].sourceSpan.start.file.url,/** @type {?} */r=(new ya).parse(e,n,!0);return{nodes:r.rootNodes,errors:this._errors.concat(r.errors)}},t.prototype.visitText=function(t,e){return t.value},t.prototype.visitContainer=function(t,e){var n=this;return t.children.map(function(t){return t.visit(n)}).join("")},t.prototype.visitIcu=function(t,e){var n=this,/** @type {?} */r=Object.keys(t.cases).map(function(e){return e+" {"+t.cases[e].visit(n)+"}"});return"{"+(this._srcMsg.placeholders.hasOwnProperty(t.expression)?this._srcMsg.placeholders[t.expression]:t.expression)+", "+t.type+", "+r.join(" ")+"}"},t.prototype.visitPlaceholder=function(t,e){var/** @type {?} */n=this._mapper(t.name);return this._srcMsg.placeholders.hasOwnProperty(n)?this._srcMsg.placeholders[n]:this._srcMsg.placeholderToMessage.hasOwnProperty(n)?this._convertToText(this._srcMsg.placeholderToMessage[n]):(this._addError(t,'Unknown placeholder "'+t.name+'"'),"")},t.prototype.visitTagPlaceholder=function(t,e){var n=this,/** @type {?} */r=""+t.tag,/** @type {?} */i=Object.keys(t.attrs).map(function(e){return e+'="'+t.attrs[e]+'"'}).join(" ");return t.isVoid?"<"+r+" "+i+"/>":"<"+r+" "+i+">"+t.children.map(function(t){return t.visit(n)}).join("")+"</"+r+">"},t.prototype.visitIcuPlaceholder=function(t,e){
// An ICU placeholder references the source message to be serialized
return this._convertToText(this._srcMsg.placeholderToMessage[t.name])},t.prototype._convertToText=function(t){var/** @type {?} */e,n=this,/** @type {?} */r=this._digest(t),/** @type {?} */i=this._mapperFactory?this._mapperFactory(t):null;if(this._contextStack.push({msg:this._srcMsg,mapper:this._mapper}),this._srcMsg=t,this._i18nNodesByMsgId.hasOwnProperty(r))
// When there is a translation use its nodes as the source
// And create a mapper to convert serialized placeholder names to internal names
e=this._i18nNodesByMsgId[r],this._mapper=function(t){return i?i.toInternalName(t):t};else{
// When no translation has been found
// - report an error / a warning / nothing,
// - use the nodes from the original message
// - placeholders are already internal and need no mapper
if(this._missingTranslationStrategy===Vr.MissingTranslationStrategy.Error){var/** @type {?} */o=this._locale?' for locale "'+this._locale+'"':"";this._addError(t.nodes[0],'Missing translation for message "'+r+'"'+o)}else if(this._console&&this._missingTranslationStrategy===Vr.MissingTranslationStrategy.Warning){var/** @type {?} */o=this._locale?' for locale "'+this._locale+'"':"";this._console.warn('Missing translation for message "'+r+'"'+o)}e=t.nodes,this._mapper=function(t){return t}}var/** @type {?} */s=e.map(function(t){return t.visit(n)}).join(""),/** @type {?} */a=this._contextStack.pop();return this._srcMsg=a.msg,this._mapper=a.mapper,s},t.prototype._addError=function(t,e){this._errors.push(new Ls(t.sourceSpan,e))},t}(),wa=function(){/**
     * @param {?} _htmlParser
     * @param {?=} translations
     * @param {?=} translationsFormat
     * @param {?=} missingTranslation
     * @param {?=} console
     */
function t(t,e,n,r,i){if(void 0===r&&(r=Vr.MissingTranslationStrategy.Warning),this._htmlParser=t,e){var o=ie(n);this._translationBundle=ga.load(e,"i18n",o,r,i)}}/**
     * @param {?} source
     * @param {?} url
     * @param {?=} parseExpansionForms
     * @param {?=} interpolationConfig
     * @return {?}
     */
return t.prototype.parse=function(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=Ho);var/** @type {?} */i=this._htmlParser.parse(t,e,n,r);return this._translationBundle?i.errors.length?new ws(i.rootNodes,i.errors):xt(i.rootNodes,this._translationBundle,r,[],{}):i},t}(),_a=/**
 * @param {?} pkg
 * @param {?=} path
 * @param {?=} type
 * @return {?}
 */
function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n="src"),null==e?"@angular/"+t:"@angular/"+t+"/"+n+"/"+e}("core"),xa=function(){function t(){}return t}();xa.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleUrl:_a,runtime:Vr.ANALYZE_FOR_ENTRY_COMPONENTS},xa.ElementRef={name:"ElementRef",moduleUrl:_a,runtime:Vr.ElementRef},xa.NgModuleRef={name:"NgModuleRef",moduleUrl:_a,runtime:Vr.NgModuleRef},xa.ViewContainerRef={name:"ViewContainerRef",moduleUrl:_a,runtime:Vr.ViewContainerRef},xa.ChangeDetectorRef={name:"ChangeDetectorRef",moduleUrl:_a,runtime:Vr.ChangeDetectorRef},xa.QueryList={name:"QueryList",moduleUrl:_a,runtime:Vr.QueryList},xa.TemplateRef={name:"TemplateRef",moduleUrl:_a,runtime:Vr.TemplateRef},xa.CodegenComponentFactoryResolver={name:"CodegenComponentFactoryResolver",moduleUrl:_a,runtime:Vr["CodegenComponentFactoryResolver"]},xa.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleUrl:_a,runtime:Vr.ComponentFactoryResolver},xa.ComponentFactory={name:"ComponentFactory",moduleUrl:_a,runtime:Vr.ComponentFactory},xa.ComponentRef={name:"ComponentRef",moduleUrl:_a,runtime:Vr.ComponentRef},xa.NgModuleFactory={name:"NgModuleFactory",moduleUrl:_a,runtime:Vr.NgModuleFactory},xa.NgModuleInjector={name:"NgModuleInjector",moduleUrl:_a,runtime:Vr["NgModuleInjector"]},xa.RegisterModuleFactoryFn={name:"registerModuleFactory",moduleUrl:_a,runtime:Vr["registerModuleFactory"]},xa.Injector={name:"Injector",moduleUrl:_a,runtime:Vr.Injector},xa.ViewEncapsulation={name:"ViewEncapsulation",moduleUrl:_a,runtime:Vr.ViewEncapsulation},xa.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleUrl:_a,runtime:Vr.ChangeDetectionStrategy},xa.SecurityContext={name:"SecurityContext",moduleUrl:_a,runtime:Vr.SecurityContext},xa.LOCALE_ID={name:"LOCALE_ID",moduleUrl:_a,runtime:Vr.LOCALE_ID},xa.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleUrl:_a,runtime:Vr.TRANSLATIONS_FORMAT},xa.inlineInterpolate={name:"inlineInterpolate",moduleUrl:_a,runtime:Vr["inlineInterpolate"]},xa.interpolate={name:"interpolate",moduleUrl:_a,runtime:Vr["interpolate"]},xa.EMPTY_ARRAY={name:"EMPTY_ARRAY",moduleUrl:_a,runtime:Vr["EMPTY_ARRAY"]},xa.EMPTY_MAP={name:"EMPTY_MAP",moduleUrl:_a,runtime:Vr["EMPTY_MAP"]},xa.Renderer={name:"Renderer",moduleUrl:_a,runtime:Vr.Renderer},xa.viewDef={name:"vid",moduleUrl:_a,runtime:Vr["vid"]},xa.elementDef={name:"eld",moduleUrl:_a,runtime:Vr["eld"]},xa.anchorDef={name:"and",moduleUrl:_a,runtime:Vr["and"]},xa.textDef={name:"ted",moduleUrl:_a,runtime:Vr["ted"]},xa.directiveDef={name:"did",moduleUrl:_a,runtime:Vr["did"]},xa.providerDef={name:"prd",moduleUrl:_a,runtime:Vr["prd"]},xa.queryDef={name:"qud",moduleUrl:_a,runtime:Vr["qud"]},xa.pureArrayDef={name:"pad",moduleUrl:_a,runtime:Vr["pad"]},xa.pureObjectDef={name:"pod",moduleUrl:_a,runtime:Vr["pod"]},xa.purePipeDef={name:"ppd",moduleUrl:_a,runtime:Vr["ppd"]},xa.pipeDef={name:"pid",moduleUrl:_a,runtime:Vr["pid"]},xa.nodeValue={name:"nov",moduleUrl:_a,runtime:Vr["nov"]},xa.ngContentDef={name:"ncd",moduleUrl:_a,runtime:Vr["ncd"]},xa.unwrapValue={name:"unv",moduleUrl:_a,runtime:Vr["unv"]},xa.createRendererType2={name:"crt",moduleUrl:_a,runtime:Vr["crt"]},xa.RendererType2={name:"RendererType2",moduleUrl:_a,
// type only
runtime:null},xa.ViewDefinition={name:"ViewDefinition",moduleUrl:_a,
// type only
runtime:null},xa.createComponentFactory={name:"ccf",moduleUrl:_a,runtime:Vr["ccf"]};/**
 * @param {?} enumType
 * @param {?} name
 * @return {?}
 */
/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
// http://cldr.unicode.org/index/cldr-spec/plural-rules
var Ea=["zero","one","two","few","many","other"],Ca=function(){/**
     * @param {?} nodes
     * @param {?} expanded
     * @param {?} errors
     */
function t(t,e,n){this.nodes=t,this.expanded=e,this.errors=n}return t}(),Sa=function(t){/**
     * @param {?} span
     * @param {?} errorMsg
     */
function e(e,n){return t.call(this,e,n)||this}return Br(e,t),e}(ss),Na=function(){function t(){this.isExpanded=!1,this.errors=[]}/**
     * @param {?} element
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} attribute
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} text
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} comment
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} icu
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} icuCase
     * @param {?} context
     * @return {?}
     */
return t.prototype.visitElement=function(t,e){return new fs(t.name,t.attrs,it(this,t.children),t.sourceSpan,t.startSourceSpan,t.endSourceSpan)},t.prototype.visitAttribute=function(t,e){return t},t.prototype.visitText=function(t,e){return t},t.prototype.visitComment=function(t,e){return t},t.prototype.visitExpansion=function(t,e){return this.isExpanded=!0,"plural"==t.type?le(t,this.errors):fe(t,this.errors)},t.prototype.visitExpansionCase=function(t,e){throw new Error("Should not be reached")},t}(),Ma=function(t){/**
     * @param {?} message
     * @param {?} span
     */
function e(e,n){return t.call(this,n,e)||this}return Br(e,t),e}(ss),Oa=function(){/**
     * @param {?} component
     */
function t(t){var e=this;this.component=t,this.errors=[],this.viewQueries=ve(t),this.viewProviders=new Map,t.viewProviders.forEach(function(t){null==e.viewProviders.get(S(t.token))&&e.viewProviders.set(S(t.token),!0)})}return t}(),Ta=function(){/**
     * @param {?} viewContext
     * @param {?} _parent
     * @param {?} _isViewRoot
     * @param {?} _directiveAsts
     * @param {?} attrs
     * @param {?} refs
     * @param {?} isTemplate
     * @param {?} contentQueryStartId
     * @param {?} _sourceSpan
     */
function t(t,e,n,r,i,o,s,a,u){var c=this;this.viewContext=t,this._parent=e,this._isViewRoot=n,this._directiveAsts=r,this._sourceSpan=u,this._transformedProviders=new Map,this._seenProviders=new Map,this._hasViewContainer=!1,this._queriedTokens=new Map,this._attrs={},i.forEach(function(t){return c._attrs[t.name]=t.value});var l=r.map(function(t){return t.directive});if(this._allProviders=de(l,u,t.errors),this._contentQueries=ye(a,l),Array.from(this._allProviders.values()).forEach(function(t){c._addQueryReadsTo(t.token,t.token,c._queriedTokens)}),s){var f=ue(xa.TemplateRef);this._addQueryReadsTo(f,f,this._queriedTokens)}o.forEach(function(t){var e=t.value||ue(xa.ElementRef);c._addQueryReadsTo({value:t.name},e,c._queriedTokens)}),this._queriedTokens.get(oe(xa.ViewContainerRef))&&(this._hasViewContainer=!0),
// create the providers that we know are eager first
Array.from(this._allProviders.values()).forEach(function(t){(t.eager||c._queriedTokens.get(S(t.token)))&&c._getOrCreateLocalProvider(t.providerType,t.token,!0)})}/**
     * @return {?}
     */
/**
     * @param {?} token
     * @param {?} defaultValue
     * @param {?} queryReadTokens
     * @return {?}
     */
/**
     * @param {?} token
     * @return {?}
     */
/**
     * @param {?} requestingProviderType
     * @param {?} token
     * @param {?} eager
     * @return {?}
     */
/**
     * @param {?} requestingProviderType
     * @param {?} dep
     * @param {?=} eager
     * @return {?}
     */
/**
     * @param {?} requestingProviderType
     * @param {?} dep
     * @param {?=} eager
     * @return {?}
     */
return t.prototype.afterElement=function(){var t=this;
// collect lazy providers
Array.from(this._allProviders.values()).forEach(function(e){t._getOrCreateLocalProvider(e.providerType,e.token,!1)})},Object.defineProperty(t.prototype,"transformProviders",{/**
         * @return {?}
         */
get:function(){return Array.from(this._transformedProviders.values())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transformedDirectiveAsts",{/**
         * @return {?}
         */
get:function(){var/** @type {?} */t=this.transformProviders.map(function(t){return t.token.identifier}),/** @type {?} */e=this._directiveAsts.slice();return e.sort(function(e,n){return t.indexOf(e.directive.type)-t.indexOf(n.directive.type)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transformedHasViewContainer",{/**
         * @return {?}
         */
get:function(){return this._hasViewContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryMatches",{/**
         * @return {?}
         */
get:function(){var/** @type {?} */t=[];return this._queriedTokens.forEach(function(e){t.push.apply(t,e)}),t},enumerable:!0,configurable:!0}),t.prototype._addQueryReadsTo=function(t,e,n){this._getQueriesFor(t).forEach(function(t){var/** @type {?} */r=t.meta.read||e,/** @type {?} */i=S(r),/** @type {?} */o=n.get(i);o||(o=[],n.set(i,o)),o.push({queryId:t.queryId,value:r})})},t.prototype._getQueriesFor=function(t){for(var/** @type {?} */e,/** @type {?} */n=[],/** @type {?} */r=this,/** @type {?} */i=0;null!==r;)e=r._contentQueries.get(S(t)),e&&n.push.apply(n,e.filter(function(t){return t.meta.descendants||i<=1})),r._directiveAsts.length>0&&i++,r=r._parent;return e=this.viewContext.viewQueries.get(S(t)),e&&n.push.apply(n,e),n},t.prototype._getOrCreateLocalProvider=function(t,e,n){var r=this,/** @type {?} */i=this._allProviders.get(S(e));if(!i||(t===ti.Directive||t===ti.PublicService)&&i.providerType===ti.PrivateService||(t===ti.PrivateService||t===ti.PublicService)&&i.providerType===ti.Builtin)return null;var/** @type {?} */o=this._transformedProviders.get(S(e));if(o)return o;if(null!=this._seenProviders.get(S(e)))return this.viewContext.errors.push(new Ma("Cannot instantiate cyclic dependency! "+C(e),this._sourceSpan)),null;this._seenProviders.set(S(e),!0);var/** @type {?} */s=i.providers.map(function(t){var/** @type {?} */e,/** @type {?} */o=t.useValue,/** @type {?} */s=t.useExisting;if(null!=t.useExisting){var/** @type {?} */a=r._getDependency(i.providerType,{token:t.useExisting},n);null!=a.token?s=a.token:(s=null,o=a.value)}else if(t.useFactory){var/** @type {?} */u=t.deps||t.useFactory.diDeps;e=u.map(function(t){return r._getDependency(i.providerType,t,n)})}else if(t.useClass){var/** @type {?} */u=t.deps||t.useClass.diDeps;e=u.map(function(t){return r._getDependency(i.providerType,t,n)})}return pe(t,{useExisting:s,useValue:o,deps:e})});return o=he(i,{eager:n,providers:s}),this._transformedProviders.set(S(e),o),o},t.prototype._getLocalDependency=function(t,e,n){if(void 0===n&&(n=null),e.isAttribute){var/** @type {?} */r=this._attrs[e.token.value];return{isValue:!0,value:null==r?null:r}}if(null!=e.token){
// access builtints
if(t===ti.Directive||t===ti.Component){if(S(e.token)===oe(xa.Renderer)||S(e.token)===oe(xa.ElementRef)||S(e.token)===oe(xa.ChangeDetectorRef)||S(e.token)===oe(xa.TemplateRef))return e;S(e.token)===oe(xa.ViewContainerRef)&&(this._hasViewContainer=!0)}
// access the injector
if(S(e.token)===oe(xa.Injector))return e;
// access providers
if(null!=this._getOrCreateLocalProvider(t,e.token,n))return e}return null},t.prototype._getDependency=function(t,e,n){void 0===n&&(n=null);var/** @type {?} */r=this,/** @type {?} */i=n,/** @type {?} */o=null;if(e.isSkipSelf||(o=this._getLocalDependency(t,e,n)),e.isSelf)!o&&e.isOptional&&(o={isValue:!0,value:null});else{
// check parent elements
for(;!o&&r._parent;){var/** @type {?} */s=r;r=r._parent,s._isViewRoot&&(i=!1),o=r._getLocalDependency(ti.PublicService,e,i)}
// check @Host restriction
o||(o=!e.isHost||this.viewContext.component.isHost||this.viewContext.component.type.reference===S(e.token)||null!=this.viewContext.viewProviders.get(S(e.token))?e:e.isOptional?o={isValue:!0,value:null}:null)}return o||this.viewContext.errors.push(new Ma("No provider for "+C(e.token),this._sourceSpan)),o},t}(),Aa=function(){/**
     * @param {?} ngModule
     * @param {?} extraProviders
     * @param {?} sourceSpan
     */
function t(t,e,n){var r=this;this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map,t.transitiveModule.modules.forEach(function(t){me([{token:{identifier:t},useClass:t}],ti.PublicService,!0,n,r._errors,r._allProviders)}),me(t.transitiveModule.providers.map(function(t){return t.provider}).concat(e),ti.PublicService,!1,n,this._errors,this._allProviders)}/**
     * @return {?}
     */
/**
     * @param {?} token
     * @param {?} eager
     * @return {?}
     */
/**
     * @param {?} dep
     * @param {?=} eager
     * @param {?=} requestorSourceSpan
     * @return {?}
     */
return t.prototype.parse=function(){var t=this;if(Array.from(this._allProviders.values()).forEach(function(e){t._getOrCreateLocalProvider(e.token,e.eager)}),this._errors.length>0){var/** @type {?} */e=this._errors.join("\n");throw new Error("Provider parse errors:\n"+e)}return Array.from(this._transformedProviders.values())},t.prototype._getOrCreateLocalProvider=function(t,e){var n=this,/** @type {?} */r=this._allProviders.get(S(t));if(!r)return null;var/** @type {?} */i=this._transformedProviders.get(S(t));if(i)return i;if(null!=this._seenProviders.get(S(t)))return this._errors.push(new Ma("Cannot instantiate cyclic dependency! "+C(t),r.sourceSpan)),null;this._seenProviders.set(S(t),!0);var/** @type {?} */o=r.providers.map(function(t){var/** @type {?} */i,/** @type {?} */o=t.useValue,/** @type {?} */s=t.useExisting;if(null!=t.useExisting){var/** @type {?} */a=n._getDependency({token:t.useExisting},e,r.sourceSpan);null!=a.token?s=a.token:(s=null,o=a.value)}else if(t.useFactory){var/** @type {?} */u=t.deps||t.useFactory.diDeps;i=u.map(function(t){return n._getDependency(t,e,r.sourceSpan)})}else if(t.useClass){var/** @type {?} */u=t.deps||t.useClass.diDeps;i=u.map(function(t){return n._getDependency(t,e,r.sourceSpan)})}return pe(t,{useExisting:s,useValue:o,deps:i})});return i=he(r,{eager:e,providers:o}),this._transformedProviders.set(S(t),i),i},t.prototype._getDependency=function(t,e,n){void 0===e&&(e=null);var/** @type {?} */r=!1;t.isSkipSelf||null==t.token||(
// access the injector
S(t.token)===oe(xa.Injector)||S(t.token)===oe(xa.ComponentFactoryResolver)?r=!0:null!=this._getOrCreateLocalProvider(t.token,e)&&(r=!0));var/** @type {?} */i=t;return t.isSelf&&!r&&(t.isOptional?i={isValue:!0,value:null}:this._errors.push(new Ma("No provider for "+C(t.token),n))),i},t}(),Pa=function(){function t(){}/**
     * @abstract
     * @param {?} tagName
     * @param {?} propName
     * @param {?} schemaMetas
     * @return {?}
     */
/**
     * @abstract
     * @param {?} tagName
     * @param {?} schemaMetas
     * @return {?}
     */
/**
     * @abstract
     * @param {?} elementName
     * @param {?} propName
     * @param {?} isAttribute
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @param {?} propName
     * @return {?}
     */
/**
     * @abstract
     * @return {?}
     */
/**
     * @abstract
     * @param {?} name
     * @return {?}
     */
/**
     * @abstract
     * @param {?} name
     * @return {?}
     */
/**
     * @abstract
     * @param {?} propName
     * @return {?}
     */
/**
     * @abstract
     * @param {?} camelCaseProp
     * @param {?} userProvidedProp
     * @param {?} val
     * @return {?}
     */
return t.prototype.hasProperty=function(t,e,n){},t.prototype.hasElement=function(t,e){},t.prototype.securityContext=function(t,e,n){},t.prototype.allKnownElementNames=function(){},t.prototype.getMappedPropName=function(t){},t.prototype.getDefaultComponentElementName=function(){},t.prototype.validateProperty=function(t){},t.prototype.validateAttribute=function(t){},t.prototype.normalizeAnimationStyleProperty=function(t){},t.prototype.normalizeAnimationStyleValue=function(t,e,n){},t}(),ka=function(){/**
     * @param {?} style
     * @param {?} styleUrls
     */
function t(t,e){this.style=t,this.styleUrls=e}return t}(),Ia=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,Ra=/\/\*.+?\*\//g,ja=/^([^:\/?#]+):/,Da={};Da.DEFAULT=0,Da.LITERAL_ATTR=1,Da.ANIMATION=2,Da[Da.DEFAULT]="DEFAULT",Da[Da.LITERAL_ATTR]="LITERAL_ATTR",Da[Da.ANIMATION]="ANIMATION";/**
 * Represents a parsed property.
 */
var La=function(){/**
     * @param {?} name
     * @param {?} expression
     * @param {?} type
     * @param {?} sourceSpan
     */
function t(t,e,n,r){this.name=t,this.expression=e,this.type=n,this.sourceSpan=r}return Object.defineProperty(t.prototype,"isLiteral",{/**
         * @return {?}
         */
get:function(){return this.type===Da.LITERAL_ATTR},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimation",{/**
         * @return {?}
         */
get:function(){return this.type===Da.ANIMATION},enumerable:!0,configurable:!0}),t}(),Fa=function(){/**
     * @param {?} _exprParser
     * @param {?} _interpolationConfig
     * @param {?} _schemaRegistry
     * @param {?} pipes
     * @param {?} _targetErrors
     */
function t(t,e,n,r,i){var o=this;this._exprParser=t,this._interpolationConfig=e,this._schemaRegistry=n,this._targetErrors=i,this.pipesByName=new Map,this._usedPipes=new Map,r.forEach(function(t){return o.pipesByName.set(t.name,t)})}/**
     * @return {?}
     */
/**
     * @param {?} dirMeta
     * @param {?} elementSelector
     * @param {?} sourceSpan
     * @return {?}
     */
/**
     * @param {?} dirMeta
     * @param {?} sourceSpan
     * @return {?}
     */
/**
     * @param {?} value
     * @param {?} sourceSpan
     * @return {?}
     */
/**
     * @param {?} prefixToken
     * @param {?} value
     * @param {?} sourceSpan
     * @param {?} targetMatchableAttrs
     * @param {?} targetProps
     * @param {?} targetVars
     * @return {?}
     */
/**
     * @param {?} prefixToken
     * @param {?} value
     * @param {?} sourceSpan
     * @return {?}
     */
/**
     * @param {?} name
     * @param {?} value
     * @param {?} sourceSpan
     * @param {?} targetMatchableAttrs
     * @param {?} targetProps
     * @return {?}
     */
/**
     * @param {?} name
     * @param {?} expression
     * @param {?} isHost
     * @param {?} sourceSpan
     * @param {?} targetMatchableAttrs
     * @param {?} targetProps
     * @return {?}
     */
/**
     * @param {?} name
     * @param {?} value
     * @param {?} sourceSpan
     * @param {?} targetMatchableAttrs
     * @param {?} targetProps
     * @return {?}
     */
/**
     * @param {?} name
     * @param {?} ast
     * @param {?} sourceSpan
     * @param {?} targetMatchableAttrs
     * @param {?} targetProps
     * @return {?}
     */
/**
     * @param {?} name
     * @param {?} expression
     * @param {?} sourceSpan
     * @param {?} targetMatchableAttrs
     * @param {?} targetProps
     * @return {?}
     */
/**
     * @param {?} value
     * @param {?} isHostBinding
     * @param {?} sourceSpan
     * @return {?}
     */
/**
     * @param {?} elementSelector
     * @param {?} boundProp
     * @return {?}
     */
/**
     * @param {?} name
     * @param {?} expression
     * @param {?} sourceSpan
     * @param {?} targetMatchableAttrs
     * @param {?} targetEvents
     * @return {?}
     */
/**
     * @param {?} name
     * @param {?} expression
     * @param {?} sourceSpan
     * @param {?} targetEvents
     * @return {?}
     */
/**
     * @param {?} name
     * @param {?} expression
     * @param {?} sourceSpan
     * @param {?} targetMatchableAttrs
     * @param {?} targetEvents
     * @return {?}
     */
/**
     * @param {?} value
     * @param {?} sourceSpan
     * @return {?}
     */
/**
     * @param {?} message
     * @param {?} sourceSpan
     * @param {?=} level
     * @return {?}
     */
/**
     * @param {?} errors
     * @param {?} sourceSpan
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} sourceSpan
     * @return {?}
     */
/**
     * @param {?} propName the name of the property / attribute
     * @param {?} sourceSpan
     * @param {?} isAttr true when binding to an attribute
     * @return {?}
     */
return t.prototype.getUsedPipes=function(){return Array.from(this._usedPipes.values())},t.prototype.createDirectiveHostPropertyAsts=function(t,e,n){var r=this;if(t.hostProperties){var/** @type {?} */i=[];return Object.keys(t.hostProperties).forEach(function(e){var/** @type {?} */o=t.hostProperties[e];"string"==typeof o?r.parsePropertyBinding(e,o,!0,n,[],i):r._reportError('Value of the host property binding "'+e+'" needs to be a string representing an expression but got "'+o+'" ('+typeof o+")",n)}),i.map(function(t){return r.createElementPropertyAst(e,t)})}},t.prototype.createDirectiveHostEventAsts=function(t,e){var n=this;if(t.hostListeners){var/** @type {?} */r=[];return Object.keys(t.hostListeners).forEach(function(i){var/** @type {?} */o=t.hostListeners[i];"string"==typeof o?n.parseEvent(i,o,e,[],r):n._reportError('Value of the host listener "'+i+'" needs to be a string representing an expression but got "'+o+'" ('+typeof o+")",e)}),r}},t.prototype.parseInterpolation=function(t,e){var/** @type {?} */n=e.start.toString();try{var/** @type {?} */r=this._exprParser.parseInterpolation(t,n,this._interpolationConfig);return r&&this._reportExpressionParserErrors(r.errors,e),this._checkPipes(r,e),r}catch(t){return this._reportError(""+t,e),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},t.prototype.parseInlineTemplateBinding=function(t,e,n,r,i,o){for(var/** @type {?} */s=this._parseTemplateBindings(t,e,n),/** @type {?} */a=0;a<s.length;a++){var/** @type {?} */u=s[a];u.keyIsVar?o.push(new Yr(u.key,u.name,n)):u.expression?this._parsePropertyAst(u.key,u.expression,n,r,i):(r.push([u.key,""]),this.parseLiteralAttr(u.key,null,n,r,i))}},t.prototype._parseTemplateBindings=function(t,e,n){var r=this,/** @type {?} */i=n.start.toString();try{var/** @type {?} */o=this._exprParser.parseTemplateBindings(t,e,i);return this._reportExpressionParserErrors(o.errors,n),o.templateBindings.forEach(function(t){t.expression&&r._checkPipes(t.expression,n)}),o.warnings.forEach(function(t){r._reportError(t,n,os.WARNING)}),o.templateBindings}catch(t){return this._reportError(""+t,n),[]}},t.prototype.parseLiteralAttr=function(t,e,n,r,i){_e(t)?(t=t.substring(1),e&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',n,os.ERROR),this._parseAnimation(t,e,n,r,i)):i.push(new La(t,this._exprParser.wrapLiteralPrimitive(e,""),Da.LITERAL_ATTR,n))},t.prototype.parsePropertyBinding=function(t,e,n,r,i,o){var/** @type {?} */s=!1;t.startsWith("animate-")?(s=!0,t=t.substring("animate-".length)):_e(t)&&(s=!0,t=t.substring(1)),s?this._parseAnimation(t,e,r,i,o):this._parsePropertyAst(t,this._parseBinding(e,n,r),r,i,o)},t.prototype.parsePropertyInterpolation=function(t,e,n,r,i){var/** @type {?} */o=this.parseInterpolation(e,n);return!!o&&(this._parsePropertyAst(t,o,n,r,i),!0)},t.prototype._parsePropertyAst=function(t,e,n,r,i){r.push([t,e.source]),i.push(new La(t,e,Da.DEFAULT,n))},t.prototype._parseAnimation=function(t,e,n,r,i){
// This will occur when a @trigger is not paired with an expression.
// For animations it is valid to not have an expression since */void
// states will be applied by angular when the element is attached/detached
var/** @type {?} */o=this._parseBinding(e||"null",!1,n);r.push([t,o.source]),i.push(new La(t,o,Da.ANIMATION,n))},t.prototype._parseBinding=function(t,e,n){var/** @type {?} */r=n.start.toString();try{var/** @type {?} */i=e?this._exprParser.parseSimpleBinding(t,r,this._interpolationConfig):this._exprParser.parseBinding(t,r,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,n),this._checkPipes(i,n),i}catch(t){return this._reportError(""+t,n),this._exprParser.wrapLiteralPrimitive("ERROR",r)}},t.prototype.createElementPropertyAst=function(t,e){if(e.isAnimation)return new Gr(e.name,ni.Animation,Vr.SecurityContext.NONE,e.expression,null,e.sourceSpan);var/** @type {?} */n,/** @type {?} */r,/** @type {?} */i=null,/** @type {?} */o=null,/** @type {?} */a=e.name.split(".");
// Check check for special cases (prefix style, attr, class)
if(a.length>1)if("attr"==a[0]){o=a[1],this._validatePropertyOrAttributeName(o,e.sourceSpan,!0),r=xe(this._schemaRegistry,t,o,!0);var/** @type {?} */u=o.indexOf(":");if(u>-1){var/** @type {?} */c=o.substring(0,u),/** @type {?} */l=o.substring(u+1);o=s(c,l)}n=ni.Attribute}else"class"==a[0]?(o=a[1],n=ni.Class,r=[Vr.SecurityContext.NONE]):"style"==a[0]&&(i=a.length>2?a[2]:null,o=a[1],n=ni.Style,r=[Vr.SecurityContext.STYLE]);
// If not a special case, use the full property name
return null===o&&(o=this._schemaRegistry.getMappedPropName(e.name),r=xe(this._schemaRegistry,t,o,!1),n=ni.Property,this._validatePropertyOrAttributeName(o,e.sourceSpan,!1)),new Gr(o,n,r[0],e.expression,i,e.sourceSpan)},t.prototype.parseEvent=function(t,e,n,r,i){_e(t)?(t=t.substr(1),this._parseAnimationEvent(t,e,n,i)):this._parseEvent(t,e,n,r,i)},t.prototype._parseAnimationEvent=function(t,e,n,r){var/** @type {?} */i=l(t,[t,""]),/** @type {?} */o=i[0],/** @type {?} */s=i[1].toLowerCase();if(s)switch(s){case"start":case"done":var/** @type {?} */a=this._parseAction(e,n);r.push(new Wr(o,null,s,a,n));break;default:this._reportError('The provided animation output phase value "'+s+'" for "@'+o+'" is not supported (use start or done)',n)}else this._reportError("The animation trigger output event (@"+o+") is missing its phase value name (start or done are currently supported)",n)},t.prototype._parseEvent=function(t,e,n,r,i){
// long format: 'target: eventName'
var o=c(t,[null,t]),s=o[0],a=o[1],/** @type {?} */u=this._parseAction(e,n);r.push([t,u.source]),i.push(new Wr(a,s,null,u,n))},t.prototype._parseAction=function(t,e){var/** @type {?} */n=e.start.toString();try{var/** @type {?} */r=this._exprParser.parseAction(t,n,this._interpolationConfig);return r&&this._reportExpressionParserErrors(r.errors,e),!r||r.ast instanceof Fi?(this._reportError("Empty expressions are not allowed",e),this._exprParser.wrapLiteralPrimitive("ERROR",n)):(this._checkPipes(r,e),r)}catch(t){return this._reportError(""+t,e),this._exprParser.wrapLiteralPrimitive("ERROR",n)}},t.prototype._reportError=function(t,e,n){void 0===n&&(n=os.ERROR),this._targetErrors.push(new ss(e,t,n))},t.prototype._reportExpressionParserErrors=function(t,e){for(var n=0,r=t;n<r.length;n++){var i=r[n];this._reportError(i.message,e)}},t.prototype._checkPipes=function(t,e){var n=this;if(t){var/** @type {?} */r=new Ua;t.visit(r),r.pipes.forEach(function(t,r){var/** @type {?} */i=n.pipesByName.get(r);i?n._usedPipes.set(r,i):n._reportError("The pipe '"+r+"' could not be found",new is(e.start.moveBy(t.span.start),e.start.moveBy(t.span.end)))})}},t.prototype._validatePropertyOrAttributeName=function(t,e,n){var/** @type {?} */r=n?this._schemaRegistry.validateAttribute(t):this._schemaRegistry.validateProperty(t);r.error&&this._reportError(r.msg,e,os.ERROR)},t}(),Ua=function(t){function e(){var e=t.apply(this,arguments)||this;return e.pipes=new Map,e}/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitPipe=function(t,e){return this.pipes.set(t.name,t),t.exp.visit(this),this.visitAll(t.args,e),null},e}(oo),Va="select",Ba="ng-content",za="link",qa="rel",Ha="href",Ga="stylesheet",Wa="style",$a="script",Ya="ngNonBindable",Xa="ngProjectAs",Za={};Za.NG_CONTENT=0,Za.STYLE=1,Za.STYLESHEET=2,Za.SCRIPT=3,Za.OTHER=4,Za[Za.NG_CONTENT]="NG_CONTENT",Za[Za.STYLE]="STYLE",Za[Za.STYLESHEET]="STYLESHEET",Za[Za.SCRIPT]="SCRIPT",Za[Za.OTHER]="OTHER";var Ka=function(){/**
     * @param {?} type
     * @param {?} selectAttr
     * @param {?} hrefAttr
     * @param {?} nonBindable
     * @param {?} projectAs
     */
function t(t,e,n,r,i){this.type=t,this.selectAttr=e,this.hrefAttr=n,this.nonBindable=r,this.projectAs=i}return t}(),Qa="ng-template",Ja="template",tu="class",eu=fi.parse("*")[0],nu="The <template> element is deprecated. Use <ng-template> instead",ru={},iu=new Vr.InjectionToken("TemplateTransforms"),ou=function(t){/**
     * @param {?} message
     * @param {?} span
     * @param {?} level
     */
function e(e,n,r){return t.call(this,n,e,r)||this}return Br(e,t),e}(ss),su=function(){/**
     * @param {?=} templateAst
     * @param {?=} usedPipes
     * @param {?=} errors
     */
function t(t,e,n){this.templateAst=t,this.usedPipes=e,this.errors=n}return t}(),au=function(){/**
     * @param {?} _config
     * @param {?} _exprParser
     * @param {?} _schemaRegistry
     * @param {?} _htmlParser
     * @param {?} _console
     * @param {?} transforms
     */
function t(t,e,n,r,i,o){this._config=t,this._exprParser=e,this._schemaRegistry=n,this._htmlParser=r,this._console=i,this.transforms=o}/**
     * @param {?} component
     * @param {?} template
     * @param {?} directives
     * @param {?} pipes
     * @param {?} schemas
     * @param {?} templateUrl
     * @return {?}
     */
/**
     * @param {?} component
     * @param {?} template
     * @param {?} directives
     * @param {?} pipes
     * @param {?} schemas
     * @param {?} templateUrl
     * @return {?}
     */
/**
     * @param {?} htmlAstWithErrors
     * @param {?} component
     * @param {?} template
     * @param {?} directives
     * @param {?} pipes
     * @param {?} schemas
     * @param {?} templateUrl
     * @return {?}
     */
/**
     * @param {?} htmlAstWithErrors
     * @param {?=} forced
     * @return {?}
     */
/**
     * @param {?} component
     * @return {?}
     */
/**
     * \@internal
     * @param {?} result
     * @param {?} errors
     * @return {?}
     */
return t.prototype.parse=function(t,e,n,r,i,o){var/** @type {?} */s=this.tryParse(t,e,n,r,i,o),/** @type {?} */a=s.errors.filter(function(t){return t.level===os.WARNING}).filter(Se(["The template attribute is deprecated. Use an ng-template element instead.",nu])),/** @type {?} */u=s.errors.filter(function(t){return t.level===os.ERROR});if(a.length>0&&this._console.warn("Template parse warnings:\n"+a.join("\n")),u.length>0){throw h("Template parse errors:\n"+u.join("\n"))}return{template:s.templateAst,pipes:s.usedPipes}},t.prototype.tryParse=function(t,e,n,r,i,o){return this.tryParseHtml(this.expandHtml(this._htmlParser.parse(e,o,!0,this.getInterpolationConfig(t))),t,e,n,r,i,o)},t.prototype.tryParseHtml=function(t,e,n,i,o,s,a){var/** @type {?} */u,/** @type {?} */c=t.errors,/** @type {?} */l=[];if(t.rootNodes.length>0){var/** @type {?} */f=Te(i),/** @type {?} */p=Te(o),/** @type {?} */h=new Oa(e),/** @type {?} */d=void 0;e.template&&e.template.interpolation&&(d={start:e.template.interpolation[0],end:e.template.interpolation[1]});var/** @type {?} */m=new Fa(this._exprParser,d,this._schemaRegistry,p,c),/** @type {?} */v=new uu(this._config,h,f,m,this._schemaRegistry,s,c);u=it(v,t.rootNodes,pu),c.push.apply(c,h.errors),l.push.apply(l,m.getUsedPipes())}else u=[];return this._assertNoReferenceDuplicationOnTemplate(u,c),c.length>0?new su(u,l,c):(this.transforms&&this.transforms.forEach(function(t){u=r(t,u)}),new su(u,l,c))},t.prototype.expandHtml=function(t,e){void 0===e&&(e=!1);var/** @type {?} */n=t.errors;if(0==n.length||e){
// Transform ICU messages to angular directives
var/** @type {?} */r=ce(t.rootNodes);n.push.apply(n,r.errors),t=new ws(r.nodes,n)}return t},t.prototype.getInterpolationConfig=function(t){if(t.template)return qo.fromArray(t.template.interpolation)},t.prototype._assertNoReferenceDuplicationOnTemplate=function(t,e){var/** @type {?} */n=[];t.filter(function(t){return!!t.references}).forEach(function(t){return t.references.forEach(function(t){var/** @type {?} */r=t.name;if(n.indexOf(r)<0)n.push(r);else{var/** @type {?} */i=new ou('Reference "#'+r+'" is defined several times',t.sourceSpan,os.ERROR);e.push(i)}})})},t}();au.decorators=[{type:F}],/**
 * @nocollapse
 */
au.ctorParameters=function(){return[{type:Ii},{type:Jo},{type:Pa},{type:wa},{type:Vr["Console"]},{type:Array,decorators:[{type:Vr.Optional},{type:Vr.Inject,args:[iu]}]}]};var uu=function(){/**
     * @param {?} config
     * @param {?} providerViewContext
     * @param {?} directives
     * @param {?} _bindingParser
     * @param {?} _schemaRegistry
     * @param {?} _schemas
     * @param {?} _targetErrors
     */
function t(t,e,n,r,i,o,s){var a=this;this.config=t,this.providerViewContext=e,this._bindingParser=r,this._schemaRegistry=i,this._schemas=o,this._targetErrors=s,this.selectorMatcher=new pi,this.directivesIndex=new Map,this.ngContentCount=0,
// Note: queries start with id 1 so we can use the number in a Bloom filter!
this.contentQueryStartId=e.component.viewQueries.length+1,n.forEach(function(t,e){var n=fi.parse(t.selector);a.selectorMatcher.addSelectables(n,t),a.directivesIndex.set(t,e)})}/**
     * @param {?} expansion
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} expansionCase
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} text
     * @param {?} parent
     * @return {?}
     */
/**
     * @param {?} attribute
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} comment
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} element
     * @param {?} parent
     * @return {?}
     */
/**
     * @param {?} isTemplateElement
     * @param {?} attr
     * @param {?} targetMatchableAttrs
     * @param {?} targetProps
     * @param {?} targetEvents
     * @param {?} targetRefs
     * @param {?} targetVars
     * @return {?}
     */
/**
     * @param {?} attrName
     * @return {?}
     */
/**
     * @param {?} identifier
     * @param {?} value
     * @param {?} sourceSpan
     * @param {?} targetVars
     * @return {?}
     */
/**
     * @param {?} identifier
     * @param {?} value
     * @param {?} sourceSpan
     * @param {?} targetRefs
     * @return {?}
     */
/**
     * @param {?} name
     * @param {?} expression
     * @param {?} sourceSpan
     * @param {?} targetMatchableAttrs
     * @param {?} targetEvents
     * @return {?}
     */
/**
     * @param {?} selectorMatcher
     * @param {?} elementCssSelector
     * @return {?}
     */
/**
     * @param {?} isTemplateElement
     * @param {?} elementName
     * @param {?} directives
     * @param {?} props
     * @param {?} elementOrDirectiveRefs
     * @param {?} elementSourceSpan
     * @param {?} targetReferences
     * @param {?} targetBoundDirectivePropNames
     * @return {?}
     */
/**
     * @param {?} directiveProperties
     * @param {?} boundProps
     * @param {?} targetBoundDirectiveProps
     * @param {?} targetBoundDirectivePropNames
     * @return {?}
     */
/**
     * @param {?} elementName
     * @param {?} props
     * @param {?} boundDirectivePropNames
     * @return {?}
     */
/**
     * @param {?} directives
     * @return {?}
     */
/**
     * @param {?} directives
     * @return {?}
     */
/**
     * @param {?} directives
     * @param {?} sourceSpan
     * @return {?}
     */
/**
     * Make sure that non-angular tags conform to the schemas.
     *
     * Note: An element is considered an angular tag when at least one directive selector matches the
     * tag name.
     *
     * @param {?} matchElement Whether any directive has matched on the tag name
     * @param {?} element the html element
     * @return {?}
     */
/**
     * @param {?} directives
     * @param {?} elementProps
     * @param {?} sourceSpan
     * @return {?}
     */
/**
     * @param {?} directives
     * @param {?} events
     * @return {?}
     */
/**
     * @param {?} elementName
     * @param {?} boundProps
     * @return {?}
     */
/**
     * @param {?} message
     * @param {?} sourceSpan
     * @param {?=} level
     * @return {?}
     */
return t.prototype.visitExpansion=function(t,e){return null},t.prototype.visitExpansionCase=function(t,e){return null},t.prototype.visitText=function(t,e){var/** @type {?} */n=e.findNgContentIndex(eu),/** @type {?} */r=this._bindingParser.parseInterpolation(t.value,t.sourceSpan);return r?new qr(r,n,t.sourceSpan):new zr(t.value,n,t.sourceSpan)},t.prototype.visitAttribute=function(t,e){return new Hr(t.name,t.value,t.sourceSpan)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitElement=function(t,e){var n=this,/** @type {?} */r=this.contentQueryStartId,/** @type {?} */i=t.name,/** @type {?} */o=Ee(t);if(o.type===Za.SCRIPT||o.type===Za.STYLE)
// Skipping <script> for security reasons
// Skipping <style> as we already processed them
// in the StyleCompiler
return null;if(o.type===Za.STYLESHEET&&be(o.hrefAttr))
// Skipping stylesheets with either relative urls or package scheme as we already processed
// them in the StyleCompiler
return null;var/** @type {?} */s=[],/** @type {?} */a=[],/** @type {?} */u=[],/** @type {?} */c=[],/** @type {?} */l=[],/** @type {?} */f=[],/** @type {?} */p=[],/** @type {?} */h=[],/** @type {?} */d=!1,/** @type {?} */m=[],/** @type {?} */v=Pe(t,this.config.enableLegacyTemplate,function(t,e){return n._reportError(t,e,os.WARNING)});t.attrs.forEach(function(t){var/** @type {?} */e,/** @type {?} */r,/** @type {?} */i=n._parseAttr(v,t,s,a,l,u,c),/** @type {?} */o=n._normalizeAttributeName(t.name);n.config.enableLegacyTemplate&&"template"==o?(n._reportError("The template attribute is deprecated. Use an ng-template element instead.",t.sourceSpan,os.WARNING),e=t.value):o.startsWith("*")&&(e=t.value,r=o.substring("*".length)+":");var/** @type {?} */y=null!=e;y&&(d&&n._reportError("Can't have multiple template bindings on one element. Use only one attribute named 'template' or prefixed with *",t.sourceSpan),d=!0,n._bindingParser.parseInlineTemplateBinding(r,e,t.sourceSpan,p,f,h)),i||y||(
// don't include the bindings as attributes as well in the AST
m.push(n.visitAttribute(t,null)),s.push([t.name,t.value]))});var/** @type {?} */y=Me(i,s),g=this._parseDirectives(this.selectorMatcher,y),b=g.directives,w=g.matchElement,/** @type {?} */_=[],/** @type {?} */x=new Set,/** @type {?} */E=this._createDirectiveAsts(v,t.name,b,a,u,t.sourceSpan,_,x),/** @type {?} */C=this._createElementPropertyAsts(t.name,a,x),/** @type {?} */S=e.isTemplateElement||d,/** @type {?} */N=new Ta(this.providerViewContext,e.providerContext,S,E,m,_,v,r,t.sourceSpan),/** @type {?} */M=it(o.nonBindable?hu:this,t.children,fu.create(v,E,v?e.providerContext:N));N.afterElement();
// Override the actual selector when the `ngProjectAs` attribute is provided
var/** @type {?} */O,/** @type {?} */T=null!=o.projectAs?fi.parse(o.projectAs)[0]:y,/** @type {?} */A=e.findNgContentIndex(T);if(o.type===Za.NG_CONTENT)t.children&&!t.children.every(Oe)&&this._reportError("<ng-content> element cannot have content.",t.sourceSpan),O=new ei(this.ngContentCount++,d?null:A,t.sourceSpan);else if(v)this._assertAllEventsPublishedByDirectives(E,l),this._assertNoComponentsNorElementBindingsOnTemplate(E,C,t.sourceSpan),O=new Zr(m,l,_,c,N.transformedDirectiveAsts,N.transformProviders,N.transformedHasViewContainer,N.queryMatches,M,d?null:A,t.sourceSpan);else{this._assertElementExists(w,t),this._assertOnlyOneComponent(E,t.sourceSpan);var/** @type {?} */P=d?null:e.findNgContentIndex(T);O=new Xr(i,m,C,l,_,N.transformedDirectiveAsts,N.transformProviders,N.transformedHasViewContainer,N.queryMatches,M,d?null:P,t.sourceSpan,t.endSourceSpan)}if(d){var/** @type {?} */k=this.contentQueryStartId,/** @type {?} */I=Me(Ja,p),R=this._parseDirectives(this.selectorMatcher,I).directives,/** @type {?} */j=new Set,/** @type {?} */D=this._createDirectiveAsts(!0,t.name,R,f,[],t.sourceSpan,[],j),/** @type {?} */L=this._createElementPropertyAsts(t.name,f,j);this._assertNoComponentsNorElementBindingsOnTemplate(D,L,t.sourceSpan);var/** @type {?} */F=new Ta(this.providerViewContext,e.providerContext,e.isTemplateElement,D,[],[],!0,k,t.sourceSpan);F.afterElement(),O=new Zr([],[],[],h,F.transformedDirectiveAsts,F.transformProviders,F.transformedHasViewContainer,F.queryMatches,[O],A,t.sourceSpan)}return O},t.prototype._parseAttr=function(t,e,n,r,i,o,s){var/** @type {?} */a=this._normalizeAttributeName(e.name),/** @type {?} */u=e.value,/** @type {?} */c=e.sourceSpan,/** @type {?} */l=a.match(/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/),/** @type {?} */f=!1;if(null!==l)if(f=!0,null!=l[1])this._bindingParser.parsePropertyBinding(l[7],u,!1,c,n,r);else if(l[2])if(t){var/** @type {?} */p=l[7];this._parseVariable(p,u,c,s)}else this._reportError('"let-" is only supported on template elements.',c);else if(l[3]){var/** @type {?} */p=l[7];this._parseReference(p,u,c,o)}else l[4]?this._bindingParser.parseEvent(l[7],u,c,n,i):l[5]?(this._bindingParser.parsePropertyBinding(l[7],u,!1,c,n,r),this._parseAssignmentEvent(l[7],u,c,n,i)):l[6]?this._bindingParser.parseLiteralAttr(a,u,c,n,r):l[8]?(this._bindingParser.parsePropertyBinding(l[8],u,!1,c,n,r),this._parseAssignmentEvent(l[8],u,c,n,i)):l[9]?this._bindingParser.parsePropertyBinding(l[9],u,!1,c,n,r):l[10]&&this._bindingParser.parseEvent(l[10],u,c,n,i);else f=this._bindingParser.parsePropertyInterpolation(a,u,c,n,r);return f||this._bindingParser.parseLiteralAttr(a,u,c,n,r),f},t.prototype._normalizeAttributeName=function(t){return/^data-/i.test(t)?t.substring(5):t},t.prototype._parseVariable=function(t,e,n,r){t.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',n),r.push(new Yr(t,e,n))},t.prototype._parseReference=function(t,e,n,r){t.indexOf("-")>-1&&this._reportError('"-" is not allowed in reference names',n),r.push(new lu(t,e,n))},t.prototype._parseAssignmentEvent=function(t,e,n,r,i){this._bindingParser.parseEvent(t+"Change",e+"=$event",n,r,i)},t.prototype._parseDirectives=function(t,e){var n=this,/** @type {?} */r=new Array(this.directivesIndex.size),/** @type {?} */i=!1;return t.match(e,function(t,e){r[n.directivesIndex.get(e)]=e,i=i||t.hasElementSelector()}),{directives:r.filter(function(t){return!!t}),matchElement:i}},t.prototype._createDirectiveAsts=function(t,e,n,r,i,o,s,a){var u=this,/** @type {?} */c=new Set,/** @type {?} */l=null,/** @type {?} */f=n.map(function(t){var/** @type {?} */n=new is(o.start,o.end,"Directive "+g(t.type));t.isComponent&&(l=t);var/** @type {?} */f=[],/** @type {?} */p=u._bindingParser.createDirectiveHostPropertyAsts(t,e,n);
// Note: We need to check the host properties here as well,
// as we don't know the element name in the DirectiveWrapperCompiler yet.
p=u._checkPropertiesInSchema(e,p);var/** @type {?} */h=u._bindingParser.createDirectiveHostEventAsts(t,n);u._createDirectivePropertyAsts(t.inputs,r,f,a),i.forEach(function(e){(0===e.value.length&&t.isComponent||t.exportAs==e.value)&&(s.push(new $r(e.name,ae(t.type),e.sourceSpan)),c.add(e.name))});var/** @type {?} */d=u.contentQueryStartId;return u.contentQueryStartId+=t.queries.length,new Qr(t,f,p,h,d,n)});return i.forEach(function(e){if(e.value.length>0)c.has(e.name)||u._reportError('There is no directive with "exportAs" set to "'+e.value+'"',e.sourceSpan);else if(!l){var/** @type {?} */n=null;t&&(n=ue(xa.TemplateRef)),s.push(new $r(e.name,n,e.sourceSpan))}}),f},t.prototype._createDirectivePropertyAsts=function(t,e,n,r){if(t){var/** @type {?} */i=new Map;e.forEach(function(t){var/** @type {?} */e=i.get(t.name);e&&!e.isLiteral||
// give [a]="b" a higher precedence than a="b" on the same element
i.set(t.name,t)}),Object.keys(t).forEach(function(e){var/** @type {?} */o=t[e],/** @type {?} */s=i.get(o);
// Bindings are optional, so this binding only needs to be set up if an expression is given.
s&&(r.add(s.name),Ae(s.expression)||n.push(new Kr(e,s.name,s.expression,s.sourceSpan)))})}},t.prototype._createElementPropertyAsts=function(t,e,n){var r=this,/** @type {?} */i=[];return e.forEach(function(e){e.isLiteral||n.has(e.name)||i.push(r._bindingParser.createElementPropertyAst(t,e))}),this._checkPropertiesInSchema(t,i)},t.prototype._findComponentDirectives=function(t){return t.filter(function(t){return t.directive.isComponent})},t.prototype._findComponentDirectiveNames=function(t){return this._findComponentDirectives(t).map(function(t){return g(t.directive.type)})},t.prototype._assertOnlyOneComponent=function(t,e){var/** @type {?} */n=this._findComponentDirectiveNames(t);n.length>1&&this._reportError("More than one component matched on this element.\nMake sure that only one component's selector can match a given element.\nConflicting components: "+n.join(","),e)},t.prototype._assertElementExists=function(t,e){var/** @type {?} */n=e.name.replace(/^:xhtml:/,"");if(!t&&!this._schemaRegistry.hasElement(n,this._schemas)){var/** @type {?} */r="'"+n+"' is not a known element:\n";r+="1. If '"+n+"' is an Angular component, then verify that it is part of this module.\n",n.indexOf("-")>-1?r+="2. If '"+n+"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.":r+="2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.",this._reportError(r,e.sourceSpan)}},t.prototype._assertNoComponentsNorElementBindingsOnTemplate=function(t,e,n){var r=this,/** @type {?} */i=this._findComponentDirectiveNames(t);i.length>0&&this._reportError("Components on an embedded template: "+i.join(","),n),e.forEach(function(t){r._reportError("Property binding "+t.name+' not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "@NgModule.declarations".',n)})},t.prototype._assertAllEventsPublishedByDirectives=function(t,e){var n=this,/** @type {?} */r=new Set;t.forEach(function(t){Object.keys(t.directive.outputs).forEach(function(e){var/** @type {?} */n=t.directive.outputs[e];r.add(n)})}),e.forEach(function(t){null==t.target&&r.has(t.name)||n._reportError("Event binding "+t.fullName+' not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "@NgModule.declarations".',t.sourceSpan)})},t.prototype._checkPropertiesInSchema=function(t,e){var n=this;
// Note: We can't filter out empty expressions before this method,
// as we still want to validate them!
return e.filter(function(e){if(e.type===ni.Property&&!n._schemaRegistry.hasProperty(t,e.name,n._schemas)){var/** @type {?} */r="Can't bind to '"+e.name+"' since it isn't a known property of '"+t+"'.";t.startsWith("ng-")?r+="\n1. If '"+e.name+"' is an Angular directive, then add 'CommonModule' to the '@NgModule.imports' of this component.\n2. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.":t.indexOf("-")>-1&&(r+="\n1. If '"+t+"' is an Angular component and it has '"+e.name+"' input, then verify that it is part of this module.\n2. If '"+t+"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.\n3. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component."),n._reportError(r,e.sourceSpan)}return!Ae(e.value)})},t.prototype._reportError=function(t,e,n){void 0===n&&(n=os.ERROR),this._targetErrors.push(new ss(e,t,n))},t}(),cu=function(){function t(){}/**
     * @param {?} ast
     * @param {?} parent
     * @return {?}
     */
/**
     * @param {?} comment
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} attribute
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} text
     * @param {?} parent
     * @return {?}
     */
/**
     * @param {?} expansion
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} expansionCase
     * @param {?} context
     * @return {?}
     */
return t.prototype.visitElement=function(t,e){var/** @type {?} */n=Ee(t);if(n.type===Za.SCRIPT||n.type===Za.STYLE||n.type===Za.STYLESHEET)
// Skipping <script> for security reasons
// Skipping <style> and stylesheets as we already processed them
// in the StyleCompiler
return null;var/** @type {?} */r=t.attrs.map(function(t){return[t.name,t.value]}),/** @type {?} */i=Me(t.name,r),/** @type {?} */o=e.findNgContentIndex(i),/** @type {?} */s=it(this,t.children,pu);return new Xr(t.name,it(this,t.attrs),[],[],[],[],[],!1,[],s,o,t.sourceSpan,t.endSourceSpan)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitAttribute=function(t,e){return new Hr(t.name,t.value,t.sourceSpan)},t.prototype.visitText=function(t,e){var/** @type {?} */n=e.findNgContentIndex(eu);return new zr(t.value,n,t.sourceSpan)},t.prototype.visitExpansion=function(t,e){return t},t.prototype.visitExpansionCase=function(t,e){return t},t}(),lu=function(){/**
     * @param {?} name
     * @param {?} value
     * @param {?} sourceSpan
     */
function t(t,e,n){this.name=t,this.value=e,this.sourceSpan=n}return t}(),fu=function(){/**
     * @param {?} isTemplateElement
     * @param {?} _ngContentIndexMatcher
     * @param {?} _wildcardNgContentIndex
     * @param {?} providerContext
     */
function t(t,e,n,r){this.isTemplateElement=t,this._ngContentIndexMatcher=e,this._wildcardNgContentIndex=n,this.providerContext=r}/**
     * @param {?} isTemplateElement
     * @param {?} directives
     * @param {?} providerContext
     * @return {?}
     */
/**
     * @param {?} selector
     * @return {?}
     */
return t.create=function(e,n,r){var/** @type {?} */i=new pi,/** @type {?} */o=null,/** @type {?} */s=n.find(function(t){return t.directive.isComponent});if(s)for(var/** @type {?} */a=s.directive.template.ngContentSelectors,/** @type {?} */u=0;u<a.length;u++){var/** @type {?} */c=a[u];"*"===c?o=u:i.addSelectables(fi.parse(a[u]),u)}return new t(e,i,o,r)},t.prototype.findNgContentIndex=function(t){var/** @type {?} */e=[];return this._ngContentIndexMatcher.match(t,function(t,n){e.push(n)}),e.sort(),null!=this._wildcardNgContentIndex&&e.push(this._wildcardNgContentIndex),e.length>0?e[0]:null},t}(),pu=new fu(!0,new pi,null,null),hu=new cu,du=function(){function t(){}/**
     * @param {?} url
     * @return {?}
     */
return t.prototype.get=function(t){return null},t}(),mu={provide:Vr.PACKAGE_ROOT_URL,useValue:"/"},vu=function(){/**
     * @param {?=} _packagePrefix
     */
function t(t){void 0===t&&(t=null),this._packagePrefix=t}/**
     * Resolves the `url` given the `baseUrl`:
     * - when the `url` is null, the `baseUrl` is returned,
     * - if `url` is relative ('path/to/here', './path/to/here'), the resolved url is a combination of
     * `baseUrl` and `url`,
     * - if `url` is absolute (it has a scheme: 'http://', 'https://' or start with '/'), the `url` is
     * returned as is (ignoring the `baseUrl`)
     * @param {?} baseUrl
     * @param {?} url
     * @return {?}
     */
return t.prototype.resolve=function(t,e){var/** @type {?} */n=e;null!=t&&t.length>0&&(n=Fe(t,n));var/** @type {?} */r=je(n),/** @type {?} */i=this._packagePrefix;if(null!=i&&null!=r&&"package"==r[gu.Scheme]){var/** @type {?} */o=r[gu.Path];return i=i.replace(/\/+$/,""),o=o.replace(/^\/+/,""),i+"/"+o}return n},t}();vu.decorators=[{type:F}],/**
 * @nocollapse
 */
vu.ctorParameters=function(){return[{type:void 0,decorators:[{type:Vr.Inject,args:[Vr.PACKAGE_ROOT_URL]}]}]};/**
 * A regular expression for breaking a URI into its component parts.
 *
 * {\@link http://www.gbiv.com/protocols/uri/rfc/rfc3986.html#RFC2234} says
 * As the "first-match-wins" algorithm is identical to the "greedy"
 * disambiguation method used by POSIX regular expressions, it is natural and
 * commonplace to use a regular expression for parsing the potential five
 * components of a URI reference.
 *
 * The following line is the regular expression for breaking-down a
 * well-formed URI reference into its components.
 *
 * <pre>
 * ^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?
 *  12            3  4          5       6  7        8 9
 * </pre>
 *
 * The numbers in the second line above are only to assist readability; they
 * indicate the reference points for each subexpression (i.e., each paired
 * parenthesis). We refer to the value matched for subexpression <n> as $<n>.
 * For example, matching the above expression to
 * <pre>
 *     http://www.ics.uci.edu/pub/ietf/uri/#Related
 * </pre>
 * results in the following subexpression matches:
 * <pre>
 *    $1 = http:
 *    $2 = http
 *    $3 = //www.ics.uci.edu
 *    $4 = www.ics.uci.edu
 *    $5 = /pub/ietf/uri/
 *    $6 = <undefined>
 *    $7 = <undefined>
 *    $8 = #Related
 *    $9 = Related
 * </pre>
 * where <undefined> indicates that the component is not present, as is the
 * case for the query component in the above example. Therefore, we can
 * determine the value of the five components as
 * <pre>
 *    scheme    = $2
 *    authority = $4
 *    path      = $5
 *    query     = $7
 *    fragment  = $9
 * </pre>
 *
 * The regular expression has been modified slightly to expose the
 * userInfo, domain, and port separately from the authority.
 * The modified version yields
 * <pre>
 *    $1 = http              scheme
 *    $2 = <undefined>       userInfo -\
 *    $3 = www.ics.uci.edu   domain     | authority
 *    $4 = <undefined>       port     -/
 *    $5 = /pub/ietf/uri/    path
 *    $6 = <undefined>       query without ?
 *    $7 = Related           fragment without #
 * </pre>
 * \@internal
 */
var yu=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),gu={};gu.Scheme=1,gu.UserInfo=2,gu.Domain=3,gu.Port=4,gu.Path=5,gu.QueryData=6,gu.Fragment=7,gu[gu.Scheme]="Scheme",gu[gu.UserInfo]="UserInfo",gu[gu.Domain]="Domain",gu[gu.Port]="Port",gu[gu.Path]="Path",gu[gu.QueryData]="QueryData",gu[gu.Fragment]="Fragment";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var bu=function(){/**
     * @param {?} _resourceLoader
     * @param {?} _urlResolver
     * @param {?} _htmlParser
     * @param {?} _config
     */
function t(t,e,n,r){this._resourceLoader=t,this._urlResolver=e,this._htmlParser=n,this._config=r,this._resourceLoaderCache=new Map}/**
     * @return {?}
     */
/**
     * @param {?} normalizedDirective
     * @return {?}
     */
/**
     * @param {?} url
     * @return {?}
     */
/**
     * @param {?} prenormData
     * @return {?}
     */
/**
     * @param {?} prenomData
     * @return {?}
     */
/**
     * @param {?} prenomData
     * @return {?}
     */
/**
     * @param {?} prenormData
     * @param {?} template
     * @param {?} templateAbsUrl
     * @return {?}
     */
/**
     * @param {?} templateMeta
     * @return {?}
     */
/**
     * @param {?} styleUrls
     * @param {?=} loadedStylesheets
     * @return {?}
     */
/**
     * @param {?} stylesheet
     * @return {?}
     */
return t.prototype.clearCache=function(){this._resourceLoaderCache.clear()},t.prototype.clearCacheFor=function(t){var e=this;t.isComponent&&(this._resourceLoaderCache.delete(t.template.templateUrl),t.template.externalStylesheets.forEach(function(t){e._resourceLoaderCache.delete(t.moduleUrl)}))},t.prototype._fetch=function(t){var/** @type {?} */e=this._resourceLoaderCache.get(t);return e||(e=this._resourceLoader.get(t),this._resourceLoaderCache.set(t,e)),e},t.prototype.normalizeTemplate=function(t){var/** @type {?} */e,r=this,/** @type {?} */i=null;if(null!=t.template){if(null!=t.templateUrl)throw h("'"+n.i(Vr["stringify"])(t.componentType)+"' component cannot define both template and templateUrl");if("string"!=typeof t.template)throw h("The template specified for component "+n.i(Vr["stringify"])(t.componentType)+" is not a string");i=this.normalizeTemplateSync(t),e=Promise.resolve(i)}else{if(!t.templateUrl)throw h("No template specified for component "+n.i(Vr["stringify"])(t.componentType));if("string"!=typeof t.templateUrl)throw h("The templateUrl specified for component "+n.i(Vr["stringify"])(t.componentType)+" is not a string");e=this.normalizeTemplateAsync(t)}return i&&0===i.styleUrls.length?new gi(i):new gi(null,e.then(function(t){return r.normalizeExternalStylesheets(t)}))},t.prototype.normalizeTemplateSync=function(t){return this.normalizeLoadedTemplate(t,t.template,t.moduleUrl)},t.prototype.normalizeTemplateAsync=function(t){var e=this,/** @type {?} */n=this._urlResolver.resolve(t.moduleUrl,t.templateUrl);return this._fetch(n).then(function(r){return e.normalizeLoadedTemplate(t,r,n)})},t.prototype.normalizeLoadedTemplate=function(t,e,n){var/** @type {?} */r=!!t.template,/** @type {?} */i=qo.fromArray(t.interpolation),/** @type {?} */o=this._htmlParser.parse(e,A({reference:t.ngModuleType},{type:{reference:t.componentType}},{isInline:r,templateUrl:n}),!0,i);if(o.errors.length>0){throw h("Template parse errors:\n"+o.errors.join("\n"))}var/** @type {?} */s=this.normalizeStylesheet(new Ni({styles:t.styles,styleUrls:t.styleUrls,moduleUrl:t.moduleUrl})),/** @type {?} */a=new wu;it(a,o.rootNodes);var/** @type {?} */u=this.normalizeStylesheet(new Ni({styles:a.styles,styleUrls:a.styleUrls,moduleUrl:n})),/** @type {?} */c=t.encapsulation;null==c&&(c=this._config.defaultEncapsulation);var/** @type {?} */l=s.styles.concat(u.styles),/** @type {?} */f=s.styleUrls.concat(u.styleUrls);return c===Vr.ViewEncapsulation.Emulated&&0===l.length&&0===f.length&&(c=Vr.ViewEncapsulation.None),new Mi({encapsulation:c,template:e,templateUrl:n,styles:l,styleUrls:f,ngContentSelectors:a.ngContentSelectors,animations:t.animations,interpolation:t.interpolation,isInline:r})},t.prototype.normalizeExternalStylesheets=function(t){return this._loadMissingExternalStylesheets(t.styleUrls).then(function(e){return new Mi({encapsulation:t.encapsulation,template:t.template,templateUrl:t.templateUrl,styles:t.styles,styleUrls:t.styleUrls,externalStylesheets:e,ngContentSelectors:t.ngContentSelectors,animations:t.animations,interpolation:t.interpolation,isInline:t.isInline})})},t.prototype._loadMissingExternalStylesheets=function(t,e){var n=this;return void 0===e&&(e=new Map),Promise.all(t.filter(function(t){return!e.has(t)}).map(function(t){return n._fetch(t).then(function(r){var/** @type {?} */i=n.normalizeStylesheet(new Ni({styles:[r],moduleUrl:t}));return e.set(t,i),n._loadMissingExternalStylesheets(i.styleUrls,e)})})).then(function(t){return Array.from(e.values())})},t.prototype.normalizeStylesheet=function(t){var e=this,/** @type {?} */n=t.styleUrls.filter(be).map(function(n){return e._urlResolver.resolve(t.moduleUrl,n)}),/** @type {?} */r=t.styles.map(function(r){var/** @type {?} */i=we(e._urlResolver,t.moduleUrl,r);return n.push.apply(n,i.styleUrls),i.style});return new Ni({styles:r,styleUrls:n,moduleUrl:t.moduleUrl})},t}();bu.decorators=[{type:F}],/**
 * @nocollapse
 */
bu.ctorParameters=function(){return[{type:du},{type:vu},{type:ya},{type:Ii}]};var wu=function(){function t(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
return t.prototype.visitElement=function(t,e){var/** @type {?} */n=Ee(t);switch(n.type){case Za.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(n.selectAttr);break;case Za.STYLE:var/** @type {?} */r="";t.children.forEach(function(t){t instanceof as&&(r+=t.value)}),this.styles.push(r);break;case Za.STYLESHEET:this.styleUrls.push(n.hrefAttr)}return n.nonBindable&&this.ngNonBindableStackCount++,it(this,t.children),n.nonBindable&&this.ngNonBindableStackCount--,null},t.prototype.visitExpansion=function(t,e){it(this,t.cases)},t.prototype.visitExpansionCase=function(t,e){it(this,t.expression)},t.prototype.visitComment=function(t,e){return null},t.prototype.visitAttribute=function(t,e){return null},t.prototype.visitText=function(t,e){return null},t}(),_u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},xu=function(){/**
     * @param {?=} _reflector
     */
function t(t){void 0===t&&(t=Vr["reflector"]),this._reflector=t}/**
     * @param {?} type
     * @return {?}
     */
/**
     * Return {\@link Directive} for a given `Type`.
     * @param {?} type
     * @param {?=} throwIfNotFound
     * @return {?}
     */
/**
     * @param {?} dm
     * @param {?} propertyMetadata
     * @param {?} directiveType
     * @return {?}
     */
/**
     * @param {?} def
     * @return {?}
     */
/**
     * @param {?} bindings
     * @return {?}
     */
/**
     * @param {?} directive
     * @param {?} inputs
     * @param {?} outputs
     * @param {?} host
     * @param {?} queries
     * @param {?} directiveType
     * @return {?}
     */
return t.prototype.isDirective=function(t){var/** @type {?} */e=this._reflector.annotations(n.i(Vr.resolveForwardRef)(t));return e&&e.some(Ue)},t.prototype.resolve=function(t,e){void 0===e&&(e=!0);var/** @type {?} */r=this._reflector.annotations(n.i(Vr.resolveForwardRef)(t));if(r){var/** @type {?} */i=Ve(r,Ue);if(i){var/** @type {?} */o=this._reflector.propMetadata(t);return this._mergeWithPropertyMetadata(i,o,t)}}if(e)throw new Error("No Directive annotation found on "+n.i(Vr["stringify"])(t));return null},t.prototype._mergeWithPropertyMetadata=function(t,e,n){var/** @type {?} */r=[],/** @type {?} */i=[],/** @type {?} */o={},/** @type {?} */s={};return Object.keys(e).forEach(function(t){var/** @type {?} */n=Ve(e[t],function(t){return t instanceof Vr.Input});n&&(n.bindingPropertyName?r.push(t+": "+n.bindingPropertyName):r.push(t));var/** @type {?} */a=Ve(e[t],function(t){return t instanceof Vr.Output});a&&(a.bindingPropertyName?i.push(t+": "+a.bindingPropertyName):i.push(t)),e[t].filter(function(t){return t&&t instanceof Vr.HostBinding}).forEach(function(e){if(e.hostPropertyName){var/** @type {?} */n=e.hostPropertyName[0];if("("===n)throw new Error("@HostBinding can not bind to events. Use @HostListener instead.");if("["===n)throw new Error("@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.");o["["+e.hostPropertyName+"]"]=t}else o["["+t+"]"]=t}),e[t].filter(function(t){return t&&t instanceof Vr.HostListener}).forEach(function(e){var/** @type {?} */n=e.args||[];o["("+e.eventName+")"]=t+"("+n.join(",")+")"});var/** @type {?} */u=Ve(e[t],function(t){return t instanceof Vr.Query});u&&(s[t]=u)}),this._merge(t,r,i,o,s,n)},t.prototype._extractPublicName=function(t){return c(t,[null,t])[1].trim()},t.prototype._dedupeBindings=function(t){
// go last to first to allow later entries to overwrite previous entries
for(var/** @type {?} */e=new Set,/** @type {?} */n=[],/** @type {?} */r=t.length-1;r>=0;r--){var/** @type {?} */i=t[r],/** @type {?} */o=this._extractPublicName(i);e.has(o)||(e.add(o),n.push(i))}return n.reverse()},t.prototype._merge=function(t,e,n,r,i,o){var/** @type {?} */s=this._dedupeBindings(t.inputs?t.inputs.concat(e):e),/** @type {?} */a=this._dedupeBindings(t.outputs?t.outputs.concat(n):n),/** @type {?} */u=t.host?_u({},t.host,r):r,/** @type {?} */c=t.queries?_u({},t.queries,i):i;return t instanceof Vr.Component?new Vr.Component({selector:t.selector,inputs:s,outputs:a,host:u,exportAs:t.exportAs,moduleId:t.moduleId,queries:c,changeDetection:t.changeDetection,providers:t.providers,viewProviders:t.viewProviders,entryComponents:t.entryComponents,template:t.template,templateUrl:t.templateUrl,styles:t.styles,styleUrls:t.styleUrls,encapsulation:t.encapsulation,animations:t.animations,interpolation:t.interpolation}):new Vr.Directive({selector:t.selector,inputs:s,outputs:a,host:u,exportAs:t.exportAs,queries:c,providers:t.providers})},t}();xu.decorators=[{type:F}],/**
 * @nocollapse
 */
xu.ctorParameters=function(){return[{type:Vr["ReflectorReader"]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Eu=/(\.ts|\.d\.ts|\.js|\.jsx|\.tsx)$/,Cu=/\.ngfactory\./,Su=function(){/**
     * @param {?=} _reflector
     */
function t(t){void 0===t&&(t=Vr["reflector"]),this._reflector=t}/**
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} type
     * @param {?=} throwIfNotFound
     * @return {?}
     */
return t.prototype.isNgModule=function(t){return this._reflector.annotations(t).some(Ye)},t.prototype.resolve=function(t,e){void 0===e&&(e=!0);var/** @type {?} */r=Ve(this._reflector.annotations(t),Ye);if(r)return r;if(e)throw new Error("No NgModule metadata found for '"+n.i(Vr["stringify"])(t)+"'.");return null},t}();Su.decorators=[{type:F}],/**
 * @nocollapse
 */
Su.ctorParameters=function(){return[{type:Vr["ReflectorReader"]}]};/**
 * Resolve a `Type` for {\@link Pipe}.
 *
 * This interface can be overridden by the application developer to create custom behavior.
 *
 * See {\@link Compiler}
 */
var Nu=function(){/**
     * @param {?=} _reflector
     */
function t(t){void 0===t&&(t=Vr["reflector"]),this._reflector=t}/**
     * @param {?} type
     * @return {?}
     */
/**
     * Return {\@link Pipe} for a given `Type`.
     * @param {?} type
     * @param {?=} throwIfNotFound
     * @return {?}
     */
return t.prototype.isPipe=function(t){var/** @type {?} */e=this._reflector.annotations(n.i(Vr.resolveForwardRef)(t));return e&&e.some(Xe)},t.prototype.resolve=function(t,e){void 0===e&&(e=!0);var/** @type {?} */r=this._reflector.annotations(n.i(Vr.resolveForwardRef)(t));if(r){var/** @type {?} */i=Ve(r,Xe);if(i)return i}if(e)throw new Error("No Pipe decorator found on "+n.i(Vr["stringify"])(t));return null},t}();Nu.decorators=[{type:F}],/**
 * @nocollapse
 */
Nu.ctorParameters=function(){return[{type:Vr["ReflectorReader"]}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Mu=function(){function t(){}/**
     * @param {?} fileName
     * @return {?}
     */
/**
     * @param {?} fileName
     * @return {?}
     */
/**
     * @param {?} reference
     * @return {?}
     */
/**
     * @param {?} filePath
     * @return {?}
     */
/**
     * @param {?} reference
     * @return {?}
     */
return t.prototype.isLibraryFile=function(t){return!1},t.prototype.getLibraryFileName=function(t){return null},t.prototype.resolveSummary=function(t){return null},t.prototype.getSymbolsOf=function(t){return[]},t.prototype.getImportAs=function(t){return t},t}();Mu.decorators=[{type:F}],/**
 * @nocollapse
 */
Mu.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Ou=new Vr.InjectionToken("ErrorCollector"),Tu=function(){/**
     * @param {?} _config
     * @param {?} _ngModuleResolver
     * @param {?} _directiveResolver
     * @param {?} _pipeResolver
     * @param {?} _summaryResolver
     * @param {?} _schemaRegistry
     * @param {?} _directiveNormalizer
     * @param {?} _console
     * @param {?} _staticSymbolCache
     * @param {?=} _reflector
     * @param {?=} _errorCollector
     */
function t(t,e,n,r,i,o,s,a,u,c,l){void 0===c&&(c=Vr["reflector"]),this._config=t,this._ngModuleResolver=e,this._directiveResolver=n,this._pipeResolver=r,this._summaryResolver=i,this._schemaRegistry=o,this._directiveNormalizer=s,this._console=a,this._staticSymbolCache=u,this._reflector=c,this._errorCollector=l,this._nonNormalizedDirectiveCache=new Map,this._directiveCache=new Map,this._summaryCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map}/**
     * @param {?} type
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} baseType
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} dirType
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} dirType
     * @return {?}
     */
/**
     * @param {?} dirType
     * @return {?}
     */
/**
     * @param {?} dirType
     * @return {?}
     */
/**
     * @param {?} dirType
     * @return {?}
     */
/**
     * @param {?} selector
     * @param {?} dirType
     * @param {?} inputs
     * @param {?} outputs
     * @return {?}
     */
/**
     * @param {?} factory
     * @param {?} ngContentSelectors
     * @return {?}
     */
/**
     * @param {?} type
     * @param {?} kind
     * @return {?}
     */
/**
     * @param {?} ngModuleType
     * @param {?} directiveType
     * @param {?} isSync
     * @return {?}
     */
/**
     * @param {?} directiveType
     * @return {?}
     */
/**
     * Gets the metadata for the given directive.
     * This assumes `loadNgModuleDirectiveAndPipeMetadata` has been called first.
     * @param {?} directiveType
     * @return {?}
     */
/**
     * @param {?} dirType
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} moduleType
     * @return {?}
     */
/**
     * Loads the declared directives and pipes of an NgModule.
     * @param {?} moduleType
     * @param {?} isSync
     * @param {?=} throwIfNotFound
     * @return {?}
     */
/**
     * @param {?} moduleType
     * @param {?=} throwIfNotFound
     * @return {?}
     */
/**
     * @param {?} moduleType
     * @param {?} importedModuleType
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} type
     * @param {?} moduleType
     * @return {?}
     */
/**
     * @param {?} importedModules
     * @param {?} exportedModules
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} type
     * @param {?=} dependencies
     * @return {?}
     */
/**
     * @param {?} type
     * @param {?=} dependencies
     * @param {?=} throwOnUnknownDeps
     * @return {?}
     */
/**
     * @param {?} factory
     * @param {?=} dependencies
     * @return {?}
     */
/**
     * Gets the metadata for the given pipe.
     * This assumes `loadNgModuleDirectiveAndPipeMetadata` has been called first.
     * @param {?} pipeType
     * @return {?}
     */
/**
     * @param {?} pipeType
     * @return {?}
     */
/**
     * @param {?} pipeType
     * @return {?}
     */
/**
     * @param {?} pipeType
     * @return {?}
     */
/**
     * @param {?} typeOrFunc
     * @param {?} dependencies
     * @param {?=} throwOnUnknownDeps
     * @return {?}
     */
/**
     * @param {?} token
     * @return {?}
     */
/**
     * @param {?} providers
     * @param {?} targetEntryComponents
     * @param {?=} debugInfo
     * @param {?=} compileProviders
     * @param {?=} type
     * @return {?}
     */
/**
     * @param {?} provider
     * @return {?}
     */
/**
     * @param {?} provider
     * @param {?=} type
     * @return {?}
     */
/**
     * @param {?} dirType
     * @param {?=} throwIfNotFound
     * @return {?}
     */
/**
     * @param {?} provider
     * @return {?}
     */
/**
     * @param {?} queries
     * @param {?} isViewQuery
     * @param {?} directiveType
     * @return {?}
     */
/**
     * @param {?} selector
     * @return {?}
     */
/**
     * @param {?} q
     * @param {?} propertyName
     * @param {?} typeOrFunc
     * @return {?}
     */
/**
     * @param {?} error
     * @param {?=} type
     * @param {?=} otherType
     * @return {?}
     */
return t.prototype.clearCacheFor=function(t){var/** @type {?} */e=this._directiveCache.get(t);this._directiveCache.delete(t),this._nonNormalizedDirectiveCache.delete(t),this._summaryCache.delete(t),this._pipeCache.delete(t),this._ngModuleOfTypes.delete(t),
// Clear all of the NgModule as they contain transitive information!
this._ngModuleCache.clear(),e&&this._directiveNormalizer.clearCacheFor(e)},t.prototype.clearCache=function(){this._directiveCache.clear(),this._nonNormalizedDirectiveCache.clear(),this._summaryCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear(),this._directiveNormalizer.clearCache()},t.prototype._createProxyClass=function(t,e){var/** @type {?} */r=null,/** @type {?} */i=function(){if(!r)throw new Error("Illegal state: Class "+e+" for type "+n.i(Vr["stringify"])(t)+" is not compiled yet!");return r.apply(this,arguments)};
// Make stringify work correctly
return i.setDelegate=function(t){r=t,i.prototype=t.prototype},i.overriddenName=e,i},t.prototype.getGeneratedClass=function(t,e){return t instanceof ri?this._staticSymbolCache.get(Be(t.filePath),e):this._createProxyClass(t,e)},t.prototype.getComponentViewClass=function(t){return this.getGeneratedClass(t,w(t,0))},t.prototype.getHostComponentViewClass=function(t){return this.getGeneratedClass(t,x(t))},t.prototype.getHostComponentType=function(t){var/** @type {?} */e=g({reference:t})+"_Host";if(t instanceof ri)return this._staticSymbolCache.get(t.filePath,e);var/** @type {?} */n=function(){};return n.overriddenName=e,n},t.prototype.getRendererType=function(t){return t instanceof ri?this._staticSymbolCache.get(Be(t.filePath),_(t)):{}},t.prototype.getComponentFactory=function(t,e,r,i){if(e instanceof ri)return this._staticSymbolCache.get(Be(e.filePath),E(e));var/** @type {?} */o=this.getHostComponentViewClass(e);
// Note: ngContentSelectors will be filled later once the template is
// loaded.
/** @type {?} */
return n.i(Vr["ccf"])(t,e,o,r,i,[])},t.prototype.initComponentFactory=function(t,e){t instanceof ri||(n=t.ngContentSelectors).push.apply(n,e);var n},t.prototype._loadSummary=function(t,e){var/** @type {?} */n=this._summaryCache.get(t);if(!n){var/** @type {?} */r=this._summaryResolver.resolveSummary(t);n=r?r.type:null,this._summaryCache.set(t,n)}return n&&n.summaryKind===e?n:null},t.prototype._loadDirectiveMetadata=function(t,e,r){var i=this;if(!this._directiveCache.has(e)){e=n.i(Vr.resolveForwardRef)(e);var o=this.getNonNormalizedDirectiveMetadata(e),s=o.annotation,a=o.metadata,/** @type {?} */u=function(t){var/** @type {?} */n=new Oi({type:a.type,isComponent:a.isComponent,selector:a.selector,exportAs:a.exportAs,changeDetection:a.changeDetection,inputs:a.inputs,outputs:a.outputs,hostListeners:a.hostListeners,hostProperties:a.hostProperties,hostAttributes:a.hostAttributes,providers:a.providers,viewProviders:a.viewProviders,queries:a.queries,viewQueries:a.viewQueries,entryComponents:a.entryComponents,componentViewType:a.componentViewType,rendererType:a.rendererType,componentFactory:a.componentFactory,template:t});return t&&i.initComponentFactory(a.componentFactory,t.ngContentSelectors),i._directiveCache.set(e,n),i._summaryCache.set(e,n.toSummary()),n};if(a.isComponent){var/** @type {?} */c=this._directiveNormalizer.normalizeTemplate({ngModuleType:t,componentType:e,moduleUrl:tn(this._reflector,e,s),encapsulation:a.template.encapsulation,template:a.template.template,templateUrl:a.template.templateUrl,styles:a.template.styles,styleUrls:a.template.styleUrls,animations:a.template.animations,interpolation:a.template.interpolation});return c.syncResult?(u(c.syncResult),null):r?(this._reportError(rn(e),e),null):c.asyncResult.then(u)}
// directive
return u(null),null}},t.prototype.getNonNormalizedDirectiveMetadata=function(t){var e=this;if(!(t=n.i(Vr.resolveForwardRef)(t)))return null;var/** @type {?} */r=this._nonNormalizedDirectiveCache.get(t);if(r)return r;var/** @type {?} */i=this._directiveResolver.resolve(t,!1);if(!i)return null;var/** @type {?} */o;if(i instanceof Vr.Component){
// component
U("styles",i.styles),U("styleUrls",i.styleUrls),V("interpolation",i.interpolation);var/** @type {?} */s=i.animations;o=new Mi({encapsulation:i.encapsulation,template:i.template,templateUrl:i.templateUrl,styles:i.styles,styleUrls:i.styleUrls,animations:s,interpolation:i.interpolation,isInline:!!i.template})}var/** @type {?} */a=null,/** @type {?} */u=[],/** @type {?} */c=[],/** @type {?} */l=i.selector;i instanceof Vr.Component?(
// Component
a=i.changeDetection,i.viewProviders&&(u=this._getProvidersMetadata(i.viewProviders,c,'viewProviders for "'+nn(t)+'"',[],t)),i.entryComponents&&(c=Qe(i.entryComponents).map(function(t){return e._getEntryComponentMetadata(t)}).concat(c)),l||(l=this._schemaRegistry.getDefaultComponentElementName())):
// Directive
l||(this._reportError(h("Directive "+nn(t)+" has no selector, please add it!"),t),l="error");var/** @type {?} */f=[];null!=i.providers&&(f=this._getProvidersMetadata(i.providers,c,'providers for "'+nn(t)+'"',[],t));var/** @type {?} */p=[],/** @type {?} */d=[];null!=i.queries&&(p=this._getQueriesMetadata(i.queries,!1,t),d=this._getQueriesMetadata(i.queries,!0,t));var/** @type {?} */m=Oi.create({selector:l,exportAs:i.exportAs,isComponent:!!o,type:this._getTypeMetadata(t),template:o,changeDetection:a,inputs:i.inputs,outputs:i.outputs,host:i.host,providers:f,viewProviders:u,queries:p,viewQueries:d,entryComponents:c,componentViewType:o?this.getComponentViewClass(t):void 0,rendererType:o?this.getRendererType(t):void 0,componentFactory:void 0});return o&&(m.componentFactory=this.getComponentFactory(l,t,m.inputs,m.outputs)),r={metadata:m,annotation:i},this._nonNormalizedDirectiveCache.set(t,r),r},t.prototype.getDirectiveMetadata=function(t){var/** @type {?} */e=this._directiveCache.get(t);return e||this._reportError(h("Illegal state: getDirectiveMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Directive "+nn(t)+"."),t),e},t.prototype.getDirectiveSummary=function(t){var/** @type {?} */e=this._loadSummary(t,Si.Directive);return e||this._reportError(h("Illegal state: Could not load the summary for directive "+nn(t)+"."),t),e},t.prototype.isDirective=function(t){return this._directiveResolver.isDirective(t)},t.prototype.isPipe=function(t){return this._pipeResolver.isPipe(t)},t.prototype.getNgModuleSummary=function(t){var/** @type {?} */e=this._loadSummary(t,Si.NgModule);if(!e){var/** @type {?} */n=this.getNgModuleMetadata(t,!1);e=n?n.toSummary():null,e&&this._summaryCache.set(t,e)}return e},t.prototype.loadNgModuleDirectiveAndPipeMetadata=function(t,e,n){var r=this;void 0===n&&(n=!0);var/** @type {?} */i=this.getNgModuleMetadata(t,n),/** @type {?} */o=[];return i&&(i.declaredDirectives.forEach(function(n){var/** @type {?} */i=r._loadDirectiveMetadata(t,n.reference,e);i&&o.push(i)}),i.declaredPipes.forEach(function(t){return r._loadPipeMetadata(t.reference)})),Promise.all(o)},t.prototype.getNgModuleMetadata=function(t,e){var r=this;void 0===e&&(e=!0),t=n.i(Vr.resolveForwardRef)(t);var/** @type {?} */i=this._ngModuleCache.get(t);if(i)return i;var/** @type {?} */o=this._ngModuleResolver.resolve(t,e);if(!o)return null;var/** @type {?} */s=[],/** @type {?} */a=[],/** @type {?} */u=[],/** @type {?} */c=[],/** @type {?} */l=[],/** @type {?} */f=[],/** @type {?} */p=[],/** @type {?} */d=[],/** @type {?} */m=[];o.imports&&Qe(o.imports).forEach(function(e){var/** @type {?} */n;if(Je(e))n=e;else if(e&&e.ngModule){var/** @type {?} */i=e;n=i.ngModule,i.providers&&f.push.apply(f,r._getProvidersMetadata(i.providers,p,"provider for the NgModule '"+nn(n)+"'",[],e))}if(!n)return void r._reportError(h("Unexpected value '"+nn(e)+"' imported by the module '"+nn(t)+"'"),t);if(!r._checkSelfImport(t,n)){var/** @type {?} */o=r.getNgModuleSummary(n);if(!o)return void r._reportError(h("Unexpected "+r._getTypeDescriptor(e)+" '"+nn(e)+"' imported by the module '"+nn(t)+"'. Please add a @NgModule annotation."),t);c.push(o)}}),o.exports&&Qe(o.exports).forEach(function(e){if(!Je(e))return void r._reportError(h("Unexpected value '"+nn(e)+"' exported by the module '"+nn(t)+"'"),t);var/** @type {?} */n=r.getNgModuleSummary(e);n?l.push(n):a.push(r._getIdentifierMetadata(e))});
// Note: This will be modified later, so we rely on
// getting a new instance every time!
var/** @type {?} */v=this._getTransitiveNgModuleMetadata(c,l);o.declarations&&Qe(o.declarations).forEach(function(e){if(!Je(e))return void r._reportError(h("Unexpected value '"+nn(e)+"' declared by the module '"+nn(t)+"'"),t);var/** @type {?} */n=r._getIdentifierMetadata(e);if(r._directiveResolver.isDirective(e))v.addDirective(n),s.push(n),r._addTypeToModule(e,t);else{if(!r._pipeResolver.isPipe(e))return void r._reportError(h("Unexpected "+r._getTypeDescriptor(e)+" '"+nn(e)+"' declared by the module '"+nn(t)+"'. Please add a @Pipe/@Directive/@Component annotation."),t);v.addPipe(n),v.pipes.push(n),u.push(n),r._addTypeToModule(e,t)}});var/** @type {?} */y=[],/** @type {?} */g=[];
// The providers of the module have to go last
// so that they overwrite any other provider we already added.
return a.forEach(function(e){v.directivesSet.has(e.reference)?(y.push(e),v.addExportedDirective(e)):v.pipesSet.has(e.reference)?(g.push(e),v.addExportedPipe(e)):r._reportError(h("Can't export "+r._getTypeDescriptor(e.reference)+" "+nn(e.reference)+" from "+nn(t)+" as it was neither declared nor imported!"),t)}),o.providers&&f.push.apply(f,this._getProvidersMetadata(o.providers,p,"provider for the NgModule '"+nn(t)+"'",[],t)),o.entryComponents&&p.push.apply(p,Qe(o.entryComponents).map(function(t){return r._getEntryComponentMetadata(t)})),o.bootstrap&&Qe(o.bootstrap).forEach(function(e){if(!Je(e))return void r._reportError(h("Unexpected value '"+nn(e)+"' used in the bootstrap property of module '"+nn(t)+"'"),t);d.push(r._getIdentifierMetadata(e))}),p.push.apply(p,d.map(function(t){return r._getEntryComponentMetadata(t.reference)})),o.schemas&&m.push.apply(m,Qe(o.schemas)),i=new Ai({type:this._getTypeMetadata(t),providers:f,entryComponents:p,bootstrapComponents:d,schemas:m,declaredDirectives:s,exportedDirectives:y,declaredPipes:u,exportedPipes:g,importedModules:c,exportedModules:l,transitiveModule:v,id:o.id}),p.forEach(function(t){return v.addEntryComponent(t)}),f.forEach(function(t){return v.addProvider(t,i.type)}),v.addModule(i.type),this._ngModuleCache.set(t,i),i},t.prototype._checkSelfImport=function(t,e){return t===e&&(this._reportError(h("'"+nn(t)+"' module can't import itself"),t),!0)},t.prototype._getTypeDescriptor=function(t){return this._directiveResolver.isDirective(t)?"directive":this._pipeResolver.isPipe(t)?"pipe":this._ngModuleResolver.isNgModule(t)?"module":t.provide?"provider":"value"},t.prototype._addTypeToModule=function(t,e){var/** @type {?} */n=this._ngModuleOfTypes.get(t);n&&n!==e&&this._reportError(h("Type "+nn(t)+" is part of the declarations of 2 modules: "+nn(n)+" and "+nn(e)+"! Please consider moving "+nn(t)+" to a higher module that imports "+nn(n)+" and "+nn(e)+". You can also create a new NgModule that exports and includes "+nn(t)+" then import that NgModule in "+nn(n)+" and "+nn(e)+"."),e),this._ngModuleOfTypes.set(t,e)},t.prototype._getTransitiveNgModuleMetadata=function(t,e){
// collect `providers` / `entryComponents` from all imported and all exported modules
var/** @type {?} */n=new Pi,/** @type {?} */r=new Map;return t.concat(e).forEach(function(t){t.modules.forEach(function(t){return n.addModule(t)}),t.entryComponents.forEach(function(t){return n.addEntryComponent(t)});var/** @type {?} */e=new Set;t.providers.forEach(function(t){var/** @type {?} */i=S(t.provider.token),/** @type {?} */o=r.get(i);o||(o=new Set,r.set(i,o));var/** @type {?} */s=t.module.reference;
// Note: the providers of one module may still contain multiple providers
// per token (e.g. for multi providers), and we need to preserve these.
!e.has(i)&&o.has(s)||(o.add(s),e.add(i),n.addProvider(t.provider,t.module))})}),e.forEach(function(t){t.exportedDirectives.forEach(function(t){return n.addExportedDirective(t)}),t.exportedPipes.forEach(function(t){return n.addExportedPipe(t)})}),t.forEach(function(t){t.exportedDirectives.forEach(function(t){return n.addDirective(t)}),t.exportedPipes.forEach(function(t){return n.addPipe(t)})}),n},t.prototype._getIdentifierMetadata=function(t){return t=n.i(Vr.resolveForwardRef)(t),{reference:t}},t.prototype.isInjectable=function(t){
// Note: We need an exact check here as @Component / @Directive / ... inherit
// from @CompilerInjectable!
return this._reflector.annotations(t).some(function(t){return t.constructor===Vr.Injectable})},t.prototype.getInjectableSummary=function(t){return{summaryKind:Si.Injectable,type:this._getTypeMetadata(t,null,!1)}},t.prototype._getInjectableMetadata=function(t,e){void 0===e&&(e=null);var/** @type {?} */n=this._loadSummary(t,Si.Injectable);return n?n.type:this._getTypeMetadata(t,e)},t.prototype._getTypeMetadata=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=!0);var/** @type {?} */r=this._getIdentifierMetadata(t);return{reference:r.reference,diDeps:this._getDependenciesMetadata(r.reference,e,n),lifecycleHooks:Vr["LIFECYCLE_HOOKS_VALUES"].filter(function(t){return We(t,r.reference)})}},t.prototype._getFactoryMetadata=function(t,e){return void 0===e&&(e=null),t=n.i(Vr.resolveForwardRef)(t),{reference:t,diDeps:this._getDependenciesMetadata(t,e)}},t.prototype.getPipeMetadata=function(t){var/** @type {?} */e=this._pipeCache.get(t);return e||this._reportError(h("Illegal state: getPipeMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Pipe "+nn(t)+"."),t),e},t.prototype.getPipeSummary=function(t){var/** @type {?} */e=this._loadSummary(t,Si.Pipe);return e||this._reportError(h("Illegal state: Could not load the summary for pipe "+nn(t)+"."),t),e},t.prototype.getOrLoadPipeMetadata=function(t){var/** @type {?} */e=this._pipeCache.get(t);return e||(e=this._loadPipeMetadata(t)),e},t.prototype._loadPipeMetadata=function(t){t=n.i(Vr.resolveForwardRef)(t);var/** @type {?} */e=this._pipeResolver.resolve(t),/** @type {?} */r=new Ti({type:this._getTypeMetadata(t),name:e.name,pure:e.pure});return this._pipeCache.set(t,r),this._summaryCache.set(t,r.toSummary()),r},t.prototype._getDependenciesMetadata=function(t,e,n){var r=this;void 0===n&&(n=!0);var/** @type {?} */i=!1,/** @type {?} */o=e||this._reflector.parameters(t)||[],/** @type {?} */s=o.map(function(t){var/** @type {?} */e=!1,/** @type {?} */n=!1,/** @type {?} */o=!1,/** @type {?} */s=!1,/** @type {?} */a=!1,/** @type {?} */u=null;return Array.isArray(t)?t.forEach(function(t){t instanceof Vr.Host?n=!0:t instanceof Vr.Self?o=!0:t instanceof Vr.SkipSelf?s=!0:t instanceof Vr.Optional?a=!0:t instanceof Vr.Attribute?(e=!0,u=t.attributeName):t instanceof Vr.Inject?u=t.token:t instanceof Vr.InjectionToken?u=t:Je(t)&&null==u&&(u=t)}):u=t,null==u?(i=!0,null):{isAttribute:e,isHost:n,isSelf:o,isSkipSelf:s,isOptional:a,token:r._getTokenMetadata(u)}});if(i){var/** @type {?} */a=s.map(function(t){return t?nn(t.token):"?"}).join(", "),/** @type {?} */u="Can't resolve all parameters for "+nn(t)+": ("+a+").";n?this._reportError(h(u),t):this._console.warn("Warning: "+u+" This will become an error in Angular v5.x")}return s},t.prototype._getTokenMetadata=function(t){t=n.i(Vr.resolveForwardRef)(t);return"string"==typeof t?{value:t}:{identifier:{reference:t}}},t.prototype._getProvidersMetadata=function(t,e,r,i,o){var s=this;return void 0===i&&(i=[]),t.forEach(function(a,u){if(Array.isArray(a))s._getProvidersMetadata(a,e,r,i);else{a=n.i(Vr.resolveForwardRef)(a);var/** @type {?} */c=void 0;if(a&&"object"==typeof a&&a.hasOwnProperty("provide"))s._validateProvider(a),c=new ki(a.provide,a);else if(Je(a))c=new ki(a,{useClass:a});else if(void 0===a)s._reportError(h("Encountered undefined provider! Usually this means you have a circular dependencies (might be caused by using 'barrel' index.ts files."));else{var/** @type {?} */l=t.reduce(function(t,e,n){return n<u?t.push(""+nn(e)):n==u?t.push("?"+nn(e)+"?"):n==u+1&&t.push("..."),t},[]).join(", ");s._reportError(h("Invalid "+(r||"provider")+" - only instances of Provider and Type are allowed, got: ["+l+"]"),o)}c.token===oe(xa.ANALYZE_FOR_ENTRY_COMPONENTS)?e.push.apply(e,s._getEntryComponentsFromProvider(c,o)):i.push(s.getProviderMetadata(c))}}),i},t.prototype._validateProvider=function(t){t.hasOwnProperty("useClass")&&null==t.useClass&&this._reportError(h("Invalid provider for "+nn(t.provide)+". useClass cannot be "+t.useClass+".\n           Usually it happens when:\n           1. There's a circular dependency (might be caused by using index.ts (barrel) files).\n           2. Class was used before it was declared. Use forwardRef in this case."))},t.prototype._getEntryComponentsFromProvider=function(t,e){var n=this,/** @type {?} */r=[],/** @type {?} */i=[];return t.useFactory||t.useExisting||t.useClass?(this._reportError(h("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!"),e),[]):t.multi?(en(t.useValue,i),i.forEach(function(t){var/** @type {?} */e=n._getEntryComponentMetadata(t.reference,!1);e&&r.push(e)}),r):(this._reportError(h("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!"),e),[])},t.prototype._getEntryComponentMetadata=function(t,e){void 0===e&&(e=!0);var/** @type {?} */n=this.getNonNormalizedDirectiveMetadata(t);if(n&&n.metadata.isComponent)return{componentType:t,componentFactory:n.metadata.componentFactory};var/** @type {?} */r=this._loadSummary(t,Si.Directive);if(r&&r.isComponent)return{componentType:t,componentFactory:r.componentFactory};if(e)throw h(t.name+" cannot be used as an entry component.")},t.prototype.getProviderMetadata=function(t){var/** @type {?} */e,/** @type {?} */n=null,/** @type {?} */r=null,/** @type {?} */i=this._getTokenMetadata(t.token);
// use the compileTypeMetadata as it contains information about lifecycleHooks...
return t.useClass?(n=this._getInjectableMetadata(t.useClass,t.dependencies),e=n.diDeps,t.token===t.useClass&&(i={identifier:n})):t.useFactory&&(r=this._getFactoryMetadata(t.useFactory,t.dependencies),e=r.diDeps),{token:i,useClass:n,useValue:t.useValue,useFactory:r,useExisting:t.useExisting?this._getTokenMetadata(t.useExisting):null,deps:e,multi:t.multi}},t.prototype._getQueriesMetadata=function(t,e,n){var r=this,/** @type {?} */i=[];return Object.keys(t).forEach(function(o){var/** @type {?} */s=t[o];s.isViewQuery===e&&i.push(r._getQueryMetadata(s,o,n))}),i},t.prototype._queryVarBindings=function(t){return t.split(/\s*,\s*/)},t.prototype._getQueryMetadata=function(t,e,n){var/** @type {?} */r,i=this;return"string"==typeof t.selector?r=this._queryVarBindings(t.selector).map(function(t){return i._getTokenMetadata(t)}):(t.selector||this._reportError(h("Can't construct a query for the property \""+e+'" of "'+nn(n)+"\" since the query selector wasn't defined."),n),r=[this._getTokenMetadata(t.selector)]),{selectors:r,first:t.first,descendants:t.descendants,propertyName:e,read:t.read?this._getTokenMetadata(t.read):null}},t.prototype._reportError=function(t,e,n){if(!this._errorCollector)throw t;this._errorCollector(t,e),n&&this._errorCollector(t,n)},t}();Tu.decorators=[{type:F}],/**
 * @nocollapse
 */
Tu.ctorParameters=function(){return[{type:Ii},{type:Su},{type:xu},{type:Nu},{type:Mu},{type:Pa},{type:bu},{type:Vr["Console"]},{type:ii,decorators:[{type:Vr.Optional}]},{type:Vr["ReflectorReader"]},{type:void 0,decorators:[{type:Vr.Optional},{type:Vr.Inject,args:[Ou]}]}]};var Au=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}/**
     * @param {?} value
     * @param {?} targetIdentifiers
     * @return {?}
     */
return Br(e,t),e.prototype.visitOther=function(t,e){e.push({reference:t})},e}(yi),Pu={};Pu.Const=0,Pu[Pu.Const]="Const";/**
 * @abstract
 */
var ku=function(){/**
     * @param {?=} modifiers
     */
function t(t){void 0===t&&(t=null),this.modifiers=t,t||(this.modifiers=[])}/**
     * @abstract
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} modifier
     * @return {?}
     */
return t.prototype.visitType=function(t,e){},t.prototype.hasModifier=function(t){return-1!==this.modifiers.indexOf(t)},t}(),Iu={};Iu.Dynamic=0,Iu.Bool=1,Iu.String=2,Iu.Int=3,Iu.Number=4,Iu.Function=5,Iu.Inferred=6,Iu[Iu.Dynamic]="Dynamic",Iu[Iu.Bool]="Bool",Iu[Iu.String]="String",Iu[Iu.Int]="Int",Iu[Iu.Number]="Number",Iu[Iu.Function]="Function",Iu[Iu.Inferred]="Inferred";var Ru=function(t){/**
     * @param {?} name
     * @param {?=} modifiers
     */
function e(e,n){void 0===n&&(n=null);var r=t.call(this,n)||this;return r.name=e,r}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitType=function(t,e){return t.visitBuiltintType(this,e)},e}(ku),ju=function(t){/**
     * @param {?} value
     * @param {?=} modifiers
     */
function e(e,n){void 0===n&&(n=null);var r=t.call(this,n)||this;return r.value=e,r}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitType=function(t,e){return t.visitExpressionType(this,e)},e}(ku),Du=function(t){/**
     * @param {?} of
     * @param {?=} modifiers
     */
function e(e,n){void 0===n&&(n=null);var r=t.call(this,n)||this;return r.of=e,r}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitType=function(t,e){return t.visitArrayType(this,e)},e}(ku),Lu=function(t){/**
     * @param {?} valueType
     * @param {?=} modifiers
     */
function e(e,n){void 0===n&&(n=null);var r=t.call(this,n)||this;return r.valueType=e,r}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitType=function(t,e){return t.visitMapType(this,e)},e}(ku),Fu=new Ru(Iu.Dynamic),Uu=new Ru(Iu.Inferred),Vu=new Ru(Iu.Bool),Bu=(new Ru(Iu.Int),new Ru(Iu.Number),new Ru(Iu.String),new Ru(Iu.Function),{});Bu.Equals=0,Bu.NotEquals=1,Bu.Identical=2,Bu.NotIdentical=3,Bu.Minus=4,Bu.Plus=5,Bu.Divide=6,Bu.Multiply=7,Bu.Modulo=8,Bu.And=9,Bu.Or=10,Bu.Lower=11,Bu.LowerEquals=12,Bu.Bigger=13,Bu.BiggerEquals=14,Bu[Bu.Equals]="Equals",Bu[Bu.NotEquals]="NotEquals",Bu[Bu.Identical]="Identical",Bu[Bu.NotIdentical]="NotIdentical",Bu[Bu.Minus]="Minus",Bu[Bu.Plus]="Plus",Bu[Bu.Divide]="Divide",Bu[Bu.Multiply]="Multiply",Bu[Bu.Modulo]="Modulo",Bu[Bu.And]="And",Bu[Bu.Or]="Or",Bu[Bu.Lower]="Lower",Bu[Bu.LowerEquals]="LowerEquals",Bu[Bu.Bigger]="Bigger",Bu[Bu.BiggerEquals]="BiggerEquals";/**
 * @abstract
 */
var zu=function(){/**
     * @param {?} type
     * @param {?=} sourceSpan
     */
function t(t,e){this.type=t,this.sourceSpan=e}/**
     * @abstract
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} name
     * @param {?=} sourceSpan
     * @return {?}
     */
/**
     * @param {?} index
     * @param {?=} type
     * @param {?=} sourceSpan
     * @return {?}
     */
/**
     * @param {?} name
     * @param {?} params
     * @param {?=} sourceSpan
     * @return {?}
     */
/**
     * @param {?} params
     * @param {?=} sourceSpan
     * @return {?}
     */
/**
     * @param {?} params
     * @param {?=} type
     * @param {?=} sourceSpan
     * @return {?}
     */
/**
     * @param {?} trueCase
     * @param {?=} falseCase
     * @param {?=} sourceSpan
     * @return {?}
     */
/**
     * @param {?} rhs
     * @param {?=} sourceSpan
     * @return {?}
     */
/**
     * @param {?} rhs
     * @param {?=} sourceSpan
     * @return {?}
     */
/**
     * @param {?} rhs
     * @param {?=} sourceSpan
     * @return {?}
     */
/**
     * @param {?} rhs
     * @param {?=} sourceSpan
     * @return {?}
     */
/**
     * @param {?} rhs
     * @param {?=} sourceSpan
     * @return {?}
     */
/**
     * @param {?} rhs
     * @param {?=} sourceSpan
     * @return {?}
     */
/**
     * @param {?} rhs
     * @param {?=} sourceSpan
     * @return {?}
     */
/**
     * @param {?} rhs
     * @param {?=} sourceSpan
     * @return {?}
     */
/**
     * @param {?} rhs
     * @param {?=} sourceSpan
     * @return {?}
     */
/**
     * @param {?} rhs
     * @param {?=} sourceSpan
     * @return {?}
     */
/**
     * @param {?} rhs
     * @param {?=} sourceSpan
     * @return {?}
     */
/**
     * @param {?} rhs
     * @param {?=} sourceSpan
     * @return {?}
     */
/**
     * @param {?} rhs
     * @param {?=} sourceSpan
     * @return {?}
     */
/**
     * @param {?} rhs
     * @param {?=} sourceSpan
     * @return {?}
     */
/**
     * @param {?} rhs
     * @param {?=} sourceSpan
     * @return {?}
     */
/**
     * @param {?=} sourceSpan
     * @return {?}
     */
/**
     * @param {?} type
     * @param {?=} sourceSpan
     * @return {?}
     */
/**
     * @return {?}
     */
return t.prototype.visitExpression=function(t,e){},t.prototype.prop=function(t,e){return new sc(this,t,null,e)},t.prototype.key=function(t,e,n){return void 0===e&&(e=null),new ac(this,t,e,n)},t.prototype.callMethod=function(t,e,n){return new Xu(this,t,e,null,n)},t.prototype.callFn=function(t,e){return new Zu(this,t,null,e)},t.prototype.instantiate=function(t,e,n){return void 0===e&&(e=null),new Ku(this,t,e,n)},t.prototype.conditional=function(t,e,n){return void 0===e&&(e=null),new tc(this,t,e,null,n)},t.prototype.equals=function(t,e){return new oc(Bu.Equals,this,t,null,e)},t.prototype.notEquals=function(t,e){return new oc(Bu.NotEquals,this,t,null,e)},t.prototype.identical=function(t,e){return new oc(Bu.Identical,this,t,null,e)},t.prototype.notIdentical=function(t,e){return new oc(Bu.NotIdentical,this,t,null,e)},t.prototype.minus=function(t,e){return new oc(Bu.Minus,this,t,null,e)},t.prototype.plus=function(t,e){return new oc(Bu.Plus,this,t,null,e)},t.prototype.divide=function(t,e){return new oc(Bu.Divide,this,t,null,e)},t.prototype.multiply=function(t,e){return new oc(Bu.Multiply,this,t,null,e)},t.prototype.modulo=function(t,e){return new oc(Bu.Modulo,this,t,null,e)},t.prototype.and=function(t,e){return new oc(Bu.And,this,t,null,e)},t.prototype.or=function(t,e){return new oc(Bu.Or,this,t,null,e)},t.prototype.lower=function(t,e){return new oc(Bu.Lower,this,t,null,e)},t.prototype.lowerEquals=function(t,e){return new oc(Bu.LowerEquals,this,t,null,e)},t.prototype.bigger=function(t,e){return new oc(Bu.Bigger,this,t,null,e)},t.prototype.biggerEquals=function(t,e){return new oc(Bu.BiggerEquals,this,t,null,e)},t.prototype.isBlank=function(t){
// Note: We use equals by purpose here to compare to null and undefined in JS.
// We use the typed null to allow strictNullChecks to narrow types.
return this.equals(mc,t)},t.prototype.cast=function(t,e){return new nc(this,t,e)},t.prototype.toStmt=function(){return new wc(this)},t}(),qu={};qu.This=0,qu.Super=1,qu.CatchError=2,qu.CatchStack=3,qu[qu.This]="This",qu[qu.Super]="Super",qu[qu.CatchError]="CatchError",qu[qu.CatchStack]="CatchStack";var Hu=function(t){/**
     * @param {?} name
     * @param {?=} type
     * @param {?=} sourceSpan
     */
function e(e,n,r){void 0===n&&(n=null);var i=t.call(this,n,r)||this;return"string"==typeof e?(i.name=e,i.builtin=null):(i.name=null,i.builtin=e),i}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} value
     * @return {?}
     */
return Br(e,t),e.prototype.visitExpression=function(t,e){return t.visitReadVarExpr(this,e)},e.prototype.set=function(t){return new Gu(this.name,t,null,this.sourceSpan)},e}(zu),Gu=function(t){/**
     * @param {?} name
     * @param {?} value
     * @param {?=} type
     * @param {?=} sourceSpan
     */
function e(e,n,r,i){void 0===r&&(r=null);var o=t.call(this,r||n.type,i)||this;return o.name=e,o.value=n,o}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?=} type
     * @param {?=} modifiers
     * @return {?}
     */
return Br(e,t),e.prototype.visitExpression=function(t,e){return t.visitWriteVarExpr(this,e)},e.prototype.toDeclStmt=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=null),new gc(this.name,this.value,t,e,this.sourceSpan)},e}(zu),Wu=function(t){/**
     * @param {?} receiver
     * @param {?} index
     * @param {?} value
     * @param {?=} type
     * @param {?=} sourceSpan
     */
function e(e,n,r,i,o){void 0===i&&(i=null);var s=t.call(this,i||r.type,o)||this;return s.receiver=e,s.index=n,s.value=r,s}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitExpression=function(t,e){return t.visitWriteKeyExpr(this,e)},e}(zu),$u=function(t){/**
     * @param {?} receiver
     * @param {?} name
     * @param {?} value
     * @param {?=} type
     * @param {?=} sourceSpan
     */
function e(e,n,r,i,o){void 0===i&&(i=null);var s=t.call(this,i||r.type,o)||this;return s.receiver=e,s.name=n,s.value=r,s}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitExpression=function(t,e){return t.visitWritePropExpr(this,e)},e}(zu),Yu={};Yu.ConcatArray=0,Yu.SubscribeObservable=1,Yu.Bind=2,Yu[Yu.ConcatArray]="ConcatArray",Yu[Yu.SubscribeObservable]="SubscribeObservable",Yu[Yu.Bind]="Bind";var Xu=function(t){/**
     * @param {?} receiver
     * @param {?} method
     * @param {?} args
     * @param {?=} type
     * @param {?=} sourceSpan
     */
function e(e,n,r,i,o){void 0===i&&(i=null);var s=t.call(this,i,o)||this;return s.receiver=e,s.args=r,"string"==typeof n?(s.name=n,s.builtin=null):(s.name=null,s.builtin=n),s}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitExpression=function(t,e){return t.visitInvokeMethodExpr(this,e)},e}(zu),Zu=function(t){/**
     * @param {?} fn
     * @param {?} args
     * @param {?=} type
     * @param {?=} sourceSpan
     */
function e(e,n,r,i){void 0===r&&(r=null);var o=t.call(this,r,i)||this;return o.fn=e,o.args=n,o}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitExpression=function(t,e){return t.visitInvokeFunctionExpr(this,e)},e}(zu),Ku=function(t){/**
     * @param {?} classExpr
     * @param {?} args
     * @param {?=} type
     * @param {?=} sourceSpan
     */
function e(e,n,r,i){var o=t.call(this,r,i)||this;return o.classExpr=e,o.args=n,o}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitExpression=function(t,e){return t.visitInstantiateExpr(this,e)},e}(zu),Qu=function(t){/**
     * @param {?} value
     * @param {?=} type
     * @param {?=} sourceSpan
     */
function e(e,n,r){void 0===n&&(n=null);var i=t.call(this,n,r)||this;return i.value=e,i}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitExpression=function(t,e){return t.visitLiteralExpr(this,e)},e}(zu),Ju=function(t){/**
     * @param {?} value
     * @param {?=} type
     * @param {?=} typeParams
     * @param {?=} sourceSpan
     */
function e(e,n,r,i){void 0===n&&(n=null),void 0===r&&(r=null);var o=t.call(this,n,i)||this;return o.value=e,o.typeParams=r,o}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitExpression=function(t,e){return t.visitExternalExpr(this,e)},e}(zu),tc=function(t){/**
     * @param {?} condition
     * @param {?} trueCase
     * @param {?=} falseCase
     * @param {?=} type
     * @param {?=} sourceSpan
     */
function e(e,n,r,i,o){void 0===r&&(r=null),void 0===i&&(i=null);var s=t.call(this,i||n.type,o)||this;return s.condition=e,s.falseCase=r,s.trueCase=n,s}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitExpression=function(t,e){return t.visitConditionalExpr(this,e)},e}(zu),ec=function(t){/**
     * @param {?} condition
     * @param {?=} sourceSpan
     */
function e(e,n){var r=t.call(this,Vu,n)||this;return r.condition=e,r}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitExpression=function(t,e){return t.visitNotExpr(this,e)},e}(zu),nc=function(t){/**
     * @param {?} value
     * @param {?} type
     * @param {?=} sourceSpan
     */
function e(e,n,r){var i=t.call(this,n,r)||this;return i.value=e,i}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitExpression=function(t,e){return t.visitCastExpr(this,e)},e}(zu),rc=function(){/**
     * @param {?} name
     * @param {?=} type
     */
function t(t,e){void 0===e&&(e=null),this.name=t,this.type=e}return t}(),ic=function(t){/**
     * @param {?} params
     * @param {?} statements
     * @param {?=} type
     * @param {?=} sourceSpan
     */
function e(e,n,r,i){void 0===r&&(r=null);var o=t.call(this,r,i)||this;return o.params=e,o.statements=n,o}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} name
     * @param {?=} modifiers
     * @return {?}
     */
return Br(e,t),e.prototype.visitExpression=function(t,e){return t.visitFunctionExpr(this,e)},e.prototype.toDeclStmt=function(t,e){return void 0===e&&(e=null),new bc(t,this.params,this.statements,this.type,e,this.sourceSpan)},e}(zu),oc=function(t){/**
     * @param {?} operator
     * @param {?} lhs
     * @param {?} rhs
     * @param {?=} type
     * @param {?=} sourceSpan
     */
function e(e,n,r,i,o){void 0===i&&(i=null);var s=t.call(this,i||n.type,o)||this;return s.operator=e,s.rhs=r,s.lhs=n,s}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitExpression=function(t,e){return t.visitBinaryOperatorExpr(this,e)},e}(zu),sc=function(t){/**
     * @param {?} receiver
     * @param {?} name
     * @param {?=} type
     * @param {?=} sourceSpan
     */
function e(e,n,r,i){void 0===r&&(r=null);var o=t.call(this,r,i)||this;return o.receiver=e,o.name=n,o}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} value
     * @return {?}
     */
return Br(e,t),e.prototype.visitExpression=function(t,e){return t.visitReadPropExpr(this,e)},e.prototype.set=function(t){return new $u(this.receiver,this.name,t,null,this.sourceSpan)},e}(zu),ac=function(t){/**
     * @param {?} receiver
     * @param {?} index
     * @param {?=} type
     * @param {?=} sourceSpan
     */
function e(e,n,r,i){void 0===r&&(r=null);var o=t.call(this,r,i)||this;return o.receiver=e,o.index=n,o}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} value
     * @return {?}
     */
return Br(e,t),e.prototype.visitExpression=function(t,e){return t.visitReadKeyExpr(this,e)},e.prototype.set=function(t){return new Wu(this.receiver,this.index,t,null,this.sourceSpan)},e}(zu),uc=function(t){/**
     * @param {?} entries
     * @param {?=} type
     * @param {?=} sourceSpan
     */
function e(e,n,r){void 0===n&&(n=null);var i=t.call(this,n,r)||this;return i.entries=e,i}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitExpression=function(t,e){return t.visitLiteralArrayExpr(this,e)},e}(zu),cc=function(){/**
     * @param {?} key
     * @param {?} value
     * @param {?=} quoted
     */
function t(t,e,n){void 0===n&&(n=!1),this.key=t,this.value=e,this.quoted=n}return t}(),lc=function(t){/**
     * @param {?} entries
     * @param {?=} type
     * @param {?=} sourceSpan
     */
function e(e,n,r){void 0===n&&(n=null);var i=t.call(this,n,r)||this;return i.entries=e,i.valueType=null,n&&(i.valueType=n.valueType),i}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitExpression=function(t,e){return t.visitLiteralMapExpr(this,e)},e}(zu),fc=function(t){/**
     * @param {?} parts
     * @param {?=} sourceSpan
     */
function e(e,n){var r=t.call(this,e[e.length-1].type,n)||this;return r.parts=e,r}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitExpression=function(t,e){return t.visitCommaExpr(this,e)},e}(zu),pc=new Hu(qu.This),hc=new Hu(qu.Super),dc=(new Hu(qu.CatchError),new Hu(qu.CatchStack),new Qu(null,null)),mc=new Qu(null,Uu),vc={};vc.Final=0,vc.Private=1,vc[vc.Final]="Final",vc[vc.Private]="Private";/**
 * @abstract
 */
var yc=function(){/**
     * @param {?=} modifiers
     * @param {?=} sourceSpan
     */
function t(t,e){void 0===t&&(t=null),this.modifiers=t,this.sourceSpan=e,t||(this.modifiers=[])}/**
     * @abstract
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} modifier
     * @return {?}
     */
return t.prototype.visitStatement=function(t,e){},t.prototype.hasModifier=function(t){return-1!==this.modifiers.indexOf(t)},t}(),gc=function(t){/**
     * @param {?} name
     * @param {?} value
     * @param {?=} type
     * @param {?=} modifiers
     * @param {?=} sourceSpan
     */
function e(e,n,r,i,o){void 0===r&&(r=null),void 0===i&&(i=null);var s=t.call(this,i,o)||this;return s.name=e,s.value=n,s.type=r||n.type,s}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitStatement=function(t,e){return t.visitDeclareVarStmt(this,e)},e}(yc),bc=function(t){/**
     * @param {?} name
     * @param {?} params
     * @param {?} statements
     * @param {?=} type
     * @param {?=} modifiers
     * @param {?=} sourceSpan
     */
function e(e,n,r,i,o,s){void 0===i&&(i=null),void 0===o&&(o=null);var a=t.call(this,o,s)||this;return a.name=e,a.params=n,a.statements=r,a.type=i,a}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitStatement=function(t,e){return t.visitDeclareFunctionStmt(this,e)},e}(yc),wc=function(t){/**
     * @param {?} expr
     * @param {?=} sourceSpan
     */
function e(e,n){var r=t.call(this,null,n)||this;return r.expr=e,r}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitStatement=function(t,e){return t.visitExpressionStmt(this,e)},e}(yc),_c=function(t){/**
     * @param {?} value
     * @param {?=} sourceSpan
     */
function e(e,n){var r=t.call(this,null,n)||this;return r.value=e,r}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitStatement=function(t,e){return t.visitReturnStmt(this,e)},e}(yc),xc=function(){/**
     * @param {?=} type
     * @param {?=} modifiers
     */
function t(t,e){void 0===t&&(t=null),this.type=t,this.modifiers=e,e||(this.modifiers=[])}/**
     * @param {?} modifier
     * @return {?}
     */
return t.prototype.hasModifier=function(t){return-1!==this.modifiers.indexOf(t)},t}(),Ec=function(t){/**
     * @param {?} name
     * @param {?=} type
     * @param {?=} modifiers
     */
function e(e,n,r){void 0===n&&(n=null),void 0===r&&(r=null);var i=t.call(this,n,r)||this;return i.name=e,i}return Br(e,t),e}(xc),Cc=function(t){/**
     * @param {?} name
     * @param {?} params
     * @param {?} body
     * @param {?=} type
     * @param {?=} modifiers
     */
function e(e,n,r,i,o){void 0===i&&(i=null),void 0===o&&(o=null);var s=t.call(this,i,o)||this;return s.name=e,s.params=n,s.body=r,s}return Br(e,t),e}(xc),Sc=function(t){/**
     * @param {?} name
     * @param {?} body
     * @param {?=} type
     * @param {?=} modifiers
     */
function e(e,n,r,i){void 0===r&&(r=null),void 0===i&&(i=null);var o=t.call(this,r,i)||this;return o.name=e,o.body=n,o}return Br(e,t),e}(xc),Nc=function(t){/**
     * @param {?} name
     * @param {?} parent
     * @param {?} fields
     * @param {?} getters
     * @param {?} constructorMethod
     * @param {?} methods
     * @param {?=} modifiers
     * @param {?=} sourceSpan
     */
function e(e,n,r,i,o,s,a,u){void 0===a&&(a=null);var c=t.call(this,a,u)||this;return c.name=e,c.parent=n,c.fields=r,c.getters=i,c.constructorMethod=o,c.methods=s,c}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitStatement=function(t,e){return t.visitDeclareClassStmt(this,e)},e}(yc),Mc=function(t){/**
     * @param {?} condition
     * @param {?} trueCase
     * @param {?=} falseCase
     * @param {?=} sourceSpan
     */
function e(e,n,r,i){void 0===r&&(r=[]);var o=t.call(this,null,i)||this;return o.condition=e,o.trueCase=n,o.falseCase=r,o}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitStatement=function(t,e){return t.visitIfStmt(this,e)},e}(yc),Oc=function(t){/**
     * @param {?} bodyStmts
     * @param {?} catchStmts
     * @param {?=} sourceSpan
     */
function e(e,n,r){var i=t.call(this,null,r)||this;return i.bodyStmts=e,i.catchStmts=n,i}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitStatement=function(t,e){return t.visitTryCatchStmt(this,e)},e}(yc),Tc=function(t){/**
     * @param {?} error
     * @param {?=} sourceSpan
     */
function e(e,n){var r=t.call(this,null,n)||this;return r.error=e,r}/**
     * @param {?} visitor
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitStatement=function(t,e){return t.visitThrowStmt(this,e)},e}(yc),Ac=function(){function t(){}/**
     * @param {?} expr
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} expr
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} expr
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} expr
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} exprs
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} stmts
     * @param {?} context
     * @return {?}
     */
return t.prototype.transformExpr=function(t,e){return t},t.prototype.transformStmt=function(t,e){return t},t.prototype.visitReadVarExpr=function(t,e){return this.transformExpr(t,e)},t.prototype.visitWriteVarExpr=function(t,e){return this.transformExpr(new Gu(t.name,t.value.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitWriteKeyExpr=function(t,e){return this.transformExpr(new Wu(t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.value.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitWritePropExpr=function(t,e){return this.transformExpr(new $u(t.receiver.visitExpression(this,e),t.name,t.value.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitInvokeMethodExpr=function(t,e){var/** @type {?} */n=t.builtin||t.name;return this.transformExpr(new Xu(t.receiver.visitExpression(this,e),n,this.visitAllExpressions(t.args,e),t.type,t.sourceSpan),e)},t.prototype.visitInvokeFunctionExpr=function(t,e){return this.transformExpr(new Zu(t.fn.visitExpression(this,e),this.visitAllExpressions(t.args,e),t.type,t.sourceSpan),e)},t.prototype.visitInstantiateExpr=function(t,e){return this.transformExpr(new Ku(t.classExpr.visitExpression(this,e),this.visitAllExpressions(t.args,e),t.type,t.sourceSpan),e)},t.prototype.visitLiteralExpr=function(t,e){return this.transformExpr(t,e)},t.prototype.visitExternalExpr=function(t,e){return this.transformExpr(t,e)},t.prototype.visitConditionalExpr=function(t,e){return this.transformExpr(new tc(t.condition.visitExpression(this,e),t.trueCase.visitExpression(this,e),t.falseCase.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitNotExpr=function(t,e){return this.transformExpr(new ec(t.condition.visitExpression(this,e),t.sourceSpan),e)},t.prototype.visitCastExpr=function(t,e){return this.transformExpr(new nc(t.value.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitFunctionExpr=function(t,e){return this.transformExpr(new ic(t.params,this.visitAllStatements(t.statements,e),t.type,t.sourceSpan),e)},t.prototype.visitBinaryOperatorExpr=function(t,e){return this.transformExpr(new oc(t.operator,t.lhs.visitExpression(this,e),t.rhs.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitReadPropExpr=function(t,e){return this.transformExpr(new sc(t.receiver.visitExpression(this,e),t.name,t.type,t.sourceSpan),e)},t.prototype.visitReadKeyExpr=function(t,e){return this.transformExpr(new ac(t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.type,t.sourceSpan),e)},t.prototype.visitLiteralArrayExpr=function(t,e){return this.transformExpr(new uc(this.visitAllExpressions(t.entries,e),t.type,t.sourceSpan),e)},t.prototype.visitLiteralMapExpr=function(t,e){var n=this,/** @type {?} */r=t.entries.map(function(t){return new cc(t.key,t.value.visitExpression(n,e),t.quoted)}),/** @type {?} */i=new Lu(t.valueType);return this.transformExpr(new lc(r,i,t.sourceSpan),e)},t.prototype.visitCommaExpr=function(t,e){return this.transformExpr(new fc(this.visitAllExpressions(t.parts,e),t.sourceSpan),e)},t.prototype.visitAllExpressions=function(t,e){var n=this;return t.map(function(t){return t.visitExpression(n,e)})},t.prototype.visitDeclareVarStmt=function(t,e){return this.transformStmt(new gc(t.name,t.value.visitExpression(this,e),t.type,t.modifiers,t.sourceSpan),e)},t.prototype.visitDeclareFunctionStmt=function(t,e){return this.transformStmt(new bc(t.name,t.params,this.visitAllStatements(t.statements,e),t.type,t.modifiers,t.sourceSpan),e)},t.prototype.visitExpressionStmt=function(t,e){return this.transformStmt(new wc(t.expr.visitExpression(this,e),t.sourceSpan),e)},t.prototype.visitReturnStmt=function(t,e){return this.transformStmt(new _c(t.value.visitExpression(this,e),t.sourceSpan),e)},t.prototype.visitDeclareClassStmt=function(t,e){var n=this,/** @type {?} */r=t.parent.visitExpression(this,e),/** @type {?} */i=t.getters.map(function(t){return new Sc(t.name,n.visitAllStatements(t.body,e),t.type,t.modifiers)}),/** @type {?} */o=t.constructorMethod&&new Cc(t.constructorMethod.name,t.constructorMethod.params,this.visitAllStatements(t.constructorMethod.body,e),t.constructorMethod.type,t.constructorMethod.modifiers),/** @type {?} */s=t.methods.map(function(t){return new Cc(t.name,t.params,n.visitAllStatements(t.body,e),t.type,t.modifiers)});return this.transformStmt(new Nc(t.name,r,t.fields,i,o,s,t.modifiers,t.sourceSpan),e)},t.prototype.visitIfStmt=function(t,e){return this.transformStmt(new Mc(t.condition.visitExpression(this,e),this.visitAllStatements(t.trueCase,e),this.visitAllStatements(t.falseCase,e),t.sourceSpan),e)},t.prototype.visitTryCatchStmt=function(t,e){return this.transformStmt(new Oc(this.visitAllStatements(t.bodyStmts,e),this.visitAllStatements(t.catchStmts,e),t.sourceSpan),e)},t.prototype.visitThrowStmt=function(t,e){return this.transformStmt(new Tc(t.error.visitExpression(this,e),t.sourceSpan),e)},t.prototype.visitCommentStmt=function(t,e){return this.transformStmt(t,e)},t.prototype.visitAllStatements=function(t,e){var n=this;return t.map(function(t){return t.visitStatement(n,e)})},t}(),Pc=function(){function t(){}/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} expr
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} expr
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} expr
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} exprs
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} stmts
     * @param {?} context
     * @return {?}
     */
return t.prototype.visitReadVarExpr=function(t,e){return t},t.prototype.visitWriteVarExpr=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitWriteKeyExpr=function(t,e){return t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t.value.visitExpression(this,e),t},t.prototype.visitWritePropExpr=function(t,e){return t.receiver.visitExpression(this,e),t.value.visitExpression(this,e),t},t.prototype.visitInvokeMethodExpr=function(t,e){return t.receiver.visitExpression(this,e),this.visitAllExpressions(t.args,e),t},t.prototype.visitInvokeFunctionExpr=function(t,e){return t.fn.visitExpression(this,e),this.visitAllExpressions(t.args,e),t},t.prototype.visitInstantiateExpr=function(t,e){return t.classExpr.visitExpression(this,e),this.visitAllExpressions(t.args,e),t},t.prototype.visitLiteralExpr=function(t,e){return t},t.prototype.visitExternalExpr=function(t,e){return t},t.prototype.visitConditionalExpr=function(t,e){return t.condition.visitExpression(this,e),t.trueCase.visitExpression(this,e),t.falseCase.visitExpression(this,e),t},t.prototype.visitNotExpr=function(t,e){return t.condition.visitExpression(this,e),t},t.prototype.visitCastExpr=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitFunctionExpr=function(t,e){return this.visitAllStatements(t.statements,e),t},t.prototype.visitBinaryOperatorExpr=function(t,e){return t.lhs.visitExpression(this,e),t.rhs.visitExpression(this,e),t},t.prototype.visitReadPropExpr=function(t,e){return t.receiver.visitExpression(this,e),t},t.prototype.visitReadKeyExpr=function(t,e){return t.receiver.visitExpression(this,e),t.index.visitExpression(this,e),t},t.prototype.visitLiteralArrayExpr=function(t,e){return this.visitAllExpressions(t.entries,e),t},t.prototype.visitLiteralMapExpr=function(t,e){var n=this;return t.entries.forEach(function(t){return t.value.visitExpression(n,e)}),t},t.prototype.visitCommaExpr=function(t,e){this.visitAllExpressions(t.parts,e)},t.prototype.visitAllExpressions=function(t,e){var n=this;t.forEach(function(t){return t.visitExpression(n,e)})},t.prototype.visitDeclareVarStmt=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitDeclareFunctionStmt=function(t,e){return this.visitAllStatements(t.statements,e),t},t.prototype.visitExpressionStmt=function(t,e){return t.expr.visitExpression(this,e),t},t.prototype.visitReturnStmt=function(t,e){return t.value.visitExpression(this,e),t},t.prototype.visitDeclareClassStmt=function(t,e){var n=this;return t.parent.visitExpression(this,e),t.getters.forEach(function(t){return n.visitAllStatements(t.body,e)}),t.constructorMethod&&this.visitAllStatements(t.constructorMethod.body,e),t.methods.forEach(function(t){return n.visitAllStatements(t.body,e)}),t},t.prototype.visitIfStmt=function(t,e){return t.condition.visitExpression(this,e),this.visitAllStatements(t.trueCase,e),this.visitAllStatements(t.falseCase,e),t},t.prototype.visitTryCatchStmt=function(t,e){return this.visitAllStatements(t.bodyStmts,e),this.visitAllStatements(t.catchStmts,e),t},t.prototype.visitThrowStmt=function(t,e){return t.error.visitExpression(this,e),t},t.prototype.visitCommentStmt=function(t,e){return t},t.prototype.visitAllStatements=function(t,e){var n=this;t.forEach(function(t){return t.visitStatement(n,e)})},t}(),kc=function(t){function e(){var e=t.apply(this,arguments)||this;return e.varNames=new Set,e}/**
     * @param {?} stmt
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitDeclareFunctionStmt=function(t,e){
// Don't descend into nested functions
return t},e.prototype.visitDeclareClassStmt=function(t,e){
// Don't descend into nested classes
return t},e.prototype.visitReadVarExpr=function(t,e){return this.varNames.add(t.name),null},e}(Pc),Ic=function(t){/**
     * @param {?} sourceSpan
     */
function e(e){var n=t.call(this)||this;return n.sourceSpan=e,n}/**
     * @param {?} obj
     * @return {?}
     */
/**
     * @param {?} expr
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype._clone=function(t){var/** @type {?} */e=Object.create(t.constructor.prototype);for(var/** @type {?} */n in t)e[n]=t[n];return e},e.prototype.transformExpr=function(t,e){return t.sourceSpan||(t=this._clone(t),t.sourceSpan=this.sourceSpan),t},e.prototype.transformStmt=function(t,e){return t.sourceSpan||(t=this._clone(t),t.sourceSpan=this.sourceSpan),t},e}(Ac),Rc=function(){function t(){}/**
     * @param {?} arr
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} map
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} value
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} value
     * @param {?} type
     * @return {?}
     */
return t.prototype.visitArray=function(t,e){var n=this;return pn(t.map(function(t){return p(t,n,null)}),e)},t.prototype.visitStringMap=function(t,e){var n=this,/** @type {?} */r=[],/** @type {?} */i=new Set(t&&t.$quoted$);return Object.keys(t).forEach(function(e){r.push(new cc(e,p(t[e],n,null),i.has(e)))}),new lc(r,e)},t.prototype.visitPrimitive=function(t,e){return vn(t,e)},t.prototype.visitOther=function(t,e){return t instanceof zu?t:cn({reference:t})},t}(),jc=function(){/**
     * @param {?} compType
     */
function t(t){this.compType=t}return t}(),Dc=function(){/**
     * @param {?} statements
     * @param {?} ngModuleFactoryVar
     * @param {?} dependencies
     */
function t(t,e,n){this.statements=t,this.ngModuleFactoryVar=e,this.dependencies=n}return t}(),Lc=function(){function t(){}/**
     * @param {?} ngModuleMeta
     * @param {?} extraProviders
     * @return {?}
     */
return t.prototype.compile=function(t,e){var/** @type {?} */n=rt("NgModule",t.type),/** @type {?} */r=[],/** @type {?} */i=[],/** @type {?} */o=t.transitiveModule.entryComponents.map(function(e){return t.bootstrapComponents.some(function(t){return t.reference===e.componentType})&&i.push({reference:e.componentFactory}),r.push(new jc(e.componentType)),{reference:e.componentFactory}}),/** @type {?} */s=new Fc(t,o,i,n);new Aa(t,e,n).parse().forEach(function(t){return s.addProvider(t)});var/** @type {?} */a=s.build(),/** @type {?} */u=g(t.type)+"NgFactory",/** @type {?} */c=un(u).set(cn(se(xa.NgModuleFactory)).instantiate([un(a.name),cn(t.type)],ln(se(xa.NgModuleFactory),[ln(t.type)],[Pu.Const]))).toDeclStmt(null,[vc.Final]),/** @type {?} */l=[a,c];if(t.id){var/** @type {?} */f=cn(se(xa.RegisterModuleFactoryFn)).callFn([vn(t.id),un(u)]).toStmt();l.push(f)}return new Dc(l,u,r)},t}();Lc.decorators=[{type:F}],/**
 * @nocollapse
 */
Lc.ctorParameters=function(){return[]};var Fc=function(){/**
     * @param {?} _ngModuleMeta
     * @param {?} _entryComponentFactories
     * @param {?} _bootstrapComponentFactories
     * @param {?} _sourceSpan
     */
function t(t,e,n,r){this._ngModuleMeta=t,this._entryComponentFactories=e,this._bootstrapComponentFactories=n,this._sourceSpan=r,this.fields=[],this.getters=[],this.methods=[],this.ctorStmts=[],this._lazyProps=new Map,this._tokens=[],this._instances=new Map,this._createStmts=[],this._destroyStmts=[]}/**
     * @param {?} resolvedProvider
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} provider
     * @return {?}
     */
/**
     * @param {?} propName
     * @param {?} provider
     * @param {?} providerValueExpressions
     * @param {?} isMulti
     * @param {?} isEager
     * @return {?}
     */
/**
     * @param {?} dep
     * @return {?}
     */
return t.prototype.addProvider=function(t){var e=this,/** @type {?} */n=t.providers.map(function(t){return e._getProviderValue(t)}),/** @type {?} */r="_"+C(t.token)+"_"+this._instances.size,/** @type {?} */i=this._createProviderProperty(r,t,n,t.multiProvider,t.eager);if(-1!==t.lifecycleHooks.indexOf(Vr["LifecycleHooks"].OnDestroy)){var/** @type {?} */o=i.callMethod("ngOnDestroy",[]);t.eager||(o=this._lazyProps.get(i.name).and(o)),this._destroyStmts.push(o.toStmt())}this._tokens.push(t.token),this._instances.set(S(t.token),i)},t.prototype.build=function(){var t=this,/** @type {?} */e=this._tokens.map(function(e){var/** @type {?} */n=t._instances.get(S(e));return new Mc(Vc.token.identical(wn(e)),[new _c(n)])}),/** @type {?} */n=[new Cc("createInternal",[],this._createStmts.concat(new _c(this._instances.get(this._ngModuleMeta.type.reference))),ln(this._ngModuleMeta.type)),new Cc("getInternal",[new rc(Vc.token.name,Fu),new rc(Vc.notFoundResult.name,Fu)],e.concat([new _c(Vc.notFoundResult)]),Fu),new Cc("destroyInternal",[],this._destroyStmts)],/** @type {?} */r=[un(Uc.parent.name),pn(this._entryComponentFactories.map(function(t){return cn(t)})),pn(this._bootstrapComponentFactories.map(function(t){return cn(t)}))];return yn({name:g(this._ngModuleMeta.type)+"Injector",ctorParams:[new rc(Uc.parent.name,ln(se(xa.Injector)))],parent:cn(se(xa.NgModuleInjector),[ln(this._ngModuleMeta.type)]),parentArgs:r,builders:[{methods:n},this]})},t.prototype._getProviderValue=function(t){var/** @type {?} */e,n=this;if(null!=t.useExisting)e=this._getDependency({token:t.useExisting});else if(null!=t.useFactory){var/** @type {?} */r=t.deps||t.useFactory.diDeps,/** @type {?} */i=r.map(function(t){return n._getDependency(t)});e=cn(t.useFactory).callFn(i)}else if(null!=t.useClass){var/** @type {?} */r=t.deps||t.useClass.diDeps,/** @type {?} */i=r.map(function(t){return n._getDependency(t)});e=cn(t.useClass).instantiate(i,ln(t.useClass))}else e=bn(t.useValue);return e},t.prototype._createProviderProperty=function(t,e,n,r,i){var/** @type {?} */o,/** @type {?} */s;if(r?(o=pn(n),s=new Du(Fu)):(o=n[0],s=n[0].type),s||(s=Fu),i)this.fields.push(new Ec(t,s)),this._createStmts.push(pc.prop(t).set(o).toStmt());else{var/** @type {?} */a=pc.prop("_"+t);this.fields.push(new Ec(a.name,s));
// Note: Equals is important for JS so that it also checks the undefined case!
var/** @type {?} */u=[new Mc(a.isBlank(),[a.set(o).toStmt()]),new _c(a)];this.getters.push(new Sc(t,u,s)),this._lazyProps.set(t,a)}return pc.prop(t)},t.prototype._getDependency=function(t){var/** @type {?} */e=null;if(t.isValue&&(e=vn(t.value)),t.isSkipSelf||(t.token&&(S(t.token)===oe(xa.Injector)?e=pc:S(t.token)===oe(xa.ComponentFactoryResolver)&&(e=pc.prop("componentFactoryResolver"))),e||(e=this._instances.get(S(t.token)))),!e){var/** @type {?} */n=[wn(t.token)];t.isOptional&&n.push(dc),e=Uc.parent.callMethod("get",n)}return e},t}(),Uc=function(){function t(){}return t}();Uc.parent=pc.prop("parent");var Vc=function(){function t(){}return t}();Vc.token=un("token"),Vc.notFoundResult=un("notFoundResult");/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
// https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit
var Bc=function(){/**
     * @param {?=} file
     */
function t(t){void 0===t&&(t=null),this.file=t,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}/**
     * @param {?} url
     * @param {?=} content
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} col0
     * @param {?=} sourceUrl
     * @param {?=} sourceLine0
     * @param {?=} sourceCol0
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
return t.prototype.addSource=function(t,e){return void 0===e&&(e=null),this.sourcesContent.has(t)||this.sourcesContent.set(t,e),this},t.prototype.addLine=function(){return this.lines.push([]),this.lastCol0=0,this},t.prototype.addMapping=function(t,e,n,r){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(null!=e&&!this.sourcesContent.has(e))throw new Error('Unknown source file "'+e+'"');if(null==t)throw new Error("The column in the generated code must be provided");if(t<this.lastCol0)throw new Error("Mapping should be added in output order");if(e&&(null==n||null==r))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=t,this.currentLine.push({col0:t,sourceUrl:e,sourceLine0:n,sourceCol0:r}),this},Object.defineProperty(t.prototype,"currentLine",{/**
         * @return {?}
         */
get:function(){return this.lines.slice(-1)[0]},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){var t=this;if(!this.hasMappings)return null;var/** @type {?} */e=new Map,/** @type {?} */n=[],/** @type {?} */r=[];Array.from(this.sourcesContent.keys()).forEach(function(i,o){e.set(i,o),n.push(i),r.push(t.sourcesContent.get(i)||null)});var/** @type {?} */i="",/** @type {?} */o=0,/** @type {?} */s=0,/** @type {?} */a=0,/** @type {?} */u=0;return this.lines.forEach(function(t){o=0,i+=t.map(function(t){
// zero-based starting column of the line in the generated code
var/** @type {?} */n=xn(t.col0-o);
// zero-based index into the sources list
// the zero-based starting line in the original source
// the zero-based starting column in the original source
return o=t.col0,null!=t.sourceUrl&&(n+=xn(e.get(t.sourceUrl)-s),s=e.get(t.sourceUrl),n+=xn(t.sourceLine0-a),a=t.sourceLine0,n+=xn(t.sourceCol0-u),u=t.sourceCol0),n}).join(","),i+=";"}),i=i.slice(0,-1),{file:this.file||"",version:3,sourceRoot:"",sources:n,sourcesContent:r,mappings:i}},t.prototype.toJsComment=function(){return this.hasMappings?"//# sourceMappingURL=data:application/json;base64,"+_n(JSON.stringify(this,null,0)):""},t}(),zc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qc=/'|\\|\n|\r|\$/g,Hc=/^[$A-Z_][0-9A-Z_$]*$/i,Gc="  ",Wc=un("error"),$c=un("stack"),Yc=function(){/**
     * @param {?} indent
     */
function t(t){this.indent=t,this.parts=[],this.srcSpans=[]}return t}(),Xc=function(){/**
     * @param {?} _exportedVars
     * @param {?} _indent
     */
function t(t,e){this._exportedVars=t,this._indent=e,this._classes=[],this._lines=[new Yc(e)]}/**
     * @param {?} exportedVars
     * @return {?}
     */
/**
     * @param {?} varName
     * @return {?}
     */
/**
     * @param {?=} from
     * @param {?=} lastPart
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} from
     * @param {?} part
     * @param {?=} newLine
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} clazz
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} sourceFilePath
     * @param {?} genFilePath
     * @param {?=} startsAtLine
     * @return {?}
     */
return t.createRoot=function(e){return new t(e,0)},Object.defineProperty(t.prototype,"_currentLine",{/**
         * @return {?}
         */
get:function(){return this._lines[this._lines.length-1]},enumerable:!0,configurable:!0}),t.prototype.isExportedVar=function(t){return-1!==this._exportedVars.indexOf(t)},t.prototype.println=function(t,e){void 0===e&&(e=""),this.print(t,e,!0)},t.prototype.lineIsEmpty=function(){return 0===this._currentLine.parts.length},t.prototype.print=function(t,e,n){void 0===n&&(n=!1),e.length>0&&(this._currentLine.parts.push(e),this._currentLine.srcSpans.push(t&&t.sourceSpan||null)),n&&this._lines.push(new Yc(this._indent))},t.prototype.removeEmptyLastLine=function(){this.lineIsEmpty()&&this._lines.pop()},t.prototype.incIndent=function(){this._indent++,this._currentLine.indent=this._indent},t.prototype.decIndent=function(){this._indent--,this._currentLine.indent=this._indent},t.prototype.pushClass=function(t){this._classes.push(t)},t.prototype.popClass=function(){return this._classes.pop()},Object.defineProperty(t.prototype,"currentClass",{/**
         * @return {?}
         */
get:function(){return this._classes.length>0?this._classes[this._classes.length-1]:null},enumerable:!0,configurable:!0}),t.prototype.toSource=function(){return this.sourceLines.map(function(t){return t.parts.length>0?Sn(t.indent)+t.parts.join(""):""}).join("\n")},t.prototype.toSourceMapGenerator=function(t,e,n){void 0===n&&(n=0);for(var/** @type {?} */r=new Bc(e),/** @type {?} */i=!1,/** @type {?} */o=function(){i||(
// Add a single space so that tools won't try to load the file from disk.
// Note: We are using virtual urls like `ng:///`, so we have to
// provide a content here.
r.addSource(t," ").addMapping(0,t,0,0),i=!0)},/** @type {?} */s=0;s<n;s++)r.addLine(),o();return this.sourceLines.forEach(function(t,e){r.addLine();
// skip leading parts without source spans
for(var/** @type {?} */n=t.srcSpans,/** @type {?} */s=t.parts,/** @type {?} */a=t.indent*Gc.length,/** @type {?} */u=0;u<n.length&&!n[u];)a+=s[u].length,u++;for(u<n.length&&0===e&&0===a?i=!0:o();u<n.length;){var/** @type {?} */c=n[u],/** @type {?} */l=c.start.file,/** @type {?} */f=c.start.line,/** @type {?} */p=c.start.col;
// assign parts without span or the same span to the previous segment
for(r.addSource(l.url,l.content).addMapping(a,l.url,f,p),a+=s[u].length,u++;u<n.length&&(c===n[u]||!n[u]);)a+=s[u].length,u++}}),r},Object.defineProperty(t.prototype,"sourceLines",{/**
         * @return {?}
         */
get:function(){return this._lines.length&&0===this._lines[this._lines.length-1].parts.length?this._lines.slice(0,-1):this._lines},enumerable:!0,configurable:!0}),t}(),Zc=function(){/**
     * @param {?} _escapeDollarInStrings
     */
function t(t){this._escapeDollarInStrings=t}/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @abstract
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @abstract
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @abstract
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @abstract
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} expr
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} expr
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} expr
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} expr
     * @param {?} ctx
     * @return {?}
     */
/**
     * @abstract
     * @param {?} method
     * @return {?}
     */
/**
     * @param {?} expr
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @abstract
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @abstract
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @abstract
     * @param {?} stmt
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} expressions
     * @param {?} ctx
     * @param {?} separator
     * @param {?=} newLine
     * @return {?}
     */
/**
     * @template T
     * @param {?} handler
     * @param {?} expressions
     * @param {?} ctx
     * @param {?} separator
     * @param {?=} newLine
     * @return {?}
     */
/**
     * @param {?} statements
     * @param {?} ctx
     * @return {?}
     */
return t.prototype.visitExpressionStmt=function(t,e){return t.expr.visitExpression(this,e),e.println(t,";"),null},t.prototype.visitReturnStmt=function(t,e){return e.print(t,"return "),t.value.visitExpression(this,e),e.println(t,";"),null},t.prototype.visitCastExpr=function(t,e){},t.prototype.visitDeclareClassStmt=function(t,e){},t.prototype.visitIfStmt=function(t,e){e.print(t,"if ("),t.condition.visitExpression(this,e),e.print(t,") {");var/** @type {?} */n=null!=t.falseCase&&t.falseCase.length>0;return t.trueCase.length<=1&&!n?(e.print(t," "),this.visitAllStatements(t.trueCase,e),e.removeEmptyLastLine(),e.print(t," ")):(e.println(),e.incIndent(),this.visitAllStatements(t.trueCase,e),e.decIndent(),n&&(e.println(t,"} else {"),e.incIndent(),this.visitAllStatements(t.falseCase,e),e.decIndent())),e.println(t,"}"),null},t.prototype.visitTryCatchStmt=function(t,e){},t.prototype.visitThrowStmt=function(t,e){return e.print(t,"throw "),t.error.visitExpression(this,e),e.println(t,";"),null},t.prototype.visitCommentStmt=function(t,e){return t.comment.split("\n").forEach(function(n){e.println(t,"// "+n)}),null},t.prototype.visitDeclareVarStmt=function(t,e){},t.prototype.visitWriteVarExpr=function(t,e){var/** @type {?} */n=e.lineIsEmpty();return n||e.print(t,"("),e.print(t,t.name+" = "),t.value.visitExpression(this,e),n||e.print(t,")"),null},t.prototype.visitWriteKeyExpr=function(t,e){var/** @type {?} */n=e.lineIsEmpty();return n||e.print(t,"("),t.receiver.visitExpression(this,e),e.print(t,"["),t.index.visitExpression(this,e),e.print(t,"] = "),t.value.visitExpression(this,e),n||e.print(t,")"),null},t.prototype.visitWritePropExpr=function(t,e){var/** @type {?} */n=e.lineIsEmpty();return n||e.print(t,"("),t.receiver.visitExpression(this,e),e.print(t,"."+t.name+" = "),t.value.visitExpression(this,e),n||e.print(t,")"),null},t.prototype.visitInvokeMethodExpr=function(t,e){t.receiver.visitExpression(this,e);var/** @type {?} */n=t.name;return null!=t.builtin&&null==(n=this.getBuiltinMethodName(t.builtin))?null:(e.print(t,"."+n+"("),this.visitAllExpressions(t.args,e,","),e.print(t,")"),null)},t.prototype.getBuiltinMethodName=function(t){},t.prototype.visitInvokeFunctionExpr=function(t,e){return t.fn.visitExpression(this,e),e.print(t,"("),this.visitAllExpressions(t.args,e,","),e.print(t,")"),null},t.prototype.visitReadVarExpr=function(t,e){var/** @type {?} */n=t.name;if(null!=t.builtin)switch(t.builtin){case qu.Super:n="super";break;case qu.This:n="this";break;case qu.CatchError:n=Wc.name;break;case qu.CatchStack:n=$c.name;break;default:throw new Error("Unknown builtin variable "+t.builtin)}return e.print(t,n),null},t.prototype.visitInstantiateExpr=function(t,e){return e.print(t,"new "),t.classExpr.visitExpression(this,e),e.print(t,"("),this.visitAllExpressions(t.args,e,","),e.print(t,")"),null},t.prototype.visitLiteralExpr=function(t,e){var/** @type {?} */n=t.value;return"string"==typeof n?e.print(t,Cn(n,this._escapeDollarInStrings)):e.print(t,""+n),null},t.prototype.visitExternalExpr=function(t,e){},t.prototype.visitConditionalExpr=function(t,e){return e.print(t,"("),t.condition.visitExpression(this,e),e.print(t,"? "),t.trueCase.visitExpression(this,e),e.print(t,": "),t.falseCase.visitExpression(this,e),e.print(t,")"),null},t.prototype.visitNotExpr=function(t,e){return e.print(t,"!"),t.condition.visitExpression(this,e),null},t.prototype.visitFunctionExpr=function(t,e){},t.prototype.visitDeclareFunctionStmt=function(t,e){},t.prototype.visitBinaryOperatorExpr=function(t,e){var/** @type {?} */n;switch(t.operator){case Bu.Equals:n="==";break;case Bu.Identical:n="===";break;case Bu.NotEquals:n="!=";break;case Bu.NotIdentical:n="!==";break;case Bu.And:n="&&";break;case Bu.Or:n="||";break;case Bu.Plus:n="+";break;case Bu.Minus:n="-";break;case Bu.Divide:n="/";break;case Bu.Multiply:n="*";break;case Bu.Modulo:n="%";break;case Bu.Lower:n="<";break;case Bu.LowerEquals:n="<=";break;case Bu.Bigger:n=">";break;case Bu.BiggerEquals:n=">=";break;default:throw new Error("Unknown operator "+t.operator)}return e.print(t,"("),t.lhs.visitExpression(this,e),e.print(t," "+n+" "),t.rhs.visitExpression(this,e),e.print(t,")"),null},t.prototype.visitReadPropExpr=function(t,e){return t.receiver.visitExpression(this,e),e.print(t,"."),e.print(t,t.name),null},t.prototype.visitReadKeyExpr=function(t,e){return t.receiver.visitExpression(this,e),e.print(t,"["),t.index.visitExpression(this,e),e.print(t,"]"),null},t.prototype.visitLiteralArrayExpr=function(t,e){var/** @type {?} */n=t.entries.length>1;return e.print(t,"[",n),e.incIndent(),this.visitAllExpressions(t.entries,e,",",n),e.decIndent(),e.print(t,"]",n),null},t.prototype.visitLiteralMapExpr=function(t,e){var n=this,/** @type {?} */r=t.entries.length>1;return e.print(t,"{",r),e.incIndent(),this.visitAllObjects(function(r){e.print(t,Cn(r.key,n._escapeDollarInStrings,r.quoted)+": "),r.value.visitExpression(n,e)},t.entries,e,",",r),e.decIndent(),e.print(t,"}",r),null},t.prototype.visitCommaExpr=function(t,e){return e.print(t,"("),this.visitAllExpressions(t.parts,e,","),e.print(t,")"),null},t.prototype.visitAllExpressions=function(t,e,n,r){var i=this;void 0===r&&(r=!1),this.visitAllObjects(function(t){return t.visitExpression(i,e)},t,e,n,r)},t.prototype.visitAllObjects=function(t,e,n,r,i){void 0===i&&(i=!1);for(var/** @type {?} */o=0;o<e.length;o++)o>0&&n.print(null,r,i),t(e[o]);i&&n.println()},t.prototype.visitAllStatements=function(t,e){var n=this;t.forEach(function(t){return t.visitStatement(n,e)})},t}(),Kc="/debug/lib",Qc=(function(){/**
     * @param {?} _importResolver
     */
function t(t){this._importResolver=t}/**
     * @param {?} srcFilePath
     * @param {?} genFilePath
     * @param {?} stmts
     * @param {?} exportedVars
     * @param {?=} preamble
     * @return {?}
     */
t.prototype.emitStatements=function(t,e,n,r,i){var o=this;void 0===i&&(i="");var/** @type {?} */s=new Qc(e,this._importResolver),/** @type {?} */a=Xc.createRoot(r);s.visitAllStatements(n,a);var/** @type {?} */u=i?i.split("\n"):[];s.reexports.forEach(function(t,n){var/** @type {?} */r=t.map(function(t){return t.name+" as "+t.as}).join(",");u.push("export {"+r+"} from '"+o._importResolver.fileNameToModuleName(n,e)+"';")}),s.importsWithPrefixes.forEach(function(t,n){
// Note: can't write the real word for import as it screws up system.js auto detection...
u.push("import * as "+t+" from '"+o._importResolver.fileNameToModuleName(n,e)+"';")});var/** @type {?} */c=a.toSourceMapGenerator(t,e,u.length).toJsComment(),/** @type {?} */l=u.concat([a.toSource(),c]);
// always add a newline at the end, as some tools have bugs without it.
return c&&l.push(""),l.join("\n")}}(),function(t){/**
     * @param {?} _genFilePath
     * @param {?} _importResolver
     */
function e(e,n){var r=t.call(this,!1)||this;return r._genFilePath=e,r._importResolver=n,r.typeExpression=0,r.importsWithPrefixes=new Map,r.reexports=new Map,r}/**
     * @param {?} t
     * @param {?} ctx
     * @param {?=} defaultType
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} field
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} getter
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} method
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} type
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} type
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} type
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} method
     * @return {?}
     */
/**
     * @param {?} params
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} value
     * @param {?} typeParams
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} type
     * @param {?} ctx
     * @param {?=} defaultType
     * @return {?}
     */
return Br(e,t),e.prototype.visitType=function(t,e,n){void 0===n&&(n="any"),null!=t?(this.typeExpression++,t.visitType(this,e),this.typeExpression--):e.print(null,n)},e.prototype.visitLiteralExpr=function(e,n){var/** @type {?} */r=e.value;return null==r&&e.type!=Uu?(n.print(e,"("+r+" as any)"),null):t.prototype.visitLiteralExpr.call(this,e,n)},e.prototype.visitLiteralArrayExpr=function(e,n){0===e.entries.length&&n.print(e,"(");var/** @type {?} */r=t.prototype.visitLiteralArrayExpr.call(this,e,n);return 0===e.entries.length&&n.print(e," as any[])"),r},e.prototype.visitExternalExpr=function(t,e){return this._visitIdentifier(t.value,t.typeParams,e),null},e.prototype.visitDeclareVarStmt=function(t,e){if(e.isExportedVar(t.name)&&t.value instanceof Ju&&!t.type){
// check for a reexport
var n=this._resolveStaticSymbol(t.value.value),r=n.name,i=n.filePath;if(0===n.members.length&&i!==this._genFilePath){var/** @type {?} */o=this.reexports.get(i);return o||(o=[],this.reexports.set(i,o)),o.push({name:r,as:t.name}),null}}return e.isExportedVar(t.name)&&e.print(t,"export "),t.hasModifier(vc.Final)?e.print(t,"const"):e.print(t,"var"),e.print(t," "+t.name),this._printColonType(t.type,e),e.print(t," = "),t.value.visitExpression(this,e),e.println(t,";"),null},e.prototype.visitCastExpr=function(t,e){return e.print(t,"(<"),t.type.visitType(this,e),e.print(t,">"),t.value.visitExpression(this,e),e.print(t,")"),null},e.prototype.visitInstantiateExpr=function(t,e){return e.print(t,"new "),this.typeExpression++,t.classExpr.visitExpression(this,e),this.typeExpression--,e.print(t,"("),this.visitAllExpressions(t.args,e,","),e.print(t,")"),null},e.prototype.visitDeclareClassStmt=function(t,e){var n=this;return e.pushClass(t),e.isExportedVar(t.name)&&e.print(t,"export "),e.print(t,"class "+t.name),null!=t.parent&&(e.print(t," extends "),this.typeExpression++,t.parent.visitExpression(this,e),this.typeExpression--),e.println(t," {"),e.incIndent(),t.fields.forEach(function(t){return n._visitClassField(t,e)}),null!=t.constructorMethod&&this._visitClassConstructor(t,e),t.getters.forEach(function(t){return n._visitClassGetter(t,e)}),t.methods.forEach(function(t){return n._visitClassMethod(t,e)}),e.decIndent(),e.println(t,"}"),e.popClass(),null},e.prototype._visitClassField=function(t,e){t.hasModifier(vc.Private)&&
// comment out as a workaround for #10967
e.print(null,"/*private*/ "),e.print(null,t.name),this._printColonType(t.type,e),e.println(null,";")},e.prototype._visitClassGetter=function(t,e){t.hasModifier(vc.Private)&&e.print(null,"private "),e.print(null,"get "+t.name+"()"),this._printColonType(t.type,e),e.println(null," {"),e.incIndent(),this.visitAllStatements(t.body,e),e.decIndent(),e.println(null,"}")},e.prototype._visitClassConstructor=function(t,e){e.print(t,"constructor("),this._visitParams(t.constructorMethod.params,e),e.println(t,") {"),e.incIndent(),this.visitAllStatements(t.constructorMethod.body,e),e.decIndent(),e.println(t,"}")},e.prototype._visitClassMethod=function(t,e){t.hasModifier(vc.Private)&&e.print(null,"private "),e.print(null,t.name+"("),this._visitParams(t.params,e),e.print(null,")"),this._printColonType(t.type,e,"void"),e.println(null," {"),e.incIndent(),this.visitAllStatements(t.body,e),e.decIndent(),e.println(null,"}")},e.prototype.visitFunctionExpr=function(t,e){return e.print(t,"("),this._visitParams(t.params,e),e.print(t,")"),this._printColonType(t.type,e,"void"),e.println(t," => {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.print(t,"}"),null},e.prototype.visitDeclareFunctionStmt=function(t,e){return e.isExportedVar(t.name)&&e.print(t,"export "),e.print(t,"function "+t.name+"("),this._visitParams(t.params,e),e.print(t,")"),this._printColonType(t.type,e,"void"),e.println(t," {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.println(t,"}"),null},e.prototype.visitTryCatchStmt=function(t,e){e.println(t,"try {"),e.incIndent(),this.visitAllStatements(t.bodyStmts,e),e.decIndent(),e.println(t,"} catch ("+Wc.name+") {"),e.incIndent();var/** @type {?} */n=[/** @type {?} */$c.set(Wc.prop("stack")).toDeclStmt(null,[vc.Final])].concat(t.catchStmts);return this.visitAllStatements(n,e),e.decIndent(),e.println(t,"}"),null},e.prototype.visitBuiltintType=function(t,e){var/** @type {?} */n;switch(t.name){case Iu.Bool:n="boolean";break;case Iu.Dynamic:n="any";break;case Iu.Function:n="Function";break;case Iu.Number:case Iu.Int:n="number";break;case Iu.String:n="string";break;default:throw new Error("Unsupported builtin type "+t.name)}return e.print(null,n),null},e.prototype.visitExpressionType=function(t,e){return t.value.visitExpression(this,e),null},e.prototype.visitArrayType=function(t,e){return this.visitType(t.of,e),e.print(null,"[]"),null},e.prototype.visitMapType=function(t,e){return e.print(null,"{[key: string]:"),this.visitType(t.valueType,e),e.print(null,"}"),null},e.prototype.getBuiltinMethodName=function(t){var/** @type {?} */e;switch(t){case Yu.ConcatArray:e="concat";break;case Yu.SubscribeObservable:e="subscribe";break;case Yu.Bind:e="bind";break;default:throw new Error("Unknown builtin method: "+t)}return e},e.prototype._visitParams=function(t,e){var n=this;this.visitAllObjects(function(t){e.print(null,t.name),n._printColonType(t.type,e)},t,e,",")},e.prototype._resolveStaticSymbol=function(t){var/** @type {?} */e=t.reference;if(!(e instanceof ri))throw new Error("Internal error: unknown identifier "+JSON.stringify(t));var/** @type {?} */n=this._importResolver.getTypeArity(e)||void 0,/** @type {?} */r=this._importResolver.getImportAs(e)||e;return{name:r.name,filePath:r.filePath,members:r.members,arity:n}},e.prototype._visitIdentifier=function(t,e,n){var r=this,i=this._resolveStaticSymbol(t),o=i.name,s=i.filePath,a=i.members,u=i.arity;if(s!=this._genFilePath){var/** @type {?} */c=this.importsWithPrefixes.get(s);null==c&&(c="import"+this.importsWithPrefixes.size,this.importsWithPrefixes.set(s,c)),n.print(null,c+".")}if(a.length?(n.print(null,o),n.print(null,"."),n.print(null,a.join("."))):n.print(null,o),this.typeExpression>0){
// If we are in a type expression that refers to a generic type then supply
// the required type parameters. If there were not enough type parameters
// supplied, supply any as the type. Outside a type expression the reference
// should not supply type parameters and be treated as a simple value reference
// to the constructor function itself.
var/** @type {?} */l=e&&e.length||0,/** @type {?} */f=(u||0)-l;if(l>0||f>0){if(n.print(null,"<"),l>0&&this.visitAllObjects(function(t){return t.visitType(r,n)},e,n,","),f>0)for(var/** @type {?} */p=0;p<f;p++)(p>0||l>0)&&n.print(null,","),n.print(null,"any");n.print(null,">")}}},e.prototype._printColonType=function(t,e,n){t!==Uu&&(e.print(null,":"),this.visitType(t,e,n))},e}(Zc)),Jc={};
// Case is insignificant below, all element and attribute names are lower-cased for lookup.
Mn(Vr.SecurityContext.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),Mn(Vr.SecurityContext.STYLE,["*|style"]),
// NB: no SCRIPT contexts here, they are never allowed due to the parser stripping them.
Mn(Vr.SecurityContext.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),Mn(Vr.SecurityContext.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"]);/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var tl="boolean",el="number",nl="string",rl="object",il=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*beforecopy,*beforecut,*beforepaste,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*message,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*paste,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*search,*seeked,*seeking,*select,*selectstart,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*beforecopy,*beforecut,*beforepaste,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*message,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*paste,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*search,*seeked,*seeking,*select,*selectstart,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","keygen^[HTMLElement]|!autofocus,challenge,!disabled,keytype,name","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:cursor^:svg:|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime"],ol={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},sl=function(t){function e(){var e=t.call(this)||this;return e._schema={},il.forEach(function(t){var n={},r=t.split("|"),i=r[0],o=r[1],s=o.split(","),a=i.split("^"),u=a[0],c=a[1];u.split(",").forEach(function(t){return e._schema[t.toLowerCase()]=n});var l=c&&e._schema[c.toLowerCase()];l&&Object.keys(l).forEach(function(t){n[t]=l[t]}),s.forEach(function(t){if(t.length>0)switch(t[0]){case"*":
// We don't yet support events.
// If ever allowing to bind to events, GO THROUGH A SECURITY REVIEW, allowing events
// will
// almost certainly introduce bad XSS vulnerabilities.
// type[property.substring(1)] = EVENT;
break;case"!":n[t.substring(1)]=tl;break;case"#":n[t.substring(1)]=el;break;case"%":n[t.substring(1)]=rl;break;default:n[t]=nl}})}),e}/**
     * @param {?} tagName
     * @param {?} propName
     * @param {?} schemaMetas
     * @return {?}
     */
/**
     * @param {?} tagName
     * @param {?} schemaMetas
     * @return {?}
     */
/**
     * securityContext returns the security context for the given property on the given DOM tag.
     *
     * Tag and property name are statically known and cannot change at runtime, i.e. it is not
     * possible to bind a value into a changing attribute or tag name.
     *
     * The filtering is white list based. All attributes in the schema above are assumed to have the
     * 'NONE' security context, i.e. that they are safe inert string values. Only specific well known
     * attack vectors are assigned their appropriate context.
     * @param {?} tagName
     * @param {?} propName
     * @param {?} isAttribute
     * @return {?}
     */
/**
     * @param {?} propName
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} name
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} propName
     * @return {?}
     */
/**
     * @param {?} camelCaseProp
     * @param {?} userProvidedProp
     * @param {?} val
     * @return {?}
     */
return Br(e,t),e.prototype.hasProperty=function(t,e,n){if(n.some(function(t){return t.name===Vr.NO_ERRORS_SCHEMA.name}))return!0;if(t.indexOf("-")>-1){if("ng-container"===t||"ng-content"===t)return!1;if(n.some(function(t){return t.name===Vr.CUSTOM_ELEMENTS_SCHEMA.name}))
// Can't tell now as we don't know which properties a custom element will get
// once it is instantiated
return!0}return!!(this._schema[t.toLowerCase()]||this._schema.unknown)[e]},e.prototype.hasElement=function(t,e){if(e.some(function(t){return t.name===Vr.NO_ERRORS_SCHEMA.name}))return!0;if(t.indexOf("-")>-1){if("ng-container"===t||"ng-content"===t)return!0;if(e.some(function(t){return t.name===Vr.CUSTOM_ELEMENTS_SCHEMA.name}))
// Allow any custom elements
return!0}return!!this._schema[t.toLowerCase()]},e.prototype.securityContext=function(t,e,n){n&&(
// NB: For security purposes, use the mapped property name, not the attribute name.
e=this.getMappedPropName(e)),
// Make sure comparisons are case insensitive, so that case differences between attribute and
// property names do not have a security impact.
t=t.toLowerCase(),e=e.toLowerCase();var/** @type {?} */r=Jc[t+"|"+e];return r||((r=Jc["*|"+e])||Vr.SecurityContext.NONE)},e.prototype.getMappedPropName=function(t){return ol[t]||t},e.prototype.getDefaultComponentElementName=function(){return"ng-component"},e.prototype.validateProperty=function(t){if(t.toLowerCase().startsWith("on")){return{error:!0,msg:"Binding to event property '"+t+"' is disallowed for security reasons, please use ("+t.slice(2)+")=...\nIf '"+t+"' is a directive input, make sure the directive is imported by the current module."}}return{error:!1}},e.prototype.validateAttribute=function(t){if(t.toLowerCase().startsWith("on")){return{error:!0,msg:"Binding to event attribute '"+t+"' is disallowed for security reasons, please use ("+t.slice(2)+")=..."}}return{error:!1}},e.prototype.allKnownElementNames=function(){return Object.keys(this._schema)},e.prototype.normalizeAnimationStyleProperty=function(t){return u(t)},e.prototype.normalizeAnimationStyleValue=function(t,e,n){var/** @type {?} */r="",/** @type {?} */i=n.toString().trim(),/** @type {?} */o=null;if(On(t)&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var/** @type {?} */s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&(o="Please provide a CSS unit value for "+e+":"+n)}return{error:o,value:i+r}},e}(Pa);sl.decorators=[{type:F}],/**
 * @nocollapse
 */
sl.ctorParameters=function(){return[]};var al=function(){function t(){this.strictStyling=!0}/**
     * @param {?} cssText
     * @param {?} selector
     * @param {?=} hostSelector
     * @return {?}
     */
/**
     * @param {?} cssText
     * @return {?}
     */
/**
     * @param {?} cssText
     * @return {?}
     */
/**
     * @param {?} cssText
     * @return {?}
     */
/**
     * @param {?} cssText
     * @param {?} scopeSelector
     * @param {?} hostSelector
     * @return {?}
     */
/**
     * @param {?} cssText
     * @return {?}
     */
/**
     * @param {?} cssText
     * @return {?}
     */
/**
     * @param {?} cssText
     * @return {?}
     */
/**
     * @param {?} cssText
     * @param {?} regExp
     * @param {?} partReplacer
     * @return {?}
     */
/**
     * @param {?} host
     * @param {?} part
     * @param {?} suffix
     * @return {?}
     */
/**
     * @param {?} host
     * @param {?} part
     * @param {?} suffix
     * @return {?}
     */
/**
     * @param {?} cssText
     * @return {?}
     */
/**
     * @param {?} cssText
     * @param {?} scopeSelector
     * @param {?} hostSelector
     * @return {?}
     */
/**
     * @param {?} selector
     * @param {?} scopeSelector
     * @param {?} hostSelector
     * @param {?} strict
     * @return {?}
     */
/**
     * @param {?} selector
     * @param {?} scopeSelector
     * @return {?}
     */
/**
     * @param {?} scopeSelector
     * @return {?}
     */
/**
     * @param {?} selector
     * @param {?} scopeSelector
     * @param {?} hostSelector
     * @return {?}
     */
/**
     * @param {?} selector
     * @param {?} scopeSelector
     * @param {?} hostSelector
     * @return {?}
     */
/**
     * @param {?} selector
     * @param {?} scopeSelector
     * @param {?} hostSelector
     * @return {?}
     */
/**
     * @param {?} selector
     * @return {?}
     */
return t.prototype.shimCssText=function(t,e,n){void 0===n&&(n="");var/** @type {?} */r=An(t);return t=Tn(t),t=this._insertDirectives(t),this._scopeCssText(t,e,n)+r},t.prototype._insertDirectives=function(t){return t=this._insertPolyfillDirectivesInCssText(t),this._insertPolyfillRulesInCssText(t)},t.prototype._insertPolyfillDirectivesInCssText=function(t){
// Difference with webcomponents.js: does not handle comments
return t.replace(cl,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t[2]+"{"})},t.prototype._insertPolyfillRulesInCssText=function(t){
// Difference with webcomponents.js: does not handle comments
return t.replace(ll,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var/** @type {?} */n=t[0].replace(t[1],"").replace(t[2],"");return t[4]+n})},t.prototype._scopeCssText=function(t,e,n){var/** @type {?} */r=this._extractUnscopedRulesFromCssText(t);
// replace :host and :host-context -shadowcsshost and -shadowcsshost respectively
return t=this._insertPolyfillHostInCssText(t),t=this._convertColonHost(t),t=this._convertColonHostContext(t),t=this._convertShadowDOMSelectors(t),e&&(t=this._scopeSelectors(t,e,n)),t=t+"\n"+r,t.trim()},t.prototype._extractUnscopedRulesFromCssText=function(t){
// Difference with webcomponents.js: does not handle comments
var/** @type {?} */e,/** @type {?} */n="";for(fl.lastIndex=0;null!==(e=fl.exec(t));){n+=e[0].replace(e[2],"").replace(e[1],e[4])+"\n\n"}return n},t.prototype._convertColonHost=function(t){return this._convertColonRule(t,ml,this._colonHostPartReplacer)},t.prototype._convertColonHostContext=function(t){return this._convertColonRule(t,vl,this._colonHostContextPartReplacer)},t.prototype._convertColonRule=function(t,e,n){
// m[1] = :host(-context), m[2] = contents of (), m[3] rest of rule
return t.replace(e,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t[2]){for(var/** @type {?} */r=t[2].split(","),/** @type {?} */i=[],/** @type {?} */o=0;o<r.length;o++){var/** @type {?} */s=r[o].trim();if(!s)break;i.push(n(yl,s,t[3]))}return i.join(",")}return yl+t[3]})},t.prototype._colonHostContextPartReplacer=function(t,e,n){return e.indexOf(pl)>-1?this._colonHostPartReplacer(t,e,n):t+e+n+", "+e+" "+t+n},t.prototype._colonHostPartReplacer=function(t,e,n){return t+e.replace(pl,"")+n},t.prototype._convertShadowDOMSelectors=function(t){return bl.reduce(function(t,e){return t.replace(e," ")},t)},t.prototype._scopeSelectors=function(t,e,n){var r=this;return Pn(t,function(t){var/** @type {?} */i=t.selector,/** @type {?} */o=t.content;return"@"!=t.selector[0]?i=r._scopeSelector(t.selector,e,n,r.strictStyling):(t.selector.startsWith("@media")||t.selector.startsWith("@supports")||t.selector.startsWith("@page")||t.selector.startsWith("@document"))&&(o=r._scopeSelectors(t.content,e,n)),new kl(i,o)})},t.prototype._scopeSelector=function(t,e,n,r){var i=this;return t.split(",").map(function(t){return t.trim().split(wl)}).map(function(t){var o=t[0],s=t.slice(1);return[function(t){return i._selectorNeedsScoping(t,e)?r?i._applyStrictSelectorScope(t,e,n):i._applySelectorScope(t,e,n):t}(o)].concat(s).join(" ")}).join(", ")},t.prototype._selectorNeedsScoping=function(t,e){return!this._makeScopeMatcher(e).test(t)},t.prototype._makeScopeMatcher=function(t){return t=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+t+")"+_l,"m")},t.prototype._applySelectorScope=function(t,e,n){
// Difference from webcomponents.js: scopeSelector could not be an array
return this._applySimpleSelectorScope(t,e,n)},t.prototype._applySimpleSelectorScope=function(t,e,n){if(
// In Android browser, the lastIndex is not reset when the regex is used in String.replace()
xl.lastIndex=0,xl.test(t)){var/** @type {?} */r=this.strictStyling?"["+n+"]":e;return t.replace(gl,function(t,e){return e.replace(/([^:]*)(:*)(.*)/,function(t,e,n,i){return e+r+n+i})}).replace(xl,r+" ")}return e+" "+t},t.prototype._applyStrictSelectorScope=function(t,e,n){var r=this;e=e.replace(/\[is=([^\]]*)\]/g,function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e[0]});var/** @type {?} */i="["+e+"]",/** @type {?} */o=function(t){var/** @type {?} */o=t.trim();if(!o)return"";if(t.indexOf(yl)>-1)o=r._applySimpleSelectorScope(t,e,n);else{
// remove :host since it should be unnecessary
var/** @type {?} */s=t.replace(xl,"");if(s.length>0){var/** @type {?} */a=s.match(/([^:]*)(:*)(.*)/);a&&(o=a[1]+i+a[2]+a[3])}}return o},/** @type {?} */s=new ul(t);t=s.content();for(var/** @type {?} */a,/** @type {?} */u="",/** @type {?} */c=0,/** @type {?} */l=/( |>|\+|~(?!=))\s*/g,/** @type {?} */f=t.indexOf(yl);null!==(a=l.exec(t));){var/** @type {?} */p=a[1],/** @type {?} */h=t.slice(c,a.index).trim();u+=(c>=f?o(h):h)+" "+p+" ",c=l.lastIndex}
// replace the placeholders with their original values
return u+=o(t.substring(c)),s.restore(u)},t.prototype._insertPolyfillHostInCssText=function(t){return t.replace(Cl,hl).replace(El,pl)},t}(),ul=function(){/**
     * @param {?} selector
     */
function t(t){var e=this;this.placeholders=[],this.index=0,
// Replaces attribute selectors with placeholders.
// The WS in [attr="va lue"] would otherwise be interpreted as a selector separator.
t=t.replace(/(\[[^\]]*\])/g,function(t,n){var r="__ph-"+e.index+"__";return e.placeholders.push(n),e.index++,r}),
// Replaces the expression in `:nth-child(2n + 1)` with a placeholder.
// WS and "+" would otherwise be interpreted as selector separators.
this._content=t.replace(/(:nth-[-\w]+)(\([^)]+\))/g,function(t,n,r){var i="__ph-"+e.index+"__";return e.placeholders.push(r),e.index++,n+i})}/**
     * @param {?} content
     * @return {?}
     */
/**
     * @return {?}
     */
return t.prototype.restore=function(t){var e=this;return t.replace(/__ph-(\d+)__/g,function(t,n){return e.placeholders[+n]})},t.prototype.content=function(){return this._content},t}(),cl=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,ll=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,fl=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,pl="-shadowcsshost",hl="-shadowcsscontext",dl=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",ml=new RegExp("("+pl+dl,"gim"),vl=new RegExp("("+hl+dl,"gim"),yl=pl+"-no-combinator",gl=/-shadowcsshost-no-combinator([^\s]*)/,bl=[/::shadow/g,/::content/g,
// Deprecated selectors
/\/shadow-deep\//g,/\/shadow\//g],wl=/(?:>>>)|(?:\/deep\/)/g,_l="([>\\s~+[.,{:][\\s\\S]*)?$",xl=/-shadowcsshost/gim,El=/:host/gim,Cl=/:host-context/gim,Sl=/\/\*\s*[\s\S]*?\*\//g,Nl=/\/\*\s*#\s*sourceMappingURL=[\s\S]+?\*\//,Ml=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,Ol=/([{}])/g,Tl="{",Al="}",Pl="%BLOCK%",kl=function(){/**
     * @param {?} selector
     * @param {?} content
     */
function t(t,e){this.selector=t,this.content=e}return t}(),Il=function(){/**
     * @param {?} escapedString
     * @param {?} blocks
     */
function t(t,e){this.escapedString=t,this.blocks=e}return t}(),Rl=function(){/**
     * @param {?} name
     * @param {?} moduleUrl
     * @param {?} isShimmed
     * @param {?} valuePlaceholder
     */
function t(t,e,n,r){this.name=t,this.moduleUrl=e,this.isShimmed=n,this.valuePlaceholder=r}return t}(),jl=function(){/**
     * @param {?} componentStylesheet
     * @param {?} externalStylesheets
     */
function t(t,e){this.componentStylesheet=t,this.externalStylesheets=e}return t}(),Dl=function(){/**
     * @param {?} statements
     * @param {?} stylesVar
     * @param {?} dependencies
     * @param {?} isShimmed
     * @param {?} meta
     */
function t(t,e,n,r,i){this.statements=t,this.stylesVar=e,this.dependencies=n,this.isShimmed=r,this.meta=i}return t}(),Ll=function(){/**
     * @param {?} _urlResolver
     */
function t(t){this._urlResolver=t,this._shadowCss=new al}/**
     * @param {?} comp
     * @return {?}
     */
/**
     * @param {?} comp
     * @param {?} stylesheet
     * @param {?} isComponentStylesheet
     * @return {?}
     */
/**
     * @param {?} style
     * @param {?} shim
     * @return {?}
     */
return t.prototype.compileComponent=function(t){var e=this,/** @type {?} */n=[],/** @type {?} */r=this._compileStyles(t,new Ni({styles:t.template.styles,styleUrls:t.template.styleUrls,moduleUrl:b(t.type)}),!0);return t.template.externalStylesheets.forEach(function(r){var/** @type {?} */i=e._compileStyles(t,r,!1);n.push(i)}),new jl(r,n)},t.prototype._compileStyles=function(t,e,n){for(var r=this,/** @type {?} */i=t.template.encapsulation===Vr.ViewEncapsulation.Emulated,/** @type {?} */o=e.styles.map(function(t){return vn(r._shimIfNeeded(t,i))}),/** @type {?} */s=[],/** @type {?} */a=0;a<e.styleUrls.length;a++){var/** @type {?} */u={reference:null};s.push(new Rl(In(null),e.styleUrls[a],i,u)),o.push(new Ju(u))}
// styles variable contains plain strings and arrays of other styles arrays (recursive),
// so we set its type to dynamic.
var/** @type {?} */c=In(n?t:null),/** @type {?} */l=un(c).set(pn(o,new Du(Fu,[Pu.Const]))).toDeclStmt(null,[vc.Final]);return new Dl([l],c,s,i,e)},t.prototype._shimIfNeeded=function(t,e){return e?this._shadowCss.shimCssText(t,"_ngcontent-%COMP%","_nghost-%COMP%"):t},t}();Ll.decorators=[{type:F}],/**
 * @nocollapse
 */
Ll.ctorParameters=function(){return[{type:vu}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var Fl=function(){function t(){}return t}();Fl.event=un("$event");var Ul=function(){/**
     * @param {?} stmts
     * @param {?} allowDefault
     */
function t(t,e){this.stmts=t,this.allowDefault=e}return t}(),Vl=function(){/**
     * @param {?} stmts
     * @param {?} currValExpr
     */
function t(t,e){this.stmts=t,this.currValExpr=e}return t}(),Bl={};Bl.Statement=0,Bl.Expression=1,Bl[Bl.Statement]="Statement",Bl[Bl.Expression]="Expression";var zl=function(t){/**
     * @param {?} _converterFactory
     */
function e(e){var n=t.call(this)||this;return n._converterFactory=e,n}/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.visitPipe=function(t,e){var n=this,/** @type {?} */r=[t.exp].concat(t.args).map(function(t){return t.visit(n,e)});return new Gl(t.span,r,this._converterFactory.createPipeConverter(t.name,r.length))},e.prototype.visitLiteralArray=function(t,e){var n=this,/** @type {?} */r=t.expressions.map(function(t){return t.visit(n,e)});return new Gl(t.span,r,this._converterFactory.createLiteralArrayConverter(t.expressions.length))},e.prototype.visitLiteralMap=function(t,e){var n=this,/** @type {?} */r=t.values.map(function(t){return t.visit(n,e)});return new Gl(t.span,r,this._converterFactory.createLiteralMapConverter(t.keys))},e}(so),ql=function(){/**
     * @param {?} _localResolver
     * @param {?} _implicitReceiver
     * @param {?} bindingId
     */
function t(t,e,n){this._localResolver=t,this._implicitReceiver=e,this.bindingId=n,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0}/**
     * @param {?} ast
     * @param {?} mode
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} mode
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} mode
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} mode
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} mode
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} mode
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} mode
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} mode
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} mode
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} mode
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} mode
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} mode
     * @return {?}
     */
/**
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} mode
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} mode
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} mode
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} mode
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} mode
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} mode
     * @return {?}
     */
/**
     * @param {?} asts
     * @param {?} mode
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} mode
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} mode
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} leftMostSafe
     * @param {?} mode
     * @return {?}
     */
/**
     * @param {?} ast
     * @return {?}
     */
/**
     * @param {?} ast
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} temporary
     * @return {?}
     */
return t.prototype.visitBinary=function(t,e){var/** @type {?} */n;switch(t.operation){case"+":n=Bu.Plus;break;case"-":n=Bu.Minus;break;case"*":n=Bu.Multiply;break;case"/":n=Bu.Divide;break;case"%":n=Bu.Modulo;break;case"&&":n=Bu.And;break;case"||":n=Bu.Or;break;case"==":n=Bu.Equals;break;case"!=":n=Bu.NotEquals;break;case"===":n=Bu.Identical;break;case"!==":n=Bu.NotIdentical;break;case"<":n=Bu.Lower;break;case">":n=Bu.Bigger;break;case"<=":n=Bu.LowerEquals;break;case">=":n=Bu.BiggerEquals;break;default:throw new Error("Unsupported operation "+t.operation)}return qn(e,new oc(n,this.visit(t.left,Bl.Expression),this.visit(t.right,Bl.Expression)))},t.prototype.visitChain=function(t,e){return Bn(e,t),this.visitAll(t.expressions,e)},t.prototype.visitConditional=function(t,e){return qn(e,this.visit(t.condition,Bl.Expression).conditional(this.visit(t.trueExp,Bl.Expression),this.visit(t.falseExp,Bl.Expression)))},t.prototype.visitPipe=function(t,e){throw new Error("Illegal state: Pipes should have been converted into functions. Pipe: "+t.name)},t.prototype.visitFunctionCall=function(t,e){var/** @type {?} */n,/** @type {?} */r=this.visitAll(t.args,Bl.Expression);return n=t instanceof Gl?t.converter(r):this.visit(t.target,Bl.Expression).callFn(r),qn(e,n)},t.prototype.visitImplicitReceiver=function(t,e){return zn(e,t),this._implicitReceiver},t.prototype.visitInterpolation=function(t,e){zn(e,t);for(var/** @type {?} */n=[vn(t.expressions.length)],/** @type {?} */r=0;r<t.strings.length-1;r++)n.push(vn(t.strings[r])),n.push(this.visit(t.expressions[r],Bl.Expression));return n.push(vn(t.strings[t.strings.length-1])),t.expressions.length<=9?cn(se(xa.inlineInterpolate)).callFn(n):cn(se(xa.interpolate)).callFn([n[0],pn(n.slice(1))])},t.prototype.visitKeyedRead=function(t,e){var/** @type {?} */n=this.leftMostSafeNode(t);return n?this.convertSafeAccess(t,n,e):qn(e,this.visit(t.obj,Bl.Expression).key(this.visit(t.key,Bl.Expression)))},t.prototype.visitKeyedWrite=function(t,e){var/** @type {?} */n=this.visit(t.obj,Bl.Expression),/** @type {?} */r=this.visit(t.key,Bl.Expression),/** @type {?} */i=this.visit(t.value,Bl.Expression);return qn(e,n.key(r).set(i))},t.prototype.visitLiteralArray=function(t,e){throw new Error("Illegal State: literal arrays should have been converted into functions")},t.prototype.visitLiteralMap=function(t,e){throw new Error("Illegal State: literal maps should have been converted into functions")},t.prototype.visitLiteralPrimitive=function(t,e){return qn(e,vn(t.value))},t.prototype._getLocal=function(t){return this._localResolver.getLocal(t)},t.prototype.visitMethodCall=function(t,e){var/** @type {?} */n=this.leftMostSafeNode(t);if(n)return this.convertSafeAccess(t,n,e);var/** @type {?} */r=this.visitAll(t.args,Bl.Expression),/** @type {?} */i=null,/** @type {?} */o=this.visit(t.receiver,Bl.Expression);if(o===this._implicitReceiver){var/** @type {?} */s=this._getLocal(t.name);s&&(i=s.callFn(r))}return null==i&&(i=o.callMethod(t.name,r)),qn(e,i)},t.prototype.visitPrefixNot=function(t,e){return qn(e,dn(this.visit(t.expression,Bl.Expression)))},t.prototype.visitPropertyRead=function(t,e){var/** @type {?} */n=this.leftMostSafeNode(t);if(n)return this.convertSafeAccess(t,n,e);var/** @type {?} */r=null,/** @type {?} */i=this.visit(t.receiver,Bl.Expression);return i===this._implicitReceiver&&(r=this._getLocal(t.name)),null==r&&(r=i.prop(t.name)),qn(e,r)},t.prototype.visitPropertyWrite=function(t,e){var/** @type {?} */n=this.visit(t.receiver,Bl.Expression);if(n===this._implicitReceiver){if(this._getLocal(t.name))throw new Error("Cannot assign to a reference or variable!")}return qn(e,n.prop(t.name).set(this.visit(t.value,Bl.Expression)))},t.prototype.visitSafePropertyRead=function(t,e){return this.convertSafeAccess(t,this.leftMostSafeNode(t),e)},t.prototype.visitSafeMethodCall=function(t,e){return this.convertSafeAccess(t,this.leftMostSafeNode(t),e)},t.prototype.visitAll=function(t,e){var n=this;return t.map(function(t){return n.visit(t,e)})},t.prototype.visitQuote=function(t,e){throw new Error("Quotes are not supported for evaluation!")},t.prototype.visit=function(t,e){var/** @type {?} */n=this._resultMap.get(t);return n||(this._nodeMap.get(t)||t).visit(this,e)},t.prototype.convertSafeAccess=function(t,e,n){
// If the expression contains a safe access node on the left it needs to be converted to
// an expression that guards the access to the member by checking the receiver for blank. As
// execution proceeds from left to right, the left most part of the expression must be guarded
// first but, because member access is left associative, the right side of the expression is at
// the top of the AST. The desired result requires lifting a copy of the the left part of the
// expression up to test it for blank before generating the unguarded version.
// Consider, for example the following expression: a?.b.c?.d.e
// This results in the ast:
//         .
//        / \
//       ?.   e
//      /  \
//     .    d
//    / \
//   ?.  c
//  /  \
// a    b
// The following tree should be generated:
//
//        /---- ? ----\
//       /      |      \
//     a   /--- ? ---\  null
//        /     |     \
//       .      .     null
//      / \    / \
//     .  c   .   e
//    / \    / \
//   a   b  ,   d
//         / \
//        .   c
//       / \
//      a   b
//
// Notice that the first guard condition is the left hand of the left most safe access node
// which comes in as leftMostSafe to this routine.
var/** @type {?} */r,/** @type {?} */i=this.visit(e.receiver,Bl.Expression);this.needsTemporary(e.receiver)&&(
// If the expression has method calls or pipes then we need to save the result into a
// temporary variable to avoid calling stateful or impure code more than once.
r=this.allocateTemporary(),
// Preserve the result in the temporary variable
i=r.set(i),
// Ensure all further references to the guarded expression refer to the temporary instead.
this._resultMap.set(e.receiver,r));var/** @type {?} */o=i.isBlank();
// Convert the ast to an unguarded access to the receiver's member. The map will substitute
// leftMostNode with its unguarded version in the call to `this.visit()`.
e instanceof eo?this._nodeMap.set(e,new to(e.span,e.receiver,e.name,e.args)):this._nodeMap.set(e,new zi(e.span,e.receiver,e.name));
// Recursively convert the node now without the guarded member access.
var/** @type {?} */s=this.visit(t,Bl.Expression);
// Produce the conditional
// Remove the mapping. This is not strictly required as the converter only traverses each node
// once but is safer if the conversion is changed to traverse the nodes more than once.
// If we allocated a temporary, release it.
return this._nodeMap.delete(e),r&&this.releaseTemporary(r),qn(n,o.conditional(vn(null),s))},t.prototype.leftMostSafeNode=function(t){var e=this,/** @type {?} */n=function(t,n){return(e._nodeMap.get(n)||n).visit(t)};return t.visit({/**
             * @param {?} ast
             * @return {?}
             */
visitBinary:function(t){return null},/**
             * @param {?} ast
             * @return {?}
             */
visitChain:function(t){return null},/**
             * @param {?} ast
             * @return {?}
             */
visitConditional:function(t){return null},/**
             * @param {?} ast
             * @return {?}
             */
visitFunctionCall:function(t){return null},/**
             * @param {?} ast
             * @return {?}
             */
visitImplicitReceiver:function(t){return null},/**
             * @param {?} ast
             * @return {?}
             */
visitInterpolation:function(t){return null},/**
             * @param {?} ast
             * @return {?}
             */
visitKeyedRead:function(t){return n(this,t.obj)},/**
             * @param {?} ast
             * @return {?}
             */
visitKeyedWrite:function(t){return null},/**
             * @param {?} ast
             * @return {?}
             */
visitLiteralArray:function(t){return null},/**
             * @param {?} ast
             * @return {?}
             */
visitLiteralMap:function(t){return null},/**
             * @param {?} ast
             * @return {?}
             */
visitLiteralPrimitive:function(t){return null},/**
             * @param {?} ast
             * @return {?}
             */
visitMethodCall:function(t){return n(this,t.receiver)},/**
             * @param {?} ast
             * @return {?}
             */
visitPipe:function(t){return null},/**
             * @param {?} ast
             * @return {?}
             */
visitPrefixNot:function(t){return null},/**
             * @param {?} ast
             * @return {?}
             */
visitPropertyRead:function(t){return n(this,t.receiver)},/**
             * @param {?} ast
             * @return {?}
             */
visitPropertyWrite:function(t){return null},/**
             * @param {?} ast
             * @return {?}
             */
visitQuote:function(t){return null},/**
             * @param {?} ast
             * @return {?}
             */
visitSafeMethodCall:function(t){return n(this,t.receiver)||t},/**
             * @param {?} ast
             * @return {?}
             */
visitSafePropertyRead:function(t){return n(this,t.receiver)||t}})},t.prototype.needsTemporary=function(t){var e=this,/** @type {?} */n=function(t,n){return n&&(e._nodeMap.get(n)||n).visit(t)},/** @type {?} */r=function(t,e){return e.some(function(e){return n(t,e)})};return t.visit({/**
             * @param {?} ast
             * @return {?}
             */
visitBinary:function(t){return n(this,t.left)||n(this,t.right)},/**
             * @param {?} ast
             * @return {?}
             */
visitChain:function(t){return!1},/**
             * @param {?} ast
             * @return {?}
             */
visitConditional:function(t){return n(this,t.condition)||n(this,t.trueExp)||n(this,t.falseExp)},/**
             * @param {?} ast
             * @return {?}
             */
visitFunctionCall:function(t){return!0},/**
             * @param {?} ast
             * @return {?}
             */
visitImplicitReceiver:function(t){return!1},/**
             * @param {?} ast
             * @return {?}
             */
visitInterpolation:function(t){return r(this,t.expressions)},/**
             * @param {?} ast
             * @return {?}
             */
visitKeyedRead:function(t){return!1},/**
             * @param {?} ast
             * @return {?}
             */
visitKeyedWrite:function(t){return!1},/**
             * @param {?} ast
             * @return {?}
             */
visitLiteralArray:function(t){return!0},/**
             * @param {?} ast
             * @return {?}
             */
visitLiteralMap:function(t){return!0},/**
             * @param {?} ast
             * @return {?}
             */
visitLiteralPrimitive:function(t){return!1},/**
             * @param {?} ast
             * @return {?}
             */
visitMethodCall:function(t){return!0},/**
             * @param {?} ast
             * @return {?}
             */
visitPipe:function(t){return!0},/**
             * @param {?} ast
             * @return {?}
             */
visitPrefixNot:function(t){return n(this,t.expression)},/**
             * @param {?} ast
             * @return {?}
             */
visitPropertyRead:function(t){return!1},/**
             * @param {?} ast
             * @return {?}
             */
visitPropertyWrite:function(t){return!1},/**
             * @param {?} ast
             * @return {?}
             */
visitQuote:function(t){return!1},/**
             * @param {?} ast
             * @return {?}
             */
visitSafeMethodCall:function(t){return!0},/**
             * @param {?} ast
             * @return {?}
             */
visitSafePropertyRead:function(t){return!1}})},t.prototype.allocateTemporary=function(){var/** @type {?} */t=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new Hu(Fn(this.bindingId,t))},t.prototype.releaseTemporary=function(t){if(this._currentTemporary--,t.name!=Fn(this.bindingId,this._currentTemporary))throw new Error("Temporary "+t.name+" released out of order")},t}(),Hl=function(){function t(){}/**
     * @param {?} name
     * @return {?}
     */
return t.prototype.getLocal=function(t){return t===Fl.event.name?Fl.event:null},t}(),Gl=function(t){/**
     * @param {?} span
     * @param {?} args
     * @param {?} converter
     */
function e(e,n,r){var i=t.call(this,e,null,n)||this;return i.args=n,i.converter=r,i}return Br(e,t),e}(no),Wl="class",$l="style",Yl="ng-container",Xl=function(){/**
     * @param {?} statements
     * @param {?} viewClassVar
     * @param {?} rendererTypeVar
     */
function t(t,e,n){this.statements=t,this.viewClassVar=e,this.rendererTypeVar=n}return t}(),Zl=function(){/**
     * @param {?} _genConfigNext
     * @param {?} _schemaRegistry
     */
function t(t,e){this._genConfigNext=t,this._schemaRegistry=e}/**
     * @param {?} component
     * @param {?} template
     * @param {?} styles
     * @param {?} usedPipes
     * @return {?}
     */
return t.prototype.compileComponent=function(t,e,n,r){var/** @type {?} */i,/** @type {?} */o=0,/** @type {?} */s=sr(e),/** @type {?} */a=[];if(!t.isHost){var/** @type {?} */u=[];t.template.animations&&t.template.animations.length&&u.push(new cc("animation",bn(t.template.animations),!0));var/** @type {?} */c=un(_(t.type.reference));i=c.name,a.push(c.set(cn(se(xa.createRendererType2)).callFn([new lc([new cc("encapsulation",vn(t.template.encapsulation)),new cc("styles",n),new cc("data",new lc(u))])])).toDeclStmt(ln(se(xa.RendererType2)),[vc.Final]))}var/** @type {?} */l=function(e){var/** @type {?} */n=o++;return new rf(e,t,n,r,s,l)},/** @type {?} */f=l(null);return f.visitAll([],e),a.push.apply(a,f.build()),new Xl(a,f.viewName,i)},t}();Zl.decorators=[{type:F}],/**
 * @nocollapse
 */
Zl.ctorParameters=function(){return[{type:Ii},{type:Pa}]};var Kl=un("l"),Ql=un("v"),Jl=un("ck"),tf=un("co"),ef=un("en"),nf=un("ad"),rf=function(){/**
     * @param {?} parent
     * @param {?} component
     * @param {?} embeddedViewIndex
     * @param {?} usedPipes
     * @param {?} staticQueryIds
     * @param {?} viewBuilderFactory
     */
function t(t,e,n,r,i,o){this.parent=t,this.component=e,this.embeddedViewIndex=n,this.usedPipes=r,this.staticQueryIds=i,this.viewBuilderFactory=o,this.nodes=[],this.purePipeNodeIndices=Object.create(null),this.refNodeIndices=Object.create(null),this.variables=[],this.children=[],
// TODO(tbosch): The old view compiler used to use an `any` type
// for the context in any embedded view. We keep this behaivor for now
// to be able to introduce the new view compiler without too many errors.
this.compType=this.embeddedViewIndex>0?Fu:ln(this.component.type)}/**
     * @param {?} variables
     * @param {?} astNodes
     * @return {?}
     */
/**
     * @param {?=} targetStatements
     * @return {?}
     */
/**
     * @param {?} updateStmts
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} nodeIndex
     * @param {?} ast
     * @return {?}
     */
/**
     * @param {?} providerAst
     * @param {?} dirAst
     * @param {?} directiveIndex
     * @param {?} elementNodeIndex
     * @param {?} refs
     * @param {?} queryMatches
     * @param {?} usedEvents
     * @param {?} queryIds
     * @return {?}
     */
/**
     * @param {?} providerAst
     * @param {?} queryMatches
     * @return {?}
     */
/**
     * @param {?} providerAst
     * @param {?} queryMatches
     * @return {?}
     */
/**
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} sourceSpan
     * @param {?} argCount
     * @return {?}
     */
/**
     * @param {?} sourceSpan
     * @param {?} keys
     * @return {?}
     */
/**
     * @param {?} expression
     * @param {?} name
     * @param {?} argCount
     * @return {?}
     */
/**
     * @param {?} sourceSpan
     * @param {?} pipe
     * @return {?}
     */
/**
     * @param {?} expression
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} nodeIndex
     * @param {?} handlers
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
return Object.defineProperty(t.prototype,"viewName",{/**
         * @return {?}
         */
get:function(){return w(this.component.type.reference,this.embeddedViewIndex)},enumerable:!0,configurable:!0}),t.prototype.visitAll=function(t,e){var n=this;if(this.variables=t,
// create the pipes for the pure pipes immediately, so that we know their indices.
this.parent||this.usedPipes.forEach(function(t){t.pure&&(n.purePipeNodeIndices[t.name]=n._createPipe(null,t))}),!this.parent){var/** @type {?} */i=ar(this.staticQueryIds);this.component.viewQueries.forEach(function(t,e){
// Note: queries start with id 1 so we can use the number in a Bloom filter!
var/** @type {?} */r=e+1,/** @type {?} */o=t.first?0:1,/** @type {?} */s=67108864|lr(i,r,t.first);n.nodes.push(function(){return{sourceSpan:null,nodeFlags:s,nodeDef:cn(se(xa.queryDef)).callFn([vn(s),vn(r),new lc([new cc(t.propertyName,vn(o))])])}})})}r(this,e),this.parent&&(0===e.length||Jn(e))&&
// if the view is an embedded view, then we need to add an additional root node in some cases
this.nodes.push(function(){return{sourceSpan:null,nodeFlags:1,nodeDef:cn(se(xa.anchorDef)).callFn([vn(0),dc,dc,vn(0)])}})},t.prototype.build=function(t){void 0===t&&(t=[]),this.children.forEach(function(e){return e.build(t)});var e=this._createNodeExpressions(),n=e.updateRendererStmts,r=e.updateDirectivesStmts,i=e.nodeDefExprs,/** @type {?} */o=this._createUpdateFn(n),/** @type {?} */s=this._createUpdateFn(r),/** @type {?} */a=0;this.parent||this.component.changeDetection!==Vr.ChangeDetectionStrategy.OnPush||(a|=2);var/** @type {?} */u=new bc(this.viewName,[new rc(Kl.name)],[new _c(cn(se(xa.viewDef)).callFn([vn(a),pn(i),s,o]))],ln(se(xa.ViewDefinition)));return t.push(u),t},t.prototype._createUpdateFn=function(t){var/** @type {?} */e;if(t.length>0){var/** @type {?} */n=[];!this.component.isHost&&on(t).has(tf.name)&&n.push(tf.set(Ql.prop("component")).toDeclStmt(this.compType)),e=mn([new rc(Jl.name,Uu),new rc(Ql.name,Uu)],n.concat(t),Uu)}else e=dc;return e},t.prototype.visitNgContent=function(t,e){
// ngContentDef(ngContentIndex: number, index: number): NodeDef;
this.nodes.push(function(){return{sourceSpan:t.sourceSpan,nodeFlags:4,nodeDef:cn(se(xa.ngContentDef)).callFn([vn(t.ngContentIndex),vn(t.index)])}})},t.prototype.visitText=function(t,e){
// textDef(ngContentIndex: number, constants: string[]): NodeDef;
this.nodes.push(function(){return{sourceSpan:t.sourceSpan,nodeFlags:2,nodeDef:cn(se(xa.textDef)).callFn([vn(t.ngContentIndex),pn([vn(t.value)])])}})},t.prototype.visitBoundText=function(t,e){var n=this,/** @type {?} */r=this.nodes.length;
// reserve the space in the nodeDefs array
this.nodes.push(null);var/** @type {?} */i=t.value,/** @type {?} */o=i.ast,/** @type {?} */s=o.expressions.map(function(e,i){return n._preprocessUpdateExpression({nodeIndex:r,bindingIndex:i,sourceSpan:t.sourceSpan,context:tf,value:e})});
// textDef(ngContentIndex: number, constants: string[]): NodeDef;
this.nodes[r]=function(){return{sourceSpan:t.sourceSpan,nodeFlags:2,nodeDef:cn(se(xa.textDef)).callFn([vn(t.ngContentIndex),pn(o.strings.map(function(t){return vn(t)}))]),updateRenderer:s}}},t.prototype.visitEmbeddedTemplate=function(t,e){var n=this,/** @type {?} */r=this.nodes.length;
// reserve the space in the nodeDefs array
this.nodes.push(null);var i=this._visitElementOrTemplate(r,t),o=i.flags,s=i.queryMatchesExpr,a=i.hostEvents,/** @type {?} */u=this.viewBuilderFactory(this);this.children.push(u),u.visitAll(t.variables,t.children);var/** @type {?} */c=this.nodes.length-r-1;
// anchorDef(
//   flags: NodeFlags, matchedQueries: [string, QueryValueType][], ngContentIndex: number,
//   childCount: number, handleEventFn?: ElementHandleEventFn, templateFactory?:
//   ViewDefinitionFactory): NodeDef;
this.nodes[r]=function(){return{sourceSpan:t.sourceSpan,nodeFlags:1|o,nodeDef:cn(se(xa.anchorDef)).callFn([vn(o),s,vn(t.ngContentIndex),vn(c),n._createElementHandleEventFn(r,a),un(u.viewName)])}}},t.prototype.visitElement=function(t,e){var n=this,/** @type {?} */i=this.nodes.length;
// reserve the space in the nodeDefs array so we can add children
this.nodes.push(null);var/** @type {?} */o=t.name;t.name===Yl&&(
// Using a null element name creates an anchor.
o=null);var s=this._visitElementOrTemplate(i,t),a=s.flags,u=s.usedEvents,c=s.queryMatchesExpr,l=s.hostBindings,f=s.hostEvents,/** @type {?} */p=[],/** @type {?} */h=[],/** @type {?} */d=[];if(o){var/** @type {?} */m=t.inputs.map(function(t){return{context:/** @type {?} */tf,inputAst:t,dirAst:null}}).concat(l);m.length&&(h=m.map(function(t,e){return n._preprocessUpdateExpression({context:t.context,nodeIndex:i,bindingIndex:e,sourceSpan:t.inputAst.sourceSpan,value:t.inputAst.value})}),p=m.map(function(t){return er(t.inputAst,t.dirAst)})),d=u.map(function(t){var e=t[0],n=t[1];return pn([vn(e),vn(n)])})}r(this,t.children);var/** @type {?} */v=this.nodes.length-i-1,/** @type {?} */y=t.directives.find(function(t){return t.directive.isComponent}),/** @type {?} */g=dc,/** @type {?} */b=dc;y&&(b=cn({reference:y.directive.componentViewType}),g=cn({reference:y.directive.rendererType})),
// elementDef(
//   flags: NodeFlags, matchedQueriesDsl: [string | number, QueryValueType][],
//   ngContentIndex: number, childCount: number, namespaceAndName: string,
//   fixedAttrs: [string, string][] = [],
//   bindings?: [BindingFlags, string, string | SecurityContext][],
//   outputs?: ([OutputType.ElementOutput | OutputType.DirectiveHostOutput, string, string])[],
//   handleEvent?: ElementHandleEventFn,
//   componentView?: () => ViewDefinition, componentRendererType?: RendererType2): NodeDef;
this.nodes[i]=function(){return{sourceSpan:t.sourceSpan,nodeFlags:1|a,nodeDef:cn(se(xa.elementDef)).callFn([vn(a),c,vn(t.ngContentIndex),vn(v),vn(o),o?nr(t):dc,p.length?pn(p):dc,d.length?pn(d):dc,n._createElementHandleEventFn(i,f),b,g]),updateRenderer:h}}},t.prototype._visitElementOrTemplate=function(t,e){var r=this,/** @type {?} */i=0;e.hasViewContainer&&(i|=8388608);var/** @type {?} */o=new Map;e.outputs.forEach(function(t){var e=cr(t,null),r=e.name,i=e.target;o.set(n.i(Vr["elementEventFullName"])(i,r),[i,r])}),e.directives.forEach(function(t){t.hostEvents.forEach(function(e){var r=cr(e,t),i=r.name,s=r.target;o.set(n.i(Vr["elementEventFullName"])(s,i),[s,i])})});var/** @type {?} */s=[],/** @type {?} */a=[],/** @type {?} */u=ur(e.directives);u&&this._visitProvider(u,e.queryMatches),e.providers.forEach(function(n,i){var/** @type {?} */u,/** @type {?} */c;if(e.directives.forEach(function(t,e){t.directive.type.reference===S(n.token)&&(u=t,c=e)}),u){var l=r._visitDirective(n,u,c,t,e.references,e.queryMatches,o,r.staticQueryIds.get(/** @type {?} */e)),f=l.hostBindings,p=l.hostEvents;s.push.apply(s,f),a.push.apply(a,p)}else r._visitProvider(n,e.queryMatches)});var/** @type {?} */c=[];return e.queryMatches.forEach(function(t){var/** @type {?} */e;S(t.value)===oe(xa.ElementRef)?e=0:S(t.value)===oe(xa.ViewContainerRef)?e=3:S(t.value)===oe(xa.TemplateRef)&&(e=2),null!=e&&c.push(pn([vn(t.queryId),vn(e)]))}),e.references.forEach(function(e){var/** @type {?} */n;e.value?S(e.value)===oe(xa.TemplateRef)&&(n=2):n=1,null!=n&&(r.refNodeIndices[e.name]=t,c.push(pn([vn(e.name),vn(n)])))}),e.outputs.forEach(function(t){a.push({context:tf,eventAst:t,dirAst:null})}),{flags:i,usedEvents:Array.from(o.values()),queryMatchesExpr:c.length?pn(c):dc,hostBindings:s,hostEvents:a}},t.prototype._visitDirective=function(t,e,n,r,i,o,s,a){var u=this,/** @type {?} */c=this.nodes.length;
// reserve the space in the nodeDefs array so we can add children
this.nodes.push(null),e.directive.queries.forEach(function(t,n){var/** @type {?} */r=e.contentQueryStartId+n,/** @type {?} */i=33554432|lr(a,r,t.first),/** @type {?} */o=t.first?0:1;u.nodes.push(function(){return{sourceSpan:e.sourceSpan,nodeFlags:i,nodeDef:cn(se(xa.queryDef)).callFn([vn(i),vn(r),new lc([new cc(t.propertyName,vn(o))])])}})});
// Note: the operation below might also create new nodeDefs,
// but we don't want them to be a child of a directive,
// as they might be a provider/pipe on their own.
// I.e. we only allow queries as children of directives nodes.
var/** @type {?} */l=this.nodes.length-c-1,f=this._visitProviderOrDirective(t,o),p=f.flags,h=f.queryMatchExprs,d=f.providerExpr,m=f.depsExpr;i.forEach(function(e){e.value&&S(e.value)===S(t.token)&&(u.refNodeIndices[e.name]=c,h.push(pn([vn(e.name),vn(4)])))}),e.directive.isComponent&&(p|=16384);var/** @type {?} */v=e.inputs.map(function(t,e){var/** @type {?} */n=pn([vn(e),vn(t.directiveName)]);
// Note: it's important to not quote the key so that we can capture renames by minifiers!
return new cc(t.directiveName,n,!1)}),/** @type {?} */y=[],/** @type {?} */g=e.directive;Object.keys(g.outputs).forEach(function(t){var/** @type {?} */e=g.outputs[t];s.has(e)&&
// Note: it's important to not quote the key so that we can capture renames by minifiers!
y.push(new cc(t,vn(e),!1))});var/** @type {?} */b=[];(e.inputs.length||(163840&p)>0)&&(b=e.inputs.map(function(t,e){return u._preprocessUpdateExpression({nodeIndex:c,bindingIndex:e,sourceSpan:t.sourceSpan,context:tf,value:t.value})}));var/** @type {?} */w=cn(se(xa.nodeValue)).callFn([Ql,vn(c)]),/** @type {?} */_=e.hostProperties.map(function(t){return{context:w,dirAst:e,inputAst:t}}),/** @type {?} */x=e.hostEvents.map(function(t){return{context:w,eventAst:t,dirAst:e}});
// directiveDef(
//   flags: NodeFlags, matchedQueries: [string, QueryValueType][], childCount: number, ctor:
//   any,
//   deps: ([DepFlags, any] | any)[], props?: {[name: string]: [number, string]},
//   outputs?: {[name: string]: string}, component?: () => ViewDefinition): NodeDef;
return this.nodes[c]=function(){return{sourceSpan:e.sourceSpan,nodeFlags:8192|p,nodeDef:cn(se(xa.directiveDef)).callFn([vn(p),h.length?pn(h):dc,vn(l),d,m,v.length?new lc(v):dc,y.length?new lc(y):dc]),updateDirectives:b,directive:e.directive.type}},{hostBindings:_,hostEvents:x}},t.prototype._visitProvider=function(t,e){var/** @type {?} */n=this.nodes.length;
// reserve the space in the nodeDefs array so we can add children
this.nodes.push(null);var r=this._visitProviderOrDirective(t,e),i=r.flags,o=r.queryMatchExprs,s=r.providerExpr,a=r.depsExpr;
// providerDef(
//   flags: NodeFlags, matchedQueries: [string, QueryValueType][], token:any,
//   value: any, deps: ([DepFlags, any] | any)[]): NodeDef;
this.nodes[n]=function(){return{sourceSpan:t.sourceSpan,nodeFlags:i,nodeDef:cn(se(xa.providerDef)).callFn([vn(i),o.length?pn(o):dc,Kn(t.token),s,a])}}},t.prototype._visitProviderOrDirective=function(t,e){var/** @type {?} */n=0;t.eager||(n|=2048),t.providerType===ti.PrivateService&&(n|=4096),t.lifecycleHooks.forEach(function(e){
// for regular providers, we only support ngOnDestroy
e!==Vr["LifecycleHooks"].OnDestroy&&t.providerType!==ti.Directive&&t.providerType!==ti.Component||(n|=tr(e))});var/** @type {?} */r=[];e.forEach(function(e){S(e.value)===S(t.token)&&r.push(pn([vn(e.queryId),vn(4)]))});var i=Yn(t),o=i.providerExpr,s=i.depsExpr,a=i.flags;return{flags:n|a,queryMatchExprs:r,providerExpr:o,depsExpr:s}},t.prototype.getLocal=function(t){if(t==Fl.event.name)return Fl.event;for(var/** @type {?} */e=Ql,/** @type {?} */n=this;n;n=n.parent,e=e.prop("parent").cast(Fu)){
// check references
var/** @type {?} */r=n.refNodeIndices[t];if(null!=r)return cn(se(xa.nodeValue)).callFn([e,vn(r)]);
// check variables
var/** @type {?} */i=n.variables.find(function(e){return e.name===t});if(i){var/** @type {?} */o=i.value||"$implicit";return e.prop("context").prop(o)}}return null},t.prototype.createLiteralArrayConverter=function(t,e){if(0===e){var/** @type {?} */n=cn(se(xa.EMPTY_ARRAY));return function(){return n}}var/** @type {?} */r=this.nodes.length;
// pureArrayDef(argCount: number): NodeDef;
return this.nodes.push(function(){return{sourceSpan:t,nodeFlags:16,nodeDef:cn(se(xa.pureArrayDef)).callFn([vn(e)])}}),function(t){return ir(r,t)}},t.prototype.createLiteralMapConverter=function(t,e){if(0===e.length){var/** @type {?} */n=cn(se(xa.EMPTY_MAP));return function(){return n}}var/** @type {?} */r=this.nodes.length;
// function pureObjectDef(propertyNames: string[]): NodeDef
return this.nodes.push(function(){return{sourceSpan:t,nodeFlags:32,nodeDef:cn(se(xa.pureObjectDef)).callFn([pn(e.map(function(t){return vn(t)}))])}}),function(t){return ir(r,t)}},t.prototype.createPipeConverter=function(t,e,n){var/** @type {?} */r=this.usedPipes.find(function(t){return t.name===e});if(r.pure){var/** @type {?} */i=this.nodes.length;
// function purePipeDef(argCount: number): NodeDef;
this.nodes.push(function(){return{sourceSpan:t.sourceSpan,nodeFlags:64,nodeDef:cn(se(xa.purePipeDef)).callFn([vn(n)])}});for(
// find underlying pipe in the component view
var/** @type {?} */o=Ql,/** @type {?} */s=this;s.parent;)s=s.parent,o=o.prop("parent").cast(Fu);var/** @type {?} */a=s.purePipeNodeIndices[e],/** @type {?} */u=cn(se(xa.nodeValue)).callFn([o,vn(a)]);return function(e){return or(t.nodeIndex,t.bindingIndex,ir(i,[u].concat(e)))}}var/** @type {?} */c=this._createPipe(t.sourceSpan,r),/** @type {?} */l=cn(se(xa.nodeValue)).callFn([Ql,vn(c)]);return function(e){return or(t.nodeIndex,t.bindingIndex,l.callMethod("transform",e))}},t.prototype._createPipe=function(t,e){var/** @type {?} */n=this.nodes.length,/** @type {?} */r=0;e.type.lifecycleHooks.forEach(function(t){
// for pipes, we only support ngOnDestroy
t===Vr["LifecycleHooks"].OnDestroy&&(r|=tr(t))});var/** @type {?} */i=e.type.diDeps.map(Qn);
// function pipeDef(
//   flags: NodeFlags, ctor: any, deps: ([DepFlags, any] | any)[]): NodeDef
return this.nodes.push(function(){return{sourceSpan:t,nodeFlags:8,nodeDef:cn(se(xa.pipeDef)).callFn([vn(r),cn(e.type),pn(i)])}}),n},t.prototype._preprocessUpdateExpression=function(t){var e=this;return{nodeIndex:t.nodeIndex,bindingIndex:t.bindingIndex,sourceSpan:t.sourceSpan,context:t.context,value:jn({createLiteralArrayConverter:function(n){return e.createLiteralArrayConverter(t.sourceSpan,n)},createLiteralMapConverter:function(n){return e.createLiteralMapConverter(t.sourceSpan,n)},createPipeConverter:function(n,r){return e.createPipeConverter(t,n,r)}},t.value)}},t.prototype._createNodeExpressions=function(){/**
         * @param {?} nodeIndex
         * @param {?} sourceSpan
         * @param {?} expressions
         * @param {?} allowEmptyExprs
         * @return {?}
         */
function t(t,r,i,o){var/** @type {?} */s=[],/** @type {?} */a=i.map(function(t){var r=t.sourceSpan,i=t.context,o=t.value,/** @type {?} */a=""+n++,/** @type {?} */u=i===tf?e:null,c=Dn(u,i,o,a),l=c.stmts,f=c.currValExpr;return s.push.apply(s,l.map(function(t){return sn(t,r)})),an(f,r)});return(i.length||o)&&s.push(sn(ir(t,a).toStmt(),r)),s}var/** @type {?} */e=this,/** @type {?} */n=0,/** @type {?} */r=[],/** @type {?} */i=[],/** @type {?} */o=this.nodes.map(function(e,n){var o=e(),s=o.nodeDef,a=o.nodeFlags,u=o.updateDirectives,c=o.updateRenderer,l=o.sourceSpan;return c&&r.push.apply(r,t(n,l,c,!1)),u&&i.push.apply(i,t(n,l,u,(163840&a)>0)),an(3&a?new fc([Kl.callFn([]).callFn([]),s]):s,l)});return{updateRendererStmts:r,updateDirectivesStmts:i,nodeDefExprs:o}},t.prototype._createElementHandleEventFn=function(t,e){var r=this,/** @type {?} */i=[],/** @type {?} */o=0;e.forEach(function(t){var e=t.context,s=t.eventAst,a=t.dirAst,/** @type {?} */u=""+o++,/** @type {?} */c=e===tf?r:null,l=Rn(c,e,s.handler,u),f=l.stmts,p=l.allowDefault,/** @type {?} */h=f;p&&h.push(nf.set(p.and(nf)).toStmt());var d=cr(s,a),m=d.target,v=d.name,/** @type {?} */y=n.i(Vr["elementEventFullName"])(m,v);i.push(sn(new Mc(vn(y).identical(ef),h),s.sourceSpan))});var/** @type {?} */s;if(i.length>0){var/** @type {?} */a=[nf.set(vn(!0)).toDeclStmt(Vu)];!this.component.isHost&&on(i).has(tf.name)&&a.push(tf.set(Ql.prop("component")).toDeclStmt(this.compType)),s=mn([new rc(Ql.name,Uu),new rc(ef.name,Uu),new rc(Fl.event.name,Uu)],a.concat(i,[new _c(nf)]),Uu)}else s=dc;return s},t.prototype.visitDirective=function(t,e){},t.prototype.visitDirectiveProperty=function(t,e){},t.prototype.visitReference=function(t,e){},t.prototype.visitVariable=function(t,e){},t.prototype.visitEvent=function(t,e){},t.prototype.visitElementProperty=function(t,e){},t.prototype.visitAttr=function(t,e){},t}(),of=function(){/**
     * @param {?} srcFileUrl
     * @param {?} genFileUrl
     * @param {?} source
     */
function t(t,e,n){this.srcFileUrl=t,this.genFileUrl=e,this.source=n}return t}(),sf=function(t){/**
     * @param {?} symbolResolver
     * @param {?} summaryResolver
     */
function e(e,n){var r=t.call(this)||this;
// Note: This only contains symbols without members.
return r.symbolResolver=e,r.summaryResolver=n,r.symbols=[],r.indexBySymbol=new Map,r.processedSummaryBySymbol=new Map,r.processedSummaries=[],r}/**
     * @param {?} summary
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} value
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.addOrMergeSummary=function(t){var/** @type {?} */e=t.metadata;e&&"class"===e.__symbolic&&(
// For classes, we only keep their statics and arity, but not the metadata
// of the class itself as that has been captured already via other summaries
// (e.g. DirectiveSummary, ...).
e={__symbolic:"class",statics:e.statics,arity:e.arity});var/** @type {?} */n=this.processedSummaryBySymbol.get(t.symbol);n||(n=this.processValue({symbol:t.symbol}),this.processedSummaries.push(n),this.processedSummaryBySymbol.set(t.symbol,n)),
// Note: == on purpose to compare with undefined!
null==n.metadata&&null!=e&&(n.metadata=this.processValue(e)),
// Note: == on purpose to compare with undefined!
null==n.type&&null!=t.type&&(n.type=this.processValue(t.type))},e.prototype.serialize=function(){var t=this,/** @type {?} */e=[];return{json:JSON.stringify({summaries:this.processedSummaries,symbols:this.symbols.map(function(n,r){n.assertNoMembers();var/** @type {?} */i;return t.summaryResolver.isLibraryFile(n.filePath)&&(i=n.name+"_"+r,e.push({symbol:n,exportAs:i})),{__symbol:r,name:n.name,
// We convert the source filenames tinto output filenames,
// as the generated summary file will be used when teh current
// compilation unit is used as a library
filePath:t.summaryResolver.getLibraryFileName(n.filePath),importAs:i}})}),exportAs:e}},e.prototype.processValue=function(t){return p(t,this,null)},e.prototype.visitOther=function(t,e){if(t instanceof ri){var/** @type {?} */n=this.symbolResolver.getStaticSymbol(t.filePath,t.name),/** @type {?} */r=this.indexBySymbol.get(n);
// Note: == on purpose to compare with undefined!
return null==r&&(r=this.indexBySymbol.size,this.indexBySymbol.set(n,r),this.symbols.push(n)),{__symbol:r,members:t.members}}},e}(yi),af=function(t){/**
     * @param {?} symbolCache
     */
function e(e){var n=t.call(this)||this;return n.symbolCache=e,n}/**
     * @param {?} json
     * @return {?}
     */
/**
     * @param {?} map
     * @param {?} context
     * @return {?}
     */
return Br(e,t),e.prototype.deserialize=function(t){var e=this,/** @type {?} */n=JSON.parse(t),/** @type {?} */r=[];return this.symbols=[],n.symbols.forEach(function(t){var/** @type {?} */n=e.symbolCache.get(t.filePath,t.name);e.symbols.push(n),t.importAs&&r.push({symbol:n,importAs:t.importAs})}),{summaries:p(n.summaries,this,null),importAs:r}},e.prototype.visitStringMap=function(e,n){if("__symbol"in e){var/** @type {?} */r=this.symbols[e.__symbol],/** @type {?} */i=e.members;return i.length?this.symbolCache.get(r.filePath,r.name,i):r}return t.prototype.visitStringMap.call(this,e,n)},e}(yi),uf=(function(){/**
     * @param {?} _config
     * @param {?} _host
     * @param {?} _metadataResolver
     * @param {?} _templateParser
     * @param {?} _styleCompiler
     * @param {?} _viewCompiler
     * @param {?} _ngModuleCompiler
     * @param {?} _outputEmitter
     * @param {?} _summaryResolver
     * @param {?} _localeId
     * @param {?} _translationFormat
     * @param {?} _genFilePreamble
     * @param {?} _symbolResolver
     */
function t(t,e,n,r,i,o,s,a,u,c,l,f,p){this._config=t,this._host=e,this._metadataResolver=n,this._templateParser=r,this._styleCompiler=i,this._viewCompiler=o,this._ngModuleCompiler=s,this._outputEmitter=a,this._summaryResolver=u,this._localeId=c,this._translationFormat=l,this._genFilePreamble=f,this._symbolResolver=p}/**
     * @return {?}
     */
t.prototype.clearCache=function(){this._metadataResolver.clearCache()},/**
     * @param {?} rootFiles
     * @return {?}
     */
t.prototype.compileAll=function(t){var e=this,/** @type {?} */n=br(this._symbolResolver,t,this._host),r=yr(n,this._host,this._metadataResolver),i=r.ngModuleByPipeOrDirective,o=r.files,s=r.ngModules;return Promise.all(s.map(function(t){return e._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(t.type.reference,!1)})).then(function(){return O(o.map(function(t){return e._compileSrcFile(t.srcUrl,i,t.directives,t.pipes,t.ngModules,t.injectables)}))})},/**
     * @param {?} srcFileUrl
     * @param {?} ngModuleByPipeOrDirective
     * @param {?} directives
     * @param {?} pipes
     * @param {?} ngModules
     * @param {?} injectables
     * @return {?}
     */
t.prototype._compileSrcFile=function(t,e,n,r,i,o){var s=this,/** @type {?} */a=He(t)[1],/** @type {?} */u=[],/** @type {?} */c=[],/** @type {?} */l=[];if(l.push(this._createSummary(t,n,r,i,o,u,c)),
// compile all ng modules
c.push.apply(c,i.map(function(t){return s._compileModule(t,u)})),
// compile components
n.forEach(function(n){var/** @type {?} */r=s._metadataResolver.getDirectiveMetadata(/** @type {?} */n);if(!r.isComponent)return Promise.resolve(null);var/** @type {?} */i=e.get(n);if(!i)throw new Error("Internal Error: cannot determine the module for component "+g(r.type)+"!");mr(r);
// compile styles
var/** @type {?} */o=s._styleCompiler.compileComponent(r);o.externalStylesheets.forEach(function(e){l.push(s._codgenStyles(t,e,a))});
// compile components
var/** @type {?} */f=s._compileComponent(r,i,i.transitiveModule.directives,o.componentStylesheet,a,u);c.push(s._compileComponentFactory(r,i,a,u),f.viewClassVar,f.compRenderTypeVar)}),u.length>0){var/** @type {?} */f=this._codegenSourceModule(t,Be(t),u,c);l.unshift(f)}return l},/**
     * @param {?} srcFileUrl
     * @param {?} directives
     * @param {?} pipes
     * @param {?} ngModules
     * @param {?} injectables
     * @param {?} targetStatements
     * @param {?} targetExportedVars
     * @return {?}
     */
t.prototype._createSummary=function(t,e,n,r,i,o,s){var a=this,/** @type {?} */u=this._symbolResolver.getSymbolsOf(t).map(function(t){return a._symbolResolver.resolveSymbol(t)}),/** @type {?} */c=r.map(function(t){return a._metadataResolver.getNgModuleSummary(t)}).concat(e.map(function(t){return a._metadataResolver.getDirectiveSummary(t)}),n.map(function(t){return a._metadataResolver.getPipeSummary(t)}),i.map(function(t){return a._metadataResolver.getInjectableSummary(t)})),l=fr(this._summaryResolver,this._symbolResolver,u,c),f=l.json;return l.exportAs.forEach(function(t){o.push(un(t.exportAs).set(cn({reference:t.symbol})).toDeclStmt()),s.push(t.exportAs)}),new of(t,Ge(t),f)},/**
     * @param {?} ngModuleType
     * @param {?} targetStatements
     * @return {?}
     */
t.prototype._compileModule=function(t,e){var/** @type {?} */n=this._metadataResolver.getNgModuleMetadata(t),/** @type {?} */r=[];this._localeId&&r.push({token:ue(xa.LOCALE_ID),useValue:this._localeId}),this._translationFormat&&r.push({token:ue(xa.TRANSLATIONS_FORMAT),useValue:this._translationFormat});var/** @type {?} */i=this._ngModuleCompiler.compile(n,r);return e.push.apply(e,i.statements),i.ngModuleFactoryVar},/**
     * @param {?} compMeta
     * @param {?} ngModule
     * @param {?} fileSuffix
     * @param {?} targetStatements
     * @return {?}
     */
t.prototype._compileComponentFactory=function(t,e,n,r){var/** @type {?} */i=this._metadataResolver.getHostComponentType(t.type.reference),/** @type {?} */o=N(i,t,this._metadataResolver.getHostComponentViewClass(i)),/** @type {?} */s=this._compileComponent(o,e,[t.type],null,n,r).viewClassVar,/** @type {?} */a=E(t.type.reference),/** @type {?} */u=[];for(var/** @type {?} */c in t.inputs){var/** @type {?} */l=t.inputs[c];
// Don't quote so that the key gets minified...
u.push(new cc(c,vn(l),!1))}var/** @type {?} */f=[];for(var/** @type {?} */c in t.outputs){var/** @type {?} */l=t.outputs[c];
// Don't quote so that the key gets minified...
f.push(new cc(c,vn(l),!1))}return r.push(un(a).set(cn(se(xa.createComponentFactory)).callFn([vn(t.selector),cn(t.type),un(s),new lc(u),new lc(f),pn(t.template.ngContentSelectors.map(function(t){return vn(t)}))])).toDeclStmt(ln(se(xa.ComponentFactory),[ln(t.type)],[Pu.Const]),[vc.Final])),a},/**
     * @param {?} compMeta
     * @param {?} ngModule
     * @param {?} directiveIdentifiers
     * @param {?} componentStyles
     * @param {?} fileSuffix
     * @param {?} targetStatements
     * @return {?}
     */
t.prototype._compileComponent=function(t,e,n,r,i,o){var s=this,/** @type {?} */a=n.map(function(t){return s._metadataResolver.getDirectiveSummary(t.reference)}),/** @type {?} */u=e.transitiveModule.pipes.map(function(t){return s._metadataResolver.getPipeSummary(t.reference)}),c=this._templateParser.parse(t,t.template.template,a,u,e.schemas,A(e.type,t,t.template)),l=c.template,f=c.pipes,/** @type {?} */p=r?un(r.stylesVar):pn([]),/** @type {?} */h=this._viewCompiler.compileComponent(t,l,p,f);return r&&o.push.apply(o,hr(this._symbolResolver,r,i)),o.push.apply(o,h.statements),{viewClassVar:h.viewClassVar,compRenderTypeVar:h.rendererTypeVar}},/**
     * @param {?} fileUrl
     * @param {?} stylesCompileResult
     * @param {?} fileSuffix
     * @return {?}
     */
t.prototype._codgenStyles=function(t,e,n){return hr(this._symbolResolver,e,n),this._codegenSourceModule(t,dr(e.meta.moduleUrl,e.isShimmed,n),e.statements,[e.stylesVar])},/**
     * @param {?} srcFileUrl
     * @param {?} genFileUrl
     * @param {?} statements
     * @param {?} exportedVars
     * @return {?}
     */
t.prototype._codegenSourceModule=function(t,e,n,r){return new of(t,e,this._outputEmitter.emitStatements(T(t),e,n,r,this._genFilePreamble))}}(),function(){/**
     * @param {?} staticDelegate
     */
function t(t){this.staticDelegate=t,this.dynamicDelegate=new Vr["ReflectionCapabilities"]}/**
     * @param {?} staticDelegate
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} type
     * @param {?} lcProperty
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} typeOrFunc
     * @return {?}
     */
/**
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} name
     * @param {?} moduleUrl
     * @param {?} members
     * @param {?} runtime
     * @return {?}
     */
/**
     * @param {?} enumIdentifier
     * @param {?} name
     * @return {?}
     */
return t.install=function(e){Vr["reflector"].updateCapabilities(new t(e))},t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return this.dynamicDelegate.factory(t)},t.prototype.hasLifecycleHook=function(t,e){return _r(t)?this.staticDelegate.hasLifecycleHook(t,e):this.dynamicDelegate.hasLifecycleHook(t,e)},t.prototype.parameters=function(t){return _r(t)?this.staticDelegate.parameters(t):this.dynamicDelegate.parameters(t)},t.prototype.annotations=function(t){return _r(t)?this.staticDelegate.annotations(t):this.dynamicDelegate.annotations(t)},t.prototype.propMetadata=function(t){return _r(t)?this.staticDelegate.propMetadata(t):this.dynamicDelegate.propMetadata(t)},t.prototype.getter=function(t){return this.dynamicDelegate.getter(t)},t.prototype.setter=function(t){return this.dynamicDelegate.setter(t)},t.prototype.method=function(t){return this.dynamicDelegate.method(t)},t.prototype.importUri=function(t){return this.staticDelegate.importUri(t)},t.prototype.resourceUri=function(t){return this.staticDelegate.resourceUri(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return this.staticDelegate.resolveIdentifier(t,e,n)},t.prototype.resolveEnum=function(t,e){return _r(t)?this.staticDelegate.resolveEnum(t,e):null},t}()),cf="@angular/core",lf=/^\$.*\$$/,ff={__symbolic:"ignore"},pf=function(){/**
     * @param {?} symbolResolver
     * @param {?=} knownMetadataClasses
     * @param {?=} knownMetadataFunctions
     * @param {?=} errorRecorder
     */
function t(t,e,n,r){void 0===e&&(e=[]),void 0===n&&(n=[]);var i=this;this.symbolResolver=t,this.errorRecorder=r,this.annotationCache=new Map,this.propertyCache=new Map,this.parameterCache=new Map,this.methodCache=new Map,this.conversionMap=new Map,this.initializeConversionMap(),e.forEach(function(t){return i._registerDecoratorOrConstructor(i.getStaticSymbol(t.filePath,t.name),t.ctor)}),n.forEach(function(t){return i._registerFunction(i.getStaticSymbol(t.filePath,t.name),t.fn)})}/**
     * @param {?} typeOrFunc
     * @return {?}
     */
/**
     * @param {?} typeOrFunc
     * @return {?}
     */
/**
     * @param {?} name
     * @param {?} moduleUrl
     * @param {?} members
     * @return {?}
     */
/**
     * @param {?} moduleUrl
     * @param {?} name
     * @param {?=} containingFile
     * @return {?}
     */
/**
     * @param {?} symbol
     * @return {?}
     */
/**
     * @param {?} enumIdentifier
     * @param {?} name
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
/**
     * @param {?} type
     * @param {?} lcProperty
     * @return {?}
     */
/**
     * @param {?} type
     * @param {?} ctor
     * @return {?}
     */
/**
     * @param {?} type
     * @param {?} fn
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * getStaticSymbol produces a Type whose metadata is known but whose implementation is not loaded.
     * All types passed to the StaticResolver should be pseudo-types returned by this method.
     *
     * @param {?} declarationFile the absolute path of the file where the symbol is declared
     * @param {?} name the name of the type.
     * @param {?=} members
     * @return {?}
     */
/**
     * @param {?} error
     * @param {?} context
     * @param {?=} path
     * @return {?}
     */
/**
     * Simplify but discard any errors
     * @param {?} context
     * @param {?} value
     * @return {?}
     */
/**
     * \@internal
     * @param {?} context
     * @param {?} value
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
return t.prototype.importUri=function(t){var/** @type {?} */e=this.findSymbolDeclaration(t);return e?e.filePath:null},t.prototype.resourceUri=function(t){var/** @type {?} */e=this.findSymbolDeclaration(t);return this.symbolResolver.getResourcePath(e)},t.prototype.resolveIdentifier=function(t,e,n){var/** @type {?} */r=this.getStaticSymbol(e,t),/** @type {?} */i=this.findDeclaration(e,t);return r!=i&&this.symbolResolver.recordImportAs(i,r),n&&n.length?this.getStaticSymbol(i.filePath,i.name,n):i},t.prototype.findDeclaration=function(t,e,n){return this.findSymbolDeclaration(this.symbolResolver.getSymbolByModule(t,e,n))},t.prototype.findSymbolDeclaration=function(t){var/** @type {?} */e=this.symbolResolver.resolveSymbol(t);return e&&e.metadata instanceof ri?this.findSymbolDeclaration(e.metadata):t},t.prototype.resolveEnum=function(t,e){var/** @type {?} */n=t,/** @type {?} */r=(n.members||[]).concat(e);return this.getStaticSymbol(n.filePath,n.name,r)},t.prototype.annotations=function(t){var/** @type {?} */e=this.annotationCache.get(t);if(!e){e=[];var/** @type {?} */n=this.getTypeMetadata(t);if(n.extends){var/** @type {?} */r=this.trySimplify(t,n.extends);if(r&&r instanceof ri){var/** @type {?} */i=this.annotations(r);e.push.apply(e,i)}}if(n.decorators){var/** @type {?} */o=this.simplify(t,n.decorators);e.push.apply(e,o)}this.annotationCache.set(t,e.filter(function(t){return!!t}))}return e},t.prototype.propMetadata=function(t){var e=this,/** @type {?} */n=this.propertyCache.get(t);if(!n){var/** @type {?} */r=this.getTypeMetadata(t);if(n={},r.extends){var/** @type {?} */i=this.trySimplify(t,r.extends);if(i instanceof ri){var/** @type {?} */o=this.propMetadata(i);Object.keys(o).forEach(function(t){n[t]=o[t]})}}var/** @type {?} */s=r.members||{};Object.keys(s).forEach(function(r){var/** @type {?} */i=s[r],/** @type {?} */o=i.find(function(t){return"property"==t.__symbolic||"method"==t.__symbolic}),/** @type {?} */a=[];n[r]&&a.push.apply(a,n[r]),n[r]=a,o&&o.decorators&&a.push.apply(a,e.simplify(t,o.decorators))}),this.propertyCache.set(t,n)}return n},t.prototype.parameters=function(t){if(!(t instanceof ri))return this.reportError(new Error("parameters received "+JSON.stringify(t)+" which is not a StaticSymbol"),t),[];try{var/** @type {?} */e=this.parameterCache.get(t);if(!e){var/** @type {?} */n=this.getTypeMetadata(t),/** @type {?} */r=n?n.members:null,/** @type {?} */i=r?r.__ctor__:null;if(i){var/** @type {?} */o=i.find(function(t){return"constructor"==t.__symbolic}),/** @type {?} */s=this.simplify(t,o.parameters||[]),/** @type {?} */a=this.simplify(t,o.parameterDecorators||[]);e=[],s.forEach(function(t,n){var/** @type {?} */r=[];t&&r.push(t);var/** @type {?} */i=a?a[n]:null;i&&r.push.apply(r,i),e.push(r)})}else if(n.extends){var/** @type {?} */u=this.trySimplify(t,n.extends);u instanceof ri&&(e=this.parameters(u))}e||(e=[]),this.parameterCache.set(t,e)}return e}catch(e){throw console.error("Failed on type "+JSON.stringify(t)+" with error "+e),e}},t.prototype._methodNames=function(t){var/** @type {?} */e=this.methodCache.get(t);if(!e){var/** @type {?} */n=this.getTypeMetadata(t);if(e={},n.extends){var/** @type {?} */r=this.trySimplify(t,n.extends);if(r instanceof ri){var/** @type {?} */i=this._methodNames(r);Object.keys(i).forEach(function(t){e[t]=i[t]})}}var/** @type {?} */o=n.members||{};Object.keys(o).forEach(function(t){var/** @type {?} */n=o[t],/** @type {?} */r=n.some(function(t){return"method"==t.__symbolic});e[t]=e[t]||r}),this.methodCache.set(t,e)}return e},t.prototype.hasLifecycleHook=function(t,e){t instanceof ri||this.reportError(new Error("hasLifecycleHook received "+JSON.stringify(t)+" which is not a StaticSymbol"),t);try{return!!this._methodNames(t)[e]}catch(e){throw console.error("Failed on type "+JSON.stringify(t)+" with error "+e),e}},t.prototype._registerDecoratorOrConstructor=function(t,e){this.conversionMap.set(t,function(t,n){return new(e.bind.apply(e,[void 0].concat(n)))})},t.prototype._registerFunction=function(t,e){this.conversionMap.set(t,function(t,n){return e.apply(void 0,n)})},t.prototype.initializeConversionMap=function(){this.injectionToken=this.findDeclaration(cf,"InjectionToken"),this.opaqueToken=this.findDeclaration(cf,"OpaqueToken"),this._registerDecoratorOrConstructor(this.findDeclaration(cf,"Host"),Vr.Host),this._registerDecoratorOrConstructor(this.findDeclaration(cf,"Injectable"),Vr.Injectable),this._registerDecoratorOrConstructor(this.findDeclaration(cf,"Self"),Vr.Self),this._registerDecoratorOrConstructor(this.findDeclaration(cf,"SkipSelf"),Vr.SkipSelf),this._registerDecoratorOrConstructor(this.findDeclaration(cf,"Inject"),Vr.Inject),this._registerDecoratorOrConstructor(this.findDeclaration(cf,"Optional"),Vr.Optional),this._registerDecoratorOrConstructor(this.findDeclaration(cf,"Attribute"),Vr.Attribute),this._registerDecoratorOrConstructor(this.findDeclaration(cf,"ContentChild"),Vr.ContentChild),this._registerDecoratorOrConstructor(this.findDeclaration(cf,"ContentChildren"),Vr.ContentChildren),this._registerDecoratorOrConstructor(this.findDeclaration(cf,"ViewChild"),Vr.ViewChild),this._registerDecoratorOrConstructor(this.findDeclaration(cf,"ViewChildren"),Vr.ViewChildren),this._registerDecoratorOrConstructor(this.findDeclaration(cf,"Input"),Vr.Input),this._registerDecoratorOrConstructor(this.findDeclaration(cf,"Output"),Vr.Output),this._registerDecoratorOrConstructor(this.findDeclaration(cf,"Pipe"),Vr.Pipe),this._registerDecoratorOrConstructor(this.findDeclaration(cf,"HostBinding"),Vr.HostBinding),this._registerDecoratorOrConstructor(this.findDeclaration(cf,"HostListener"),Vr.HostListener),this._registerDecoratorOrConstructor(this.findDeclaration(cf,"Directive"),Vr.Directive),this._registerDecoratorOrConstructor(this.findDeclaration(cf,"Component"),Vr.Component),this._registerDecoratorOrConstructor(this.findDeclaration(cf,"NgModule"),Vr.NgModule),
// Note: Some metadata classes can be used directly with Provider.deps.
this._registerDecoratorOrConstructor(this.findDeclaration(cf,"Host"),Vr.Host),this._registerDecoratorOrConstructor(this.findDeclaration(cf,"Self"),Vr.Self),this._registerDecoratorOrConstructor(this.findDeclaration(cf,"SkipSelf"),Vr.SkipSelf),this._registerDecoratorOrConstructor(this.findDeclaration(cf,"Optional"),Vr.Optional),this._registerFunction(this.findDeclaration(cf,"trigger"),Vr.trigger),this._registerFunction(this.findDeclaration(cf,"state"),Vr.state),this._registerFunction(this.findDeclaration(cf,"transition"),Vr.transition),this._registerFunction(this.findDeclaration(cf,"style"),Vr.style),this._registerFunction(this.findDeclaration(cf,"animate"),Vr.animate),this._registerFunction(this.findDeclaration(cf,"keyframes"),Vr.keyframes),this._registerFunction(this.findDeclaration(cf,"sequence"),Vr.sequence),this._registerFunction(this.findDeclaration(cf,"group"),Vr.group)},t.prototype.getStaticSymbol=function(t,e,n){return this.symbolResolver.getStaticSymbol(t,e,n)},t.prototype.reportError=function(t,e,n){if(!this.errorRecorder)throw t;this.errorRecorder(t,e&&e.filePath||n)},t.prototype.trySimplify=function(t,e){var/** @type {?} */n=this.errorRecorder;this.errorRecorder=function(t,e){};var/** @type {?} */r=this.simplify(t,e);return this.errorRecorder=n,r},t.prototype.simplify=function(t,e){/**
         * @param {?} context
         * @param {?} value
         * @param {?} depth
         * @return {?}
         */
function n(t,e,r){/**
             * @param {?} staticSymbol
             * @return {?}
             */
function a(t){var/** @type {?} */e=i.symbolResolver.resolveSymbol(t);return e?e.metadata:null}/**
             * @param {?} functionSymbol
             * @param {?} targetFunction
             * @param {?} args
             * @return {?}
             */
function u(e,i,a){if(i&&"function"==i.__symbolic){if(s.get(e))throw new Error("Recursion not supported");s.set(e,!0);try{var/** @type {?} */u=i.value;if(u&&(0!=r||"error"!=u.__symbolic)){var/** @type {?} */l=i.parameters,/** @type {?} */f=i.defaults;a=a.map(function(e){return n(t,e,r+1)}).map(function(t){return xr(t)?void 0:t}),f&&f.length>a.length&&a.push.apply(a,f.slice(a.length).map(function(t){return c(t)}));for(var/** @type {?} */p=hf.build(),/** @type {?} */h=0;h<l.length;h++)p.define(l[h],a[h]);var/** @type {?} */d,/** @type {?} */m=o;try{o=p.done(),d=n(e,u,r+1)}finally{o=m}return d}}finally{s.delete(e)}}return 0===r?ff:c({__symbolic:"error",message:"Function call not supported",context:e})}/**
             * @param {?} expression
             * @return {?}
             */
function c(e){if(Nr(e))return e;if(e instanceof Array){for(var/** @type {?} */s=[],l=0,f=e;l<f.length;l++){var p=f[l];
// Check for a spread expression
if(p&&"spread"===p.__symbolic){var/** @type {?} */h=c(p.expression);if(Array.isArray(h)){for(var d=0,m=h;d<m.length;d++){var v=m[d];s.push(v)}continue}}var/** @type {?} */y=c(p);xr(y)||s.push(y)}return s}if(e instanceof ri){
// Stop simplification at builtin symbols
if(e===i.injectionToken||e===i.opaqueToken||i.conversionMap.has(e))return e;var/** @type {?} */g=e,/** @type {?} */b=a(g);return b?n(g,b,r+1):g}if(e){if(e.__symbolic){var/** @type {?} */g=void 0;switch(e.__symbolic){case"binop":var/** @type {?} */w=c(e.left);if(xr(w))return w;var/** @type {?} */_=c(e.right);if(xr(_))return _;switch(e.operator){case"&&":return w&&_;case"||":return w||_;case"|":return w|_;case"^":return w^_;case"&":return w&_;case"==":return w==_;case"!=":return w!=_;case"===":return w===_;case"!==":return w!==_;case"<":return w<_;case">":return w>_;case"<=":return w<=_;case">=":return w>=_;case"<<":return w<<_;case">>":return w>>_;case"+":return w+_;case"-":return w-_;case"*":return w*_;case"/":return w/_;case"%":return w%_}return null;case"if":return c(c(e.condition)?e.thenExpression:e.elseExpression);case"pre":var/** @type {?} */x=c(e.operand);if(xr(x))return x;switch(e.operator){case"+":return x;case"-":return-x;case"!":return!x;case"~":return~x}return null;case"index":var/** @type {?} */E=c(e.expression),/** @type {?} */C=c(e.index);return E&&Nr(C)?E[C]:null;case"select":var/** @type {?} */S=e.member,/** @type {?} */N=t,/** @type {?} */M=c(e.expression);if(M instanceof ri){var/** @type {?} */O=M.members.concat(S);N=i.getStaticSymbol(M.filePath,M.name,O);var/** @type {?} */b=a(N);return b?n(N,b,r+1):N}return M&&Nr(S)?n(N,M[S],r+1):null;case"reference":
// Note: This only has to deal with variable references,
// as symbol references have been converted into StaticSymbols already
// in the StaticSymbolResolver!
var/** @type {?} */T=e.name,/** @type {?} */A=o.resolve(T);if(A!=hf.missing)return A;break;case"class":case"function":return t;case"new":case"call":if((
// Determine if the function is a built-in conversion
g=n(t,e.expression,r+1))instanceof ri){if(g===i.injectionToken||g===i.opaqueToken)
// if somebody calls new InjectionToken, don't create an InjectionToken,
// but rather return the symbol to which the InjectionToken is assigned to.
return t;var/** @type {?} */P=e.arguments||[],/** @type {?} */k=i.conversionMap.get(g);if(k){var/** @type {?} */I=P.map(function(e){return n(t,e,r+1)}).map(function(t){return xr(t)?void 0:t});return k(t,I)}return u(g,a(g),P)}break;case"error":var/** @type {?} */R=Cr(e);return e.line?(R=R+" (position "+(e.line+1)+":"+(e.character+1)+" in the original .ts file)",i.reportError(Mr(R,t.filePath,e.line,e.character),t)):i.reportError(new Error(R),t),ff;case"ignore":return e}return null}return Sr(e,function(t,e){return c(t)})}return ff}try{return c(e)}catch(e){var/** @type {?} */l=t.members.length?"."+t.members.join("."):"",/** @type {?} */f=e.message+", resolving symbol "+t.name+l+" in "+t.filePath;if(e.fileName)throw Mr(f,e.fileName,e.line,e.column);throw h(f)}}var r=this,/** @type {?} */i=this,/** @type {?} */o=hf.empty,/** @type {?} */s=new Map,/** @type {?} */a=this.errorRecorder?function(t,e,i){try{return n(t,e,i)}catch(e){r.reportError(e,t)}}(t,e,0):n(t,e,0);if(!xr(a))return a},t.prototype.getTypeMetadata=function(t){var/** @type {?} */e=this.symbolResolver.resolveSymbol(t);return e&&e.metadata?e.metadata:{__symbolic:"class"}},t}(),hf=function(){function t(){}/**
     * @abstract
     * @param {?} name
     * @return {?}
     */
/**
     * @return {?}
     */
return t.prototype.resolve=function(t){},t.build=function(){var/** @type {?} */e=new Map;return{define:function(t,n){return e.set(t,n),this},done:function(){return e.size>0?new df(e):t.empty}}},t}();hf.missing={},hf.empty={resolve:function(t){return hf.missing}};var df=function(t){/**
     * @param {?} bindings
     */
function e(e){var n=t.call(this)||this;return n.bindings=e,n}/**
     * @param {?} name
     * @return {?}
     */
return Br(e,t),e.prototype.resolve=function(t){return this.bindings.has(t)?this.bindings.get(t):hf.missing},e}(hf),mf=function(){/**
     * @param {?} symbol
     * @param {?} metadata
     */
function t(t,e){this.symbol=t,this.metadata=e}return t}(),vf=function(){/**
     * @param {?} host
     * @param {?} staticSymbolCache
     * @param {?} summaryResolver
     * @param {?=} errorRecorder
     */
function t(t,e,n,r){this.host=t,this.staticSymbolCache=e,this.summaryResolver=n,this.errorRecorder=r,this.metadataCache=new Map,this.resolvedSymbols=new Map,this.resolvedFilePaths=new Set,this.importAs=new Map,this.symbolResourcePaths=new Map,this.symbolFromFile=new Map}/**
     * @param {?} staticSymbol
     * @return {?}
     */
/**
     * getImportAs produces a symbol that can be used to import the given symbol.
     * The import might be different than the symbol if the symbol is exported from
     * a library with a summary; in which case we want to import the symbol from the
     * ngfactory re-export instead of directly to avoid introducing a direct dependency
     * on an otherwise indirect dependency.
     *
     * @param {?} staticSymbol the symbol for which to generate a import symbol
     * @return {?}
     */
/**
     * getResourcePath produces the path to the original location of the symbol and should
     * be used to determine the relative location of resource references recorded in
     * symbol metadata.
     * @param {?} staticSymbol
     * @return {?}
     */
/**
     * getTypeArity returns the number of generic type parameters the given symbol
     * has. If the symbol is not a type the result is null.
     * @param {?} staticSymbol
     * @return {?}
     */
/**
     * @param {?} sourceSymbol
     * @param {?} targetSymbol
     * @return {?}
     */
/**
     * Invalidate all information derived from the given file.
     *
     * @param {?} fileName the file to invalidate
     * @return {?}
     */
/**
     * @param {?} staticSymbol
     * @return {?}
     */
/**
     * @param {?} staticSymbol
     * @return {?}
     */
/**
     * getStaticSymbol produces a Type whose metadata is known but whose implementation is not loaded.
     * All types passed to the StaticResolver should be pseudo-types returned by this method.
     *
     * @param {?} declarationFile the absolute path of the file where the symbol is declared
     * @param {?} name the name of the type.
     * @param {?=} members a symbol for a static member of the named type
     * @return {?}
     */
/**
     * @param {?} filePath
     * @return {?}
     */
/**
     * @param {?} filePath
     * @return {?}
     */
/**
     * @param {?} sourceSymbol
     * @param {?} topLevelPath
     * @param {?} topLevelSymbolNames
     * @param {?} metadata
     * @return {?}
     */
/**
     * @param {?} sourceSymbol
     * @param {?} targetSymbol
     * @return {?}
     */
/**
     * @param {?} error
     * @param {?} context
     * @param {?=} path
     * @return {?}
     */
/**
     * @param {?} module an absolute path to a module file.
     * @return {?}
     */
/**
     * @param {?} module
     * @param {?} symbolName
     * @param {?=} containingFile
     * @return {?}
     */
/**
     * @param {?} module
     * @param {?} containingFile
     * @return {?}
     */
return t.prototype.resolveSymbol=function(t){if(t.members.length>0)return this._resolveSymbolMembers(t);var/** @type {?} */e=this.resolvedSymbols.get(t);
// Note: Some users use libraries that were not compiled with ngc, i.e. they don't
// have summaries, only .d.ts files. So we always need to check both, the summary
// and metadata.
return e||((e=this._resolveSymbolFromSummary(t))?e:(this._createSymbolsOf(t.filePath),e=this.resolvedSymbols.get(t)))},t.prototype.getImportAs=function(t){if(t.members.length){var/** @type {?} */e=this.getStaticSymbol(t.filePath,t.name),/** @type {?} */n=this.getImportAs(e);return n?this.getStaticSymbol(n.filePath,n.name,t.members):null}var/** @type {?} */r=this.summaryResolver.getImportAs(t);return r||(r=this.importAs.get(t)),r},t.prototype.getResourcePath=function(t){return this.symbolResourcePaths.get(t)||t.filePath},t.prototype.getTypeArity=function(t){
// If the file is a factory file, don't resolve the symbol as doing so would
// cause the metadata for an factory file to be loaded which doesn't exist.
// All references to generated classes must include the correct arity whenever
// generating code.
if(qe(t.filePath))return null;for(var/** @type {?} */e=this.resolveSymbol(t);e&&e.metadata instanceof ri;)e=this.resolveSymbol(e.metadata);return e&&e.metadata&&e.metadata.arity||null},t.prototype.recordImportAs=function(t,e){t.assertNoMembers(),e.assertNoMembers(),this.importAs.set(t,e)},t.prototype.invalidateFile=function(t){this.metadataCache.delete(t),this.resolvedFilePaths.delete(t);var/** @type {?} */e=this.symbolFromFile.get(t);if(e){this.symbolFromFile.delete(t);for(var n=0,r=e;n<r.length;n++){var i=r[n];this.resolvedSymbols.delete(i),this.importAs.delete(i),this.symbolResourcePaths.delete(i)}}},t.prototype._resolveSymbolMembers=function(t){var/** @type {?} */e=t.members,/** @type {?} */n=this.resolveSymbol(this.getStaticSymbol(t.filePath,t.name));if(!n)return null;var/** @type {?} */r=n.metadata;if(r instanceof ri)return new mf(t,this.getStaticSymbol(r.filePath,r.name,e));if(!r||"class"!==r.__symbolic){for(var/** @type {?} */i=r,/** @type {?} */o=0;o<e.length&&i;o++)i=i[e[o]];return new mf(t,i)}return r.statics&&1===e.length?new mf(t,r.statics[e[0]]):null},t.prototype._resolveSymbolFromSummary=function(t){var/** @type {?} */e=this.summaryResolver.resolveSummary(t);return e?new mf(t,e.metadata):null},t.prototype.getStaticSymbol=function(t,e,n){return this.staticSymbolCache.get(t,e,n)},t.prototype.getSymbolsOf=function(t){
// Note: Some users use libraries that were not compiled with ngc, i.e. they don't
// have summaries, only .d.ts files. So we always need to check both, the summary
// and metadata.
var/** @type {?} */e=new Set(this.summaryResolver.getSymbolsOf(t));return this._createSymbolsOf(t),this.resolvedSymbols.forEach(function(n){n.symbol.filePath===t&&e.add(n.symbol)}),Array.from(e)},t.prototype._createSymbolsOf=function(t){var e=this;if(!this.resolvedFilePaths.has(t)){this.resolvedFilePaths.add(t);var/** @type {?} */n=[],/** @type {?} */r=this.getModuleMetadata(t);if(r.metadata){
// handle direct declarations of the symbol
var/** @type {?} */i=new Set(Object.keys(r.metadata).map(Or)),/** @type {?} */o=r.origins||{};Object.keys(r.metadata).forEach(function(s){var/** @type {?} */a=r.metadata[s],/** @type {?} */u=Or(s),/** @type {?} */c=e.getStaticSymbol(t,u),/** @type {?} */l=void 0;r.importAs&&(
// Index bundle indexes should use the importAs module name instead of a reference
// to the .d.ts file directly.
l=e.getStaticSymbol(r.importAs,u),e.recordImportAs(c,l));var/** @type {?} */f=o.hasOwnProperty(s)&&o[s];if(f){
// If the symbol is from a bundled index, use the declaration location of the
// symbol so relative references (such as './my.html') will be calculated
// correctly.
var/** @type {?} */p=e.resolveModule(f,t);p?e.symbolResourcePaths.set(c,p):e.reportError(new Error("Couldn't resolve original symbol for "+f+" from "+t),null)}n.push(e.createResolvedSymbol(c,t,i,a))})}
// handle the symbols in one of the re-export location
if(r.exports)for(var s=this,a=0,u=r.exports;a<u.length;a++){var c=u[a];!function(r){
// handle the symbols in the list of explicitly re-exported symbols.
if(r.export)r.export.forEach(function(i){var/** @type {?} */o;o="string"==typeof i?i:i.as,o=Or(o);var/** @type {?} */s=o;"string"!=typeof i&&(s=Or(i.name));var/** @type {?} */a=e.resolveModule(r.from,t);if(a){var/** @type {?} */u=e.getStaticSymbol(a,s),/** @type {?} */c=e.getStaticSymbol(t,o);n.push(e.createExport(c,u))}});else{
// handle the symbols via export * directives.
var/** @type {?} */i=s.resolveModule(r.from,t);if(i){s.getSymbolsOf(i).forEach(function(r){var/** @type {?} */i=e.getStaticSymbol(t,r.name);n.push(e.createExport(i,r))})}}}(/** @type {?} */c)}n.forEach(function(t){return e.resolvedSymbols.set(t.symbol,t)}),this.symbolFromFile.set(t,n.map(function(t){return t.symbol}))}},t.prototype.createResolvedSymbol=function(t,e,n,r){var/** @type {?} */i=this,o=function(r){function o(){return null!==r&&r.apply(this,arguments)||this}/**
             * @param {?} map
             * @param {?} functionParams
             * @return {?}
             */
return Br(o,r),o.prototype.visitStringMap=function(o,s){var/** @type {?} */a=o.__symbolic;if("function"===a){var/** @type {?} */u=s.length;s.push.apply(s,o.parameters||[]);var/** @type {?} */c=r.prototype.visitStringMap.call(this,o,s);return s.length=u,c}if("reference"!==a)return r.prototype.visitStringMap.call(this,o,s);var/** @type {?} */l=o.module,/** @type {?} */f=o.name?Or(o.name):o.name;if(!f)return null;var/** @type {?} */p=void 0;return l?(p=i.resolveModule(l,t.filePath),p?i.getStaticSymbol(p,f):{__symbolic:"error",message:"Could not resolve "+l+" relative to "+t.filePath+"."}):s.indexOf(f)>=0?{__symbolic:"reference",name:f}:n.has(f)?i.getStaticSymbol(e,f):void 0},o}(yi),/** @type {?} */s=p(r,new o,[]);return s instanceof ri?this.createExport(t,s):new mf(t,s)},t.prototype.createExport=function(t,e){
// This case is for an ng library importing symbols from a plain ts library
// transitively.
// Note: We rely on the fact that we discover symbols in the direction
// from source files to library files
return t.assertNoMembers(),e.assertNoMembers(),this.summaryResolver.isLibraryFile(t.filePath)&&this.importAs.set(e,this.getImportAs(t)||t),new mf(t,e)},t.prototype.reportError=function(t,e,n){if(!this.errorRecorder)throw t;this.errorRecorder(t,e&&e.filePath||n)},t.prototype.getModuleMetadata=function(t){var/** @type {?} */e=this.metadataCache.get(t);if(!e){var/** @type {?} */n=this.host.getMetadataFor(t);if(n){var/** @type {?} */r=-1;n.forEach(function(t){t.version>r&&(r=t.version,e=t)})}if(e||(e={__symbolic:"module",version:3,module:t,metadata:{}}),3!=e.version){var/** @type {?} */i=2==e.version?"Unsupported metadata version "+e.version+" for module "+t+". This module should be compiled with a newer version of ngc":"Metadata version mismatch for module "+t+", found version "+e.version+", expected 3";this.reportError(new Error(i),null)}this.metadataCache.set(t,e)}return e},t.prototype.getSymbolByModule=function(t,e,n){var/** @type {?} */r=this.resolveModule(t,n);return r?this.getStaticSymbol(r,e):(this.reportError(new Error("Could not resolve module "+t+(n?" relative to $ {\n            containingFile\n          } ":"")),null),this.getStaticSymbol("ERROR:"+t,e))},t.prototype.resolveModule=function(t,e){try{return this.host.moduleNameToFileName(t,e)}catch(n){console.error("Could not resolve module '"+t+"' relative to file "+e),this.reportError(n,null,e)}},t}(),yf=function(){/**
     * @param {?} host
     * @param {?} staticSymbolCache
     */
function t(t,e){this.host=t,this.staticSymbolCache=e,this.summaryCache=new Map,this.loadedFilePaths=new Set,this.importAs=new Map}/**
     * @param {?} filePath
     * @return {?}
     */
/**
     * @param {?} filePath
     * @return {?}
     */
/**
     * @param {?} staticSymbol
     * @return {?}
     */
/**
     * @param {?} filePath
     * @return {?}
     */
/**
     * @param {?} staticSymbol
     * @return {?}
     */
/**
     * @param {?} filePath
     * @return {?}
     */
return t.prototype.isLibraryFile=function(t){
// Note: We need to strip the .ngfactory. file path,
// so this method also works for generated files
// (for which host.isSourceFile will always return false).
return!this.host.isSourceFile(ze(t))},t.prototype.getLibraryFileName=function(t){return this.host.getOutputFileName(t)},t.prototype.resolveSummary=function(t){t.assertNoMembers();var/** @type {?} */e=this.summaryCache.get(t);return e||(this._loadSummaryFile(t.filePath),e=this.summaryCache.get(t)),e},t.prototype.getSymbolsOf=function(t){return this._loadSummaryFile(t),Array.from(this.summaryCache.keys()).filter(function(e){return e.filePath===t})},t.prototype.getImportAs=function(t){return t.assertNoMembers(),this.importAs.get(t)},t.prototype._loadSummaryFile=function(t){var e=this;if(!this.loadedFilePaths.has(t)&&(this.loadedFilePaths.add(t),this.isLibraryFile(t))){var/** @type {?} */n=Ge(t),/** @type {?} */r=void 0;try{r=this.host.loadSummary(n)}catch(t){throw console.error("Error loading summary file "+n),t}if(r){var i=pr(this.staticSymbolCache,r),o=i.summaries,s=i.importAs;o.forEach(function(t){return e.summaryCache.set(t.symbol,t)}),s.forEach(function(n){e.importAs.set(n.symbol,e.staticSymbolCache.get(Be(t),n.importAs))})}}},t}(),gf=function(){/**
     * @param {?} parent
     * @param {?} instance
     * @param {?} className
     * @param {?} vars
     */
function t(t,e,n,r){this.parent=t,this.instance=e,this.className=n,this.vars=r}/**
     * @return {?}
     */
return t.prototype.createChildWihtLocalVars=function(){return new t(this,this.instance,this.className,new Map)},t}(),bf=function(){/**
     * @param {?} value
     */
function t(t){this.value=t}return t}(),wf=function(){function t(){}/**
     * @param {?} ast
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} expr
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} expr
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} expr
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} expr
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?=} context
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} context
     * @return {?}
     */
/**
     * @param {?} expressions
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} statements
     * @param {?} ctx
     * @return {?}
     */
return t.prototype.debugAst=function(t){return Nn(t)},t.prototype.visitDeclareVarStmt=function(t,e){return e.vars.set(t.name,t.value.visitExpression(this,e)),null},t.prototype.visitWriteVarExpr=function(t,e){for(var/** @type {?} */n=t.value.visitExpression(this,e),/** @type {?} */r=e;null!=r;){if(r.vars.has(t.name))return r.vars.set(t.name,n),n;r=r.parent}throw new Error("Not declared variable "+t.name)},t.prototype.visitReadVarExpr=function(t,e){var/** @type {?} */n=t.name;if(null!=t.builtin)switch(t.builtin){case qu.Super:return e.instance.__proto__;case qu.This:return e.instance;case qu.CatchError:n=_f;break;case qu.CatchStack:n=xf;break;default:throw new Error("Unknown builtin variable "+t.builtin)}for(var/** @type {?} */r=e;null!=r;){if(r.vars.has(n))return r.vars.get(n);r=r.parent}throw new Error("Not declared variable "+n)},t.prototype.visitWriteKeyExpr=function(t,e){var/** @type {?} */n=t.receiver.visitExpression(this,e),/** @type {?} */r=t.index.visitExpression(this,e),/** @type {?} */i=t.value.visitExpression(this,e);return n[r]=i,i},t.prototype.visitWritePropExpr=function(t,e){var/** @type {?} */n=t.receiver.visitExpression(this,e),/** @type {?} */r=t.value.visitExpression(this,e);return n[t.name]=r,r},t.prototype.visitInvokeMethodExpr=function(t,e){var/** @type {?} */n,/** @type {?} */r=t.receiver.visitExpression(this,e),/** @type {?} */i=this.visitAllExpressions(t.args,e);if(null!=t.builtin)switch(t.builtin){case Yu.ConcatArray:n=r.concat.apply(r,i);break;case Yu.SubscribeObservable:n=r.subscribe({next:i[0]});break;case Yu.Bind:n=r.bind.apply(r,i);break;default:throw new Error("Unknown builtin method "+t.builtin)}else n=r[t.name].apply(r,i);return n},t.prototype.visitInvokeFunctionExpr=function(t,e){var/** @type {?} */n=this.visitAllExpressions(t.args,e),/** @type {?} */r=t.fn;return r instanceof Hu&&r.builtin===qu.Super?(e.instance.constructor.prototype.constructor.apply(e.instance,n),null):t.fn.visitExpression(this,e).apply(null,n)},t.prototype.visitReturnStmt=function(t,e){return new bf(t.value.visitExpression(this,e))},t.prototype.visitDeclareClassStmt=function(t,e){var/** @type {?} */n=Pr(t,e,this);return e.vars.set(t.name,n),null},t.prototype.visitExpressionStmt=function(t,e){return t.expr.visitExpression(this,e)},t.prototype.visitIfStmt=function(t,e){return t.condition.visitExpression(this,e)?this.visitAllStatements(t.trueCase,e):null!=t.falseCase?this.visitAllStatements(t.falseCase,e):null},t.prototype.visitTryCatchStmt=function(t,e){try{return this.visitAllStatements(t.bodyStmts,e)}catch(r){var/** @type {?} */n=e.createChildWihtLocalVars();return n.vars.set(_f,r),n.vars.set(xf,r.stack),this.visitAllStatements(t.catchStmts,n)}},t.prototype.visitThrowStmt=function(t,e){throw t.error.visitExpression(this,e)},t.prototype.visitCommentStmt=function(t,e){return null},t.prototype.visitInstantiateExpr=function(t,e){var/** @type {?} */n=this.visitAllExpressions(t.args,e),/** @type {?} */r=t.classExpr.visitExpression(this,e);return new(r.bind.apply(r,[void 0].concat(n)))},t.prototype.visitLiteralExpr=function(t,e){return t.value},t.prototype.visitExternalExpr=function(t,e){return t.value.reference},t.prototype.visitConditionalExpr=function(t,e){return t.condition.visitExpression(this,e)?t.trueCase.visitExpression(this,e):null!=t.falseCase?t.falseCase.visitExpression(this,e):null},t.prototype.visitNotExpr=function(t,e){return!t.condition.visitExpression(this,e)},t.prototype.visitCastExpr=function(t,e){return t.value.visitExpression(this,e)},t.prototype.visitFunctionExpr=function(t,e){return kr(t.params.map(function(t){return t.name}),t.statements,e,this)},t.prototype.visitDeclareFunctionStmt=function(t,e){var/** @type {?} */n=t.params.map(function(t){return t.name});return e.vars.set(t.name,kr(n,t.statements,e,this)),null},t.prototype.visitBinaryOperatorExpr=function(t,e){var n=this,/** @type {?} */r=function(){return t.lhs.visitExpression(n,e)},/** @type {?} */i=function(){return t.rhs.visitExpression(n,e)};switch(t.operator){case Bu.Equals:return r()==i();case Bu.Identical:return r()===i();case Bu.NotEquals:return r()!=i();case Bu.NotIdentical:return r()!==i();case Bu.And:return r()&&i();case Bu.Or:return r()||i();case Bu.Plus:return r()+i();case Bu.Minus:return r()-i();case Bu.Divide:return r()/i();case Bu.Multiply:return r()*i();case Bu.Modulo:return r()%i();case Bu.Lower:return r()<i();case Bu.LowerEquals:return r()<=i();case Bu.Bigger:return r()>i();case Bu.BiggerEquals:return r()>=i();default:throw new Error("Unknown operator "+t.operator)}},t.prototype.visitReadPropExpr=function(t,e){return t.receiver.visitExpression(this,e)[t.name]},t.prototype.visitReadKeyExpr=function(t,e){return t.receiver.visitExpression(this,e)[t.index.visitExpression(this,e)]},t.prototype.visitLiteralArrayExpr=function(t,e){return this.visitAllExpressions(t.entries,e)},t.prototype.visitLiteralMapExpr=function(t,e){var n=this,/** @type {?} */r={};return t.entries.forEach(function(t){return r[t.key]=t.value.visitExpression(n,e)}),r},t.prototype.visitCommaExpr=function(t,e){var/** @type {?} */n=this.visitAllExpressions(t.parts,e);return n[n.length-1]},t.prototype.visitAllExpressions=function(t,e){var n=this;return t.map(function(t){return t.visitExpression(n,e)})},t.prototype.visitAllStatements=function(t,e){for(var/** @type {?} */n=0;n<t.length;n++){var/** @type {?} */r=t[n],/** @type {?} */i=r.visitStatement(this,e);if(i instanceof bf)return i}return null},t}(),_f="error",xf="stack",Ef=function(t){function e(){return t.call(this,!1)||this}/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} getter
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} method
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} expr
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} stmt
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} params
     * @param {?} ctx
     * @return {?}
     */
/**
     * @param {?} method
     * @return {?}
     */
return Br(e,t),e.prototype.visitDeclareClassStmt=function(t,e){var n=this;return e.pushClass(t),this._visitClassConstructor(t,e),null!=t.parent&&(e.print(t,t.name+".prototype = Object.create("),t.parent.visitExpression(this,e),e.println(t,".prototype);")),t.getters.forEach(function(r){return n._visitClassGetter(t,r,e)}),t.methods.forEach(function(r){return n._visitClassMethod(t,r,e)}),e.popClass(),null},e.prototype._visitClassConstructor=function(t,e){e.print(t,"function "+t.name+"("),null!=t.constructorMethod&&this._visitParams(t.constructorMethod.params,e),e.println(t,") {"),e.incIndent(),null!=t.constructorMethod&&t.constructorMethod.body.length>0&&(e.println(t,"var self = this;"),this.visitAllStatements(t.constructorMethod.body,e)),e.decIndent(),e.println(t,"}")},e.prototype._visitClassGetter=function(t,e,n){n.println(t,"Object.defineProperty("+t.name+".prototype, '"+e.name+"', { get: function() {"),n.incIndent(),e.body.length>0&&(n.println(t,"var self = this;"),this.visitAllStatements(e.body,n)),n.decIndent(),n.println(t,"}});")},e.prototype._visitClassMethod=function(t,e,n){n.print(t,t.name+".prototype."+e.name+" = function("),this._visitParams(e.params,n),n.println(t,") {"),n.incIndent(),e.body.length>0&&(n.println(t,"var self = this;"),this.visitAllStatements(e.body,n)),n.decIndent(),n.println(t,"};")},e.prototype.visitReadVarExpr=function(e,n){if(e.builtin===qu.This)n.print(e,"self");else{if(e.builtin===qu.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");t.prototype.visitReadVarExpr.call(this,e,n)}return null},e.prototype.visitDeclareVarStmt=function(t,e){return e.print(t,"var "+t.name+" = "),t.value.visitExpression(this,e),e.println(t,";"),null},e.prototype.visitCastExpr=function(t,e){return t.value.visitExpression(this,e),null},e.prototype.visitInvokeFunctionExpr=function(e,n){var/** @type {?} */r=e.fn;return r instanceof Hu&&r.builtin===qu.Super?(n.currentClass.parent.visitExpression(this,n),n.print(e,".call(this"),e.args.length>0&&(n.print(e,", "),this.visitAllExpressions(e.args,n,",")),n.print(e,")")):t.prototype.visitInvokeFunctionExpr.call(this,e,n),null},e.prototype.visitFunctionExpr=function(t,e){return e.print(t,"function("),this._visitParams(t.params,e),e.println(t,") {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.print(t,"}"),null},e.prototype.visitDeclareFunctionStmt=function(t,e){return e.print(t,"function "+t.name+"("),this._visitParams(t.params,e),e.println(t,") {"),e.incIndent(),this.visitAllStatements(t.statements,e),e.decIndent(),e.println(t,"}"),null},e.prototype.visitTryCatchStmt=function(t,e){e.println(t,"try {"),e.incIndent(),this.visitAllStatements(t.bodyStmts,e),e.decIndent(),e.println(t,"} catch ("+Wc.name+") {"),e.incIndent();var/** @type {?} */n=[/** @type {?} */$c.set(Wc.prop("stack")).toDeclStmt(null,[vc.Final])].concat(t.catchStmts);return this.visitAllStatements(n,e),e.decIndent(),e.println(t,"}"),null},e.prototype._visitParams=function(t,e){this.visitAllObjects(function(t){return e.print(null,t.name)},t,e,",")},e.prototype.getBuiltinMethodName=function(t){var/** @type {?} */e;switch(t){case Yu.ConcatArray:e="concat";break;case Yu.SubscribeObservable:e="subscribe";break;case Yu.Bind:e="bind";break;default:throw new Error("Unknown builtin method: "+t)}return e},e}(Zc),Cf=function(t){function e(){var e=t.apply(this,arguments)||this;return e._evalArgNames=[],e._evalArgValues=[],e}/**
     * @return {?}
     */
/**
     * @param {?} ast
     * @param {?} ctx
     * @return {?}
     */
return Br(e,t),e.prototype.getArgs=function(){for(var/** @type {?} */t={},/** @type {?} */e=0;e<this._evalArgNames.length;e++)t[this._evalArgNames[e]]=this._evalArgValues[e];return t},e.prototype.visitExternalExpr=function(t,e){var/** @type {?} */n=t.value.reference,/** @type {?} */r=this._evalArgValues.indexOf(n);if(-1===r){r=this._evalArgValues.length,this._evalArgValues.push(n);var/** @type {?} */i=g(t.value)||"val";this._evalArgNames.push("jit_"+i+r)}return e.print(t,this._evalArgNames[r]),null},e}(Ef),Sf=function(){/**
     * @param {?} _injector
     * @param {?} _metadataResolver
     * @param {?} _templateParser
     * @param {?} _styleCompiler
     * @param {?} _viewCompiler
     * @param {?} _ngModuleCompiler
     * @param {?} _compilerConfig
     * @param {?} _console
     */
function t(t,e,n,r,i,o,s,a){this._injector=t,this._metadataResolver=e,this._templateParser=n,this._styleCompiler=r,this._viewCompiler=i,this._ngModuleCompiler=o,this._compilerConfig=s,this._console=a,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledDirectiveWrapperCache=new Map,this._compiledNgModuleCache=new Map,this._sharedStylesheetCount=0}/**
     * @template T
     * @param {?} moduleType
     * @return {?}
     */
/**
     * @template T
     * @param {?} moduleType
     * @return {?}
     */
/**
     * @template T
     * @param {?} moduleType
     * @return {?}
     */
/**
     * @template T
     * @param {?} moduleType
     * @return {?}
     */
/**
     * @param {?} component
     * @return {?}
     */
/**
     * @template T
     * @param {?} moduleType
     * @param {?} isSync
     * @return {?}
     */
/**
     * @template T
     * @param {?} moduleType
     * @param {?} isSync
     * @return {?}
     */
/**
     * @param {?} mainModule
     * @param {?} isSync
     * @return {?}
     */
/**
     * @template T
     * @param {?} moduleType
     * @return {?}
     */
/**
     * \@internal
     * @param {?} mainModule
     * @param {?} allComponentFactories
     * @return {?}
     */
/**
     * @param {?} type
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} compType
     * @param {?} ngModule
     * @return {?}
     */
/**
     * @param {?} compMeta
     * @param {?} ngModule
     * @return {?}
     */
/**
     * @param {?} template
     * @return {?}
     */
/**
     * @param {?} result
     * @param {?} externalStylesheetsByModuleUrl
     * @return {?}
     */
/**
     * @param {?} result
     * @param {?} externalStylesheetsByModuleUrl
     * @return {?}
     */
return Object.defineProperty(t.prototype,"injector",{/**
         * @return {?}
         */
get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.compileModuleSync=function(t){return this._compileModuleAndComponents(t,!0).syncResult},t.prototype.compileModuleAsync=function(t){return this._compileModuleAndComponents(t,!1).asyncResult},t.prototype.compileModuleAndAllComponentsSync=function(t){return this._compileModuleAndAllComponents(t,!0).syncResult},t.prototype.compileModuleAndAllComponentsAsync=function(t){return this._compileModuleAndAllComponents(t,!1).asyncResult},t.prototype.getNgContentSelectors=function(t){this._console.warn("Compiler.getNgContentSelectors is deprecated. Use ComponentFactory.ngContentSelectors instead!");var/** @type {?} */e=this._compiledTemplateCache.get(t);if(!e)throw new Error("The component "+n.i(Vr["stringify"])(t)+" is not yet compiled!");return e.compMeta.template.ngContentSelectors},t.prototype._compileModuleAndComponents=function(t,e){var n=this,/** @type {?} */r=this._loadModules(t,e),/** @type {?} */i=function(){return n._compileComponents(t,null),n._compileModule(t)};return e?new gi(i()):new gi(null,r.then(i))},t.prototype._compileModuleAndAllComponents=function(t,e){var n=this,/** @type {?} */r=this._loadModules(t,e),/** @type {?} */i=function(){var/** @type {?} */e=[];return n._compileComponents(t,e),new Vr.ModuleWithComponentFactories(n._compileModule(t),e)};return e?new gi(i()):new gi(null,r.then(i))},t.prototype._loadModules=function(t,e){var n=this,/** @type {?} */r=[];
// Note: the loadingPromise for a module only includes the loading of the exported directives
// of imported modules.
// However, for runtime compilation, we want to transitively compile all modules,
// so we also need to call loadNgModuleDirectiveAndPipeMetadata for all nested modules.
return this._metadataResolver.getNgModuleMetadata(t).transitiveModule.modules.forEach(function(t){r.push(n._metadataResolver.loadNgModuleDirectiveAndPipeMetadata(t.reference,e))}),Promise.all(r)},t.prototype._compileModule=function(t){var e=this,/** @type {?} */n=this._compiledNgModuleCache.get(t);if(!n){var/** @type {?} */r=this._metadataResolver.getNgModuleMetadata(t),/** @type {?} */i=[this._metadataResolver.getProviderMetadata(new ki(Vr.Compiler,{useFactory:function(){return new Mf(e,r.type.reference)}}))],/** @type {?} */o=this._ngModuleCompiler.compile(r,i);n=this._compilerConfig.useJit?Rr(k(r),o.statements,[o.ngModuleFactoryVar])[0]:Tr(o.statements,[o.ngModuleFactoryVar])[0],this._compiledNgModuleCache.set(r.type.reference,n)}return n},t.prototype._compileComponents=function(t,e){var n=this,/** @type {?} */r=this._metadataResolver.getNgModuleMetadata(t),/** @type {?} */i=new Map,/** @type {?} */o=new Set;r.transitiveModule.modules.forEach(function(t){var/** @type {?} */r=n._metadataResolver.getNgModuleMetadata(t.reference);r.declaredDirectives.forEach(function(t){i.set(t.reference,r);var/** @type {?} */s=n._metadataResolver.getDirectiveMetadata(t.reference);if(s.isComponent&&(o.add(n._createCompiledTemplate(s,r)),e)){var/** @type {?} */a=n._createCompiledHostTemplate(s.type.reference,r);o.add(a),e.push(/** @type {?} */s.componentFactory)}})}),r.transitiveModule.modules.forEach(function(t){var/** @type {?} */e=n._metadataResolver.getNgModuleMetadata(t.reference);e.declaredDirectives.forEach(function(t){var/** @type {?} */e=n._metadataResolver.getDirectiveMetadata(t.reference);e.isComponent&&e.entryComponents.forEach(function(t){var/** @type {?} */e=i.get(t.componentType);o.add(n._createCompiledHostTemplate(t.componentType,e))})}),e.entryComponents.forEach(function(t){var/** @type {?} */e=i.get(t.componentType);o.add(n._createCompiledHostTemplate(t.componentType,e))})}),o.forEach(function(t){return n._compileTemplate(t)})},t.prototype.clearCacheFor=function(t){this._compiledNgModuleCache.delete(t),this._metadataResolver.clearCacheFor(t),this._compiledHostTemplateCache.delete(t),this._compiledTemplateCache.get(t)&&this._compiledTemplateCache.delete(t)},t.prototype.clearCache=function(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._compiledNgModuleCache.clear()},t.prototype._createCompiledHostTemplate=function(t,e){if(!e)throw new Error("Component "+n.i(Vr["stringify"])(t)+" is not part of any NgModule or the module has not been imported into your module.");var/** @type {?} */r=this._compiledHostTemplateCache.get(t);if(!r){var/** @type {?} */i=this._metadataResolver.getDirectiveMetadata(t);jr(i);var/** @type {?} */o=i.componentFactory,/** @type {?} */s=this._metadataResolver.getHostComponentType(t),/** @type {?} */a=N(s,i,/** @type {?} */n.i(Vr["getComponentViewDefinitionFactory"])(o));r=new Nf(!0,i.type,a,e,[i.type]),this._compiledHostTemplateCache.set(t,r)}return r},t.prototype._createCompiledTemplate=function(t,e){var/** @type {?} */n=this._compiledTemplateCache.get(t.type.reference);return n||(jr(t),n=new Nf(!1,t.type,t,e,e.transitiveModule.directives),this._compiledTemplateCache.set(t.type.reference,n)),n},t.prototype._compileTemplate=function(t){var e=this;if(!t.isCompiled){var/** @type {?} */n=t.compMeta,/** @type {?} */r=new Map,/** @type {?} */i=this._styleCompiler.compileComponent(n);i.externalStylesheets.forEach(function(t){r.set(t.meta.moduleUrl,t)}),this._resolveStylesCompileResult(i.componentStylesheet,r);var/** @type {?} */o,/** @type {?} */s,/** @type {?} */a=t.directives.map(function(t){return e._metadataResolver.getDirectiveSummary(t.reference)}),/** @type {?} */u=t.ngModule.transitiveModule.pipes.map(function(t){return e._metadataResolver.getPipeSummary(t.reference)}),c=this._templateParser.parse(n,n.template.template,a,u,t.ngModule.schemas,A(t.ngModule.type,t.compMeta,t.compMeta.template)),l=c.template,f=c.pipes,/** @type {?} */p=this._viewCompiler.compileComponent(n,l,un(i.componentStylesheet.stylesVar),f),/** @type {?} */h=i.componentStylesheet.statements.concat(p.statements),/** @type {?} */d=n.isHost?[p.viewClassVar]:[p.viewClassVar,p.rendererTypeVar];this._compilerConfig.useJit?(v=Rr(I(t.ngModule.type,t.compMeta),h,d),o=v[0],s=v[1]):(m=Tr(h,d),o=m[0],s=m[1]),t.compiled(o,s);var m,v}},t.prototype._resolveStylesCompileResult=function(t,e){var n=this;t.dependencies.forEach(function(t,r){var/** @type {?} */i=e.get(t.moduleUrl),/** @type {?} */o=n._resolveAndEvalStylesCompileResult(i,e);t.valuePlaceholder.reference=o})},t.prototype._resolveAndEvalStylesCompileResult=function(t,e){return this._resolveStylesCompileResult(t,e),this._compilerConfig.useJit?Rr(P(t.meta,this._sharedStylesheetCount++),t.statements,[t.stylesVar])[0]:Tr(t.statements,[t.stylesVar])[0]},t}();Sf.decorators=[{type:F}],/**
 * @nocollapse
 */
Sf.ctorParameters=function(){return[{type:Vr.Injector},{type:Tu},{type:au},{type:Ll},{type:Zl},{type:Lc},{type:Ii},{type:Vr["Console"]}]};var Nf=function(){/**
     * @param {?} isHost
     * @param {?} compType
     * @param {?} compMeta
     * @param {?} ngModule
     * @param {?} directives
     */
function t(t,e,n,r,i){this.isHost=t,this.compType=e,this.compMeta=n,this.ngModule=r,this.directives=i,this._viewClass=null,this.isCompiled=!1}/**
     * @param {?} viewClass
     * @param {?} rendererType
     * @return {?}
     */
return t.prototype.compiled=function(t,e){this._viewClass=t,this.compMeta.componentViewType.setDelegate(t);for(var/** @type {?} */n in e)this.compMeta.rendererType[n]=e[n];this.isCompiled=!0},t}(),Mf=function(){/**
     * @param {?} _delegate
     * @param {?} _ngModule
     */
function t(t,e){this._delegate=t,this._ngModule=e}/**
     * @template T
     * @param {?} moduleType
     * @return {?}
     */
/**
     * @template T
     * @param {?} moduleType
     * @return {?}
     */
/**
     * @template T
     * @param {?} moduleType
     * @return {?}
     */
/**
     * @template T
     * @param {?} moduleType
     * @return {?}
     */
/**
     * @param {?} component
     * @return {?}
     */
/**
     * Clears all caches
     * @return {?}
     */
/**
     * Clears the cache for the given component/ngModule.
     * @param {?} type
     * @return {?}
     */
return Object.defineProperty(t.prototype,"_injector",{/**
         * @return {?}
         */
get:function(){return this._delegate.injector},enumerable:!0,configurable:!0}),t.prototype.compileModuleSync=function(t){return this._delegate.compileModuleSync(t)},t.prototype.compileModuleAsync=function(t){return this._delegate.compileModuleAsync(t)},t.prototype.compileModuleAndAllComponentsSync=function(t){return this._delegate.compileModuleAndAllComponentsSync(t)},t.prototype.compileModuleAndAllComponentsAsync=function(t){return this._delegate.compileModuleAndAllComponentsAsync(t)},t.prototype.getNgContentSelectors=function(t){return this._delegate.getNgContentSelectors(t)},t.prototype.clearCache=function(){this._delegate.clearCache()},t.prototype.clearCacheFor=function(t){this._delegate.clearCacheFor(t)},t}(),Of=function(){/**
     * @param {?} _htmlParser
     * @param {?} _implicitTags
     * @param {?} _implicitAttrs
     * @param {?=} _locale
     */
function t(t,e,n,r){void 0===r&&(r=null),this._htmlParser=t,this._implicitTags=e,this._implicitAttrs=n,this._locale=r,this._messages=[]}/**
     * @param {?} html
     * @param {?} url
     * @param {?} interpolationConfig
     * @return {?}
     */
/**
     * @return {?}
     */
/**
     * @param {?} serializer
     * @return {?}
     */
return t.prototype.updateFromTemplate=function(t,e,n){var/** @type {?} */r=this._htmlParser.parse(t,e,!0,n);if(r.errors.length)return r.errors;var/** @type {?} */i=_t(r.rootNodes,n,this._implicitTags,this._implicitAttrs);if(i.errors.length)return i.errors;(o=this._messages).push.apply(o,i.messages);var o},t.prototype.getMessages=function(){return this._messages},t.prototype.write=function(t){var/** @type {?} */e={},/** @type {?} */n=new Tf;
// Deduplicate messages based on their ID
this._messages.forEach(function(n){var/** @type {?} */r=t.digest(n);e.hasOwnProperty(r)||(e[r]=n)});
// Transform placeholder names using the serializer mapping
var/** @type {?} */r=Object.keys(e).map(function(r){var/** @type {?} */i=t.createNameMapper(e[r]),/** @type {?} */o=e[r],/** @type {?} */s=i?n.convert(o.nodes,i):o.nodes;return new Es(s,{},{},o.meaning,o.description,r)});return t.write(r,this._locale)},t}(),Tf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}/**
     * @param {?} nodes
     * @param {?} mapper
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?} mapper
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?} mapper
     * @return {?}
     */
/**
     * @param {?} ph
     * @param {?} mapper
     * @return {?}
     */
return Br(e,t),e.prototype.convert=function(t,e){var n=this;return e?t.map(function(t){return t.visit(n,e)}):t},e.prototype.visitTagPlaceholder=function(t,e){var n=this,/** @type {?} */r=e.toPublicName(t.startName),/** @type {?} */i=t.closeName?e.toPublicName(t.closeName):t.closeName,/** @type {?} */o=t.children.map(function(t){return t.visit(n,e)});return new Ms(t.tag,t.attrs,r,i,o,t.isVoid,t.sourceSpan)},e.prototype.visitPlaceholder=function(t,e){return new Os(t.value,e.toPublicName(t.name),t.sourceSpan)},e.prototype.visitIcuPlaceholder=function(t,e){return new Ts(t.value,e.toPublicName(t.name),t.sourceSpan)},e}(As),Af=(function(){/**
     * @param {?} host
     * @param {?} staticSymbolResolver
     * @param {?} messageBundle
     * @param {?} metadataResolver
     */
function t(t,e,n,r){this.host=t,this.staticSymbolResolver=e,this.messageBundle=n,this.metadataResolver=r}/**
     * @param {?} rootFiles
     * @return {?}
     */
t.prototype.extract=function(t){var e=this,/** @type {?} */n=br(this.staticSymbolResolver,t,this.host),r=yr(n,this.host,this.metadataResolver),i=r.files,o=r.ngModules;return Promise.all(o.map(function(t){return e.metadataResolver.loadNgModuleDirectiveAndPipeMetadata(t.type.reference,!1)})).then(function(){var/** @type {?} */t=[];if(i.forEach(function(n){var/** @type {?} */r=[];n.directives.forEach(function(t){var/** @type {?} */n=e.metadataResolver.getDirectiveMetadata(t);n&&n.isComponent&&r.push(n)}),r.forEach(function(r){var/** @type {?} */i=r.template.template,/** @type {?} */o=qo.fromArray(r.template.interpolation);t.push.apply(t,e.messageBundle.updateFromTemplate(i,n.srcUrl,o))})}),t.length)throw new Error(t.map(function(t){return t.toString()}).join("\n"));return e.messageBundle})},/**
     * @param {?} host
     * @param {?} locale
     * @return {?}
     */
t.create=function(e,n){var/** @type {?} */r=new wa(new ya),/** @type {?} */i=ke(),/** @type {?} */o=new ii,/** @type {?} */s=new yf(e,o),/** @type {?} */a=new vf(e,o,s),/** @type {?} */u=new pf(a);uf.install(u);var/** @type {?} */c=new Ii({defaultEncapsulation:Vr.ViewEncapsulation.Emulated,useJit:!1}),/** @type {?} */l=new bu({get:function(t){return e.loadResource(t)}},i,r,c),/** @type {?} */f=new sl,/** @type {?} */p=new Tu(c,new Su(u),new xu(u),new Nu(u),s,f,l,new Vr["Console"],o,u),/** @type {?} */h=new Of(r,[],{},n);return{extractor:new t(e,a,h,p),staticReflector:u}}}(),{/**
     * @param {?} url
     * @return {?}
     */
get:function(t){throw new Error("No ResourceLoader implementation has been provided. Can't read the url \""+t+'"')}}),Pf=new Vr.InjectionToken("HtmlParser"),kf=[{provide:Vr["Reflector"],useValue:Vr["reflector"]},{provide:Vr["ReflectorReader"],useExisting:Vr["Reflector"]},{provide:du,useValue:Af},Mu,Vr["Console"],$o,Jo,{provide:Pf,useClass:ya},{provide:wa,useFactory:function(t,e,n,r,i){return new wa(t,e,n,r.missingTranslation,i)},deps:[Pf,[new Vr.Optional,new Vr.Inject(Vr.TRANSLATIONS)],[new Vr.Optional,new Vr.Inject(Vr.TRANSLATIONS_FORMAT)],[Ii],[Vr["Console"]]]},{provide:ya,useExisting:wa},au,bu,Tu,mu,Ll,Zl,Lc,{provide:Ii,useValue:new Ii},Sf,{provide:Vr.Compiler,useExisting:Sf},sl,{provide:Pa,useExisting:sl},vu,xu,Nu,Su],If=function(){/**
     * @param {?} defaultOptions
     */
function t(t){var e={useDebug:n.i(Vr.isDevMode)(),useJit:!0,defaultEncapsulation:Vr.ViewEncapsulation.Emulated,missingTranslation:Vr.MissingTranslationStrategy.Warning,enableLegacyTemplate:!0};this._defaultOptions=[e].concat(t)}/**
     * @param {?=} options
     * @return {?}
     */
return t.prototype.createCompiler=function(t){void 0===t&&(t=[]);var/** @type {?} */e=Lr(this._defaultOptions.concat(t));return Vr.ReflectiveInjector.resolveAndCreate([kf,{provide:Ii,useFactory:function(){return new Ii({
// let explicit values from the compiler options overwrite options
// from the app providers
useJit:e.useJit,
// let explicit values from the compiler options overwrite options
// from the app providers
defaultEncapsulation:e.defaultEncapsulation,missingTranslation:e.missingTranslation,enableLegacyTemplate:e.enableLegacyTemplate})},deps:[]},e.providers]).get(Vr.Compiler)},t}();If.decorators=[{type:F}],/**
 * @nocollapse
 */
If.ctorParameters=function(){return[{type:Array,decorators:[{type:Vr.Inject,args:[Vr.COMPILER_OPTIONS]}]}]};/**
 * A platform that included corePlatform and the compiler.
 *
 * \@experimental
 */
var Rf=n.i(Vr.createPlatformFactory)(Vr.platformCore,"coreDynamic",[{provide:Vr.COMPILER_OPTIONS,useValue:{},multi:!0},{provide:Vr.CompilerFactory,useClass:If},{provide:Vr.PLATFORM_INITIALIZER,useValue:Dr,multi:!0}]);!function(){function t(){}/**
     * Converts a file path to a module name that can be used as an `import.
     * I.e. `path/to/importedFile.ts` should be imported by `path/to/containingFile.ts`.
     * @abstract
     * @param {?} importedFilePath
     * @param {?} containingFilePath
     * @return {?}
     */
t.prototype.fileNameToModuleName=function(t,e){},/**
     * Converts the given StaticSymbol into another StaticSymbol that should be used
     * to generate the import from.
     * @abstract
     * @param {?} symbol
     * @return {?}
     */
t.prototype.getImportAs=function(t){},/**
     * Determine the arity of a type.
     * @abstract
     * @param {?} symbol
     * @return {?}
     */
t.prototype.getTypeArity=function(t){}}()},/* 346 */
/***/
function(t,e,n){var r,i;/**
 * @license Complex.js v2.0.1 11/02/2016
 *
 * Copyright (c) 2016, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
/**
 *
 * This class allows the manipilation of complex numbers.
 * You can pass a complex number in different formats. Either as object, double, string or two integer parameters.
 *
 * Object form
 * { re: <real>, im: <imaginary> }
 * { arg: <angle>, abs: <radius> }
 * { phi: <angle>, r: <radius> }
 *
 * Double form
 * 99.3 - Single double value
 *
 * String form
 * "23.1337" - Simple real number
 * "15+3i" - a simple complex number
 * "3-i" - a simple complex number
 *
 * Example:
 *
 * var c = new Complex("99.3+8i");
 * c.mul({r: 3, i: 9}).div(4.9).sub(3, 2);
 *
 */
!function(n){"use strict";/**
   * Calculates log(sqrt(a^2+b^2)) in a way to avoid overflows
   *
   * @param {number} a
   * @param {number} b
   * @returns {number}
   */
function o(t,e){var n=Math.abs(t),r=Math.abs(e);return 0===t?Math.log(r):0===e?Math.log(n):n<3e3&&r<3e3?.5*Math.log(t*t+e*e):Math.log(t/Math.cos(Math.atan2(e,t)))}/**
   * @constructor
   * @returns {Complex}
   */
function s(t,e){if(!(this instanceof s))return new s(t,e);c(t,e),// mutates P
this.re=a.re,this.im=a.im}var a={re:0,im:0};Math.cosh=Math.cosh||function(t){return.5*(Math.exp(t)+Math.exp(-t))},Math.sinh=Math.sinh||function(t){return.5*(Math.exp(t)-Math.exp(-t))};var u=function(){throw SyntaxError("Invalid Param")},c=function(t,e){if(void 0===t||null===t)a.re=a.im=0;else if(void 0!==e)a.re=t,a.im=e;else switch(typeof t){case"object":"im"in t&&"re"in t?(a.re=t.re,a.im=t.im):"abs"in t&&"arg"in t?(a.re=t.abs*Math.cos(t.arg),a.im=t.abs*Math.sin(t.arg)):"r"in t&&"phi"in t?(a.re=t.r*Math.cos(t.phi),a.im=t.r*Math.sin(t.phi)):u();break;case"string":a.im=/* void */
a.re=0;var n=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),r=1,i=0;null===n&&u();for(var o=0;o<n.length;o++){var s=n[o];" "===s||"\t"===s||"\n"===s||("+"===s?r++:"-"===s?i++:"i"===s||"I"===s?(r+i===0&&u()," "===n[o+1]||isNaN(n[o+1])?a.im+=parseFloat((i%2?"-":"")+"1"):(a.im+=parseFloat((i%2?"-":"")+n[o+1]),o++),r=i=0):((r+i===0||isNaN(s))&&u(),"i"===n[o+1]||"I"===n[o+1]?(a.im+=parseFloat((i%2?"-":"")+s),o++):a.re+=parseFloat((i%2?"-":"")+s),r=i=0))}
// Still something on the stack
r+i>0&&u();break;case"number":a.im=0,a.re=t;break;default:u()}isNaN(a.re)||isNaN(a.im)};s.prototype={re:0,im:0,/**
     * Calculates the sign of a complex number
     *
     * @returns {Complex}
     */
sign:function(){var t=this.abs();return new s(this.re/t,this.im/t)},/**
     * Adds two complex numbers
     *
     * @returns {Complex}
     */
add:function(t,e){// mutates P
return c(t,e),new s(this.re+a.re,this.im+a.im)},/**
     * Subtracts two complex numbers
     *
     * @returns {Complex}
     */
sub:function(t,e){// mutates P
return c(t,e),new s(this.re-a.re,this.im-a.im)},/**
     * Multiplies two complex numbers
     *
     * @returns {Complex}
     */
mul:function(t,e){// mutates P
// Besides the addition/subtraction, this helps having a solution for rational Infinity
// mutates P
// Besides the addition/subtraction, this helps having a solution for rational Infinity
return c(t,e),0===a.im&&0===this.im?new s(this.re*a.re,0):new s(this.re*a.re-this.im*a.im,this.re*a.im+this.im*a.re)},/**
     * Divides two complex numbers
     *
     * @returns {Complex}
     */
div:function(t,e){c(t,e),// mutates P
t=this.re,e=this.im;var n,r,i=a.re,o=a.im;
// Divisor is zero
// Divisor is zero
// Divisor is rational
return 0===i&&0===o?new s(0!==t?t/0:0,0!==e?e/0:0):0===o?new s(t/i,e/i):Math.abs(i)<Math.abs(o)?(r=i/o,n=i*r+o,new s((t*r+e)/n,(e*r-t)/n)):(r=o/i,n=o*r+i,new s((t+e*r)/n,(e-t*r)/n))},/**
     * Calculate the power of two complex numbers
     *
     * @returns {Complex}
     */
pow:function(t,e){if(c(t,e),// mutates P
t=this.re,e=this.im,0===t&&0===e)return new s(0,0);var n=Math.atan2(e,t),r=o(t,e);if(0===a.im){if(0===e&&t>=0)return new s(Math.pow(t,a.re),0);if(0===t)switch(a.re%4){case 0:return new s(Math.pow(e,a.re),0);case 1:return new s(0,Math.pow(e,a.re));case 2:return new s(-Math.pow(e,a.re),0);case 3:return new s(0,-Math.pow(e,a.re))}}/* I couldn"t find a good formula, so here is a derivation and optimization
       *
       * z_1^z_2 = (a + bi)^(c + di)
       *         = exp((c + di) * log(a + bi)
       *         = pow(a^2 + b^2, (c + di) / 2) * exp(i(c + di)atan2(b, a))
       * =>...
       * Re = (pow(a^2 + b^2, c / 2) * exp(-d * atan2(b, a))) * cos(d * log(a^2 + b^2) / 2 + c * atan2(b, a))
       * Im = (pow(a^2 + b^2, c / 2) * exp(-d * atan2(b, a))) * sin(d * log(a^2 + b^2) / 2 + c * atan2(b, a))
       *
       * =>...
       * Re = exp(c * log(sqrt(a^2 + b^2)) - d * atan2(b, a)) * cos(d * log(sqrt(a^2 + b^2)) + c * atan2(b, a))
       * Im = exp(c * log(sqrt(a^2 + b^2)) - d * atan2(b, a)) * sin(d * log(sqrt(a^2 + b^2)) + c * atan2(b, a))
       *
       * =>
       * Re = exp(c * logsq2 - d * arg(z_1)) * cos(d * logsq2 + c * arg(z_1))
       * Im = exp(c * logsq2 - d * arg(z_1)) * sin(d * logsq2 + c * arg(z_1))
       *
       */
return t=Math.exp(a.re*r-a.im*n),e=a.im*r+a.re*n,new s(t*Math.cos(e),t*Math.sin(e))},/**
     * Calculate the complex square root
     *
     * @returns {Complex}
     */
sqrt:function(){var t,e,n=this.re,r=this.im,i=this.abs();return n>=0&&0===r?new s(Math.sqrt(n),0):(t=n>=0?.5*Math.sqrt(2*(i+n)):Math.abs(r)/Math.sqrt(2*(i-n)),e=n<=0?.5*Math.sqrt(2*(i-n)):Math.abs(r)/Math.sqrt(2*(i+n)),new s(t,r>=0?e:-e))},/**
     * Calculate the complex exponent
     *
     * @returns {Complex}
     */
exp:function(){var t=Math.exp(this.re);return this.im,new s(t*Math.cos(this.im),t*Math.sin(this.im))},/**
     * Calculate the natural log
     *
     * @returns {Complex}
     */
log:function(){var t=this.re,e=this.im;return new s(o(t,e),Math.atan2(e,t))},/**
     * Calculate the magniture of the complex number
     *
     * @returns {number}
     */
abs:function(){var t=Math.abs(this.re),e=Math.abs(this.im);return t<3e3&&e<3e3?Math.sqrt(t*t+e*e):(t<e?(t=e,e=this.re/this.im):e=this.im/this.re,t*Math.sqrt(1+e*e))},/**
     * Calculate the angle of the complex number
     *
     * @returns {number}
     */
arg:function(){return Math.atan2(this.im,this.re)},/**
     * Calculate the sine of the complex number
     *
     * @returns {Complex}
     */
sin:function(){var t=this.re,e=this.im;return new s(Math.sin(t)*Math.cosh(e),Math.cos(t)*Math.sinh(e))},/**
     * Calculate the cosine
     *
     * @returns {Complex}
     */
cos:function(){var t=this.re,e=this.im;return new s(Math.cos(t)*Math.cosh(e),-Math.sin(t)*Math.sinh(e))},/**
     * Calculate the tangent
     *
     * @returns {Complex}
     */
tan:function(){var t=2*this.re,e=2*this.im,n=Math.cos(t)+Math.cosh(e);return new s(Math.sin(t)/n,Math.sinh(e)/n)},/**
     * Calculate the cotangent
     *
     * @returns {Complex}
     */
cot:function(){var t=2*this.re,e=2*this.im,n=Math.cos(t)-Math.cosh(e);return new s(-Math.sin(t)/n,Math.sinh(e)/n)},/**
     * Calculate the secant
     *
     * @returns {Complex}
     */
sec:function(){var t=this.re,e=this.im,n=.5*Math.cosh(2*e)+.5*Math.cos(2*t);return new s(Math.cos(t)*Math.cosh(e)/n,Math.sin(t)*Math.sinh(e)/n)},/**
     * Calculate the cosecans
     *
     * @returns {Complex}
     */
csc:function(){var t=this.re,e=this.im,n=.5*Math.cosh(2*e)-.5*Math.cos(2*t);return new s(Math.sin(t)*Math.cosh(e)/n,-Math.cos(t)*Math.sinh(e)/n)},/**
     * Calculate the complex arcus sinus
     *
     * @returns {Complex}
     */
asin:function(){var t=this.re,e=this.im,n=new s(e*e-t*t+1,-2*t*e).sqrt(),r=new s(n.re-e,n.im+t).log();return new s(r.im,-r.re)},/**
     * Calculate the complex arcus cosinus
     *
     * @returns {Complex}
     */
acos:function(){var t=this.re,e=this.im,n=new s(e*e-t*t+1,-2*t*e).sqrt(),r=new s(n.re-e,n.im+t).log();return new s(Math.PI/2-r.im,r.re)},/**
     * Calculate the complex arcus tangent
     *
     * @returns {Complex}
     */
atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new s(0,1/0);if(-1===e)return new s(0,-1/0)}var n=t*t+(1-e)*(1-e),r=new s((1-e*e-t*t)/n,-2*t/n).log();return new s(-.5*r.im,.5*r.re)},/**
     * Calculate the complex arcus cotangent
     *
     * @returns {Complex}
     */
acot:function(){var t=this.re,e=this.im;if(0===e)return new s(Math.atan2(1,t),0);var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).atan():new s(0!==t?t/0:0,0!==e?-e/0:0).atan()},/**
     * Calculate the complex arcus secant
     *
     * @returns {Complex}
     */
asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(0,1/0);var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).acos():new s(0!==t?t/0:0,0!==e?-e/0:0).acos()},/**
     * Calculate the complex arcus cosecans
     *
     * @returns {Complex}
     */
acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(Math.PI/2,1/0);var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).asin():new s(0!==t?t/0:0,0!==e?-e/0:0).asin()},/**
     * Calculate the complex sinh
     *
     * @returns {Complex}
     */
sinh:function(){var t=this.re,e=this.im;return new s(Math.sinh(t)*Math.cos(e),Math.cosh(t)*Math.sin(e))},/**
     * Calculate the complex cosh
     *
     * @returns {Complex}
     */
cosh:function(){var t=this.re,e=this.im;return new s(Math.cosh(t)*Math.cos(e),Math.sinh(t)*Math.sin(e))},/**
     * Calculate the complex tanh
     *
     * @returns {Complex}
     */
tanh:function(){var t=2*this.re,e=2*this.im,n=Math.cosh(t)+Math.cos(e);return new s(Math.sinh(t)/n,Math.sin(e)/n)},/**
     * Calculate the complex coth
     *
     * @returns {Complex}
     */
coth:function(){var t=2*this.re,e=2*this.im,n=Math.cosh(t)-Math.cos(e);return new s(Math.sinh(t)/n,-Math.sin(e)/n)},/**
     * Calculate the complex coth
     *
     * @returns {Complex}
     */
csch:function(){var t=this.re,e=this.im,n=Math.cos(2*e)-Math.cosh(2*t);return new s(-2*Math.sinh(t)*Math.cos(e)/n,2*Math.cosh(t)*Math.sin(e)/n)},/**
     * Calculate the complex sech
     *
     * @returns {Complex}
     */
sech:function(){var t=this.re,e=this.im,n=Math.cos(2*e)+Math.cosh(2*t);return new s(2*Math.cosh(t)*Math.cos(e)/n,-2*Math.sinh(t)*Math.sin(e)/n)},/**
     * Calculate the complex asinh
     *
     * @returns {Complex}
     */
asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},/**
     * Calculate the complex asinh
     *
     * @returns {Complex}
     */
acosh:function(){var t,e=this.acos();return e.im<=0?(t=e.re,e.re=-e.im,e.im=t):(t=e.im,e.im=-e.re,e.re=t),e},/**
     * Calculate the complex atanh
     *
     * @returns {Complex}
     */
atanh:function(){var t=this.re,e=this.im,n=t>1&&0===e,r=1-t,i=1+t,a=r*r+e*e,u=0!==a?new s((i*r-e*e)/a,(e*r+i*e)/a):new s(-1!==t?t/0:0,0!==e?e/0:0),c=u.re;return u.re=o(u.re,u.im)/2,u.im=Math.atan2(u.im,c)/2,n&&(u.im=-u.im),u},/**
     * Calculate the complex acoth
     *
     * @returns {Complex}
     */
acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(0,Math.PI/2);var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).atanh():new s(0!==t?t/0:0,0!==e?-e/0:0).atanh()},/**
     * Calculate the complex acsch
     *
     * @returns {Complex}
     */
acsch:function(){var t=this.re,e=this.im;if(0===e)return new s(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).asinh():new s(0!==t?t/0:0,0!==e?-e/0:0).asinh()},/**
     * Calculate the complex asech
     *
     * @returns {Complex}
     */
asech:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new s(1/0,0);var n=t*t+e*e;return 0!==n?new s(t/n,-e/n).acosh():new s(0!==t?t/0:0,0!==e?-e/0:0).acosh()},/**
     * Calculate the complex inverse 1/z
     *
     * @returns {Complex}
     */
inverse:function(){var t=this.re,e=this.im,n=t*t+e*e;return new s(0!==t?t/n:0,0!==e?-e/n:0)},/**
     * Returns the complex conjugate
     *
     * @returns {Complex}
     */
conjugate:function(){return new s(this.re,-this.im)},/**
     * Gets the negated complex number
     *
     * @returns {Complex}
     */
neg:function(){return new s(-this.re,-this.im)},/**
     * Ceils the actual complex number
     *
     * @returns {Complex}
     */
ceil:function(t){return t=Math.pow(10,t||0),new s(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},/**
     * Floors the actual complex number
     *
     * @returns {Complex}
     */
floor:function(t){return t=Math.pow(10,t||0),new s(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},/**
     * Ceils the actual complex number
     *
     * @returns {Complex}
     */
round:function(t){return t=Math.pow(10,t||0),new s(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},/**
     * Compares two complex numbers
     *
     * @returns {boolean}
     */
equals:function(t,e){// mutates P
return c(t,e),Math.abs(a.re-this.re)<=s.EPSILON&&Math.abs(a.im-this.im)<=s.EPSILON},/**
     * Clones the actual object
     *
     * @returns {Complex}
     */
clone:function(){return new s(this.re,this.im)},/**
     * Gets a string of the actual complex number
     *
     * @returns {string}
     */
toString:function(){var t=this.re,e=this.im,n="";return isNaN(t)||isNaN(e)?"NaN":(0!==t&&(n+=t),0!==e&&(0!==t?n+=e<0?" - ":" + ":e<0&&(n+="-"),e=Math.abs(e),1!==e&&(n+=e),n+="i"),n||"0")},/**
     * Returns the actual number as a vector
     *
     * @returns {Array}
     */
toVector:function(){return[this.re,this.im]},/**
     * Returns the actual real value of the current object
     *
     * @returns {number|null}
     */
valueOf:function(){return 0===this.im?this.re:null},/**
     * Checks if the given complex number is not a number
     *
     * @returns {boolean}
     */
isNaN:function(){return isNaN(this.re)||isNaN(this.im)}},s.ZERO=new s(0,0),s.ONE=new s(1,0),s.I=new s(0,1),s.PI=new s(Math.PI,0),s.E=new s(Math.E,0),s.EPSILON=1e-16,r=[],void 0!==(i=function(){return s}.apply(e,r))&&(t.exports=i)}()},/* 347 */
,/* 348 */
,/* 349 */
,/* 350 */
,/* 351 */
,/* 352 */
,/* 353 */
,/* 354 */
,/* 355 */
,/* 356 */
,/* 357 */
,/* 358 */
,/* 359 */
,/* 360 */
,/* 361 */
,/* 362 */
,/* 363 */
,/* 364 */
,/* 365 */
,/* 366 */
,/* 367 */
,/* 368 */
,/* 369 */
,/* 370 */
,/* 371 */
,/* 372 */
,/* 373 */
,/* 374 */
,/* 375 */
,/* 376 */
,/* 377 */
,/* 378 */
,/* 379 */
,/* 380 */
,/* 381 */
,/* 382 */
,/* 383 */
,/* 384 */
,/* 385 */
,/* 386 */
,/* 387 */
,/* 388 */
,/* 389 */
,/* 390 */
,/* 391 */
,/* 392 */
,/* 393 */
,/* 394 */
,/* 395 */
,/* 396 */
,/* 397 */
,/* 398 */
,/* 399 */
,/* 400 */
,/* 401 */
,/* 402 */
,/* 403 */
,/* 404 */
,/* 405 */
,/* 406 */
,/* 407 */
,/* 408 */
,/* 409 */
,/* 410 */
,/* 411 */
,/* 412 */
,/* 413 */
,/* 414 */
,/* 415 */
,/* 416 */
,/* 417 */
,/* 418 */
,/* 419 */
,/* 420 */
,/* 421 */
,/* 422 */
,/* 423 */
,/* 424 */
,/* 425 */
,/* 426 */
,/* 427 */
,/* 428 */
,/* 429 */
,/* 430 */
,/* 431 */
,/* 432 */
,/* 433 */
,/* 434 */
,/* 435 */
,/* 436 */
,/* 437 */
,/* 438 */
,/* 439 */
,/* 440 */
,/* 441 */
,/* 442 */
,/* 443 */
,/* 444 */
,/* 445 */
,/* 446 */
,/* 447 */
,/* 448 */
,/* 449 */
,/* 450 */
,/* 451 */
,/* 452 */
,/* 453 */
,/* 454 */
,/* 455 */
,/* 456 */
,/* 457 */
,/* 458 */
,/* 459 */
,/* 460 */
,/* 461 */
,/* 462 */
,/* 463 */
,/* 464 */
,/* 465 */
,/* 466 */
,/* 467 */
,/* 468 */
,/* 469 */
/***/
function(t,e,n){var r;!function(i){"use strict";/*
  // Add aliases to match BigDecimal method names.
  // P.add = P.plus;
  P.subtract = P.minus;
  P.multiply = P.times;
  P.divide = P.div;
  P.remainder = P.mod;
  P.compareTo = P.cmp;
  P.negate = P.neg;
   */
// Helper functions for Decimal.prototype (P) and/or Decimal methods, and their callers.
/*
   *  digitsToString           P.cubeRoot, P.logarithm, P.squareRoot, P.toFraction, P.toPower,
   *                           finiteToString, naturalExponential, naturalLogarithm
   *  checkInt32               P.toDecimalPlaces, P.toExponential, P.toFixed, P.toNearest,
   *                           P.toPrecision, P.toSignificantDigits, toStringBinary, random
   *  checkRoundingDigits      P.logarithm, P.toPower, naturalExponential, naturalLogarithm
   *  convertBase              toStringBinary, parseOther
   *  cos                      P.cos
   *  divide                   P.atanh, P.cubeRoot, P.dividedBy, P.dividedToIntegerBy,
   *                           P.logarithm, P.modulo, P.squareRoot, P.tan, P.tanh, P.toFraction,
   *                           P.toNearest, toStringBinary, naturalExponential, naturalLogarithm,
   *                           taylorSeries, atan2, parseOther
   *  finalise                 P.absoluteValue, P.atan, P.atanh, P.ceil, P.cos, P.cosh,
   *                           P.cubeRoot, P.dividedToIntegerBy, P.floor, P.logarithm, P.minus,
   *                           P.modulo, P.negated, P.plus, P.round, P.sin, P.sinh, P.squareRoot,
   *                           P.tan, P.times, P.toDecimalPlaces, P.toExponential, P.toFixed,
   *                           P.toNearest, P.toPower, P.toPrecision, P.toSignificantDigits,
   *                           P.truncated, divide, getLn10, getPi, naturalExponential,
   *                           naturalLogarithm, ceil, floor, round, trunc
   *  finiteToString           P.toExponential, P.toFixed, P.toPrecision, P.toString, P.valueOf,
   *                           toStringBinary
   *  getBase10Exponent        P.minus, P.plus, P.times, parseOther
   *  getLn10                  P.logarithm, naturalLogarithm
   *  getPi                    P.acos, P.asin, P.atan, toLessThanHalfPi, atan2
   *  getPrecision             P.precision, P.toFraction
   *  getZeroString            digitsToString, finiteToString
   *  intPow                   P.toPower, parseOther
   *  isOdd                    toLessThanHalfPi
   *  maxOrMin                 max, min
   *  naturalExponential       P.naturalExponential, P.toPower
   *  naturalLogarithm         P.acosh, P.asinh, P.atanh, P.logarithm, P.naturalLogarithm,
   *                           P.toPower, naturalExponential
   *  nonFiniteToString        finiteToString, toStringBinary
   *  parseDecimal             Decimal
   *  parseOther               Decimal
   *  sin                      P.sin
   *  taylorSeries             P.cosh, P.sinh, cos, sin
   *  toLessThanHalfPi         P.cos, P.sin
   *  toStringBinary           P.toBinary, P.toHexadecimal, P.toOctal
   *  truncate                 intPow
   *
   *  Throws:                  P.logarithm, P.precision, P.toFraction, checkInt32, getLn10, getPi,
   *                           naturalLogarithm, config, parseOther, random, Decimal
   */
function o(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Rt-r.length,n&&(o+=v(n)),o+=r;s=t[e],r=s+"",n=Rt-r.length,n&&(o+=v(n))}else if(0===s)return"0";
// Remove trailing zeros of last w.
for(;s%10==0;)s/=10;return o+s}function s(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ct+t)}/*
   * Check 5 rounding digits if `repeating` is null, 4 otherwise.
   * `repeating == null` if caller is `log` or `pow`,
   * `repeating != null` if caller is `naturalLogarithm` or `naturalExponential`.
   */
function a(t,e,n,r){var i,o,s,a;
// Get the length of the first word of the array d.
for(o=t[0];o>=10;o/=10)--e;
// Is the rounding digit in the first word of d?
// i is the index (0 - 6) of the rounding digit.
// E.g. if within the word 3487563 the first rounding digit is 5,
// then i = 4, k = 1000, rd = 3487563 % 1000 = 563
return--e<0?(e+=Rt,i=0):(i=Math.ceil((e+1)/Rt),e%=Rt),o=Ot(10,Rt-e),a=t[i]%o|0,null==r?e<3?(0==e?a=a/100|0:1==e&&(a=a/10|0),s=n<4&&99999==a||n>3&&49999==a||5e4==a||0==a):s=(n<4&&a+1==o||n>3&&a+1==o/2)&&(t[i+1]/o/100|0)==Ot(10,e-2)-1||(a==o/2||0==a)&&0==(t[i+1]/o/100|0):e<4?(0==e?a=a/1e3|0:1==e?a=a/100|0:2==e&&(a=a/10|0),s=(r||n<4)&&9999==a||!r&&n>3&&4999==a):s=((r||n<4)&&a+1==o||!r&&n>3&&a+1==o/2)&&(t[i+1]/o/1e3|0)==Ot(10,e-3)-1,s}
// Convert string of `baseIn` to an array of numbers of `baseOut`.
// Eg. convertBase('255', 10, 16) returns [15, 15].
// Eg. convertBase('ff', 16, 10) returns [2, 5, 5].
function u(t,e,n){for(var r,i,o=[0],s=0,a=t.length;s<a;){for(i=o.length;i--;)o[i]*=e;for(o[0]+=gt.indexOf(t.charAt(s++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}/*
   * cos(x) = 1 - x^2/2! + x^4/4! - ...
   * |x| < pi/2
   *
   */
function c(t,e){var n,r,i=e.d.length;
// Argument reduction: cos(4x) = 8*(cos^4(x) - cos^2(x)) + 1
// i.e. cos(x) = 8*(cos^4(x/4) - cos^2(x/4)) + 1
// Estimate the optimum number of times to use the argument reduction.
i<32?(n=Math.ceil(i/3),r=Math.pow(4,-n).toString()):(n=16,r="2.3283064365386962890625e-10"),t.precision+=n,e=N(t,1,e.times(r),new t(1));
// Reverse argument reduction
for(var o=n;o--;){var s=e.times(e);e=s.times(s).minus(s).times(8).plus(1)}return t.precision-=n,e}/*
   * Round `x` to `sd` significant digits using rounding mode `rm`.
   * Check for over/under-flow.
   */
function l(t,e,n,r){var i,o,s,a,u,c,l,f,p,h=t.constructor;
// Don't round if sd is null or undefined.
t:if(null!=e){
// Infinity/NaN.
if(!(f=t.d))return t;
// rd: the rounding digit, i.e. the digit after the digit that may be rounded up.
// w: the word of xd containing rd, a base 1e7 number.
// xdi: the index of w within xd.
// digits: the number of digits of w.
// i: what would be the index of rd within w if all the numbers were 7 digits long (i.e. if
// they had leading zeros)
// j: if > 0, the actual index of rd within w (if < 0, rd is a leading zero).
// Get the length of the first word of the digits array xd.
for(i=1,a=f[0];a>=10;a/=10)i++;
// Is the rounding digit in the first word of xd?
if((o=e-i)<0)o+=Rt,s=e,l=f[p=0],
// Get the rounding digit at index j of w.
u=l/Ot(10,i-s-1)%10|0;else if(p=Math.ceil((o+1)/Rt),a=f.length,p>=a){if(!r)break t;
// Needed by `naturalExponential`, `naturalLogarithm` and `squareRoot`.
for(;a++<=p;)f.push(0);l=u=0,i=1,o%=Rt,s=o-Rt+1}else{
// Get the number of digits of w.
for(l=a=f[p],i=1;a>=10;a/=10)i++;
// Get the index of rd within w.
o%=Rt,
// Get the index of rd within w, adjusted for leading zeros.
// The number of leading zeros of w is given by LOG_BASE - digits.
s=o-Rt+i,
// Get the rounding digit at index j of w.
u=s<0?0:l/Ot(10,i-s-1)%10|0}if(
// Are there any non-zero digits after the rounding digit?
r=r||e<0||void 0!==f[p+1]||(s<0?l:l%Ot(10,i-s-1)),
// The expression `w % mathpow(10, digits - j - 1)` returns all the digits of w to the right
// of the digit at (left-to-right) index j, e.g. if w is 908714 and j is 2, the expression
// will give 714.
c=n<4?(u||r)&&(0==n||n==(t.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&
// Check whether the digit to the left of the rounding digit is odd.
(o>0?s>0?l/Ot(10,i-s):0:f[p-1])%10&1||n==(t.s<0?8:7)),e<1||!f[0])
// Convert sd to decimal places.
// 1, 0.1, 0.01, 0.001, 0.0001 etc.
// Zero.
return f.length=0,c?(e-=t.e+1,f[0]=Ot(10,(Rt-e%Rt)%Rt),t.e=-e||0):f[0]=t.e=0,t;if(
// Remove excess digits.
0==o?(f.length=p,a=1,p--):(f.length=p+1,a=Ot(10,Rt-o),
// E.g. 56700 becomes 56000 if 7 is the rounding digit.
// j > 0 means i > number of leading zeros of w.
f[p]=s>0?(l/Ot(10,i-s)%Ot(10,s)|0)*a:0),c)for(;;){
// Is the digit to be rounded up in the first word of xd?
if(0==p){
// i will be the length of xd[0] before k is added.
for(o=1,s=f[0];s>=10;s/=10)o++;for(s=f[0]+=a,a=1;s>=10;s/=10)a++;
// if i != k the length has increased.
o!=a&&(t.e++,f[0]==It&&(f[0]=1));break}if(f[p]+=a,f[p]!=It)break;f[p--]=0,a=1}
// Remove trailing zeros.
for(o=f.length;0===f[--o];)f.pop()}
// Overflow?
// Infinity.
// Zero.
return xt&&(t.e>h.maxE?(t.d=null,t.e=NaN):t.e<h.minE&&(t.e=0,t.d=[0])),t}function f(t,e,n){if(!t.isFinite())return x(t);var r,i=t.e,s=o(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+v(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(t.e<0?"e":"e+")+t.e):i<0?(s="0."+v(-i-1)+s,n&&(r=n-a)>0&&(s+=v(r))):i>=a?(s+=v(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+v(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=v(r))),s}
// Calculate the base 10 exponent from the base 1e7 exponent.
function p(t,e){var n=t[0];
// Add the number of digits of the first word of the digits array.
for(e*=Rt;n>=10;n/=10)e++;return e}function h(t,e,n){if(e>jt)
// Reset global state in case the exception is caught.
throw xt=!0,n&&(t.precision=n),Error(St);return l(new t(bt),e,1,!0)}function d(t,e,n){if(e>Dt)throw Error(St);return l(new t(wt),e,n,!0)}function m(t){var e=t.length-1,n=e*Rt+1;
// If non-zero...
if(e=t[e]){
// Subtract the number of trailing zeros of the last word.
for(;e%10==0;e/=10)n--;
// Add the number of digits of the first word.
for(e=t[0];e>=10;e/=10)n++}return n}function v(t){for(var e="";t--;)e+="0";return e}/*
   * Return a new Decimal whose value is the value of Decimal `x` to the power `n`, where `n` is an
   * integer of type number.
   *
   * Implements 'exponentiation by squaring'. Called by `pow` and `parseOther`.
   *
   */
function y(t,e,n,r){var i,o=new t(1),
// Max n of 9007199254740991 takes 53 loop iterations.
// Maximum digits array length; leaves [28, 34] guard digits.
s=Math.ceil(r/Rt+4);for(xt=!1;;){if(n%2&&(o=o.times(e),T(o.d,s)&&(i=!0)),0===(n=Mt(n/2))){
// To ensure correct rounding when r.d is truncated, increment the last word if it is zero.
n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}e=e.times(e),T(e.d,s)}return xt=!0,o}function g(t){return 1&t.d[t.d.length-1]}/*
   * Handle `max` and `min`. `ltgt` is 'lt' or 'gt'.
   */
function b(t,e,n){for(var r,i=new t(e[0]),o=0;++o<e.length;){if(r=new t(e[o]),!r.s){i=r;break}i[n](r)&&(i=r)}return i}/*
   * Return a new Decimal whose value is the natural exponential of `x` rounded to `sd` significant
   * digits.
   *
   * Taylor/Maclaurin series.
   *
   * exp(x) = x^0/0! + x^1/1! + x^2/2! + x^3/3! + ...
   *
   * Argument reduction:
   *   Repeat x = x / 32, k += 5, until |x| < 0.1
   *   exp(x) = exp(x / 2^k)^(2^k)
   *
   * Previously, the argument was initially reduced by
   * exp(x) = exp(r) * 10^k  where r = x - k * ln10, k = floor(x / ln10)
   * to first put r in the range [0, ln10], before dividing by 32 until |x| < 0.1, but this was
   * found to be slower than just dividing repeatedly by 32 as above.
   *
   * Max integer argument: exp('20723265836946413') = 6.3e+9000000000000000
   * Min integer argument: exp('-20723265836946411') = 1.2e-9000000000000000
   * (Math object integer min/max: Math.exp(709) = 8.2e+307, Math.exp(-745) = 5e-324)
   *
   *  exp(Infinity)  = Infinity
   *  exp(-Infinity) = 0
   *  exp(NaN)       = NaN
   *  exp(0)        = 1
   *
   *  exp(x) is non-terminating for any finite, non-zero x.
   *
   *  The result will always be correctly rounded.
   *
   */
function w(t,e){var n,r,i,s,u,c,f,p=0,h=0,d=0,m=t.constructor,v=m.rounding,y=m.precision;
// 0/NaN/Infinity?
if(!t.d||!t.d[0]||t.e>17)return new m(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);
// while abs(x) >= 0.1
for(null==e?(xt=!1,f=y):f=e,c=new m(.03125);t.e>-2;)
// x = x / 2^5
t=t.times(c),d+=5;for(
// Use 2 * log10(2^k) + 5 (empirically derived) to estimate the increase in precision
// necessary to ensure the first 4 rounding digits are correct.
r=Math.log(Ot(2,d))/Math.LN10*2+5|0,f+=r,n=s=u=new m(1),m.precision=f;;){if(s=l(s.times(t),f,1),n=n.times(++h),c=u.plus(Ft(s,n,f,1)),o(c.d).slice(0,f)===o(u.d).slice(0,f)){for(i=d;i--;)u=l(u.times(u),f,1);
// Check to see if the first 4 rounding digits are [49]999.
// If so, repeat the summation with a higher precision, otherwise
// e.g. with precision: 18, rounding: 1
// exp(18.404272462595034083567793919843761) = 98372560.1229999999 (should be 98372560.123)
// `wpr - guard` is the index of first rounding digit.
if(null!=e)return m.precision=y,u;if(!(p<3&&a(u.d,f-r,v,p)))return l(u,m.precision=y,v,xt=!0);m.precision=f+=10,n=s=c=new m(1),h=0,p++}u=c}}/*
   * Return a new Decimal whose value is the natural logarithm of `x` rounded to `sd` significant
   * digits.
   *
   *  ln(-n)        = NaN
   *  ln(0)         = -Infinity
   *  ln(-0)        = -Infinity
   *  ln(1)         = 0
   *  ln(Infinity)  = Infinity
   *  ln(-Infinity) = NaN
   *  ln(NaN)       = NaN
   *
   *  ln(n) (n != 1) is non-terminating.
   *
   */
function _(t,e){var n,r,i,s,u,c,f,p,d,m,v,y=1,g=t,b=g.d,w=g.constructor,x=w.rounding,E=w.precision;
// Is x negative or Infinity, NaN, 0 or 1?
if(g.s<0||!b||!b[0]||!g.e&&1==b[0]&&1==b.length)return new w(b&&!b[0]?-1/0:1!=g.s?NaN:b?0:g);if(null==e?(xt=!1,d=E):d=e,w.precision=d+=10,n=o(b),r=n.charAt(0),!(Math.abs(s=g.e)<15e14))
// The argument reduction method above may result in overflow if the argument y is a massive
// number with exponent >= 1500000000000000 (9e15 / 6 = 1.5e15), so instead recall this
// function using ln(x*10^e) = ln(x) + e*ln(10).
return p=h(w,d+2,E).times(s+""),g=_(new w(r+"."+n.slice(1)),d-10).plus(p),w.precision=E,null==e?l(g,E,x,xt=!0):g;
// Argument reduction.
// The series converges faster the closer the argument is to 1, so using
// ln(a^b) = b * ln(a),   ln(a) = ln(a^b) / b
// multiply the argument by itself until the leading digits of the significand are 7, 8, 9,
// 10, 11, 12 or 13, recording the number of multiplications so the sum of the series can
// later be divided by this number, then separate out the power of 10 using
// ln(a*10^b) = ln(a) + b*ln(10).
// max n is 21 (gives 0.9, 1.0 or 1.1) (9e15 / 21 = 4.2e14).
//while (c0 < 9 && c0 != 1 || c0 == 1 && c.charAt(1) > 1) {
// max n is 6 (gives 0.7 - 1.3)
for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)g=g.times(t),n=o(g.d),r=n.charAt(0),y++;for(s=g.e,r>1?(g=new w("0."+n),s++):g=new w(r+"."+n.slice(1)),
// x1 is x reduced to a value near 1.
m=g,
// Taylor series.
// ln(y) = ln((1 + x)/(1 - x)) = 2(x + x^3/3 + x^5/5 + x^7/7 + ...)
// where x = (y - 1)/(y + 1)    (|x| < 1)
f=u=g=Ft(g.minus(1),g.plus(1),d,1),v=l(g.times(g),d,1),i=3;;){if(u=l(u.times(v),d,1),p=f.plus(Ft(u,new w(i),d,1)),o(p.d).slice(0,d)===o(f.d).slice(0,d)){
// Is rm > 3 and the first 4 rounding digits 4999, or rm < 4 (or the summation has
// been repeated previously) and the first 4 rounding digits 9999?
// If so, restart the summation with a higher precision, otherwise
// e.g. with precision: 12, rounding: 1
// ln(135520028.6126091714265381533) = 18.7246299999 when it should be 18.72463.
// `wpr - guard` is the index of first rounding digit.
if(f=f.times(2),
// Reverse the argument reduction. Check that e is not 0 because, besides preventing an
// unnecessary calculation, -0 + 0 = +0 and to ensure correct rounding -0 needs to stay -0.
0!==s&&(f=f.plus(h(w,d+2,E).times(s+""))),f=Ft(f,new w(y),d,1),null!=e)return w.precision=E,f;if(!a(f.d,d-10,x,c))return l(f,w.precision=E,x,xt=!0);w.precision=d+=10,p=u=g=Ft(m.minus(1),m.plus(1),d,1),v=l(g.times(g),d,1),i=c=1}f=p,i+=2}}
// Infinity, NaN.
function x(t){
// Unsigned.
return String(t.s*t.s/0)}/*
   * Parse the value of a new Decimal `x` from string `str`.
   */
function E(t,e){var n,r,i;
// Determine leading zeros.
for(
// Decimal point?
(n=e.indexOf("."))>-1&&(e=e.replace(".","")),
// Exponential form?
(r=e.search(/e/i))>0?(
// Determine exponent.
n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(
// Integer.
n=e.length),r=0;48===e.charCodeAt(r);r++);
// Determine trailing zeros.
for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(r,i)){if(i-=r,t.e=n=n-r-1,t.d=[],
// Transform base
// e is the base 10 exponent.
// i is where to slice str to get the first word of the digits array.
r=(n+1)%Rt,n<0&&(r+=Rt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Rt;r<i;)t.d.push(+e.slice(r,r+=Rt));e=e.slice(r),r=Rt-e.length}else r-=i;for(;r--;)e+="0";t.d.push(+e),xt&&(
// Overflow?
t.e>t.constructor.maxE?(
// Infinity.
t.d=null,t.e=NaN):t.e<t.constructor.minE&&(
// Zero.
t.e=0,t.d=[0]))}else
// Zero.
t.e=0,t.d=[0];return t}/*
   * Parse the value of a new Decimal `x` from a string `str`, which is not a decimal value.
   */
function C(t,e){var n,r,i,o,s,a,c,l,f;if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(At.test(e))n=16,e=e.toLowerCase();else if(Tt.test(e))n=2;else{if(!Pt.test(e))throw Error(Ct+e);n=8}
// Remove trailing zeros.
for(
// Is there a binary exponent part?
o=e.search(/p/i),o>0?(c=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),
// Convert `str` as an integer then divide the result by `base` raised to a power such that the
// fraction part will be restored.
o=e.indexOf("."),s=o>=0,r=t.constructor,s&&(e=e.replace(".",""),a=e.length,o=a-o,
// log[10](16) = 1.2041... , log[10](88) = 1.9444....
i=y(r,new r(n),o,2*o)),l=u(e,n,It),f=l.length-1,o=f;0===l[o];--o)l.pop();
// At what precision to perform the division to ensure exact conversion?
// maxDecimalIntegerPartDigitCount = ceil(log[10](b) * otherBaseIntegerPartDigitCount)
// log[10](2) = 0.30103, log[10](8) = 0.90309, log[10](16) = 1.20412
// E.g. ceil(1.2 * 3) = 4, so up to 4 decimal digits are needed to represent 3 hex int digits.
// maxDecimalFractionPartDigitCount = {Hex:4|Oct:3|Bin:1} * otherBaseFractionPartDigitCount
// Therefore using 4 * the number of digits of str will always be enough.
// Multiply by the binary exponent part if present.
return o<0?new r(0*t.s):(t.e=p(l,f),t.d=l,xt=!1,s&&(t=Ft(t,i,4*a)),c&&(t=t.times(Math.abs(c)<54?Math.pow(2,c):_t.pow(2,c))),xt=!0,t)}/*
   * sin(x) = x - x^3/3! + x^5/5! - ...
   * |x| < pi/2
   *
   */
function S(t,e){var n,r=e.d.length;if(r<3)return N(t,2,e,e);
// Argument reduction: sin(5x) = 16*sin^5(x) - 20*sin^3(x) + 5*sin(x)
// i.e. sin(x) = 16*sin^5(x/5) - 20*sin^3(x/5) + 5*sin(x/5)
// and  sin(x) = sin(x/5)(5 + sin^2(x/5)(16sin^2(x/5) - 20))
// Estimate the optimum number of times to use the argument reduction.
n=1.4*Math.sqrt(r),n=n>16?16:0|n,
// Max k before Math.pow precision loss is 22
e=e.times(Math.pow(5,-n)),e=N(t,2,e,e);for(
// Reverse argument reduction
var i,o=new t(5),s=new t(16),a=new t(20);n--;)i=e.times(e),e=e.times(o.plus(i.times(s.times(i).minus(a))));return e}
// Calculate Taylor series for `cos`, `cosh`, `sin` and `sinh`.
function N(t,e,n,r,i){var o,s,a,u,c=1,l=t.precision,f=Math.ceil(l/Rt);for(xt=!1,u=n.times(n),a=new t(r);;){if(s=Ft(a.times(u),new t(e++*e++),l,1),a=i?r.plus(s):r.minus(s),r=Ft(s.times(u),new t(e++*e++),l,1),s=a.plus(r),void 0!==s.d[f]){for(o=f;s.d[o]===a.d[o]&&o--;);if(-1==o)break}o=a,a=r,r=s,s=o,c++}return xt=!0,s.d.length=f+1,s}
// Return the absolute value of `x` reduced to less than or equal to half pi.
function M(t,e){var n,r=e.s<0,i=d(t,t.precision,1),o=i.times(.5);if(e=e.abs(),e.lte(o))return mt=r?4:1,e;if(n=e.divToInt(i),n.isZero())mt=r?3:2;else{
// 0 <= x < pi
if(e=e.minus(n.times(i)),e.lte(o))return mt=g(n)?r?2:3:r?4:1,e;mt=g(n)?r?1:4:r?3:2}return e.minus(i).abs()}/*
   * Return the value of Decimal `x` as a string in base `baseOut`.
   *
   * If the optional `sd` argument is present include a binary exponent suffix.
   */
function O(t,e,n,r){var i,o,a,c,l,p,h,d,m,v=t.constructor,y=void 0!==n;if(y?(s(n,1,yt),void 0===r?r=v.rounding:s(r,0,8)):(n=v.precision,r=v.rounding),t.isFinite()){
// Remove trailing zeros.
for(h=f(t),a=h.indexOf("."),
// Use exponential notation according to `toExpPos` and `toExpNeg`? No, but if required:
// maxBinaryExponent = floor((decimalExponent + 1) * log[2](10))
// minBinaryExponent = floor(decimalExponent * log[2](10))
// log[2](10) = 3.321928094887362347870319429489390175864
y?(i=2,16==e?n=4*n-3:8==e&&(n=3*n-2)):i=e,
// Convert the number as an integer then divide the result by its base raised to a power such
// that the fraction part will be restored.
// Non-integer.
a>=0&&(h=h.replace(".",""),m=new v(1),m.e=h.length-a,m.d=u(f(m),10,i),m.e=m.d.length),d=u(h,10,i),o=l=d.length;0==d[--l];)d.pop();if(d[0]){if(a<0?o--:(t=new v(t),t.d=d,t.e=o,t=Ft(t,m,n,r,0,i),d=t.d,o=t.e,p=dt),
// The rounding digit, i.e. the digit after the digit that may be rounded up.
a=d[n],c=i/2,p=p||void 0!==d[n+1],p=r<4?(void 0!==a||p)&&(0===r||r===(t.s<0?3:2)):a>c||a===c&&(4===r||p||6===r&&1&d[n-1]||r===(t.s<0?8:7)),d.length=n,p)
// Rounding up may mean the previous digit has to be rounded up and so on.
for(;++d[--n]>i-1;)d[n]=0,n||(++o,d.unshift(1));
// Determine trailing zeros.
for(l=d.length;!d[l-1];--l);
// E.g. [4, 11, 15] becomes 4bf.
for(a=0,h="";a<l;a++)h+=gt.charAt(d[a]);
// Add binary exponent suffix?
if(y){if(l>1)if(16==e||8==e){for(a=16==e?4:3,--l;l%a;l++)h+="0";for(d=u(h,i,e),l=d.length;!d[l-1];--l);
// xd[0] will always be be 1
for(a=1,h="1.";a<l;a++)h+=gt.charAt(d[a])}else h=h.charAt(0)+"."+h.slice(1);h=h+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)h="0"+h;h="0."+h}else if(++o>l)for(o-=l;o--;)h+="0";else o<l&&(h=h.slice(0,o)+"."+h.slice(o))}else h=y?"0p+0":"0";h=(16==e?"0x":2==e?"0b":8==e?"0o":"")+h}else h=x(t);return t.s<0?"-"+h:h}
// Does not strip trailing zeros.
function T(t,e){if(t.length>e)return t.length=e,!0}
// Decimal methods
/*
   *  abs
   *  acos
   *  acosh
   *  add
   *  asin
   *  asinh
   *  atan
   *  atanh
   *  atan2
   *  cbrt
   *  ceil
   *  clone
   *  config
   *  cos
   *  cosh
   *  div
   *  exp
   *  floor
   *  hypot
   *  ln
   *  log
   *  log2
   *  log10
   *  max
   *  min
   *  mod
   *  mul
   *  pow
   *  random
   *  round
   *  set
   *  sign
   *  sin
   *  sinh
   *  sqrt
   *  sub
   *  tan
   *  tanh
   *  trunc
   */
/*
   * Return a new Decimal whose value is the absolute value of `x`.
   *
   * x {number|string|Decimal}
   *
   */
function A(t){return new this(t).abs()}/*
   * Return a new Decimal whose value is the arccosine in radians of `x`.
   *
   * x {number|string|Decimal}
   *
   */
function P(t){return new this(t).acos()}/*
   * Return a new Decimal whose value is the inverse of the hyperbolic cosine of `x`, rounded to
   * `precision` significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
function k(t){return new this(t).acosh()}/*
   * Return a new Decimal whose value is the sum of `x` and `y`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   * y {number|string|Decimal}
   *
   */
function I(t,e){return new this(t).plus(e)}/*
   * Return a new Decimal whose value is the arcsine in radians of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   *
   */
function R(t){return new this(t).asin()}/*
   * Return a new Decimal whose value is the inverse of the hyperbolic sine of `x`, rounded to
   * `precision` significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
function j(t){return new this(t).asinh()}/*
   * Return a new Decimal whose value is the arctangent in radians of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   *
   */
function D(t){return new this(t).atan()}/*
   * Return a new Decimal whose value is the inverse of the hyperbolic tangent of `x`, rounded to
   * `precision` significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
function L(t){return new this(t).atanh()}/*
   * Return a new Decimal whose value is the arctangent in radians of `y/x` in the range -pi to pi
   * (inclusive), rounded to `precision` significant digits using rounding mode `rounding`.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-pi, pi]
   *
   * y {number|string|Decimal} The y-coordinate.
   * x {number|string|Decimal} The x-coordinate.
   *
   * atan2(0, -0)               = pi
   * atan2(0, +0)               = 0
   * atan2(0, -x)               = pi for x > 0
   * atan2(0, x)                = 0 for x > 0
   * atan2(-y, 0)               = -pi/2 for y > 0
   * atan2(y, 0)                = pi/2 for y > 0
   * atan2(y, -Infinity)        = pi for finite y > 0
   * atan2(y, +Infinity)        = 0 for finite y > 0
   * atan2(Infinity, x)         = pi/2 for finite x
   * atan2(Infinity, -Infinity) = 3*pi/4
   * atan2(Infinity, +Infinity) = pi/4
   * atan2(NaN, x) = NaN
   * atan2(y, NaN) = NaN
   *
   */
function F(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,o=r+4;
// Either NaN
return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(n=e.s<0?d(this,r,i):new this(0),n.s=t.s):!t.d||e.isZero()?(n=d(this,o,1).times(.5),n.s=t.s):e.s<0?(this.precision=o,this.rounding=1,n=this.atan(Ft(t,e,o,1)),e=d(this,o,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(Ft(t,e,o,1)):(n=d(this,o,1).times(e.s>0?.25:.75),n.s=t.s):n=new this(NaN),n}/*
   * Return a new Decimal whose value is the cube root of `x`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   *
   */
function U(t){return new this(t).cbrt()}/*
   * Return a new Decimal whose value is `x` rounded to an integer using `ROUND_CEIL`.
   *
   * x {number|string|Decimal}
   *
   */
function V(t){return l(t=new this(t),t.e+1,2)}/*
   * Configure global settings for a Decimal constructor.
   *
   * `obj` is an object with one or more of the following properties,
   *
   *   precision  {number}
   *   rounding   {number}
   *   toExpNeg   {number}
   *   toExpPos   {number}
   *   maxE       {number}
   *   minE       {number}
   *   modulo     {number}
   *   crypto     {boolean|number}
   *
   * E.g. Decimal.config({ precision: 20, rounding: 4 })
   *
   */
function B(t){if(!t||"object"!=typeof t)throw Error(Et+"Object expected");var e,n,r,i=["precision",1,yt,"rounding",0,8,"toExpNeg",-vt,0,"toExpPos",0,vt,"maxE",0,vt,"minE",-vt,0,"modulo",0,9];for(e=0;e<i.length;e+=3)if(void 0!==(r=t[n=i[e]])){if(!(Mt(r)===r&&r>=i[e+1]&&r<=i[e+2]))throw Error(Ct+n+": "+r);this[n]=r}if(void 0!==(r=t[n="crypto"])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(Ct+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(Nt);this[n]=!0}else this[n]=!1}return this}/*
   * Return a new Decimal whose value is the cosine of `x`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
function z(t){return new this(t).cos()}/*
   * Return a new Decimal whose value is the hyperbolic cosine of `x`, rounded to precision
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
function q(t){return new this(t).cosh()}/*
   * Create and return a Decimal constructor with the same configuration properties as this Decimal
   * constructor.
   *
   */
function H(t){/*
     * The Decimal constructor and exported function.
     * Return a new Decimal instance.
     *
     * v {number|string|Decimal} A numeric value.
     *
     */
function e(t){var n,r,i,o=this;
// Decimal called without new.
if(!(o instanceof e))return new e(t);
// Duplicate.
if(
// Retain a reference to this Decimal constructor, and shadow Decimal.prototype.constructor
// which points to Object.
o.constructor=e,t instanceof e)return o.s=t.s,o.e=t.e,void(o.d=(t=t.d)?t.slice():t);if("number"===(i=typeof t)){if(0===t)return o.s=1/t<0?-1:1,o.e=0,void(o.d=[0]);
// Fast path for small integers.
if(t<0?(t=-t,o.s=-1):o.s=1,t===~~t&&t<1e7){for(n=0,r=t;r>=10;r/=10)n++;return o.e=n,void(o.d=[t])}return 0*t!=0?(t||(o.s=NaN),o.e=NaN,void(o.d=null)):E(o,t.toString())}if("string"!==i)throw Error(Ct+t);
// Minus sign?
return 45===t.charCodeAt(0)?(t=t.slice(1),o.s=-1):o.s=1,kt.test(t)?E(o,t):C(o,t)}var n,r,i;if(e.prototype=Lt,e.ROUND_UP=0,e.ROUND_DOWN=1,e.ROUND_CEIL=2,e.ROUND_FLOOR=3,e.ROUND_HALF_UP=4,e.ROUND_HALF_DOWN=5,e.ROUND_HALF_EVEN=6,e.ROUND_HALF_CEIL=7,e.ROUND_HALF_FLOOR=8,e.EUCLID=9,e.config=e.set=B,e.clone=H,e.abs=A,e.acos=P,e.acosh=k,// ES6
e.add=I,e.asin=R,e.asinh=j,// ES6
e.atan=D,e.atanh=L,// ES6
e.atan2=F,e.cbrt=U,// ES6
e.ceil=V,e.cos=z,e.cosh=q,// ES6
e.div=G,e.exp=W,e.floor=$,e.hypot=Y,// ES6
e.ln=X,e.log=Z,e.log10=Q,// ES6
e.log2=K,// ES6
e.max=J,e.min=tt,e.mod=et,e.mul=nt,e.pow=rt,e.random=it,e.round=ot,e.sign=st,// ES6
e.sin=at,e.sinh=ut,// ES6
e.sqrt=ct,e.sub=lt,e.tan=ft,e.tanh=pt,// ES6
e.trunc=ht,// ES6
void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return e.config(t),e}/*
   * Return a new Decimal whose value is `x` divided by `y`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   * y {number|string|Decimal}
   *
   */
function G(t,e){return new this(t).div(e)}/*
   * Return a new Decimal whose value is the natural exponential of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} The power to which to raise the base of the natural log.
   *
   */
function W(t){return new this(t).exp()}/*
   * Return a new Decimal whose value is `x` round to an integer using `ROUND_FLOOR`.
   *
   * x {number|string|Decimal}
   *
   */
function $(t){return l(t=new this(t),t.e+1,3)}/*
   * Return a new Decimal whose value is the square root of the sum of the squares of the arguments,
   * rounded to `precision` significant digits using rounding mode `rounding`.
   *
   * hypot(a, b, ...) = sqrt(a^2 + b^2 + ...)
   *
   */
function Y(){var t,e,n=new this(0);for(xt=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return xt=!0,new this(1/0);n=e}return xt=!0,n.sqrt()}/*
   * Return a new Decimal whose value is the natural logarithm of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   *
   */
function X(t){return new this(t).ln()}/*
   * Return a new Decimal whose value is the log of `x` to the base `y`, or to base 10 if no base
   * is specified, rounded to `precision` significant digits using rounding mode `rounding`.
   *
   * log[y](x)
   *
   * x {number|string|Decimal} The argument of the logarithm.
   * y {number|string|Decimal} The base of the logarithm.
   *
   */
function Z(t,e){return new this(t).log(e)}/*
   * Return a new Decimal whose value is the base 2 logarithm of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   *
   */
function K(t){return new this(t).log(2)}/*
   * Return a new Decimal whose value is the base 10 logarithm of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   *
   */
function Q(t){return new this(t).log(10)}/*
   * Return a new Decimal whose value is the maximum of the arguments.
   *
   * arguments {number|string|Decimal}
   *
   */
function J(){return b(this,arguments,"lt")}/*
   * Return a new Decimal whose value is the minimum of the arguments.
   *
   * arguments {number|string|Decimal}
   *
   */
function tt(){return b(this,arguments,"gt")}/*
   * Return a new Decimal whose value is `x` modulo `y`, rounded to `precision` significant digits
   * using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   * y {number|string|Decimal}
   *
   */
function et(t,e){return new this(t).mod(e)}/*
   * Return a new Decimal whose value is `x` multiplied by `y`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   * y {number|string|Decimal}
   *
   */
function nt(t,e){return new this(t).mul(e)}/*
   * Return a new Decimal whose value is `x` raised to the power `y`, rounded to precision
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} The base.
   * y {number|string|Decimal} The exponent.
   *
   */
function rt(t,e){return new this(t).pow(e)}/*
   * Returns a new Decimal with a random value equal to or greater than 0 and less than 1, and with
   * `sd`, or `Decimal.precision` if `sd` is omitted, significant digits (or less if trailing zeros
   * are produced).
   *
   * [sd] {number} Significant digits. Integer, 0 to MAX_DIGITS inclusive.
   *
   */
function it(t){var e,n,r,i,o=0,a=new this(1),u=[];if(void 0===t?t=this.precision:s(t,1,yt),r=Math.ceil(t/Rt),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));o<r;)i=e[o],
// 0 <= n < 4294967296
// Probability n >= 4.29e9, is 4967296 / 4294967296 = 0.00116 (1 in 865).
i>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:
// 0 <= n <= 4289999999
// 0 <= (n % 1e7) <= 9999999
u[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(Nt);for(
// buffer
e=crypto.randomBytes(r*=4);o<r;)
// 0 <= n < 2147483648
i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((127&e[o+3])<<24),
// Probability n >= 2.14e9, is 7483648 / 2147483648 = 0.0035 (1 in 286).
i>=214e7?crypto.randomBytes(4).copy(e,o):(
// 0 <= n <= 2139999999
// 0 <= (n % 1e7) <= 9999999
u.push(i%1e7),o+=4);o=r/4}else for(;o<r;)u[o++]=1e7*Math.random()|0;
// Remove trailing words which are zero.
for(r=u[--o],t%=Rt,
// Convert trailing digits to zeros according to sd.
r&&t&&(i=Ot(10,Rt-t),u[o]=(r/i|0)*i);0===u[o];o--)u.pop();
// Zero?
if(o<0)n=0,u=[0];else{
// Remove leading words which are zero and adjust exponent accordingly.
for(n=-1;0===u[0];n-=Rt)u.shift();
// Count the digits of the first word of rd to determine leading zeros.
for(r=1,i=u[0];i>=10;i/=10)r++;
// Adjust the exponent for leading zeros of the first word of rd.
r<Rt&&(n-=Rt-r)}return a.e=n,a.d=u,a}/*
   * Return a new Decimal whose value is `x` rounded to an integer using rounding mode `rounding`.
   *
   * To emulate `Math.round`, set rounding to 7 (ROUND_HALF_CEIL).
   *
   * x {number|string|Decimal}
   *
   */
function ot(t){return l(t=new this(t),t.e+1,this.rounding)}/*
   * Return
   *   1    if x > 0,
   *  -1    if x < 0,
   *   0    if x is 0,
   *  -0    if x is -0,
   *   NaN  otherwise
   *
   */
function st(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}/*
   * Return a new Decimal whose value is the sine of `x`, rounded to `precision` significant digits
   * using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
function at(t){return new this(t).sin()}/*
   * Return a new Decimal whose value is the hyperbolic sine of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
function ut(t){return new this(t).sinh()}/*
   * Return a new Decimal whose value is the square root of `x`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   *
   */
function ct(t){return new this(t).sqrt()}/*
   * Return a new Decimal whose value is `x` minus `y`, rounded to `precision` significant digits
   * using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   * y {number|string|Decimal}
   *
   */
function lt(t,e){return new this(t).sub(e)}/*
   * Return a new Decimal whose value is the tangent of `x`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
function ft(t){return new this(t).tan()}/*
   * Return a new Decimal whose value is the hyperbolic tangent of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
function pt(t){return new this(t).tanh()}/*
   * Return a new Decimal whose value is `x` truncated to an integer.
   *
   * x {number|string|Decimal}
   *
   */
function ht(t){return l(t=new this(t),t.e+1,1)}/*
   *  decimal.js v7.1.1
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2016 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   */
// -----------------------------------  EDITABLE DEFAULTS  ------------------------------------ //
// The maximum exponent magnitude.
// The limit on the value of `toExpNeg`, `toExpPos`, `minE` and `maxE`.
var
// ----------------------------------- END OF EDITABLE DEFAULTS ------------------------------- //
dt,mt,vt=9e15,// 0 to 9e15
// The limit on the value of `precision`, and on the value of the first argument to
// `toDecimalPlaces`, `toExponential`, `toFixed`, `toPrecision` and `toSignificantDigits`.
yt=1e9,// 0 to 1e9
// Base conversion alphabet.
gt="0123456789abcdef",
// The natural logarithm of 10 (1025 digits).
bt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",
// Pi (1025 digits).
wt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",
// The initial configuration properties of the Decimal constructor.
_t={
// These values must be integers within the stated ranges (inclusive).
// Most of these values can be changed at run-time using the `Decimal.config` method.
// The maximum number of significant digits of the result of a calculation or base conversion.
// E.g. `Decimal.config({ precision: 20 });`
precision:20,// 1 to MAX_DIGITS
// The rounding mode used when rounding to `precision`.
//
// ROUND_UP         0 Away from zero.
// ROUND_DOWN       1 Towards zero.
// ROUND_CEIL       2 Towards +Infinity.
// ROUND_FLOOR      3 Towards -Infinity.
// ROUND_HALF_UP    4 Towards nearest neighbour. If equidistant, up.
// ROUND_HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.
// ROUND_HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.
// ROUND_HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.
// ROUND_HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.
//
// E.g.
// `Decimal.rounding = 4;`
// `Decimal.rounding = Decimal.ROUND_HALF_UP;`
rounding:4,// 0 to 8
// The modulo mode used when calculating the modulus: a mod n.
// The quotient (q = a / n) is calculated according to the corresponding rounding mode.
// The remainder (r) is calculated as: r = a - n * q.
//
// UP         0 The remainder is positive if the dividend is negative, else is negative.
// DOWN       1 The remainder has the same sign as the dividend (JavaScript %).
// FLOOR      3 The remainder has the same sign as the divisor (Python %).
// HALF_EVEN  6 The IEEE 754 remainder function.
// EUCLID     9 Euclidian division. q = sign(n) * floor(a / abs(n)). Always positive.
//
// Truncated division (1), floored division (3), the IEEE 754 remainder (6), and Euclidian
// division (9) are commonly used for the modulus operation. The other rounding modes can also
// be used, but they may not give useful results.
modulo:1,// 0 to 9
// The exponent value at and beneath which `toString` returns exponential notation.
// JavaScript numbers: -7
toExpNeg:-7,// 0 to -EXP_LIMIT
// The exponent value at and above which `toString` returns exponential notation.
// JavaScript numbers: 21
toExpPos:21,// 0 to EXP_LIMIT
// The minimum exponent value, beneath which underflow to zero occurs.
// JavaScript numbers: -324  (5e-324)
minE:-vt,// -1 to -EXP_LIMIT
// The maximum exponent value, above which overflow to Infinity occurs.
// JavaScript numbers: 308  (1.7976931348623157e+308)
maxE:vt,// 1 to EXP_LIMIT
// Whether to use cryptographically-secure random number generation, if available.
crypto:!1},xt=!0,Et="[DecimalError] ",Ct=Et+"Invalid argument: ",St=Et+"Precision limit exceeded",Nt=Et+"crypto unavailable",Mt=Math.floor,Ot=Math.pow,Tt=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,At=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Pt=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,kt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,It=1e7,Rt=7,jt=bt.length-1,Dt=wt.length-1,
// Decimal.prototype object
Lt={};
// Decimal prototype methods
/*
   *  absoluteValue             abs
   *  ceil
   *  comparedTo                cmp
   *  cosine                    cos
   *  cubeRoot                  cbrt
   *  decimalPlaces             dp
   *  dividedBy                 div
   *  dividedToIntegerBy        divToInt
   *  equals                    eq
   *  floor
   *  greaterThan               gt
   *  greaterThanOrEqualTo      gte
   *  hyperbolicCosine          cosh
   *  hyperbolicSine            sinh
   *  hyperbolicTangent         tanh
   *  inverseCosine             acos
   *  inverseHyperbolicCosine   acosh
   *  inverseHyperbolicSine     asinh
   *  inverseHyperbolicTangent  atanh
   *  inverseSine               asin
   *  inverseTangent            atan
   *  isFinite
   *  isInteger                 isInt
   *  isNaN
   *  isNegative                isNeg
   *  isPositive                isPos
   *  isZero
   *  lessThan                  lt
   *  lessThanOrEqualTo         lte
   *  logarithm                 log
   *  [maximum]                 [max]
   *  [minimum]                 [min]
   *  minus                     sub
   *  modulo                    mod
   *  naturalExponential        exp
   *  naturalLogarithm          ln
   *  negated                   neg
   *  plus                      add
   *  precision                 sd
   *  round
   *  sine                      sin
   *  squareRoot                sqrt
   *  tangent                   tan
   *  times                     mul
   *  toBinary
   *  toDecimalPlaces           toDP
   *  toExponential
   *  toFixed
   *  toFraction
   *  toHexadecimal             toHex
   *  toNearest
   *  toNumber
   *  toOctal
   *  toPower                   pow
   *  toPrecision
   *  toSignificantDigits       toSD
   *  toString
   *  truncated                 trunc
   *  valueOf                   toJSON
   */
/*
   * Return a new Decimal whose value is the absolute value of this Decimal.
   *
   */
Lt.absoluteValue=Lt.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),l(t)},/*
   * Return a new Decimal whose value is the value of this Decimal rounded to a whole number in the
   * direction of positive Infinity.
   *
   */
Lt.ceil=function(){return l(new this.constructor(this),this.e+1,2)},/*
   * Return
   *   1    if the value of this Decimal is greater than the value of `y`,
   *  -1    if the value of this Decimal is less than the value of `y`,
   *   0    if they have the same value,
   *   NaN  if the value of either Decimal is NaN.
   *
   */
Lt.comparedTo=Lt.cmp=function(t){var e,n,r,i,o=this,s=o.d,a=(t=new o.constructor(t)).d,u=o.s,c=t.s;
// Either NaN or Infinity?
if(!s||!a)return u&&c?u!==c?u:s===a?0:!s^u<0?1:-1:NaN;
// Either zero?
if(!s[0]||!a[0])return s[0]?u:a[0]?-c:0;
// Signs differ?
if(u!==c)return u;
// Compare exponents.
if(o.e!==t.e)return o.e>t.e^u<0?1:-1;
// Compare digit by digit.
for(r=s.length,i=a.length,e=0,n=r<i?r:i;e<n;++e)if(s[e]!==a[e])return s[e]>a[e]^u<0?1:-1;
// Compare lengths.
return r===i?0:r>i^u<0?1:-1},/*
   * Return a new Decimal whose value is the cosine of the value in radians of this Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-1, 1]
   *
   * cos(0)         = 1
   * cos(-0)        = 1
   * cos(Infinity)  = NaN
   * cos(-Infinity) = NaN
   * cos(NaN)       = NaN
   *
   */
Lt.cosine=Lt.cos=function(){var t,e,n=this,r=n.constructor;
// cos(0) = cos(-0) = 1
return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+Rt,r.rounding=1,n=c(r,M(r,n)),r.precision=t,r.rounding=e,l(2==mt||3==mt?n.neg():n,t,e,!0)):new r(1):new r(NaN)},/*
   *
   * Return a new Decimal whose value is the cube root of the value of this Decimal, rounded to
   * `precision` significant digits using rounding mode `rounding`.
   *
   *  cbrt(0)  =  0
   *  cbrt(-0) = -0
   *  cbrt(1)  =  1
   *  cbrt(-1) = -1
   *  cbrt(N)  =  N
   *  cbrt(-I) = -I
   *  cbrt(I)  =  I
   *
   * Math.cbrt(x) = (x < 0 ? -Math.pow(-x, 1/3) : Math.pow(x, 1/3))
   *
   */
Lt.cubeRoot=Lt.cbrt=function(){var t,e,n,r,i,s,a,u,c,f,p=this,h=p.constructor;if(!p.isFinite()||p.isZero())return new h(p);
// Halley's method.
// TODO? Compare Newton's method.
for(xt=!1,
// Initial estimate.
s=p.s*Math.pow(p.s*p,1/3),
// Math.cbrt underflow/overflow?
// Pass x to Math.pow as integer, then adjust the exponent of the result.
s&&Math.abs(s)!=1/0?r=new h(s.toString()):(n=o(p.d),t=p.e,
// Adjust n exponent so it is a multiple of 3 away from x exponent.
(s=(t-n.length+1)%3)&&(n+=1==s||-2==s?"0":"00"),s=Math.pow(n,1/3),
// Rarely, e may be one less than the result exponent value.
t=Mt((t+1)/3)-(t%3==(t<0?-1:2)),s==1/0?n="5e"+t:(n=s.toExponential(),n=n.slice(0,n.indexOf("e")+1)+t),r=new h(n),r.s=p.s),a=(t=h.precision)+3;;)
// TODO? Replace with for-loop and checkRoundingDigits.
if(u=r,c=u.times(u).times(u),f=c.plus(p),r=Ft(f.plus(p).times(u),f.plus(c),a+2,1),o(u.d).slice(0,a)===(n=o(r.d)).slice(0,a)){
// The 4th rounding digit may be in error by -1 so if the 4 rounding digits are 9999 or 4999
// , i.e. approaching a rounding boundary, continue the iteration.
if("9999"!=(n=n.slice(a-3,a+1))&&(i||"4999"!=n)){
// If the rounding digits are null, 0{0,4} or 50{0,3}, check for an exact result.
// If not, then there are further digits and m will be truthy.
+n&&(+n.slice(1)||"5"!=n.charAt(0))||(
// Truncate to the first rounding digit.
l(r,t+1,1),e=!r.times(r).times(r).eq(p));break}
// On the first iteration only, check to see if rounding up gives the exact result as the
// nines may infinitely repeat.
if(!i&&(l(u,t+1,0),u.times(u).times(u).eq(p))){r=u;break}a+=4,i=1}return xt=!0,l(r,t,h.rounding,e)},/*
   * Return the number of decimal places of the value of this Decimal.
   *
   */
Lt.decimalPlaces=Lt.dp=function(){var t,e=this.d,n=NaN;if(e){if(t=e.length-1,n=(t-Mt(this.e/Rt))*Rt,
// Subtract the number of trailing zeros of the last word.
t=e[t])for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},/*
   *  n / 0 = I
   *  n / N = N
   *  n / I = 0
   *  0 / n = 0
   *  0 / 0 = N
   *  0 / N = N
   *  0 / I = 0
   *  N / n = N
   *  N / 0 = N
   *  N / N = N
   *  N / I = N
   *  I / n = I
   *  I / 0 = I
   *  I / N = N
   *  I / I = N
   *
   * Return a new Decimal whose value is the value of this Decimal divided by `y`, rounded to
   * `precision` significant digits using rounding mode `rounding`.
   *
   */
Lt.dividedBy=Lt.div=function(t){return Ft(this,new this.constructor(t))},/*
   * Return a new Decimal whose value is the integer part of dividing the value of this Decimal
   * by the value of `y`, rounded to `precision` significant digits using rounding mode `rounding`.
   *
   */
Lt.dividedToIntegerBy=Lt.divToInt=function(t){var e=this,n=e.constructor;return l(Ft(e,new n(t),0,1,1),n.precision,n.rounding)},/*
   * Return true if the value of this Decimal is equal to the value of `y`, otherwise return false.
   *
   */
Lt.equals=Lt.eq=function(t){return 0===this.cmp(t)},/*
   * Return a new Decimal whose value is the value of this Decimal rounded to a whole number in the
   * direction of negative Infinity.
   *
   */
Lt.floor=function(){return l(new this.constructor(this),this.e+1,3)},/*
   * Return true if the value of this Decimal is greater than the value of `y`, otherwise return
   * false.
   *
   */
Lt.greaterThan=Lt.gt=function(t){return this.cmp(t)>0},/*
   * Return true if the value of this Decimal is greater than or equal to the value of `y`,
   * otherwise return false.
   *
   */
Lt.greaterThanOrEqualTo=Lt.gte=function(t){var e=this.cmp(t);return 1==e||0===e},/*
   * Return a new Decimal whose value is the hyperbolic cosine of the value in radians of this
   * Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [1, Infinity]
   *
   * cosh(x) = 1 + x^2/2! + x^4/4! + x^6/6! + ...
   *
   * cosh(0)         = 1
   * cosh(-0)        = 1
   * cosh(Infinity)  = Infinity
   * cosh(-Infinity) = Infinity
   * cosh(NaN)       = NaN
   *
   *  x        time taken (ms)   result
   * 1000      9                 9.8503555700852349694e+433
   * 10000     25                4.4034091128314607936e+4342
   * 100000    171               1.4033316802130615897e+43429
   * 1000000   3817              1.5166076984010437725e+434294
   * 10000000  abandoned after 2 minute wait
   *
   * TODO? Compare performance of cosh(x) = 0.5 * (exp(x) + exp(-x))
   *
   */
Lt.hyperbolicCosine=Lt.cosh=function(){var t,e,n,r,i,o=this,s=o.constructor,a=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return a;n=s.precision,r=s.rounding,s.precision=n+Math.max(o.e,o.sd())+4,s.rounding=1,i=o.d.length,
// Argument reduction: cos(4x) = 1 - 8cos^2(x) + 8cos^4(x) + 1
// i.e. cos(x) = 1 - cos^2(x/4)(8 - 8cos^2(x/4))
// Estimate the optimum number of times to use the argument reduction.
// TODO? Estimation reused from cosine() and may not be optimal here.
i<32?(t=Math.ceil(i/3),e=Math.pow(4,-t).toString()):(t=16,e="2.3283064365386962890625e-10"),o=N(s,1,o.times(e),new s(1),!0);for(
// Reverse argument reduction
var u,c=t,f=new s(8);c--;)u=o.times(o),o=a.minus(u.times(f.minus(u.times(f))));return l(o,s.precision=n,s.rounding=r,!0)},/*
   * Return a new Decimal whose value is the hyperbolic sine of the value in radians of this
   * Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-Infinity, Infinity]
   *
   * sinh(x) = x + x^3/3! + x^5/5! + x^7/7! + ...
   *
   * sinh(0)         = 0
   * sinh(-0)        = -0
   * sinh(Infinity)  = Infinity
   * sinh(-Infinity) = -Infinity
   * sinh(NaN)       = NaN
   *
   * x        time taken (ms)
   * 10       2 ms
   * 100      5 ms
   * 1000     14 ms
   * 10000    82 ms
   * 100000   886 ms            1.4033316802130615897e+43429
   * 200000   2613 ms
   * 300000   5407 ms
   * 400000   8824 ms
   * 500000   13026 ms          8.7080643612718084129e+217146
   * 1000000  48543 ms
   *
   * TODO? Compare performance of sinh(x) = 0.5 * (exp(x) - exp(-x))
   *
   */
Lt.hyperbolicSine=Lt.sinh=function(){var t,e,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,n=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,(r=i.d.length)<3)i=N(o,2,i,i,!0);else{
// Alternative argument reduction: sinh(3x) = sinh(x)(3 + 4sinh^2(x))
// i.e. sinh(x) = sinh(x/3)(3 + 4sinh^2(x/3))
// 3 multiplications and 1 addition
// Argument reduction: sinh(5x) = sinh(x)(5 + sinh^2(x)(20 + 16sinh^2(x)))
// i.e. sinh(x) = sinh(x/5)(5 + sinh^2(x/5)(20 + 16sinh^2(x/5)))
// 4 multiplications and 2 additions
// Estimate the optimum number of times to use the argument reduction.
t=1.4*Math.sqrt(r),t=t>16?16:0|t,i=i.times(Math.pow(5,-t)),i=N(o,2,i,i,!0);for(
// Reverse argument reduction
var s,a=new o(5),u=new o(16),c=new o(20);t--;)s=i.times(i),i=i.times(a.plus(s.times(u.times(s).plus(c))))}return o.precision=e,o.rounding=n,l(i,e,n,!0)},/*
   * Return a new Decimal whose value is the hyperbolic tangent of the value in radians of this
   * Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-1, 1]
   *
   * tanh(x) = sinh(x) / cosh(x)
   *
   * tanh(0)         = 0
   * tanh(-0)        = -0
   * tanh(Infinity)  = 1
   * tanh(-Infinity) = -1
   * tanh(NaN)       = NaN
   *
   */
Lt.hyperbolicTangent=Lt.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,Ft(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)},/*
   * Return a new Decimal whose value is the arccosine (inverse cosine) in radians of the value of
   * this Decimal.
   *
   * Domain: [-1, 1]
   * Range: [0, pi]
   *
   * acos(x) = pi/2 - asin(x)
   *
   * acos(0)       = pi/2
   * acos(-0)      = pi/2
   * acos(1)       = 0
   * acos(-1)      = pi
   * acos(1/2)     = pi/3
   * acos(-1/2)    = 2*pi/3
   * acos(|x| > 1) = NaN
   * acos(NaN)     = NaN
   *
   */
Lt.inverseCosine=Lt.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),i=n.precision,o=n.rounding;
// TODO? Special case acos(0.5) = pi/3 and acos(-0.5) = 2*pi/3
return-1!==r?0===r?e.isNeg()?d(n,i,o):new n(0):new n(NaN):e.isZero()?d(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,e=e.asin(),t=d(n,i+4,o).times(.5),n.precision=i,n.rounding=o,t.minus(e))},/*
   * Return a new Decimal whose value is the inverse of the hyperbolic cosine in radians of the
   * value of this Decimal.
   *
   * Domain: [1, Infinity]
   * Range: [0, Infinity]
   *
   * acosh(x) = ln(x + sqrt(x^2 - 1))
   *
   * acosh(x < 1)     = NaN
   * acosh(NaN)       = NaN
   * acosh(Infinity)  = Infinity
   * acosh(-Infinity) = NaN
   * acosh(0)         = NaN
   * acosh(-0)        = NaN
   * acosh(1)         = 0
   * acosh(-1)        = NaN
   *
   */
Lt.inverseHyperbolicCosine=Lt.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,xt=!1,n=n.times(n).minus(1).sqrt().plus(n),xt=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)},/*
   * Return a new Decimal whose value is the inverse of the hyperbolic sine in radians of the value
   * of this Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-Infinity, Infinity]
   *
   * asinh(x) = ln(x + sqrt(x^2 + 1))
   *
   * asinh(NaN)       = NaN
   * asinh(Infinity)  = Infinity
   * asinh(-Infinity) = -Infinity
   * asinh(0)         = 0
   * asinh(-0)        = -0
   *
   */
Lt.inverseHyperbolicSine=Lt.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,xt=!1,n=n.times(n).plus(1).sqrt().plus(n),xt=!0,r.precision=t,r.rounding=e,n.ln())},/*
   * Return a new Decimal whose value is the inverse of the hyperbolic tangent in radians of the
   * value of this Decimal.
   *
   * Domain: [-1, 1]
   * Range: [-Infinity, Infinity]
   *
   * atanh(x) = 0.5 * ln((1 + x) / (1 - x))
   *
   * atanh(|x| > 1)   = NaN
   * atanh(NaN)       = NaN
   * atanh(Infinity)  = NaN
   * atanh(-Infinity) = NaN
   * atanh(0)         = 0
   * atanh(-0)        = -0
   * atanh(1)         = Infinity
   * atanh(-1)        = -Infinity
   *
   */
Lt.inverseHyperbolicTangent=Lt.atanh=function(){var t,e,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?l(new o(i),t,e,!0):(o.precision=n=r-i.e,i=Ft(i.plus(1),new o(1).minus(i),n+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)},/*
   * Return a new Decimal whose value is the arcsine (inverse sine) in radians of the value of this
   * Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-pi/2, pi/2]
   *
   * asin(x) = 2*atan(x/(1 + sqrt(1 - x^2)))
   *
   * asin(0)       = 0
   * asin(-0)      = -0
   * asin(1/2)     = pi/6
   * asin(-1/2)    = -pi/6
   * asin(1)       = pi/2
   * asin(-1)      = -pi/2
   * asin(|x| > 1) = NaN
   * asin(NaN)     = NaN
   *
   * TODO? Compare performance of Taylor series.
   *
   */
Lt.inverseSine=Lt.asin=function(){var t,e,n,r,i=this,o=i.constructor;
// |x| is 1
// TODO? Special case asin(1/2) = pi/6 and asin(-1/2) = -pi/6
return i.isZero()?new o(i):(e=i.abs().cmp(1),n=o.precision,r=o.rounding,-1!==e?0===e?(t=d(o,n+4,r).times(.5),t.s=i.s,t):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},/*
   * Return a new Decimal whose value is the arctangent (inverse tangent) in radians of the value
   * of this Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-pi/2, pi/2]
   *
   * atan(x) = x - x^3/3 + x^5/5 - x^7/7 + ...
   *
   * atan(0)         = 0
   * atan(-0)        = -0
   * atan(1)         = pi/4
   * atan(-1)        = -pi/4
   * atan(Infinity)  = pi/2
   * atan(-Infinity) = -pi/2
   * atan(NaN)       = NaN
   *
   */
Lt.inverseTangent=Lt.atan=function(){var t,e,n,r,i,o,s,a,u,c=this,f=c.constructor,p=f.precision,h=f.rounding;if(c.isFinite()){if(c.isZero())return new f(c);if(c.abs().eq(1)&&p+4<=Dt)return s=d(f,p+4,h).times(.25),s.s=c.s,s}else{if(!c.s)return new f(NaN);if(p+4<=Dt)return s=d(f,p+4,h).times(.5),s.s=c.s,s}for(f.precision=a=p+10,f.rounding=1,
// TODO? if (x >= 1 && pr <= PI_PRECISION) atan(x) = halfPi * x.s - atan(1 / x);
// Argument reduction
// Ensure |x| < 0.42
// atan(x) = 2 * atan(x / (1 + sqrt(1 + x^2)))
n=Math.min(28,a/Rt+2|0),t=n;t;--t)c=c.div(c.times(c).plus(1).sqrt().plus(1));
// atan(x) = x - x^3/3 + x^5/5 - x^7/7 + ...
for(xt=!1,e=Math.ceil(a/Rt),r=1,u=c.times(c),s=new f(c),i=c;-1!==t;)if(i=i.times(u),o=s.minus(i.div(r+=2)),i=i.times(u),s=o.plus(i.div(r+=2)),void 0!==s.d[e])for(t=e;s.d[t]===o.d[t]&&t--;);return n&&(s=s.times(2<<n-1)),xt=!0,l(s,f.precision=p,f.rounding=h,!0)},/*
   * Return true if the value of this Decimal is a finite number, otherwise return false.
   *
   */
Lt.isFinite=function(){return!!this.d},/*
   * Return true if the value of this Decimal is an integer, otherwise return false.
   *
   */
Lt.isInteger=Lt.isInt=function(){return!!this.d&&Mt(this.e/Rt)>this.d.length-2},/*
   * Return true if the value of this Decimal is NaN, otherwise return false.
   *
   */
Lt.isNaN=function(){return!this.s},/*
   * Return true if the value of this Decimal is negative, otherwise return false.
   *
   */
Lt.isNegative=Lt.isNeg=function(){return this.s<0},/*
   * Return true if the value of this Decimal is positive, otherwise return false.
   *
   */
Lt.isPositive=Lt.isPos=function(){return this.s>0},/*
   * Return true if the value of this Decimal is 0 or -0, otherwise return false.
   *
   */
Lt.isZero=function(){return!!this.d&&0===this.d[0]},/*
   * Return true if the value of this Decimal is less than `y`, otherwise return false.
   *
   */
Lt.lessThan=Lt.lt=function(t){return this.cmp(t)<0},/*
   * Return true if the value of this Decimal is less than or equal to `y`, otherwise return false.
   *
   */
Lt.lessThanOrEqualTo=Lt.lte=function(t){return this.cmp(t)<1},/*
   * Return the logarithm of the value of this Decimal to the specified base, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * If no base is specified, return log[10](arg).
   *
   * log[base](arg) = ln(arg) / ln(base)
   *
   * The result will always be correctly rounded if the base of the log is 10, and 'almost always'
   * otherwise:
   *
   * Depending on the rounding mode, the result may be incorrectly rounded if the first fifteen
   * rounding digits are [49]99999999999999 or [50]00000000000000. In that case, the maximum error
   * between the result and the correctly rounded result will be one ulp (unit in the last place).
   *
   * log[-b](a)       = NaN
   * log[0](a)        = NaN
   * log[1](a)        = NaN
   * log[NaN](a)      = NaN
   * log[Infinity](a) = NaN
   * log[b](0)        = -Infinity
   * log[b](-0)       = -Infinity
   * log[b](-a)       = NaN
   * log[b](1)        = 0
   * log[b](Infinity) = Infinity
   * log[b](NaN)      = NaN
   *
   * [base] {number|string|Decimal} The base of the logarithm.
   *
   */
Lt.logarithm=Lt.log=function(t){var e,n,r,i,s,u,c,f,p=this,d=p.constructor,m=d.precision,v=d.rounding;
// Default base is 10.
if(null==t)t=new d(10),e=!0;else{
// Return NaN if base is negative, or non-finite, or is 0 or 1.
if(t=new d(t),n=t.d,t.s<0||!n||!n[0]||t.eq(1))return new d(NaN);e=t.eq(10)}
// Is arg negative, non-finite, 0 or 1?
if(n=p.d,p.s<0||!n||!n[0]||p.eq(1))return new d(n&&!n[0]?-1/0:1!=p.s?NaN:n?0:1/0);
// The result will have a non-terminating decimal expansion if base is 10 and arg is not an
// integer power of 10.
if(e)if(n.length>1)s=!0;else{for(i=n[0];i%10==0;)i/=10;s=1!==i}
// If at a rounding boundary, i.e. the result's rounding digits are [49]9999 or [50]0000,
// calculate 10 further digits.
//
// If the result is known to have an infinite decimal expansion, repeat this until it is clear
// that the result is above or below the boundary. Otherwise, if after calculating the 10
// further digits, the last 14 are nines, round up and assume the result is exact.
// Also assume the result is exact if the last 14 are zero.
//
// Example of a result that will be incorrectly rounded:
// log[1048576](4503599627370502) = 2.60000000000000009610279511444746...
// The above result correctly rounded using ROUND_CEIL to 1 decimal place should be 2.7, but it
// will be given as 2.6 as there are 15 zeros immediately after the requested decimal place, so
// the exact result would be assumed to be 2.6, which rounded using ROUND_CEIL to 1 decimal
// place is still 2.6.
if(xt=!1,c=m+5,u=_(p,c),r=e?h(d,c+10):_(t,c),
// The result will have 5 rounding digits.
f=Ft(u,r,c,1),a(f.d,i=m,v))do{if(c+=10,u=_(p,c),r=e?h(d,c+10):_(t,c),f=Ft(u,r,c,1),!s){
// Check for 14 nines from the 2nd rounding digit, as the first may be 4.
+o(f.d).slice(i+1,i+15)+1==1e14&&(f=l(f,m+1,0));break}}while(a(f.d,i+=10,v));return xt=!0,l(f,m,v)},/*
   * Return a new Decimal whose value is the maximum of the arguments and the value of this Decimal.
   *
   * arguments {number|string|Decimal}
   *
  P.max = function () {
    Array.prototype.push.call(arguments, this);
    return maxOrMin(this.constructor, arguments, 'lt');
  };
   */
/*
   * Return a new Decimal whose value is the minimum of the arguments and the value of this Decimal.
   *
   * arguments {number|string|Decimal}
   *
  P.min = function () {
    Array.prototype.push.call(arguments, this);
    return maxOrMin(this.constructor, arguments, 'gt');
  };
   */
/*
   *  n - 0 = n
   *  n - N = N
   *  n - I = -I
   *  0 - n = -n
   *  0 - 0 = 0
   *  0 - N = N
   *  0 - I = -I
   *  N - n = N
   *  N - 0 = N
   *  N - N = N
   *  N - I = N
   *  I - n = I
   *  I - 0 = I
   *  I - N = N
   *  I - I = N
   *
   * Return a new Decimal whose value is the value of this Decimal minus `y`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   */
Lt.minus=Lt.sub=function(t){var e,n,r,i,o,s,a,u,c,f,h,d,m=this,v=m.constructor;
// If either is not finite...
if(t=new v(t),!m.d||!t.d)
// Return NaN if either is NaN.
return m.s&&t.s?m.d?t.s=-t.s:t=new v(t.d||m.s!==t.s?m:NaN):t=new v(NaN),t;
// If signs differ...
if(m.s!=t.s)return t.s=-t.s,m.plus(t);
// If either is zero...
if(c=m.d,d=t.d,a=v.precision,u=v.rounding,!c[0]||!d[0]){
// Return y negated if x is zero and y is non-zero.
if(d[0])t.s=-t.s;else{if(!c[0])return new v(3===u?-0:0);t=new v(m)}return xt?l(t,a,u):t}
// If base 1e7 exponents differ...
if(
// x and y are finite, non-zero numbers with the same sign.
// Calculate base 1e7 exponents.
n=Mt(t.e/Rt),f=Mt(m.e/Rt),c=c.slice(),o=f-n){for(h=o<0,h?(e=c,o=-o,s=d.length):(e=d,n=f,s=c.length),
// Numbers with massively different exponents would result in a very high number of
// zeros needing to be prepended, but this can be avoided while still ensuring correct
// rounding by limiting the number of zeros to `Math.ceil(pr / LOG_BASE) + 2`.
r=Math.max(Math.ceil(a/Rt),s)+2,o>r&&(o=r,e.length=1),
// Prepend zeros to equalise exponents.
e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for(
// Check digits to determine which is the bigger number.
r=c.length,s=d.length,h=r<s,h&&(s=r),r=0;r<s;r++)if(c[r]!=d[r]){h=c[r]<d[r];break}o=0}
// Append zeros to `xd` if shorter.
// Don't add zeros to `yd` if shorter as subtraction only needs to start at `yd` length.
for(h&&(e=c,c=d,d=e,t.s=-t.s),s=c.length,r=d.length-s;r>0;--r)c[s++]=0;
// Subtract yd from xd.
for(r=d.length;r>o;){if(c[--r]<d[r]){for(i=r;i&&0===c[--i];)c[i]=It-1;--c[i],c[r]+=It}c[r]-=d[r]}
// Remove trailing zeros.
for(;0===c[--s];)c.pop();
// Remove leading zeros and adjust exponent accordingly.
for(;0===c[0];c.shift())--n;
// Zero?
// Zero?
return c[0]?(t.d=c,t.e=p(c,n),xt?l(t,a,u):t):new v(3===u?-0:0)},/*
   *   n % 0 =  N
   *   n % N =  N
   *   n % I =  n
   *   0 % n =  0
   *  -0 % n = -0
   *   0 % 0 =  N
   *   0 % N =  N
   *   0 % I =  0
   *   N % n =  N
   *   N % 0 =  N
   *   N % N =  N
   *   N % I =  N
   *   I % n =  N
   *   I % 0 =  N
   *   I % N =  N
   *   I % I =  N
   *
   * Return a new Decimal whose value is the value of this Decimal modulo `y`, rounded to
   * `precision` significant digits using rounding mode `rounding`.
   *
   * The result depends on the modulo mode.
   *
   */
Lt.modulo=Lt.mod=function(t){var e,n=this,r=n.constructor;
// Return NaN if x is Infinity or NaN, or y is NaN or 0.
// Return NaN if x is Infinity or NaN, or y is NaN or 0.
// Return x if y is Infinity or x is 0.
// Prevent rounding of intermediate calculations.
// Euclidian division: q = sign(y) * floor(x / abs(y))
// result = x - q * y    where  0 <= result < abs(y)
return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?l(new r(n),r.precision,r.rounding):(xt=!1,9==r.modulo?(e=Ft(n,t.abs(),0,3,1),e.s*=t.s):e=Ft(n,t,0,r.modulo,1),e=e.times(t),xt=!0,n.minus(e))},/*
   * Return a new Decimal whose value is the natural exponential of the value of this Decimal,
   * i.e. the base e raised to the power the value of this Decimal, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   */
Lt.naturalExponential=Lt.exp=function(){return w(this)},/*
   * Return a new Decimal whose value is the natural logarithm of the value of this Decimal,
   * rounded to `precision` significant digits using rounding mode `rounding`.
   *
   */
Lt.naturalLogarithm=Lt.ln=function(){return _(this)},/*
   * Return a new Decimal whose value is the value of this Decimal negated, i.e. as if multiplied by
   * -1.
   *
   */
Lt.negated=Lt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,l(t)},/*
   *  n + 0 = n
   *  n + N = N
   *  n + I = I
   *  0 + n = n
   *  0 + 0 = 0
   *  0 + N = N
   *  0 + I = I
   *  N + n = N
   *  N + 0 = N
   *  N + N = N
   *  N + I = N
   *  I + n = I
   *  I + 0 = I
   *  I + N = N
   *  I + I = I
   *
   * Return a new Decimal whose value is the value of this Decimal plus `y`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   */
Lt.plus=Lt.add=function(t){var e,n,r,i,o,s,a,u,c,f,h=this,d=h.constructor;
// If either is not finite...
if(t=new d(t),!h.d||!t.d)
// Return NaN if either is NaN.
return h.s&&t.s?h.d||(t=new d(t.d||h.s===t.s?h:NaN)):t=new d(NaN),t;
// If signs differ...
if(h.s!=t.s)return t.s=-t.s,h.minus(t);
// If either is zero...
if(c=h.d,f=t.d,a=d.precision,u=d.rounding,!c[0]||!f[0])
// Return x if y is zero.
// Return y if y is non-zero.
return f[0]||(t=new d(h)),xt?l(t,a,u):t;
// If base 1e7 exponents differ...
if(
// x and y are finite, non-zero numbers with the same sign.
// Calculate base 1e7 exponents.
o=Mt(h.e/Rt),r=Mt(t.e/Rt),c=c.slice(),i=o-r){for(i<0?(n=c,i=-i,s=f.length):(n=f,r=o,s=c.length),
// Limit number of zeros prepended to max(ceil(pr / LOG_BASE), len) + 1.
o=Math.ceil(a/Rt),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),
// Prepend zeros to equalise exponents. Note: Faster to use reverse then do unshifts.
n.reverse();i--;)n.push(0);n.reverse()}
// Only start adding at yd.length - 1 as the further digits of xd can be left as they are.
for(s=c.length,i=f.length,
// If yd is longer than xd, swap xd and yd so xd points to the longer array.
s-i<0&&(i=s,n=f,f=c,c=n),e=0;i;)e=(c[--i]=c[i]+f[i]+e)/It|0,c[i]%=It;
// Remove trailing zeros.
// No need to check for zero, as +x + +y != 0 && -x + -y != 0
for(e&&(c.unshift(e),++r),s=c.length;0==c[--s];)c.pop();return t.d=c,t.e=p(c,r),xt?l(t,a,u):t},/*
   * Return the number of significant digits of the value of this Decimal.
   *
   * [z] {boolean|number} Whether to count integer-part trailing zeros: true, false, 1 or 0.
   *
   */
Lt.precision=Lt.sd=function(t){var e,n=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(Ct+t);return n.d?(e=m(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e},/*
   * Return a new Decimal whose value is the value of this Decimal rounded to a whole number using
   * rounding mode `rounding`.
   *
   */
Lt.round=function(){var t=this,e=t.constructor;return l(new e(t),t.e+1,e.rounding)},/*
   * Return a new Decimal whose value is the sine of the value in radians of this Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-1, 1]
   *
   * sin(x) = x - x^3/3! + x^5/5! - ...
   *
   * sin(0)         = 0
   * sin(-0)        = -0
   * sin(Infinity)  = NaN
   * sin(-Infinity) = NaN
   * sin(NaN)       = NaN
   *
   */
Lt.sine=Lt.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+Rt,r.rounding=1,n=S(r,M(r,n)),r.precision=t,r.rounding=e,l(mt>2?n.neg():n,t,e,!0)):new r(NaN)},/*
   * Return a new Decimal whose value is the square root of this Decimal, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   *  sqrt(-n) =  N
   *  sqrt(N)  =  N
   *  sqrt(-I) =  N
   *  sqrt(I)  =  I
   *  sqrt(0)  =  0
   *  sqrt(-0) = -0
   *
   */
Lt.squareRoot=Lt.sqrt=function(){var t,e,n,r,i,s,a=this,u=a.d,c=a.e,f=a.s,p=a.constructor;
// Negative/NaN/Infinity/zero?
if(1!==f||!u||!u[0])return new p(!f||f<0&&(!u||u[0])?NaN:u?a:1/0);
// Newton-Raphson iteration.
for(xt=!1,
// Initial estimate.
f=Math.sqrt(+a),
// Math.sqrt underflow/overflow?
// Pass x to Math.sqrt as integer, then adjust the exponent of the result.
0==f||f==1/0?(e=o(u),(e.length+c)%2==0&&(e+="0"),f=Math.sqrt(e),c=Mt((c+1)/2)-(c<0||c%2),f==1/0?e="1e"+c:(e=f.toExponential(),e=e.slice(0,e.indexOf("e")+1)+c),r=new p(e)):r=new p(f.toString()),n=(c=p.precision)+3;;)
// TODO? Replace with for-loop and checkRoundingDigits.
if(s=r,r=s.plus(Ft(a,s,n+2,1)).times(.5),o(s.d).slice(0,n)===(e=o(r.d)).slice(0,n)){
// The 4th rounding digit may be in error by -1 so if the 4 rounding digits are 9999 or
// 4999, i.e. approaching a rounding boundary, continue the iteration.
if("9999"!=(e=e.slice(n-3,n+1))&&(i||"4999"!=e)){
// If the rounding digits are null, 0{0,4} or 50{0,3}, check for an exact result.
// If not, then there are further digits and m will be truthy.
+e&&(+e.slice(1)||"5"!=e.charAt(0))||(
// Truncate to the first rounding digit.
l(r,c+1,1),t=!r.times(r).eq(a));break}
// On the first iteration only, check to see if rounding up gives the exact result as the
// nines may infinitely repeat.
if(!i&&(l(s,c+1,0),s.times(s).eq(a))){r=s;break}n+=4,i=1}return xt=!0,l(r,c,p.rounding,t)},/*
   * Return a new Decimal whose value is the tangent of the value in radians of this Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-Infinity, Infinity]
   *
   * tan(0)         = 0
   * tan(-0)        = -0
   * tan(Infinity)  = NaN
   * tan(-Infinity) = NaN
   * tan(NaN)       = NaN
   *
   */
Lt.tangent=Lt.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,n=n.sin(),n.s=1,n=Ft(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,l(2==mt||4==mt?n.neg():n,t,e,!0)):new r(NaN)},/*
   *  n * 0 = 0
   *  n * N = N
   *  n * I = I
   *  0 * n = 0
   *  0 * 0 = 0
   *  0 * N = N
   *  0 * I = N
   *  N * n = N
   *  N * 0 = N
   *  N * N = N
   *  N * I = N
   *  I * n = I
   *  I * 0 = N
   *  I * N = N
   *  I * I = I
   *
   * Return a new Decimal whose value is this Decimal times `y`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   */
Lt.times=Lt.mul=function(t){var e,n,r,i,o,s,a,u,c,f=this,h=f.constructor,d=f.d,m=(t=new h(t)).d;
// If either is NaN, Infinity or 0...
if(t.s*=f.s,!(d&&d[0]&&m&&m[0]))return new h(!t.s||d&&!d[0]&&!m||m&&!m[0]&&!d?NaN:d&&m?0*t.s:t.s/0);for(n=Mt(f.e/Rt)+Mt(t.e/Rt),u=d.length,c=m.length,
// Ensure xd points to the longer array.
u<c&&(o=d,d=m,m=o,s=u,u=c,c=s),
// Initialise the result array with zeros.
o=[],s=u+c,r=s;r--;)o.push(0);
// Multiply!
for(r=c;--r>=0;){for(e=0,i=u+r;i>r;)a=o[i]+m[r]*d[i-r-1]+e,o[i--]=a%It|0,e=a/It|0;o[i]=(o[i]+e)%It|0}
// Remove trailing zeros.
for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=p(o,n),xt?l(t,h.precision,h.rounding):t},/*
   * Return a string representing the value of this Decimal in base 2, round to `sd` significant
   * digits using rounding mode `rm`.
   *
   * If the optional `sd` argument is present then return binary exponential notation.
   *
   * [sd] {number} Significant digits. Integer, 1 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   */
Lt.toBinary=function(t,e){return O(this,2,t,e)},/*
   * Return a new Decimal whose value is the value of this Decimal rounded to a maximum of `dp`
   * decimal places using rounding mode `rm` or `rounding` if `rm` is omitted.
   *
   * If `dp` is omitted, return a new Decimal whose value is the value of this Decimal.
   *
   * [dp] {number} Decimal places. Integer, 0 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   */
Lt.toDecimalPlaces=Lt.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),void 0===t?n:(s(t,0,yt),void 0===e?e=r.rounding:s(e,0,8),l(n,t+n.e+1,e))},/*
   * Return a string representing the value of this Decimal in exponential notation rounded to
   * `dp` fixed decimal places using rounding mode `rounding`.
   *
   * [dp] {number} Decimal places. Integer, 0 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   */
Lt.toExponential=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=f(r,!0):(s(t,0,yt),void 0===e?e=i.rounding:s(e,0,8),r=l(new i(r),t+1,e),n=f(r,!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n},/*
   * Return a string representing the value of this Decimal in normal (fixed-point) notation to
   * `dp` fixed decimal places and rounded using rounding mode `rm` or `rounding` if `rm` is
   * omitted.
   *
   * As with JavaScript numbers, (-0).toFixed(0) is '0', but e.g. (-0.00001).toFixed(0) is '-0'.
   *
   * [dp] {number} Decimal places. Integer, 0 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   * (-0).toFixed(0) is '0', but (-0.1).toFixed(0) is '-0'.
   * (-0).toFixed(1) is '0.0', but (-0.01).toFixed(1) is '-0.0'.
   * (-0).toFixed(3) is '0.000'.
   * (-0.5).toFixed(0) is '-0'.
   *
   */
Lt.toFixed=function(t,e){var n,r,i=this,o=i.constructor;
// To determine whether to add the minus sign look at the value before it was rounded,
// i.e. look at `x` rather than `y`.
return void 0===t?n=f(i):(s(t,0,yt),void 0===e?e=o.rounding:s(e,0,8),r=l(new o(i),t+i.e+1,e),n=f(r,!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},/*
   * Return an array representing the value of this Decimal as a simple fraction with an integer
   * numerator and an integer denominator.
   *
   * The denominator will be a positive non-zero value less than or equal to the specified maximum
   * denominator. If a maximum denominator is not specified, the denominator will be the lowest
   * value necessary to represent the number exactly.
   *
   * [maxD] {number|string|Decimal} Maximum denominator. Integer >= 1 and < Infinity.
   *
   */
Lt.toFraction=function(t){var e,n,r,i,s,a,u,c,l,f,p,h,d=this,v=d.d,y=d.constructor;if(!v)return new y(d);if(l=n=new y(1),r=c=new y(0),e=new y(r),s=e.e=m(v)-d.e-1,a=s%Rt,e.d[0]=Ot(10,a<0?Rt+a:a),null==t)
// d is 10**e, the minimum max-denominator needed.
t=s>0?e:l;else{if(u=new y(t),!u.isInt()||u.lt(l))throw Error(Ct+u);t=u.gt(e)?s>0?e:l:u}for(xt=!1,u=new y(o(v)),f=y.precision,y.precision=s=v.length*Rt*2;p=Ft(u,e,0,1,1),i=n.plus(p.times(r)),1!=i.cmp(t);)n=r,r=i,i=l,l=c.plus(p.times(i)),c=i,i=e,e=u.minus(p.times(i)),u=i;
// Determine which fraction is closer to x, n0/d0 or n1/d1?
return i=Ft(t.minus(n),r,0,1,1),c=c.plus(i.times(l)),n=n.plus(i.times(r)),c.s=l.s=d.s,h=Ft(l,r,s,1).minus(d).abs().cmp(Ft(c,n,s,1).minus(d).abs())<1?[l,r]:[c,n],y.precision=f,xt=!0,h},/*
   * Return a string representing the value of this Decimal in base 16, round to `sd` significant
   * digits using rounding mode `rm`.
   *
   * If the optional `sd` argument is present then return binary exponential notation.
   *
   * [sd] {number} Significant digits. Integer, 1 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   */
Lt.toHexadecimal=Lt.toHex=function(t,e){return O(this,16,t,e)},/*
   * Returns a new Decimal whose value is the nearest multiple of the magnitude of `y` to the value
   * of this Decimal.
   *
   * If the value of this Decimal is equidistant from two multiples of `y`, the rounding mode `rm`,
   * or `Decimal.rounding` if `rm` is omitted, determines the direction of the nearest multiple.
   *
   * In the context of this method, rounding mode 4 (ROUND_HALF_UP) is the same as rounding mode 0
   * (ROUND_UP), and so on.
   *
   * The return value will always have the same sign as this Decimal, unless either this Decimal
   * or `y` is NaN, in which case the return value will be also be NaN.
   *
   * The return value is not affected by the value of `precision`.
   *
   * y {number|string|Decimal} The magnitude to round to a multiple of.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   * 'toNearest() rounding mode not an integer: {rm}'
   * 'toNearest() rounding mode out of range: {rm}'
   *
   */
Lt.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),null==t){
// If x is not finite, return x.
if(!n.d)return n;t=new r(1),e=r.rounding}else{
// If x is not finite, return x if y is not NaN, else NaN.
if(t=new r(t),void 0!==e&&s(e,0,8),!n.d)return t.s?n:t;
// If y is not finite, return Infinity with the sign of x if y is Infinity, else NaN.
if(!t.d)return t.s&&(t.s=n.s),t}
// If y is not zero, calculate the nearest multiple of y to x.
return t.d[0]?(xt=!1,e<4&&(e=[4,5,7,8][e]),n=Ft(n,t,0,e,1).times(t),xt=!0,l(n)):(t.s=n.s,n=t),n},/*
   * Return the value of this Decimal converted to a number primitive.
   * Zero keeps its sign.
   *
   */
Lt.toNumber=function(){return+this},/*
   * Return a string representing the value of this Decimal in base 8, round to `sd` significant
   * digits using rounding mode `rm`.
   *
   * If the optional `sd` argument is present then return binary exponential notation.
   *
   * [sd] {number} Significant digits. Integer, 1 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   */
Lt.toOctal=function(t,e){return O(this,8,t,e)},/*
   * Return a new Decimal whose value is the value of this Decimal raised to the power `y`, rounded
   * to `precision` significant digits using rounding mode `rounding`.
   *
   * ECMAScript compliant.
   *
   *   pow(x, NaN)                           = NaN
   *   pow(x, 0)                            = 1

   *   pow(NaN, non-zero)                    = NaN
   *   pow(abs(x) > 1, +Infinity)            = +Infinity
   *   pow(abs(x) > 1, -Infinity)            = +0
   *   pow(abs(x) == 1, Infinity)           = NaN
   *   pow(abs(x) < 1, +Infinity)            = +0
   *   pow(abs(x) < 1, -Infinity)            = +Infinity
   *   pow(+Infinity, y > 0)                 = +Infinity
   *   pow(+Infinity, y < 0)                 = +0
   *   pow(-Infinity, odd integer > 0)       = -Infinity
   *   pow(-Infinity, even integer > 0)      = +Infinity
   *   pow(-Infinity, odd integer < 0)       = -0
   *   pow(-Infinity, even integer < 0)      = +0
   *   pow(+0, y > 0)                        = +0
   *   pow(+0, y < 0)                        = +Infinity
   *   pow(-0, odd integer > 0)              = -0
   *   pow(-0, even integer > 0)             = +0
   *   pow(-0, odd integer < 0)              = -Infinity
   *   pow(-0, even integer < 0)             = +Infinity
   *   pow(finite x < 0, finite non-integer) = NaN
   *
   * For non-integer or very large exponents pow(x, y) is calculated using
   *
   *   x^y = exp(y*ln(x))
   *
   * Assuming the first 15 rounding digits are each equally likely to be any digit 0-9, the
   * probability of an incorrectly rounded result
   * P([49]9{14} | [50]0{14}) = 2 * 0.2 * 10^-14 = 4e-15 = 1/2.5e+14
   * i.e. 1 in 250,000,000,000,000
   *
   * If a result is incorrectly rounded the maximum error will be 1 ulp (unit in last place).
   *
   * y {number|string|Decimal} The power to which to raise this Decimal.
   *
   */
Lt.toPower=Lt.pow=function(t){var e,n,r,i,s,u,c,f=this,p=f.constructor,h=+(t=new p(t));
// Either Infinity, NaN or 0?
if(!(f.d&&t.d&&f.d[0]&&t.d[0]))return new p(Ot(+f,h));if(f=new p(f),f.eq(1))return f;if(r=p.precision,s=p.rounding,t.eq(1))return l(f,r,s);if(e=Mt(t.e/Rt),n=t.d.length-1,c=e>=n,u=f.s,c){if((n=h<0?-h:h)<=9007199254740991)return i=y(p,f,n,r),t.s<0?new p(1).div(i):l(i,r,s)}else if(u<0)return new p(NaN);
// Estimate may be incorrect e.g. x: 0.999999999999999999, y: 2.29, e: 0, r.e: -1.
// Overflow/underflow?
// Result is negative if x is negative and the last digit of integer y is odd.
// Estimate result exponent.
// x^y = 10^e,  where e = y * log10(x)
// log10(x) = log10(x_significand) + x_exponent
// log10(x_significand) = ln(x_significand) / ln(10)
// Estimate may be incorrect e.g. x: 0.999999999999999999, y: 2.29, e: 0, r.e: -1.
// Overflow/underflow?
// Estimate the extra guard digits needed to ensure five correct rounding digits from
// naturalLogarithm(x). Example of failure without these extra digits (precision: 10):
// new Decimal(2.32456).pow('2087987436534566.46411')
// should be 1.162377823e+764914905173815, but is 1.162355823e+764914905173815
// r = x^y = exp(y*ln(x))
// Truncate to the required precision plus five rounding digits.
// If the rounding digits are [49]9999 or [50]0000 increase the precision by 10 and recalculate
// the result.
// Truncate to the increased precision plus five rounding digits.
// Check for 14 nines from the 2nd rounding digit (the first rounding digit may be 4 or 9).
return u=u<0&&1&t.d[Math.max(e,n)]?-1:1,n=Ot(+f,h),(e=0!=n&&isFinite(n)?new p(n+"").e:Mt(h*(Math.log("0."+o(f.d))/Math.LN10+f.e+1)))>p.maxE+1||e<p.minE-1?new p(e>0?u/0:0):(xt=!1,p.rounding=f.s=1,n=Math.min(12,(e+"").length),i=w(t.times(_(f,r+n)),r),i=l(i,r+5,1),a(i.d,r,s)&&(e=r+10,i=l(w(t.times(_(f,e+n)),e),e+5,1),+o(i.d).slice(r+1,r+15)+1==1e14&&(i=l(i,r+1,0))),i.s=u,xt=!0,p.rounding=s,l(i,r,s))},/*
   * Return a string representing the value of this Decimal rounded to `sd` significant digits
   * using rounding mode `rounding`.
   *
   * Return exponential notation if `sd` is less than the number of digits necessary to represent
   * the integer part of the value in normal notation.
   *
   * [sd] {number} Significant digits. Integer, 1 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   */
Lt.toPrecision=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=f(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(s(t,1,yt),void 0===e?e=i.rounding:s(e,0,8),r=l(new i(r),t,e),n=f(r,t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n},/*
   * Return a new Decimal whose value is the value of this Decimal rounded to a maximum of `sd`
   * significant digits using rounding mode `rm`, or to `precision` and `rounding` respectively if
   * omitted.
   *
   * [sd] {number} Significant digits. Integer, 1 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   * 'toSD() digits out of range: {sd}'
   * 'toSD() digits not an integer: {sd}'
   * 'toSD() rounding mode not an integer: {rm}'
   * 'toSD() rounding mode out of range: {rm}'
   *
   */
Lt.toSignificantDigits=Lt.toSD=function(t,e){var n=this,r=n.constructor;return void 0===t?(t=r.precision,e=r.rounding):(s(t,1,yt),void 0===e?e=r.rounding:s(e,0,8)),l(new r(n),t,e)},/*
   * Return a string representing the value of this Decimal.
   *
   * Return exponential notation if this Decimal has a positive exponent equal to or greater than
   * `toExpPos`, or a negative exponent equal to or less than `toExpNeg`.
   *
   */
Lt.toString=function(){var t=this,e=t.constructor,n=f(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n},/*
   * Return a new Decimal whose value is the value of this Decimal truncated to a whole number.
   *
   */
Lt.truncated=Lt.trunc=function(){return l(new this.constructor(this),this.e+1,1)},/*
   * Return a string representing the value of this Decimal.
   * Unlike `toString`, negative zero will include the minus sign.
   *
   */
Lt.valueOf=Lt.toJSON=function(){var t=this,e=t.constructor,n=f(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};/*
   * Perform division in the specified base.
   */
var Ft=function(){
// Assumes non-zero x and k, and hence non-zero result.
function t(t,e,n){var r,i=0,o=t.length;for(t=t.slice();o--;)r=t[o]*e+i,t[o]=r%n|0,i=r/n|0;return i&&t.unshift(i),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n,r){
// Subtract b from a.
for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];
// Remove leading zeros.
for(;!t[0]&&t.length>1;)t.shift()}return function(r,i,o,s,a,u){var c,f,p,h,d,m,v,y,g,b,w,_,x,E,C,S,N,M,O,T,A=r.constructor,P=r.s==i.s?1:-1,k=r.d,I=i.d;
// Either NaN, Infinity or 0?
if(!(k&&k[0]&&I&&I[0]))// Return NaN if either NaN, or both Infinity or 0.
// Return 0 if x is 0 or y is Infinity, or return Infinity as y is 0.
return new A(r.s&&i.s&&(k?!I||k[0]!=I[0]:I)?k&&0==k[0]||!I?0*P:P/0:NaN);
// Result exponent may be one less than e.
// The digit array of a Decimal from toStringBinary may have trailing zeros.
for(u?(d=1,f=r.e-i.e):(u=It,d=Rt,f=Mt(r.e/d)-Mt(i.e/d)),O=I.length,N=k.length,g=new A(P),b=g.d=[],p=0;I[p]==(k[p]||0);p++);if(I[p]>(k[p]||0)&&f--,null==o?(E=o=A.precision,s=A.rounding):E=a?o+(r.e-i.e)+1:o,E<0)b.push(1),m=!0;else{
// divisor < 1e7
if(
// Convert precision in number of base 10 digits to base 1e7 digits.
E=E/d+2|0,p=0,1==O){
// k is the carry.
for(h=0,I=I[0],E++;(p<N||h)&&E--;p++)C=h*u+(k[p]||0),b[p]=C/I|0,h=C%I|0;m=h||p<N}else{
// Add zeros to make remainder as long as divisor.
for(
// Normalise xd and yd so highest order digit of yd is >= base/2
h=u/(I[0]+1)|0,h>1&&(I=t(I,h,u),k=t(k,h,u),O=I.length,N=k.length),S=O,w=k.slice(0,O),_=w.length;_<O;)w[_++]=0;T=I.slice(),T.unshift(0),M=I[0],I[1]>=u/2&&++M;do{h=0,
// Compare divisor and remainder.
c=e(I,w,O,_),
// If divisor < remainder.
c<0?(
// Calculate trial digit, k.
x=w[0],O!=_&&(x=x*u+(w[1]||0)),
// k will be how many times the divisor goes into the current remainder.
h=x/M|0,
//  Algorithm:
//  1. product = divisor * trial digit (k)
//  2. if product > remainder: product -= divisor, k--
//  3. remainder -= product
//  4. if product was < remainder at 2:
//    5. compare new remainder and divisor
//    6. If remainder > divisor: remainder -= divisor, k++
h>1?(h>=u&&(h=u-1),
// product = divisor * trial digit.
v=t(I,h,u),y=v.length,_=w.length,
// product > remainder.
1==(
// Compare product and remainder.
c=e(v,w,y,_))&&(h--,
// Subtract divisor from product.
n(v,O<y?T:I,y,u))):(
// cmp is -1.
// If k is 0, there is no need to compare yd and rem again below, so change cmp to 1
// to avoid it. If k is 1 there is a need to compare yd and rem again below.
0==h&&(c=h=1),v=I.slice()),y=v.length,y<_&&v.unshift(0),
// Subtract product from remainder.
n(w,v,_,u),
// If product was < previous remainder.
-1==c&&(_=w.length,
// If divisor < new remainder, subtract divisor from remainder.
(
// Compare divisor and new remainder.
c=e(I,w,O,_))<1&&(h++,
// Subtract divisor from remainder.
n(w,O<_?T:I,_,u))),_=w.length):0===c&&(h++,w=[0]),// if cmp === 1, k will be 0
// Add the next digit, k, to the result array.
b[p++]=h,
// Update the remainder.
c&&w[0]?w[_++]=k[S]||0:(w=[k[S]],_=1)}while((S++<N||void 0!==w[0])&&E--);m=void 0!==w[0]}
// Leading zero?
b[0]||b.shift()}
// logBase is 1 when divide is being used for base conversion.
if(1==d)g.e=f,dt=m;else{
// To calculate q.e, first get the number of digits of qd[0].
for(p=1,h=b[0];h>=10;h/=10)p++;g.e=p+f*d-1,l(g,a?o+g.e+1:o,s,m)}return g}}();
// Create and configure initial Decimal constructor.
_t=H(_t),
// Create the internal constants from their string values.
bt=new _t(bt),wt=new _t(wt),void 0!==(r=function(){return _t}.call(e,n,e,t))&&(t.exports=r)}()},/* 470 */
/***/
function(t,e,n){var r,i;/**
 * @license Fraction.js v4.0.0 09/09/2015
 * http://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2015, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/
/**
 *
 * This class offers the possibility to calculate fractions.
 * You can pass a fraction in different formats. Either as array, as double, as string or as an integer.
 *
 * Array/Object form
 * [ 0 => <nominator>, 1 => <denominator> ]
 * [ n => <nominator>, d => <denominator> ]
 *
 * Integer form
 * - Single integer value
 *
 * Double form
 * - Single double value
 *
 * String form
 * 123.456 - a simple double
 * 123/456 - a string fraction
 * 123.'456' - a double with repeating decimal places
 * 123.(456) - synonym
 * 123.45'6' - a double with repeating last place
 * 123.45(6) - synonym
 *
 * Example:
 *
 * var f = new Fraction("9.4'31'");
 * f.mul([-4, 3]).div(4.9);
 *
 */
!function(n){"use strict";function o(t){var e=function(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message},n=function(){};return n.prototype=Error.prototype,e.prototype=new n,e}function s(t,e){return isNaN(t=parseInt(t,10))&&a(),t*e}function a(){throw new f}/**
   * Module constructor
   *
   * @constructor
   * @param {number|Fraction} a
   * @param {number=} b
   */
function u(t,e){if(!(this instanceof u))return new u(t,e);p(t,e),t=u.REDUCE?v(c.d,c.n):1,this.s=c.s,this.n=c.n/t,this.d=c.d/t}
// Maximum search depth for cyclic rational numbers. 2000 should be more than enough.
// Example: 1/7 = 0.(142857) has 6 repeating decimal places.
// If MAX_CYCLE_LEN gets reduced, long cycles will not be detected and toString() only gets the first 10 digits
var c={s:1,n:0,d:1},l=u.DivisionByZero=o("DivisionByZero"),f=u.InvalidParameter=o("InvalidParameter"),p=function(t,e){var n,r=0,i=1,o=1,u=0,f=0,p=0,h=1,d=1,m=0,v=1,y=1,g=1,b=1e7;if(void 0===t||null===t);else if(void 0!==e)r=t,i=e,o=r*i;else switch(typeof t){case"object":"d"in t&&"n"in t?(r=t.n,i=t.d,"s"in t&&(r*=t.s)):0 in t?(r=t[0],1 in t&&(i=t[1])):a(),o=r*i;break;case"number":if(t<0&&(o=t,t=-t),t%1==0)r=t;else if(t>0){
// Using Farey Sequences
// http://www.johndcook.com/blog/2010/10/20/best-rational-approximation/
for(// check for != 0, scale would become NaN (log(0)), which converges really slow
t>=1&&(d=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=d);v<=b&&g<=b;){if(n=(m+y)/(v+g),t===n){v+g<=b?(r=m+y,i=v+g):g>v?(r=y,i=g):(r=m,i=v);break}t>n?(m+=y,v+=g):(y+=m,g+=v),v>b?(r=y,i=g):(r=m,i=v)}r*=d}else(isNaN(t)||isNaN(e))&&(i=r=NaN);break;case"string":if(v=t.match(/\d+|./g),"-"===v[m]?(// Check for minus sign at the beginning
o=-1,m++):"+"===v[m]&&// Check for plus sign at the beginning
m++,v.length===m+1?// Check if it's just a simple number "1234"
f=s(v[m++],o):"."===v[m+1]||"."===v[m]?(// Check if it's a decimal number
"."!==v[m]&&(// Handle 0.5 and .5
u=s(v[m++],o)),m++,
// Check for decimal places
(m+1===v.length||"("===v[m+1]&&")"===v[m+3]||"'"===v[m+1]&&"'"===v[m+3])&&(f=s(v[m],o),h=Math.pow(10,v[m].length),m++),
// Check for repeating places
("("===v[m]&&")"===v[m+2]||"'"===v[m]&&"'"===v[m+2])&&(p=s(v[m+1],o),d=Math.pow(10,v[m+1].length)-1,m+=3)):"/"===v[m+1]||":"===v[m+1]?(// Check for a simple fraction "123/456" or "123:456"
f=s(v[m],o),h=s(v[m+2],1),m+=3):"/"===v[m+3]&&" "===v[m+1]&&(// Check for a complex fraction "123 1/2"
u=s(v[m],o),f=s(v[m+2],o),h=s(v[m+4],1),m+=5),v.length<=m){// Check for more tokens on the stack
i=h*d,o=/* void */
r=p+i*u+d*f;break}default:a()}if(0===i)throw new l;c.s=o<0?-1:1,c.n=Math.abs(r),c.d=Math.abs(i)},h=function(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)1&e&&(r=r*t%n);return r},d=function(t,e){for(;e%2==0;e/=2);for(;e%5==0;e/=5);if(1===e)// Catch non-cyclic numbers
return 0;for(var n=10%e,r=1;1!==n;r++)if(n=10*n%e,r>2e3)return 0;return r},m=function(t,e,n){for(var r=1,i=h(10,n,e),o=0;o<300;o++){// s < ~log10(Number.MAX_VALUE)
// Solve 10^s == 10^(s+t) (mod d)
if(r===i)return o;r=10*r%e,i=10*i%e}return 0},v=function(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}};/**
   * Boolean global variable to be able to disable automatic reduction of the fraction
   *
   */
u.REDUCE=1,u.prototype={s:1,n:0,d:1,/**
     * Calculates the absolute value
     *
     * Ex: new Fraction(-4).abs() => 4
     **/
abs:function(){return new u(this.n,this.d)},/**
     * Inverts the sign of the current fraction
     *
     * Ex: new Fraction(-4).neg() => 4
     **/
neg:function(){return new u(-this.s*this.n,this.d)},/**
     * Adds two rational numbers
     *
     * Ex: new Fraction({n: 2, d: 3}).add("14.9") => 467 / 30
     **/
add:function(t,e){return p(t,e),new u(this.s*this.n*c.d+c.s*this.d*c.n,this.d*c.d)},/**
     * Subtracts two rational numbers
     *
     * Ex: new Fraction({n: 2, d: 3}).add("14.9") => -427 / 30
     **/
sub:function(t,e){return p(t,e),new u(this.s*this.n*c.d-c.s*this.d*c.n,this.d*c.d)},/**
     * Multiplies two rational numbers
     *
     * Ex: new Fraction("-17.(345)").mul(3) => 5776 / 111
     **/
mul:function(t,e){return p(t,e),new u(this.s*c.s*this.n*c.n,this.d*c.d)},/**
     * Divides two rational numbers
     *
     * Ex: new Fraction("-17.(345)").inverse().div(3)
     **/
div:function(t,e){return p(t,e),new u(this.s*c.s*this.n*c.d,this.d*c.n)},/**
     * Clones the actual object
     *
     * Ex: new Fraction("-17.(345)").clone()
     **/
clone:function(){return new u(this)},/**
     * Calculates the modulo of two rational numbers - a more precise fmod
     *
     * Ex: new Fraction('4.(3)').mod([7, 8]) => (13/3) % (7/8) = (5/6)
     **/
mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new u(NaN):void 0===t?new u(this.s*this.n%this.d,1):(p(t,e),0===c.n&&0===this.d&&u(0,0),new u(this.s*c.d*this.n%(c.n*this.d),c.d*this.d))},/**
     * Calculates the fractional gcd of two rational numbers
     *
     * Ex: new Fraction(5,8).gcd(3,7) => 1/56
     */
gcd:function(t,e){
// gcd(a / b, c / d) = gcd(a, c) / lcm(b, d)
return p(t,e),new u(v(c.n,this.n),c.d*this.d/v(c.d,this.d))},/**
     * Calculates the fractional lcm of two rational numbers
     *
     * Ex: new Fraction(5,8).lcm(3,7) => 15
     */
lcm:function(t,e){
// lcm(a / b, c / d) = lcm(a, c) / gcd(b, d)
// lcm(a / b, c / d) = lcm(a, c) / gcd(b, d)
return p(t,e),0===c.n&&0===this.n?new u:new u(c.n*this.n/v(c.n,this.n),v(c.d,this.d))},/**
     * Calculates the ceil of a rational number
     *
     * Ex: new Fraction('4.(3)').ceil() => (5 / 1)
     **/
ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new u(NaN):new u(Math.ceil(t*this.s*this.n/this.d),t)},/**
     * Calculates the floor of a rational number
     *
     * Ex: new Fraction('4.(3)').floor() => (4 / 1)
     **/
floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new u(NaN):new u(Math.floor(t*this.s*this.n/this.d),t)},/**
     * Rounds a rational numbers
     *
     * Ex: new Fraction('4.(3)').round() => (4 / 1)
     **/
round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new u(NaN):new u(Math.round(t*this.s*this.n/this.d),t)},/**
     * Gets the inverse of the fraction, means numerator and denumerator are exchanged
     *
     * Ex: new Fraction([-3, 4]).inverse() => -4 / 3
     **/
inverse:function(){return new u(this.s*this.d,this.n)},/**
     * Calculates the fraction to some integer exponent
     *
     * Ex: new Fraction(-1,2).pow(-3) => -8
     */
pow:function(t){return t<0?new u(Math.pow(this.s*this.d,-t),Math.pow(this.n,-t)):new u(Math.pow(this.s*this.n,t),Math.pow(this.d,t))},/**
     * Check if two rational numbers are the same
     *
     * Ex: new Fraction(19.6).equals([98, 5]);
     **/
equals:function(t,e){return p(t,e),this.s*this.n*c.d==c.s*c.n*this.d},/**
     * Check if two rational numbers are the same
     *
     * Ex: new Fraction(19.6).equals([98, 5]);
     **/
compare:function(t,e){p(t,e);var n=this.s*this.n*c.d-c.s*c.n*this.d;return(0<n)-(n<0)},/**
     * Check if two rational numbers are divisible
     *
     * Ex: new Fraction(19.6).divisible(1.5);
     */
divisible:function(t,e){return p(t,e),!(!(c.n*this.d)||this.n*c.d%(c.n*this.d))},/**
     * Returns a decimal representation of the fraction
     *
     * Ex: new Fraction("100.'91823'").valueOf() => 100.91823918239183
     **/
valueOf:function(){return this.s*this.n/this.d},/**
     * Returns a string-fraction representation of a Fraction object
     *
     * Ex: new Fraction("1.'3'").toFraction() => "4 1/3"
     **/
toFraction:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,n+=" ",r%=i),n+=r,n+="/",n+=i),n},/**
     * Returns a latex representation of a Fraction object
     *
     * Ex: new Fraction("1.'3'").toLatex() => "\frac{4}{3}"
     **/
toLatex:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},/**
     * Returns an array of continued fraction elements
     *
     * Ex: new Fraction("7/8").toContinued() => [0,1,7]
     */
toContinued:function(){var t,e=this.n,n=this.d,r=[];do{r.push(Math.floor(e/n)),t=e%n,e=n,n=t}while(1!==e);return r},/**
     * Creates a string representation of a fraction with all digits
     *
     * Ex: new Fraction("100.'91823'").toString() => "100.(91823)"
     **/
toString:function(){var t,e=this.n,n=this.d;if(isNaN(e)||isNaN(n))return"NaN";u.REDUCE||(t=v(e,n),e/=t,n/=t);// 15 = decimal places when no repitation
for(var r=String(e).split(""),i=0,o=[~this.s?"":"-","",""],s="",a=d(0,n),c=m(0,n,a),l=-1,f=1,p=15+a+c+r.length,h=0;h<p;h++,i*=10){if(h<r.length?i+=Number(r[h]):(f=2,l++),a>0)// If we have a repeating part
if(l===c)o[f]+=s+"(",s="";else if(l===a+c){o[f]+=s+")";break}i>=n?(o[f]+=s+(i/n|0),// Flush zeros, Add current digit
s="",i%=n):f>1?// Add zeros to the zero buffer
s+="0":o[f]&&(// If before comma, add zero only if already something was added
o[f]+="0")}
// If there is something after the comma, add the comma sign
// If it's empty, it's a leading zero only
// If there is something after the comma, add the comma sign
return o[0]+=o[1]||"0",o[2]?o[0]+"."+o[2]:o[0]}},r=[],void 0!==(i=function(){return u}.apply(e,r))&&(t.exports=i)}()},/* 471 */
,/* 472 */
,/* 473 */
/***/
function(t,e,n){t.exports=n(475)},/* 474 */
/***/
function(t,e,n){"use strict";function r(t,e,s,a,u){
// listen for changed in the configuration, automatically reload
// constants when needed
u.on("config",function(n,i){n.number!==i.number&&r(t,e,s,a,u)}),u.true=!0,u.false=!1,u.null=null,u.uninitialized=n(11).UNINITIALIZED,"BigNumber"===e.number?(u.Infinity=new t.BigNumber(1/0),u.NaN=new t.BigNumber(NaN),i.lazy(u,"pi",function(){return o.pi(t.BigNumber)}),i.lazy(u,"tau",function(){return o.tau(t.BigNumber)}),i.lazy(u,"e",function(){return o.e(t.BigNumber)}),i.lazy(u,"phi",function(){return o.phi(t.BigNumber)}),// golden ratio, (1+sqrt(5))/2
// uppercase constants (for compatibility with built-in Math)
i.lazy(u,"E",function(){return u.e}),i.lazy(u,"LN2",function(){return new t.BigNumber(2).ln()}),i.lazy(u,"LN10",function(){return new t.BigNumber(10).ln()}),i.lazy(u,"LOG2E",function(){return new t.BigNumber(1).div(new t.BigNumber(2).ln())}),i.lazy(u,"LOG10E",function(){return new t.BigNumber(1).div(new t.BigNumber(10).ln())}),i.lazy(u,"PI",function(){return u.pi}),i.lazy(u,"SQRT1_2",function(){return new t.BigNumber("0.5").sqrt()}),i.lazy(u,"SQRT2",function(){return new t.BigNumber(2).sqrt()})):(u.Infinity=1/0,u.NaN=NaN,u.pi=Math.PI,u.tau=2*Math.PI,u.e=Math.E,u.phi=1.618033988749895,// golden ratio, (1+sqrt(5))/2
// uppercase constants (for compatibility with built-in Math)
u.E=u.e,u.LN2=Math.LN2,u.LN10=Math.LN10,u.LOG2E=Math.LOG2E,u.LOG10E=Math.LOG10E,u.PI=u.pi,u.SQRT1_2=Math.SQRT1_2,u.SQRT2=Math.SQRT2),
// complex i
u.i=t.Complex.I,
// meta information
u.version=n(846)}var i=n(9),o=n(284);e.factory=r,e.lazy=!1,// no lazy loading of constants, the constants themselves are lazy when needed
e.math=!0},/* 475 */
/***/
function(t,e,n){var r=n(9).isFactory,i=(n(9).deepExtend,n(478)),o=n(285),s=n(477),a=n(476);/**
 * Math.js core. Creates a new, empty math.js instance
 * @param {Object} [options] Available options:
 *                            {number} epsilon
 *                              Minimum relative difference between two
 *                              compared values, used by all comparison functions.
 *                            {string} matrix
 *                              A string 'Matrix' (default) or 'Array'.
 *                            {string} number
 *                              A string 'number' (default), 'BigNumber', or 'Fraction'
 *                            {number} precision
 *                              The number of significant digits for BigNumbers.
 *                              Not applicable for Numbers.
 *                            {boolean} predictable
 *                              Predictable output type of functions. When true,
 *                              output type depends only on the input types. When
 *                              false (default), output type can vary depending
 *                              on input values. For example `math.sqrt(-4)`
 *                              returns `complex('2i')` when predictable is false, and
 *                              returns `NaN` when true.
 *                            {string} randomSeed
 *                              Random seed for seeded pseudo random number generator.
 *                              Set to null to randomly seed.
 * @returns {Object} Returns a bare-bone math.js instance containing
 *                   functions:
 *                   - `import` to add new functions
 *                   - `config` to change configuration
 *                   - `on`, `off`, `once`, `emit` for events
 */
e.create=function(t){/**
   * Load a function or data type from a factory.
   * If the function or data type already exists, the existing instance is
   * returned.
   * @param {{type: string, name: string, factory: Function}} factory
   * @returns {*}
   */
function e(t){if(!r(t))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var i,o=n.indexOf(t);
// doesn't yet exist
// pass with math namespace
// append to the cache
// already existing function, return the cached instance
return-1===o?(i=!0===t.math?t.factory(c.type,l,e,c.typed,c):t.factory(c.type,l,e,c.typed),n.push(t),u.push(i)):i=u[o],i}
// simple test for ES5 support
if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");
// cached factories and instances
var n=[],u=[],c=o.mixin({});c.type={},c.expression={transform:Object.create(c)},c.algebra={},
// create a new typed instance
c.typed=i.create(c.type);
// create configuration options. These are private
var l={
// minimum relative difference between two compared values,
// used by all comparison functions
epsilon:1e-12,
// type of default matrix output. Choose 'matrix' (default) or 'array'
matrix:"Matrix",
// type of default number output. Choose 'number' (default) 'BigNumber', or 'Fraction
number:"number",
// number of significant digits in BigNumbers
precision:64,
// predictable output type of functions. When true, output type depends only
// on the input types. When false (default), output type can vary depending
// on input values. For example `math.sqrt(-4)` returns `complex('2i')` when
// predictable is false, and returns `NaN` when true.
predictable:!1,
// random seed for seeded pseudo random number generation
// null = randomly seed
randomSeed:null};
// load the import and config functions
// apply options
return c.import=e(s),c.config=e(a),t&&c.config(t),c}},/* 476 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r,i){// valid values for option number
/**
   * Set configuration options for math.js, and get current options.
   * Will emit a 'config' event, with arguments (curr, prev, changes).
   *
   * Syntax:
   *
   *     math.config(config: Object): Object
   *
   * Examples:
   *
   *     math.config().number;                // outputs 'number'
   *     math.eval('0.4');                    // outputs number 0.4
   *     math.config({number: 'Fraction'});
   *     math.eval('0.4');                    // outputs Fraction 2/5
   *
   * @param {Object} [options] Available options:
   *                            {number} epsilon
   *                              Minimum relative difference between two
   *                              compared values, used by all comparison functions.
   *                            {string} matrix
   *                              A string 'Matrix' (default) or 'Array'.
   *                            {string} number
   *                              A string 'number' (default), 'BigNumber', or 'Fraction'
   *                            {number} precision
   *                              The number of significant digits for BigNumbers.
   *                              Not applicable for Numbers.
   *                            {string} parenthesis
   *                              How to display parentheses in LaTeX and string
   *                              output.
   *                            {string} randomSeed
   *                              Random seed for seeded pseudo random number generator.
   *                              Set to null to randomly seed.
   * @return {Object} Returns the current configuration
   */
function o(t){if(t){var n=a.clone(e);
// validate some of the options
s(t,"matrix",u),s(t,"number",c),
// merge options
a.deepExtend(e,t);var r=a.clone(e),o=a.clone(t);
// emit 'config' event
return i.emit("config",r,n,o),r}return a.clone(e)}var u=["Matrix","Array"],c=["number","BigNumber","Fraction"];
// attach the valid options to the function so they can be extended
return o.MATRIX=u,o.NUMBER=c,o}/**
 * Test whether an Array contains a specific item.
 * @param {Array.<string>} array
 * @param {string} item
 * @return {boolean}
 */
function i(t,e){return-1!==t.indexOf(e)}/**
 * Find a string in an array. Case insensitive search
 * @param {Array.<string>} array
 * @param {string} item
 * @return {number} Returns the index when found. Returns -1 when not found
 */
function o(t,e){return t.map(function(t){return t.toLowerCase()}).indexOf(e.toLowerCase())}/**
 * Validate an option
 * @param {Object} options         Object with options
 * @param {string} name            Name of the option to validate
 * @param {Array.<string>} values  Array with valid values for this option
 */
function s(t,e,n){if(void 0!==t[e]&&!i(n,t[e])){var r=o(n,t[e]);-1!==r?(
// right value, wrong casing
// TODO: lower case values are deprecated since v3, remove this warning some day.
console.warn('Warning: Wrong casing for configuration option "'+e+'", should be "'+n[r]+'" instead of "'+t[e]+'".'),t[e]=n[r]):
// unknown value
console.warn('Warning: Unknown value "'+t[e]+'" for configuration option "'+e+'". Available options: '+n.map(JSON.stringify).join(", ")+".")}}var a=n(9);e.name="config",e.math=!0,// request the math namespace as fifth argument
e.factory=r},/* 477 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r,u){/**
   * Import functions from an object or a module
   *
   * Syntax:
   *
   *    math.import(object)
   *    math.import(object, options)
   *
   * Where:
   *
   * - `object: Object`
   *   An object with functions to be imported.
   * - `options: Object` An object with import options. Available options:
   *   - `override: boolean`
   *     If true, existing functions will be overwritten. False by default.
   *   - `silent: boolean`
   *     If true, the function will not throw errors on duplicates or invalid
   *     types. False by default.
   *   - `wrap: boolean`
   *     If true, the functions will be wrapped in a wrapper function
   *     which converts data types like Matrix to primitive data types like Array.
   *     The wrapper is needed when extending math.js with libraries which do not
   *     support these data type. False by default.
   *
   * Examples:
   *
   *    // define new functions and variables
   *    math.import({
   *      myvalue: 42,
   *      hello: function (name) {
   *        return 'hello, ' + name + '!';
   *      }
   *    });
   *
   *    // use the imported function and variable
   *    math.myvalue * 2;               // 84
   *    math.hello('user');             // 'hello, user!'
   *
   *    // import the npm module 'numbers'
   *    // (must be installed first with `npm install numbers`)
   *    math.import(require('numbers'), {wrap: true});
   *
   *    math.fibonacci(7); // returns 13
   *
   * @param {Object | Array} object   Object with functions to be imported.
   * @param {Object} [options]        Import options.
   */
function c(t,e){var n=arguments.length;if(1!=n&&2!=n)throw new a("import",n,1,2);if(e||(e={}),o(t))h(t,e);else if(Array.isArray(t))t.forEach(function(t){c(t,e)});else if("object"==typeof t){
// a map with functions
for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];d(i)?l(r,i,e):o(t)?h(t,e):c(i,e)}}else if(!e.silent)throw new TypeError("Factory, Object, or Array expected")}/**
   * Add a property to the math namespace and create a chain proxy for it.
   * @param {string} name
   * @param {*} value
   * @param {Object} options  See import for a description of the options
   * @private
   */
function l(t,e,n){if(n.wrap&&"function"==typeof e&&(
// create a wrapper around the function
e=p(e)),m(u[t])&&m(e))
// give the typed function the right name
return e=n.override?r(t,e.signatures):r(u[t],e),u[t]=e,f(t,e),void u.emit("import",t,function(){return e});if(void 0===u[t]||n.override)return u[t]=e,f(t,e),void u.emit("import",t,function(){return e});if(!n.silent)throw new Error('Cannot import "'+t+'": already exists')}function f(t,e){e&&"function"==typeof e.transform?u.expression.transform[t]=e.transform:
// remove existing transform
delete u.expression.transform[t]}/**
   * Create a wrapper a round an function which converts the arguments
   * to their primitive values (like convert a Matrix to Array)
   * @param {Function} fn
   * @return {Function} Returns the wrapped function
   * @private
   */
function p(t){var e=function(){for(var e=[],n=0,r=arguments.length;n<r;n++){var i=arguments[n];e[n]=i&&i.valueOf()}return t.apply(u,e)};return t.transform&&(e.transform=t.transform),e}/**
   * Import an instance of a factory into math.js
   * @param {{factory: Function, name: string, path: string, math: boolean}} factory
   * @param {Object} options  See import for a description of the options
   * @private
   */
function h(t,e){if("string"==typeof t.name){var o=t.name,a=t.path?s(u,t.path):u,c=a.hasOwnProperty(o)?a[o]:void 0,l=function(){var i=n(t);if(i&&"function"==typeof i.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(m(c)&&m(i))
// merge the existing and new typed function
return e.override||(i=r(c,i)),i;if(void 0===c||e.override)return i;if(!e.silent)throw new Error('Cannot import "'+o+'": already exists')};!1!==t.lazy?i(a,o,l):a[o]=l(),u.emit("import",o,l,t.path)}else
// unnamed factory.
// no lazy loading
n(t)}/**
   * Check whether given object is a type which can be imported
   * @param {Function | number | string | boolean | null | Unit | Complex} object
   * @return {boolean}
   * @private
   */
function d(t){return"function"==typeof t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t||null===t||t&&!0===t.isUnit||t&&!0===t.isComplex||t&&!0===t.isBigNumber||t&&!0===t.isFraction||t&&!0===t.isMatrix||t&&!0===Array.isArray(t)}/**
   * Test whether a given thing is a typed-function
   * @param {*} fn
   * @return {boolean} Returns true when `fn` is a typed-function
   */
function m(t){return"function"==typeof t&&"object"==typeof t.signatures}return c}var i=n(9).lazy,o=n(9).isFactory,s=n(9).traverse,a=(n(9).extend,n(94));e.math=!0,// request access to the math namespace as 5th argument of the factory function
e.name="import",e.factory=r,e.lazy=!0},/* 478 */
/***/
function(t,e,n){var r=n(1125),i=n(5).digits,o=function(){
// initially, return the original instance of typed-function
// consecutively, return a new instance from typed.create.
return o=r.create,r};/**
 * Factory function for creating a new typed instance
 * @param {Object} type   Object with data types like Complex and BigNumber
 * @returns {Function}
 */
e.create=function(t){
// TODO: typed-function must be able to silently ignore signatures with unknown data types
// get a new instance of typed-function
var e=o();
// define all types. The order of the types determines in which order function
// arguments are type-checked (so for performance it's important to put the
// most used types first).
// TODO: add conversion from BigNumber to number?
return e.types=[{name:"number",test:function(t){return"number"==typeof t}},{name:"Complex",test:function(t){return t&&t.isComplex}},{name:"BigNumber",test:function(t){return t&&t.isBigNumber}},{name:"Fraction",test:function(t){return t&&t.isFraction}},{name:"Unit",test:function(t){return t&&t.isUnit}},{name:"string",test:function(t){return"string"==typeof t}},{name:"Array",test:Array.isArray},{name:"Matrix",test:function(t){return t&&t.isMatrix}},{name:"DenseMatrix",test:function(t){return t&&t.isDenseMatrix}},{name:"SparseMatrix",test:function(t){return t&&t.isSparseMatrix}},{name:"Range",test:function(t){return t&&t.isRange}},{name:"Index",test:function(t){return t&&t.isIndex}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"ResultSet",test:function(t){return t&&t.isResultSet}},{name:"Help",test:function(t){return t&&t.isHelp}},{name:"function",test:function(t){return"function"==typeof t}},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"==typeof t}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}},{name:"OperatorNode",test:function(t){return t&&t.isOperatorNode}},{name:"ConstantNode",test:function(t){return t&&t.isConstantNode}},{name:"SymbolNode",test:function(t){return t&&t.isSymbolNode}},{name:"ParenthesisNode",test:function(t){return t&&t.isParenthesisNode}},{name:"FunctionNode",test:function(t){return t&&t.isFunctionNode}},{name:"FunctionAssignmentNode",test:function(t){return t&&t.isFunctionAssignmentNode}},{name:"ArrayNode",test:function(t){return t&&t.isArrayNode}},{name:"AssignmentNode",test:function(t){return t&&t.isAssignmentNode}},{name:"BlockNode",test:function(t){return t&&t.isBlockNode}},{name:"ConditionalNode",test:function(t){return t&&t.isConditionalNode}},{name:"IndexNode",test:function(t){return t&&t.isIndexNode}},{name:"RangeNode",test:function(t){return t&&t.isRangeNode}},{name:"UpdateNode",test:function(t){return t&&t.isUpdateNode}},{name:"Node",test:function(t){return t&&t.isNode}}],e.conversions=[{from:"number",to:"BigNumber",convert:function(e){
// note: conversion from number to BigNumber can fail if x has >15 digits
if(i(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t.BigNumber(e)}},{from:"number",to:"Complex",convert:function(e){return new t.Complex(e,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(e){return new t.Complex(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return new t.Complex(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){if(i(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to Fraction (value: "+e+"). Use function fraction(x) to convert to Fraction.");return new t.Fraction(e)}},{
// FIXME: add conversion from Fraction to number, for example for `sqrt(fraction(1,3))`
//  from: 'Fraction',
//  to: 'number',
//  convert: function (x) {
//    return x.valueOf();
//  }
//}, {
from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(e){try{return new t.BigNumber(e)}catch(t){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){try{return new t.Fraction(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){try{return new t.Complex(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(e){return new t.BigNumber(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return new t.Fraction(+e)}},{from:"boolean",to:"string",convert:function(t){return+t}},{from:"null",to:"number",convert:function(){return 0}},{from:"null",to:"string",convert:function(){return"null"}},{from:"null",to:"BigNumber",convert:function(){return new t.BigNumber(0)}},{from:"null",to:"Fraction",convert:function(){return new t.Fraction(0)}},{from:"Array",to:"Matrix",convert:function(e){
// TODO: how to decide on the right type of matrix to create?
return new t.DenseMatrix(e)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],e}},/* 479 */
/***/
function(t,e,n){"use strict";var r=n(94),i=n(18),o=n(95);t.exports=[{name:"ArgumentsError",path:"error",factory:function(){return r}},{name:"DimensionError",path:"error",factory:function(){return i}},{name:"IndexError",path:"error",factory:function(){return o}}]},/* 480 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){/**
   * Documentation object
   * @param {Object} doc  Object containing properties:
   *                      {string} name
   *                      {string} category
   *                      {string} description
   *                      {string[]} syntax
   *                      {string[]} examples
   *                      {string[]} seealso
   * @constructor
   */
function a(t){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(!t)throw new Error('Argument "doc" missing');this.doc=t}var u=r(n(235))();/**
   * Attach type information
   */
/**
   * Generate a string representation of the Help object
   * @return {string} Returns a string
   * @private
   */
/**
   * Export the help object to JSON
   */
/**
   * Instantiate a Help object from a JSON object
   * @param {Object} json
   * @returns {Help} Returns a new Help object
   */
/**
   * Returns a string representation of the Help object
   */
return a.prototype.type="Help",a.prototype.isHelp=!0,a.prototype.toString=function(){var t=this.doc||{},e="\n";if(t.name&&(e+="Name: "+t.name+"\n\n"),t.category&&(e+="Category: "+t.category+"\n\n"),t.description&&(e+="Description:\n    "+t.description+"\n\n"),t.syntax&&(e+="Syntax:\n    "+t.syntax.join("\n    ")+"\n\n"),t.examples){e+="Examples:\n";for(var n=0;n<t.examples.length;n++){var r=t.examples[n];e+="    "+r+"\n";var i;try{i=u.eval(r)}catch(t){i=t}i&&!i.isHelp&&(e+="        "+o.format(i,{precision:14})+"\n")}e+="\n"}return t.seealso&&(e+="See also: "+t.seealso.join(", ")+"\n"),e},a.prototype.toJSON=function(){var t=i.clone(this.doc);return t.mathjs="Help",t},a.fromJSON=function(t){var e={};for(var n in t)"mathjs"!==n&&(// ignore mathjs field
e[n]=t[n]);return new a(e)},a.prototype.valueOf=a.prototype.toString,a}var i=n(9),o=n(42);e.name="Help",e.path="type",e.factory=r},/* 481 */
/***/
function(t,e){t.exports={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]}},/* 482 */
/***/
function(t,e){t.exports={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]}},/* 483 */
/***/
function(t,e){t.exports={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]}},/* 484 */
/***/
function(t,e){t.exports={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]}},/* 485 */
/***/
function(t,e){t.exports={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]}},/* 486 */
/***/
function(t,e){t.exports={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]}},/* 487 */
/***/
function(t,e){t.exports={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]}},/* 488 */
/***/
function(t,e){t.exports={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]}},/* 489 */
/***/
function(t,e){t.exports={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]}},/* 490 */
/***/
function(t,e){t.exports={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]}},/* 491 */
/***/
function(t,e){t.exports={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]}},/* 492 */
/***/
function(t,e){t.exports={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["tau"],seealso:[]}},/* 493 */
/***/
function(t,e){t.exports={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]}},/* 494 */
/***/
function(t,e){t.exports={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]}},/* 495 */
/***/
function(t,e){t.exports={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]}},/* 496 */
/***/
function(t,e){t.exports={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]}},/* 497 */
/***/
function(t,e){t.exports={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]}},/* 498 */
/***/
function(t,e){t.exports={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]}},/* 499 */
/***/
function(t,e){t.exports={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]}},/* 500 */
/***/
function(t,e){t.exports={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]}},/* 501 */
/***/
function(t,e){t.exports={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]}},/* 502 */
/***/
function(t,e){t.exports={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]}},/* 503 */
/***/
function(t,e){t.exports={name:"number",category:"Construction",syntax:["x","number(x)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number("52cm", "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]}},/* 504 */
/***/
function(t,e){t.exports={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]}},/* 505 */
/***/
function(t,e){t.exports={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]}},/* 506 */
/***/
function(t,e){t.exports={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]}},/* 507 */
/***/
function(t,e){t.exports={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]}},/* 508 */
/***/
function(t,e){t.exports={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]}},/* 509 */
/***/
function(t,e){t.exports={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]}},/* 510 */
/***/
function(t,e){t.exports={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]}},/* 511 */
/***/
function(t,e){t.exports={name:"derivative",category:"Algebra",syntax:["derivative(expr)","derivative(expr, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.eval({x: 3})"],seealso:["simplify","parse","eval"]}},/* 512 */
/***/
function(t,e){t.exports={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Solves the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lup","lusolve","usolve","matrix","sparse"]}},/* 513 */
/***/
function(t,e){t.exports={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu"]}},/* 514 */
/***/
function(t,e){t.exports={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]}},/* 515 */
/***/
function(t,e){t.exports={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.eval({x: 2})"],seealso:["derivative","parse","eval"]}},/* 516 */
/***/
function(t,e){t.exports={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup"]}},/* 517 */
/***/
function(t,e){t.exports={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Solves the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["lup","lusolve","lsolve","matrix","sparse"]}},/* 518 */
/***/
function(t,e){t.exports={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]}},/* 519 */
/***/
function(t,e){t.exports={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]}},/* 520 */
/***/
function(t,e){t.exports={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]}},/* 521 */
/***/
function(t,e){t.exports={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]}},/* 522 */
/***/
function(t,e){t.exports={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]}},/* 523 */
/***/
function(t,e){t.exports={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]}},/* 524 */
/***/
function(t,e){t.exports={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]}},/* 525 */
/***/
function(t,e){t.exports={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]}},/* 526 */
/***/
function(t,e){t.exports={name:"dotpow",category:"Operators",syntax:["x .^ y","dotpow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]}},/* 527 */
/***/
function(t,e){t.exports={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["pow","log"]}},/* 528 */
/***/
function(t,e){t.exports={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]}},/* 529 */
/***/
function(t,e){t.exports={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]}},/* 530 */
/***/
function(t,e){t.exports={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]}},/* 531 */
/***/
function(t,e){t.exports={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]}},/* 532 */
/***/
function(t,e){t.exports={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]}},/* 533 */
/***/
function(t,e){t.exports={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log10"]}},/* 534 */
/***/
function(t,e){t.exports={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]}},/* 535 */
/***/
function(t,e){t.exports={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","function isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]}},/* 536 */
/***/
function(t,e){t.exports={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]}},/* 537 */
/***/
function(t,e){t.exports={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i))","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)","norm([[1, 2], [3, 4]], 'inf')","norm([[1, 2], [3, 4]], 'fro')"]}},/* 538 */
/***/
function(t,e){t.exports={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["sqrt","pow"]}},/* 539 */
/***/
function(t,e){t.exports={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3 = 8","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply"]}},/* 540 */
/***/
function(t,e){t.exports={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]}},/* 541 */
/***/
function(t,e){t.exports={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]}},/* 542 */
/***/
function(t,e){t.exports={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","multiply"]}},/* 543 */
/***/
function(t,e){t.exports={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]}},/* 544 */
/***/
function(t,e){t.exports={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]}},/* 545 */
/***/
function(t,e){t.exports={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]}},/* 546 */
/***/
function(t,e){t.exports={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]}},/* 547 */
/***/
function(t,e){t.exports={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]}},/* 548 */
/***/
function(t,e){t.exports={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},/* 549 */
/***/
function(t,e){t.exports={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},/* 550 */
/***/
function(t,e){t.exports={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]}},/* 551 */
/***/
function(t,e){t.exports={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]}},/* 552 */
/***/
function(t,e){t.exports={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]}},/* 553 */
/***/
function(t,e){t.exports={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]}},/* 554 */
/***/
function(t,e){t.exports={name:"rightLogShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]}},/* 555 */
/***/
function(t,e){t.exports={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]}},/* 556 */
/***/
function(t,e){t.exports={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]}},/* 557 */
/***/
function(t,e){t.exports={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]}},/* 558 */
/***/
function(t,e){t.exports={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]}},/* 559 */
/***/
function(t,e){t.exports={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]}},/* 560 */
/***/
function(t,e){t.exports={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]}},/* 561 */
/***/
function(t,e){t.exports={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]}},/* 562 */
/***/
function(t,e){t.exports={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]}},/* 563 */
/***/
function(t,e){t.exports={name:"eval",category:"Expression",syntax:["eval(expression)","eval([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['eval("2 + 3")','eval("sqrt(" + 4 + ")")'],seealso:[]}},/* 564 */
/***/
function(t,e){t.exports={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]}},/* 565 */
/***/
function(t,e){t.exports={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]}},/* 566 */
/***/
function(t,e){t.exports={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]}},/* 567 */
/***/
function(t,e){t.exports={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]}},/* 568 */
/***/
function(t,e){t.exports={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]}},/* 569 */
/***/
function(t,e){t.exports={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]}},/* 570 */
/***/
function(t,e){t.exports={name:"xor",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 or 4"],seealso:["not","and","or"]}},/* 571 */
/***/
function(t,e){t.exports={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},/* 572 */
/***/
function(t,e){t.exports={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]}},/* 573 */
/***/
function(t,e){t.exports={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},/* 574 */
/***/
function(t,e){t.exports={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},/* 575 */
/***/
function(t,e){t.exports={name:"dot",category:"Matrix",syntax:["dot(A, B)"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]}},/* 576 */
/***/
function(t,e){t.exports={name:"eye",category:"Matrix",syntax:["eye(n)","eye(m, n)","eye([m, n])","eye"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["eye(3)","eye(3, 5)","a = [1, 2, 3; 4, 5, 6]","eye(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},/* 577 */
/***/
function(t,e){t.exports={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]}},/* 578 */
/***/
function(t,e){t.exports={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]}},/* 579 */
/***/
function(t,e){t.exports={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]}},/* 580 */
/***/
function(t,e){t.exports={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","eye","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},/* 581 */
/***/
function(t,e){t.exports={name:"kron",category:"Matrix",syntax:["math.kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]}},/* 582 */
/***/
function(t,e){t.exports={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], function(val) { return value * value })"],seealso:["filter","forEach"]}},/* 583 */
/***/
function(t,e){t.exports={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])","ones"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","eye","inv","range","size","squeeze","subset","trace","transpose","zeros"]}},/* 584 */
/***/
function(t,e){t.exports={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]}},/* 585 */
/***/
function(t,e){t.exports={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","eye","inv","ones","size","squeeze","subset","trace","transpose","zeros"]}},/* 586 */
/***/
function(t,e){t.exports={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])"],seealso:["size","squeeze","resize"]}},/* 587 */
/***/
function(t,e){t.exports={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]}},/* 588 */
/***/
function(t,e){t.exports={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","eye","inv","ones","range","squeeze","subset","trace","transpose","zeros"]}},/* 589 */
/***/
function(t,e){t.exports={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc" or "desc", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)'],seealso:["map","filter","forEach"]}},/* 590 */
/***/
function(t,e){t.exports={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","eye","inv","ones","range","size","subset","trace","transpose","zeros"]}},/* 591 */
/***/
function(t,e){t.exports={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","trace","transpose","zeros"]}},/* 592 */
/***/
function(t,e){t.exports={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","transpose","zeros"]}},/* 593 */
/***/
function(t,e){t.exports={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","zeros"]}},/* 594 */
/***/
function(t,e){t.exports={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])","zeros"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose"]}},/* 595 */
/***/
function(t,e){t.exports={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["permutations","factorial"]}},/* 596 */
/***/
function(t,e){t.exports={name:"factorial",category:"Probability",syntax:["kldivergence(x, y)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","permutations","gamma"]}},/* 597 */
/***/
function(t,e){t.exports={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]}},/* 598 */
/***/
function(t,e){t.exports={name:"kldivergence",category:"Probability",syntax:["n!","factorial(n)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["math.kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]}},/* 599 */
/***/
function(t,e){t.exports={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai <= 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]}},/* 600 */
/***/
function(t,e){t.exports={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","factorial"]}},/* 601 */
/***/
function(t,e){t.exports={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]}},/* 602 */
/***/
function(t,e){t.exports={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]}},/* 603 */
/***/
function(t,e){t.exports={name:"randInt",category:"Probability",syntax:["randInt(max)","randInt(min, max)","randInt(size)","randInt(size, max)","randInt(size, min, max)"],description:"Return a random integer number",examples:["randInt(10, 20)","randInt([2, 3], 10)"],seealso:["pickRandom","random"]}},/* 604 */
/***/
function(t,e){t.exports={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 if x is larger than y, -1 if x is smaller than y, and 0 if x and y are equal.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq"]}},/* 605 */
/***/
function(t,e){t.exports={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["[1,3,4] == [1,3,4]","[1,3,4] == [1,3]"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]}},/* 606 */
/***/
function(t,e){t.exports={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},/* 607 */
/***/
function(t,e){t.exports={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]}},/* 608 */
/***/
function(t,e){t.exports={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 > 1+1","2 >= 1+1","a = 3.2","b = 6-2.8","(a > b)"],seealso:["equal","unequal","smallerEq","smaller","largerEq","compare"]}},/* 609 */
/***/
function(t,e){t.exports={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]}},/* 610 */
/***/
function(t,e){t.exports={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 1+1","2 <= 1+1","a = 3.2","b = 6-2.8","(a < b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]}},/* 611 */
/***/
function(t,e){t.exports={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},/* 612 */
/***/
function(t,e){t.exports={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]}},/* 613 */
/***/
function(t,e){t.exports={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])","mad(10, 20, 30)"],seealso:["mean","median","std","abs"]}},/* 614 */
/***/
function(t,e){t.exports={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","var"]}},/* 615 */
/***/
function(t,e){t.exports={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","var"]}},/* 616 */
/***/
function(t,e){t.exports={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","var","quantileSeq"]}},/* 617 */
/***/
function(t,e){t.exports={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","var"]}},/* 618 */
/***/
function(t,e){t.exports={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(5, 2, 7)","mode([3, -1, 5, 7])"],seealso:["max","mean","min","median","prod","std","sum","var"]}},/* 619 */
/***/
function(t,e){t.exports={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","var"]}},/* 620 */
/***/
function(t,e){t.exports={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","var"]}},/* 621 */
/***/
function(t,e){t.exports={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(var(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","sum","var"]}},/* 622 */
/***/
function(t,e){t.exports={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","var"]}},/* 623 */
/***/
function(t,e){t.exports={name:"var",category:"Statistics",syntax:["var(a, b, c, ...)","var(A)","var(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["var(2, 4, 6)","var([2, 4, 6, 8])",'var([2, 4, 6, 8], "uncorrected")','var([2, 4, 6, 8], "biased")',"var([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]}},/* 624 */
/***/
function(t,e){t.exports={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]}},/* 625 */
/***/
function(t,e){t.exports={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]}},/* 626 */
/***/
function(t,e){t.exports={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]}},/* 627 */
/***/
function(t,e){t.exports={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(0.5)"],seealso:["acsch","asech"]}},/* 628 */
/***/
function(t,e){t.exports={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(0.5)","acsc(csc(0.5))","acsc(2)"],seealso:["csc","asin","asec"]}},/* 629 */
/***/
function(t,e){t.exports={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]}},/* 630 */
/***/
function(t,e){t.exports={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]}},/* 631 */
/***/
function(t,e){t.exports={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]}},/* 632 */
/***/
function(t,e){t.exports={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(2.3))"],seealso:["sin","acos","atan"]}},/* 633 */
/***/
function(t,e){t.exports={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]}},/* 634 */
/***/
function(t,e){t.exports={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(2.3))"],seealso:["tan","acos","asin"]}},/* 635 */
/***/
function(t,e){t.exports={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]}},/* 636 */
/***/
function(t,e){t.exports={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]}},/* 637 */
/***/
function(t,e){t.exports={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]}},/* 638 */
/***/
function(t,e){t.exports={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]}},/* 639 */
/***/
function(t,e){t.exports={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]}},/* 640 */
/***/
function(t,e){t.exports={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]}},/* 641 */
/***/
function(t,e){t.exports={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]}},/* 642 */
/***/
function(t,e){t.exports={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]}},/* 643 */
/***/
function(t,e){t.exports={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]}},/* 644 */
/***/
function(t,e){t.exports={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]}},/* 645 */
/***/
function(t,e){t.exports={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]}},/* 646 */
/***/
function(t,e){t.exports={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]}},/* 647 */
/***/
function(t,e){t.exports={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]}},/* 648 */
/***/
function(t,e){t.exports={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]}},/* 649 */
/***/
function(t,e){t.exports={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]}},/* 650 */
/***/
function(t,e){t.exports={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]}},/* 651 */
/***/
function(t,e){t.exports={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]}},/* 652 */
/***/
function(t,e){t.exports={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},/* 653 */
/***/
function(t,e){t.exports={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},/* 654 */
/***/
function(t,e){t.exports={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]}},/* 655 */
/***/
function(t,e){t.exports={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)","isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))",'isNumeric("3")',"isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN"]}},/* 656 */
/***/
function(t,e){t.exports={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},/* 657 */
/***/
function(t,e){t.exports={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},/* 658 */
/***/
function(t,e){t.exports={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]}},/* 659 */
/***/
function(t,e){t.exports={name:"typeof",category:"Utils",syntax:["typeof(x)"],description:"Get the type of a variable.",examples:["typeof(3.5)","typeof(2 - 4i)","typeof(45 deg)",'typeof("hello world")'],seealso:[]}},/* 660 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){var s=r(n(66));/**
   * Parse and compile an expression.
   * Returns a an object with a function `eval([scope])` to evaluate the
   * compiled expression.
   *
   * Syntax:
   *
   *     math.compile(expr)                       // returns one node
   *     math.compile([expr1, expr2, expr3, ...]) // returns an array with nodes
   *
   * Examples:
   *
   *     var code = math.compile('sqrt(3^2 + 4^2)');
   *     code.eval(); // 5
   *
   *     var scope = {a: 3, b: 4}
   *     var code = math.compile('a * b'); // 12
   *     code.eval(scope); // 12
   *     scope.a = 5;
   *     code.eval(scope); // 20
   *
   *     var nodes = math.compile(['a = 3', 'b = 4', 'a * b']);
   *     nodes[2].eval(); // 12
   *
   * See also:
   *
   *    parse, eval
   *
   * @param {string | string[] | Array | Matrix} expr
   *            The expression to be compiled
   * @return {{eval: Function} | Array.<{eval: Function}>} code
   *            An object with the compiled expression
   * @throws {Error}
   */
return o("compile",{string:function(t){return s(t).compile()},"Array | Matrix":function(t){return i(t,function(t){return s(t).compile()})}})}var i=n(3);e.name="compile",e.factory=r},/* 661 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){var s=r(n(66));/**
   * Evaluate an expression.
   *
   * Note the evaluating arbitrary expressions may involve security risks,
   * see [http://mathjs.org/docs/expressions/security.html](http://mathjs.org/docs/expressions/security.html) for more information.
   *
   * Syntax:
   *
   *     math.eval(expr)
   *     math.eval(expr, scope)
   *     math.eval([expr1, expr2, expr3, ...])
   *     math.eval([expr1, expr2, expr3, ...], scope)
   *
   * Example:
   *
   *     math.eval('(2+3)/4');                // 1.25
   *     math.eval('sqrt(3^2 + 4^2)');        // 5
   *     math.eval('sqrt(-4)');               // 2i
   *     math.eval(['a=3', 'b=4', 'a*b']);,   // [3, 4, 12]
   *
   *     var scope = {a:3, b:4};
   *     math.eval('a * b', scope);           // 12
   *
   * See also:
   *
   *    parse, compile
   *
   * @param {string | string[] | Matrix} expr   The expression to be evaluated
   * @param {Object} [scope]                    Scope to read/write variables
   * @return {*} The result of the expression
   * @throws {Error}
   */
return o("compile",{string:function(t){var e={};return s(t).compile().eval(e)},"string, Object":function(t,e){return s(t).compile().eval(e)},"Array | Matrix":function(t){var e={};return i(t,function(t){return s(t).compile().eval(e)})},"Array | Matrix, Object":function(t,e){return i(t,function(t){return s(t).compile().eval(e)})}})}var i=n(3);e.name="eval",e.factory=r},/* 662 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i,o){var s=r(n(234));/**
   * Retrieve help on a function or data type.
   * Help files are retrieved from the documentation in math.expression.docs.
   *
   * Syntax:
   *
   *    math.help(search)
   *
   * Examples:
   *
   *    console.log(math.help('sin').toString());
   *    console.log(math.help(math.add).toString());
   *    console.log(math.help(math.add).toJSON());
   *
   * @param {Function | string | Object} search   A function or function name
   *                                              for which to get help
   * @return {Help} A help object
   */
return i("help",{any:function(e){var n,r=e;if("string"!=typeof e)for(n in o)
// search in functions and constants
if(o.hasOwnProperty(n)&&e===o[n]){r=n;break}var i=s[r];if(!i)throw new Error('No documentation found on "'+r+'"');return new t.Help(i)}})}e.math=!0,// request access to the math namespace as 5th argument of the factory function
e.name="help",e.factory=r},/* 663 */
/***/
function(t,e,n){t.exports=[n(660),n(661),n(662),n(664),n(235)]},/* 664 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(66));/**
   * Parse an expression. Returns a node tree, which can be evaluated by
   * invoking node.eval();
   *
   * Note the evaluating arbitrary expressions may involve security risks,
   * see [http://mathjs.org/docs/expressions/security.html](http://mathjs.org/docs/expressions/security.html) for more information.
   *
   * Syntax:
   *
   *     math.parse(expr)
   *     math.parse(expr, options)
   *     math.parse([expr1, expr2, expr3, ...])
   *     math.parse([expr1, expr2, expr3, ...], options)
   *
   * Example:
   *
   *     var node = math.parse('sqrt(3^2 + 4^2)');
   *     node.compile().eval(); // 5
   *
   *     var scope = {a:3, b:4}
   *     var node = math.parse('a * b'); // 12
   *     var code = node.compile();
   *     code.eval(scope); // 12
   *     scope.a = 5;
   *     code.eval(scope); // 20
   *
   *     var nodes = math.parse(['a = 3', 'b = 4', 'a * b']);
   *     nodes[2].compile().eval(); // 12
   *
   * See also:
   *
   *     eval, compile
   *
   * @param {string | string[] | Matrix} expr          Expression to be parsed
   * @param {{nodes: Object<string, Node>}} [options]  Available options:
   *                                                   - `nodes` a set of custom nodes
   * @return {Node | Node[]} node
   * @throws {Error}
   */
return i("parse",{"string | Array | Matrix":o,"string | Array | Matrix, Object":o})}e.name="parse",e.factory=r},/* 665 */
/***/
function(t,e,n){t.exports=[n(234),n(663),n(667),n(672),n(480),n(66),n(231)]},/* 666 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * @constructor UpdateNode
   */
function i(){
// TODO: deprecated since v3. Cleanup some day
throw new Error("UpdateNode is deprecated. Use AssignmentNode instead.")}return i}e.name="UpdateNode",e.path="expression.node",e.factory=r},/* 667 */
/***/
function(t,e,n){t.exports=[n(236),n(161),n(237),n(238),n(239),n(96),n(241),n(240),n(97),n(26),n(242),n(120),n(121),n(162),n(59),n(666)]},/* 668 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){var s=r(n(123)),a=r(n(2));/**
   * Replace part of an object:
   *
   * - Assign a property to an object
   * - Replace a part of a string
   * - Replace a matrix subset
   *
   * @param {Object | Array | Matrix | string} object
   * @param {Index} index
   * @param {*} value
   * @return {Object | Array | Matrix | string} Returns the original object
   *                                            except in case of a string
   */
return function(t,e,n){try{if(Array.isArray(t))return a(t).subset(e,n).valueOf();if(t&&"function"==typeof t.subset)// Matrix
return t.subset(e,n);if("string"==typeof t)
// TODO: move setStringSubset into a separate util file, use that
return s(t,e,n);if("object"==typeof t){if(!e.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return t[e.getObjectProperty()]=n,t}throw new TypeError("Cannot apply index: unsupported type of object")}catch(t){throw i(t)}}}var i=n(67).transform;e.factory=r},/* 669 */
/***/
function(t,e,n){"use strict";/**
 * Attach a transform function to math.range
 * Adds a property transform containing the transform function.
 *
 * This transform changed the last `dim` parameter of function concat
 * from one-based to zero based
 */
function r(t,e,r,o){var s=r(n(258));
// @see: comment of concat itself
return o("concat",{"...any":function(t){
// change last argument from one-based to zero-based
var e=t.length-1,n=t[e];"number"==typeof n?t[e]=n-1:n&&!0===n.isBigNumber&&(t[e]=n.minus(1));try{return s.apply(null,t)}catch(t){throw i(t)}}})}var i=n(67).transform;e.name="concat",e.path="expression.transform",e.factory=r},/* 670 */
/***/
function(t,e,n){"use strict";/**
 * Attach a transform function to math.filter
 * Adds a property transform containing the transform function.
 *
 * This transform adds support for equations as test function for math.filter,
 * so you can do something like 'filter([3, -2, 5], x > 0)'.
 */
function r(t,e,r,i){function o(t,e,n){var r,i;if(t[0]&&(r=t[0].compile().eval(n)),t[1])if(t[1]&&t[1].isSymbolNode)
// a function pointer, like filter([3, -2, 5], myTestFunction);
i=t[1].compile().eval(n);else{
// an equation like filter([3, -2, 5], x > 0)
// find an undefined symbol
var o=n||{},a=t[1].filter(function(t){return t&&t.isSymbolNode&&!(t.name in e)&&!(t.name in o)})[0],u=Object.create(o),c=t[1].compile();if(!a)throw new Error("No undefined variable found in filter equation");var l=a.name;i=function(t){return u[l]=t,c.eval(u)}}return s(r,i)}var s=r(n(260));r(n(59));return o.rawArgs=!0,o}e.name="filter",e.path="expression.transform",e.factory=r},/* 671 */
/***/
function(t,e,n){"use strict";/**
 * Attach a transform function to math.forEach
 * Adds a property transform containing the transform function.
 *
 * This transform creates a one-based index instead of a zero-based index
 */
function r(t,e,r,o){r(n(261));return o("forEach",{"Array | Matrix, function":function(t,e){
// figure out what number of arguments the callback function expects
var n=i(e),r=function(i,o){Array.isArray(i)?i.forEach(function(t,e){
// we create a copy of the index array and append the new index value
r(t,o.concat(e+1))}):
// invoke the callback function with the right number of arguments
1===n?e(i):2===n?e(i,o):// 3 or -1
e(i,o,t)};r(t.valueOf(),[])}})}var i=n(71).maxArgumentCount;e.name="forEach",e.path="expression.transform",e.factory=r},/* 672 */
/***/
function(t,e,n){t.exports=[n(669),n(670),n(671),n(673),n(674),n(675),n(676),n(677),n(678),n(679)]},/* 673 */
/***/
function(t,e,n){"use strict";/**
 * Attach a transform function to math.index
 * Adds a property transform containing the transform function.
 *
 * This transform creates a one-based index instead of a zero-based index
 */
function r(t,e,n){return function(){for(var e=[],n=0,r=arguments.length;n<r;n++){var i=arguments[n];
// change from one-based to zero based, and convert BigNumber to number
if(i&&!0===i.isRange)i.start--,i.end-=i.step>0?0:2;else if(i&&!0===i.isSet)i=i.map(function(t){return t-1});else if(i&&(!0===i.isArray||i.isMatrix))i=i.map(function(t){return t-1});else if("number"==typeof i)i--;else if(i&&!0===i.isBigNumber)i=i.toNumber()-1;else if("string"!=typeof i)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");e[n]=i}var o=new t.Index;return t.Index.apply(o,e),o}}e.name="index",e.path="expression.transform",e.factory=r},/* 674 */
/***/
function(t,e,n){"use strict";/**
 * Attach a transform function to math.map
 * Adds a property transform containing the transform function.
 *
 * This transform creates a one-based index instead of a zero-based index
 */
function r(t,e,r,o){var s=(r(n(166)),r(n(2)));return o("max",{"Array, function":function(t,e){return i(t,e,t)},"Matrix, function":function(t,e){return s(i(t.valueOf(),e,t))}})}/**
 * Map for a multi dimensional array. One-based indexes
 * @param {Array} array
 * @param {function} callback
 * @param {Array} orig
 * @return {Array}
 * @private
 */
function i(t,e,n){function r(t,o){
// invoke the callback function with the right number of arguments
return Array.isArray(t)?t.map(function(t,e){
// we create a copy of the index array and append the new index value
return r(t,o.concat(e+1))}):1===i?e(t):2===i?e(t,o):e(t,o,n)}
// figure out what number of arguments the callback function expects
var i=o(e);return r(t,[])}var o=n(71).maxArgumentCount;e.name="map",e.path="expression.transform",e.factory=r},/* 675 */
/***/
function(t,e,n){"use strict";/**
 * Attach a transform function to math.max
 * Adds a property transform containing the transform function.
 *
 * This transform changed the last `dim` parameter of function max
 * from one-based to zero based
 */
function r(t,e,r,s){var a=r(n(267));return s("max",{"...any":function(t){
// change last argument dim from one-based to zero-based
if(2==t.length&&o(t[0])){var e=t[1];"number"==typeof e?t[1]=e-1:e&&!0===e.isBigNumber&&(t[1]=e.minus(1))}try{return a.apply(null,t)}catch(t){throw i(t)}}})}var i=n(67).transform,o=n(85);e.name="max",e.path="expression.transform",e.factory=r},/* 676 */
/***/
function(t,e,n){"use strict";/**
 * Attach a transform function to math.mean
 * Adds a property transform containing the transform function.
 *
 * This transform changed the last `dim` parameter of function mean
 * from one-based to zero based
 */
function r(t,e,r,s){var a=r(n(268));return s("mean",{"...any":function(t){
// change last argument dim from one-based to zero-based
if(2==t.length&&o(t[0])){var e=t[1];"number"==typeof e?t[1]=e-1:e&&!0===e.isBigNumber&&(t[1]=e.minus(1))}try{return a.apply(null,t)}catch(t){throw i(t)}}})}var i=n(67).transform,o=n(85);e.name="mean",e.path="expression.transform",e.factory=r},/* 677 */
/***/
function(t,e,n){"use strict";/**
 * Attach a transform function to math.min
 * Adds a property transform containing the transform function.
 *
 * This transform changed the last `dim` parameter of function min
 * from one-based to zero based
 */
function r(t,e,r,s){var a=r(n(270));return s("min",{"...any":function(t){
// change last argument dim from one-based to zero-based
if(2==t.length&&o(t[0])){var e=t[1];"number"==typeof e?t[1]=e-1:e&&!0===e.isBigNumber&&(t[1]=e.minus(1))}try{return a.apply(null,t)}catch(t){throw i(t)}}})}var i=n(67).transform,o=n(85);e.name="min",e.path="expression.transform",e.factory=r},/* 678 */
/***/
function(t,e,n){"use strict";/**
 * Attach a transform function to math.range
 * Adds a property transform containing the transform function.
 *
 * This transform creates a range which includes the end value
 */
function r(t,e,r,i){var o=r(n(263));return i("range",{"...any":function(t){
// append a parameter includeEnd=true
return"boolean"!=typeof t[t.length-1]&&t.push(!0),o.apply(null,t)}})}e.name="range",e.path="expression.transform",e.factory=r},/* 679 */
/***/
function(t,e,n){"use strict";/**
 * Attach a transform function to math.subset
 * Adds a property transform containing the transform function.
 *
 * This transform creates a range which includes the end value
 */
function r(t,e,r,o){var s=r(n(123));return o("subset",{"...any":function(t){try{return s.apply(null,t)}catch(t){throw i(t)}}})}var i=n(67).transform;e.name="subset",e.path="expression.transform",e.factory=r},/* 680 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){/**
   * Ensures the number of arguments for a function are correct,
   * and will throw an error otherwise.
   *
   * @param {FunctionNode} node
   */
function o(t){
//TODO add min, max etc
if("log"!=t.name&&"nthRoot"!=t.name||2!=t.args.length){
// There should be an incorrect number of arguments if we reach here
// Change all args to constants to avoid unidentified
// symbol error when compiling function
for(var e=0;e<t.args.length;++e)t.args[e]=new u(0);throw t.compile().eval(),new Error("Expected TypeError, but none found")}}var s=r(n(66)),a=r(n(246)),u=r(n(96)),c=r(n(97)),l=r(n(120)),f=r(n(121)),p=(r(n(59)),i("derivative",{"Node, SymbolNode, Object":function(t,e,n){var r={};d(r,t,e.name);var i=m(t,r);return n.simplify?a(i):i},"Node, SymbolNode":function(t,e){return p(t,e,{simplify:!0})},"string, SymbolNode":function(t,e){return p(s(t),e)},"string, SymbolNode, Object":function(t,e,n){return p(s(t),e,n)},"string, string":function(t,e){return p(s(t),s(e))},"string, string, Object":function(t,e,n){return p(s(t),s(e),n)},"Node, string":function(t,e){return p(t,s(e))},"Node, string, Object":function(t,e,n){return p(t,s(e),n)}}));p._simplify=!0,p.toTex=function(t){return h.apply(null,t.args)};var h=i("_derivTex",{"Node, SymbolNode":function(t,e){return h(t.toString(),e.toString(),1)},"Node, SymbolNode, ConstantNode":function(t,e,n){return h(t.toString(),e.name,n.value)},"string, string, number":function(t,e,n){return(1===n?"{d\\over d"+e+"}":"{d^{"+n+"}\\over d"+e+"^{"+n+"}}")+"\\left["+t+"\\right]"}}),d=i("constTag",{"Object, ConstantNode, string":function(t,e){return t[e]=!0},"Object, SymbolNode, string":function(t,e,n){
// Treat other variables like constants. For reasoning, see:
//   https://en.wikipedia.org/wiki/Partial_derivative
// Treat other variables like constants. For reasoning, see:
//   https://en.wikipedia.org/wiki/Partial_derivative
return e.name!=n&&(t[e]=!0)},"Object, ParenthesisNode, string":function(t,e,n){return d(t,e.content,n)},"Object, FunctionAssignmentNode, string":function(t,e,n){return-1==e.params.indexOf(n)?t[e]=!0:d(t,e.expr,n)},"Object, FunctionNode | OperatorNode, string":function(t,e,n){if(0!=e.args.length){for(var r=d(t,e.args[0],n),i=1;i<e.args.length;++i)r=d(t,e.args[i],n)&&r;if(r)return t[e]=!0}return!1}}),m=i("_derivative",{"ConstantNode, Object":function(t){return new u("0",t.valueType)},"SymbolNode, Object":function(t,n){return void 0!==n[t]?new u("0",e.number):new u("1",e.number)},"ParenthesisNode, Object":function(t,e){return new f(m(t.content,e))},"FunctionAssignmentNode, Object":function(t,n){return void 0!==n[t]?new u("0",e.number):m(t.expr,n)},"FunctionNode, Object":function(t,n){if(1!=t.args.length&&o(t),void 0!==n[t])return new u("0",e.number);var r,i,s=t.args[0],a=!1,f=!1;switch(t.name){case"cbrt":
// d/dx(cbrt(x)) = 1 / (3x^(2/3))
a=!0,i=new l("*","multiply",[new u("3",e.number),new l("^","pow",[s,new l("/","divide",[new u("2",e.number),new u("3",e.number)])])]);break;case"sqrt":case"nthRoot":
// d/dx(sqrt(x)) = 1 / (2*sqrt(x))
if(1==t.args.length){a=!0,i=new l("*","multiply",[new u("2",e.number),new c("sqrt",[s])]);break}
// Rearrange from nthRoot(x, a) -> x^(1/a)
// Is a variable?
return r=new l("/","divide",[new u("1",e.number),t.args[1]]),n[r]=n[t.args[1]],m(new l("^","pow",[s,r]),n);case"log10":r=new u("10",e.number);case"log":if(r||1!=t.args.length){if(!r&&void 0===n[t.args[1]])
// d/dx(log(f(x), g(x))) = d/dx(log(f(x)) / log(g(x)))
return m(new l("/","divide",[new c("log",[s]),new c("log",[t.args[1]])]),n);
// d/dx(log(x, c)) = 1 / (x*ln(c))
i=new l("*","multiply",[s.clone(),new c("log",[r||t.args[1]])])}else
// d/dx(log(x)) = 1 / x
i=s.clone();a=!0;break;case"exp":
// d/dx(e^x) = e^x
i=new c("exp",[s.clone()]);break;case"sin":
// d/dx(sin(x)) = cos(x)
i=new c("cos",[s.clone()]);break;case"cos":
// d/dx(cos(x)) = -sin(x)
i=new l("-","unaryMinus",[new c("sin",[s.clone()])]);break;case"tan":
// d/dx(tan(x)) = sec(x)^2
i=new l("^","pow",[new c("sec",[s.clone()]),new u("2",e.number)]);break;case"sec":
// d/dx(sec(x)) = sec(x)tan(x)
i=new l("*","multiply",[t,new c("tan",[s.clone()])]);break;case"csc":
// d/dx(csc(x)) = -csc(x)cot(x)
f=!0,i=new l("*","multiply",[t,new c("cot",[s.clone()])]);break;case"cot":
// d/dx(cot(x)) = -csc(x)^2
f=!0,i=new l("^","pow",[new c("csc",[s.clone()]),new u("2",e.number)]);break;case"asin":
// d/dx(asin(x)) = 1 / sqrt(1 - x^2)
a=!0,i=new c("sqrt",[new l("-","subtract",[new u("1",e.number),new l("^","pow",[s.clone(),new u("2",e.number)])])]);break;case"acos":
// d/dx(acos(x)) = -1 / sqrt(1 - x^2)
a=!0,f=!0,i=new c("sqrt",[new l("-","subtract",[new u("1",e.number),new l("^","pow",[s.clone(),new u("2",e.number)])])]);break;case"atan":
// d/dx(atan(x)) = 1 / (x^2 + 1)
a=!0,i=new l("+","add",[new l("^","pow",[s.clone(),new u("2",e.number)]),new u("1",e.number)]);break;case"asec":
// d/dx(asec(x)) = 1 / (|x|*sqrt(x^2 - 1))
a=!0,i=new l("*","multiply",[new c("abs",[s.clone()]),new c("sqrt",[new l("-","subtract",[new l("^","pow",[s.clone(),new u("2",e.number)]),new u("1",e.number)])])]);break;case"acsc":
// d/dx(acsc(x)) = -1 / (|x|*sqrt(x^2 - 1))
a=!0,f=!0,i=new l("*","multiply",[new c("abs",[s.clone()]),new c("sqrt",[new l("-","subtract",[new l("^","pow",[s.clone(),new u("2",e.number)]),new u("1",e.number)])])]);break;case"acot":
// d/dx(acot(x)) = -1 / (x^2 + 1)
a=!0,f=!0,i=new l("+","add",[new l("^","pow",[s.clone(),new u("2",e.number)]),new u("1",e.number)]);break;case"sinh":
// d/dx(sinh(x)) = cosh(x)
i=new c("cosh",[s.clone()]);break;case"cosh":
// d/dx(cosh(x)) = sinh(x)
i=new c("sinh",[s.clone()]);break;case"tanh":
// d/dx(tanh(x)) = sech(x)^2
i=new l("^","pow",[new c("sech",[s.clone()]),new u("2",e.number)]);break;case"sech":
// d/dx(sech(x)) = -sech(x)tanh(x)
f=!0,i=new l("*","multiply",[t,new c("tanh",[s.clone()])]);break;case"csch":
// d/dx(csch(x)) = -csch(x)coth(x)
f=!0,i=new l("*","multiply",[t,new c("coth",[s.clone()])]);break;case"coth":
// d/dx(coth(x)) = -csch(x)^2
f=!0,i=new l("^","pow",[new c("csch",[s.clone()]),new u("2",e.number)]);break;case"asinh":
// d/dx(asinh(x)) = 1 / sqrt(x^2 + 1)
a=!0,i=new c("sqrt",[new l("+","add",[new l("^","pow",[s.clone(),new u("2",e.number)]),new u("1",e.number)])]);break;case"acosh":
// d/dx(acosh(x)) = 1 / sqrt(x^2 - 1); XXX potentially only for x >= 1 (the real spectrum)
a=!0,i=new c("sqrt",[new l("-","subtract",[new l("^","pow",[s.clone(),new u("2",e.number)]),new u("1",e.number)])]);break;case"atanh":
// d/dx(atanh(x)) = 1 / (1 - x^2)
a=!0,i=new l("-","subtract",[new u("1",e.number),new l("^","pow",[s.clone(),new u("2",e.number)])]);break;case"asech":
// d/dx(asech(x)) = -1 / (x*sqrt(1 - x^2))
a=!0,f=!0,i=new l("*","multiply",[s.clone(),new c("sqrt",[new l("-","subtract",[new u("1",e.number),new l("^","pow",[s.clone(),new u("2",e.number)])])])]);break;case"acsch":
// d/dx(acsch(x)) = -1 / (|x|*sqrt(x^2 + 1))
a=!0,f=!0,i=new l("*","multiply",[new c("abs",[s.clone()]),new c("sqrt",[new l("+","add",[new l("^","pow",[s.clone(),new u("2",e.number)]),new u("1",e.number)])])]);break;case"acoth":
// d/dx(acoth(x)) = -1 / (1 - x^2)
a=!0,f=!0,i=new l("-","subtract",[new u("1",e.number),new l("^","pow",[s.clone(),new u("2",e.number)])]);break;case"gamma":// Needs digamma function, d/dx(gamma(x)) = gamma(x)digamma(x)
default:throw new Error('Function "'+t.name+'" not supported by derivative')}var p,h;a?(p="/",h="divide"):(p="*",h="multiply");/* Apply chain rule to all functions:
         F(x)  = f(g(x))
         F'(x) = g'(x)*f'(g(x)) */
var d=m(s,n);return f&&(d=new l("-","unaryMinus",[d])),new l(p,h,[d,i])},"OperatorNode, Object":function(t,n){if(void 0!==n[t])return new u("0",e.number);var r=t.args[0],i=t.args[1];switch(t.op){case"+":case"-":
// d/dx(+/-f(x)) = +/-f'(x)
// d/dx(+/-f(x)) = +/-f'(x)
return 1==t.args.length?new l(t.op,t.fn,[m(r,n)]):new l(t.op,t.fn,[m(r,n),m(i,n)]);case"*":
// d/dx(c*f(x)) = c*f'(x)
if(void 0!==n[r]||void 0!==n[i]){var o=void 0!==n[r]?[r.clone(),m(i,n)]:[i.clone(),m(r,n)];return new l("*","multiply",o)}
// Product Rule, d/dx(f(x)*g(x)) = f'(x)*g(x) + f(x)*g'(x)
return new l("+","add",[new l("*","multiply",[m(r,n),i.clone()]),new l("*","multiply",[r.clone(),m(i,n)])]);case"/":
// d/dx(f(x) / c) = f'(x) / c
// d/dx(f(x) / c) = f'(x) / c
// Reciprocal Rule, d/dx(c / f(x)) = -c(f'(x)/f(x)^2)
return void 0!==n[i]?new l("/","divide",[m(r,n),i]):void 0!==n[r]?new l("*","multiply",[new l("-","unaryMinus",[r]),new l("/","divide",[m(i,n),new l("^","pow",[i.clone(),new u("2",e.number)])])]):new l("/","divide",[new l("-","subtract",[new l("*","multiply",[m(r,n),i.clone()]),new l("*","multiply",[r.clone(),m(i,n)])]),new l("^","pow",[i.clone(),new u("2",e.number)])]);case"^":if(void 0!==n[r])
// If is secretly constant; 0^f(x) = 1 (in JS), 1^f(x) = 1
// If is secretly constant; 0^f(x) = 1 (in JS), 1^f(x) = 1
return!r.isConstantNode||"0"!=r.value&&"1"!=r.value?new l("*","multiply",[t,new l("*","multiply",[new c("log",[r.clone()]),m(i.clone(),n)])]):new u("0",e.number);if(void 0!==n[i]){if(i.isConstantNode){var s=i.value;
// If is secretly constant; f(x)^0 = 1 -> d/dx(1) = 0
if("0"==s)return new u("0",e.number);
// Ignore exponent; f(x)^1 = f(x)
if("1"==s)return m(r,n)}
// Elementary Power Rule, d/dx(f(x)^c) = c*f'(x)*f(x)^(c-1)
var a=new l("^","pow",[r.clone(),new l("-","subtract",[i,new u("1",e.number)])]);return new l("*","multiply",[i.clone(),new l("*","multiply",[m(r,n),a])])}
// Functional Power Rule, d/dx(f^g) = f^g*[f'*(g/f) + g'ln(f)]
return new l("*","multiply",[new l("^","pow",[r.clone(),i.clone()]),new l("+","add",[new l("*","multiply",[m(r,n),new l("/","divide",[i.clone(),r.clone()])]),new l("*","multiply",[m(i,n),new c("log",[r.clone()])])])]);case"%":case"mod":default:throw new Error('Operator "'+t.op+'" not supported by derivative')}}});return p}e.name="derivative",e.factory=r},/* 681 */
/***/
function(t,e,n){t.exports=[n(680),
// simplify
n(246),
// decomposition
n(244),n(245),
// solver
n(248),n(683),n(249)]},/* 682 */
/***/
function(t,e,n){"use strict";
// TODO this could be improved by simplifying seperated constants under associative and commutative operators
function r(t,e,r,o,s){function a(t){var e=p(t);return e.isNode?e:w(e)}function u(t,e){try{return _(s[t].apply(null,e))}catch(n){
// sometimes the implicit type conversion causes the evaluation to fail, so we'll try again using just numbers
return e=e.map(function(t){return t.valueOf()}),_(s[t].apply(null,e))}}function c(t){return t<0?new b("-","unaryMinus",[new g(-t)]):new g(t)}function l(t){var e,n=t.s*t.n;return e=n<0?new b("-","unaryMinus",[new g(-n)]):new g(n),1===t.d?e:new b("/","divide",[e,new g(t.d)])}/*
   * Create a binary tree from a list of Fractions and Nodes.
   * Tries to fold Fractions by evaluating them until the first Node in the list is hit, so
   * `args` should be sorted to have the Fractions at the start (if the operator is commutative).
   * @param args - list of Fractions and Nodes
   * @param fn - evaluator for the binary operation evaluator that accepts two Fractions
   * @param makeNode - creates a binary OperatorNode/FunctionNode from a list of child Nodes
   * if args.length is 1, returns args[0]
   * @return - Either a Node representing a binary expression or Fraction
   */
function f(t,e,n){return e.reduce(function(e,r){if(e.isNode||r.isNode)e.isNode?r.isNode||(r=w(r)):e=w(e);else{try{return u(t,[e,r])}catch(t){}e=w(e),r=w(r)}return n([e,r])})}
// destroys the original node and returns a folded one
function p(t){switch(t.type){case"SymbolNode":return t;case"ConstantNode":return _(t.value);case"FunctionNode":if(s[t.name]&&s[t.name].rawArgs)return t;/* falls through */
case"OperatorNode":var e,n,r=t.fn.toString(),i=y(t);if(1===t.args.length)e=[p(t.args[0])],n=e[0].isNode?i(e):u(r,e);else if(m(t))if(e=v(t),e=e.map(p),d(r)){for(var o=[],a=[],c=0;c<e.length;c++)e[c].isNode?a.push(e[c]):o.push(e[c]);o.length>1?(n=f(r,o,i),a.unshift(n),n=f(r,a,i)):
// we won't change the children order since it's not neccessary
n=f(r,e,i)}else
// non-commutative binary operator
n=f(r,e,i);else
// non-associative binary operator
e=t.args.map(p),n=f(r,e,i);return n;case"ParenthesisNode":
// remove the uneccessary parenthesis
return p(t.content);case"AccessorNode":/* falls through */
case"ArrayNode":/* falls through */
case"AssignmentNode":/* falls through */
case"BlockNode":/* falls through */
case"FunctionAssignmentNode":/* falls through */
case"IndexNode":/* falls through */
case"ObjectNode":/* falls through */
case"RangeNode":/* falls through */
case"UpdateNode":/* falls through */
case"ConditionalNode":/* falls through */
default:throw"Unimplemented node type in simplifyConstant: "+t.type}}var h=r(n(247)),d=h.isCommutative,m=h.isAssociative,v=h.allChildren,y=h.createMakeNodeFunction,g=s.expression.node.ConstantNode,b=s.expression.node.OperatorNode,w=o({Fraction:l,number:c,BigNumber:function(t){return c(t._toNumber())},Complex:function(t){throw"Cannot convert Complex number to Node"}}),_=o({Fraction:function(t){return t},BigNumber:function(t){return t.decimalPlaces()<=15?s.fraction(t.toNumber()):t.toNumber()},number:function(t){return i(t)<=15?s.fraction(t):t},Complex:function(t){return 0!==t.im?t:i(t.re)<=15?s.fraction(t.re):t.re}});return a}var i=n(5).digits;e.math=!0,e.name="simplifyConstant",e.path="algebra.simplify",e.factory=r},/* 683 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){var s=r(n(2)),a=r(n(244)),u=r(n(245)),c=r(n(689)),l=r(n(163)),f=r(n(249)),p=r(n(248)),h=o("lusolve",{"Array, Array | Matrix":function(t,e){
// convert a to matrix
t=s(t);
// matrix lup decomposition
var n=a(t);
// convert result to array
return m(n.L,n.U,n.p,null,e).valueOf()},"DenseMatrix, Array | Matrix":function(t,e){
// matrix lup decomposition
var n=a(t);
// solve
return m(n.L,n.U,n.p,null,e)},"SparseMatrix, Array | Matrix":function(t,e){
// matrix lup decomposition
var n=a(t);
// solve
return m(n.L,n.U,n.p,null,e)},"SparseMatrix, Array | Matrix, number, number":function(t,e,n,r){
// matrix lu decomposition
var i=u(t,n,r);
// solve
return m(i.L,i.U,i.p,i.q,e)},"Object, Array | Matrix":function(t,e){
// solve
return m(t.L,t.U,t.p,t.q,e)}}),d=function(t){
// check it is a matrix
if(t&&!0===t.isMatrix)return t;
// check array
if(i(t))return s(t);
// throw
throw new TypeError("Invalid Matrix LU decomposition")},m=function(t,e,n,r,i){
// verify L, U, P
t=d(t),e=d(e),
// validate matrix and vector
i=l(t,i,!1),
// apply row permutations if needed (b is a DenseMatrix)
n&&(i._data=c(n,i._data));
// use forward substitution to resolve L * y = b
var o=p(t,i),s=f(e,o);
// return solution
// apply column permutations if needed (x is a DenseMatrix)
return r&&(s._data=c(r,s._data)),s};return h}var i=Array.isArray;e.name="lusolve",e.factory=r},/* 684 */
/***/
function(t,e,n){"use strict";function r(t,e,r){var i=r(n(164)),o=r(n(688)),s=r(n(252)),a=r(n(34)),u=r(n(21)),c=r(n(124)),l=function(t,e){
// check input parameters
if(!e||t<=0||t>3)return null;
// a matrix arrays
var n=e._size,r=n[0],a=n[1],u=0,c=Math.max(16,10*Math.sqrt(a));c=Math.min(a-2,c);
// create target matrix C
var l=f(t,e,r,a,c);
// drop diagonal entries
o(l,m,null);
// while (selecting pivots) do
for(
// C matrix arrays
var v,y,g,b,w,_,x,E,C,S,N,M,O,T,A,P,k=l._index,I=l._ptr,R=I[a],j=[],D=[],L=a+1,F=2*(a+1),U=3*(a+1),V=4*(a+1),B=5*(a+1),z=6*(a+1),q=7*(a+1),H=j,G=p(a,I,D,0,U,H,F,q,L,z,V,B),W=h(a,I,D,B,V,z,c,L,U,H,F),$=0;W<a;){
// select node of minimum approximate degree. amd() is now ready to start eliminating the graph. It first
// finds a node k of minimum degree and removes it from its degree list. The variable nel keeps track of thow
// many nodes have been eliminated.
for(g=-1;$<a&&-1==(g=D[U+$]);$++);-1!=D[F+g]&&(H[D[F+g]]=-1),
// remove k from degree list
D[U+$]=D[F+g];
// elenk = |Ek|
var Y=D[V+g],X=D[L+g];
// W[nv + k] nodes of A eliminated
W+=X;
// Construct a new element. The new element Lk is constructed in place if |Ek| = 0. nv[i] is 
// negated for all nodes i in Lk to flag them as members of this set. Each node i is removed from the
// degree lists. All elements e in Ek are absorved into element k.
var Z=0;
// flag k as in Lk
D[L+g]=-X;var K=I[g],Q=0===Y?K:R,J=Q;for(b=1;b<=Y+1;b++){for(b>Y?(
// search the nodes in k
_=g,
// list of nodes starts at cindex[pj]
x=K,
// length of list of nodes in k
E=D[0+g]-Y):(
// search the nodes in e
_=k[K++],x=I[_],
// length of list of nodes in e
E=D[0+_]),w=1;w<=E;w++)v=k[x++],
// check  node i dead, or seen
(C=D[L+v])<=0||(
// W[degree + Lk] += size of node i
Z+=C,
// negate W[nv + i] to denote i in Lk
D[L+v]=-C,
// place i in Lk
k[J++]=v,-1!=D[F+v]&&(H[D[F+v]]=H[v]),
// check we need to remove i from degree list
-1!=H[v]?D[F+H[v]]=D[F+v]:D[U+D[B+v]]=D[F+v]);_!=g&&(
// absorb e into k
I[_]=i(g),
// e is now a dead element
D[z+_]=0)}
// scan 1: find |Le\Lk|
for(
// cindex[cnz...nzmax] is free
0!==Y&&(R=J),
// external degree of k - |Lk\i|
D[B+g]=Z,
// element k is in cindex[pk1..pk2-1]
I[g]=Q,D[0+g]=J-Q,
// k is now an element
D[V+g]=-2,
// Find set differences. The scan1 function now computes the set differences |Le \ Lk| for all elements e. At the start of the
// scan, no entry in the w array is greater than or equal to mark.
// clear w if necessary
G=d(G,u,D,z,a),S=Q;S<J;S++)
// check if W[elen + i] empty, skip it
if(v=k[S],!((N=D[V+v])<=0)){
// W[nv + i] was negated
C=-D[L+v];var tt=G-C;
// scan Ei
for(K=I[v],M=I[v]+N-1;K<=M;K++)_=k[K],D[z+_]>=G?
// decrement |Le\Lk|
D[z+_]-=C:0!==D[z+_]&&(
// ensure e is a live element, 1st time e seen in scan 1
D[z+_]=D[B+_]+tt)}
// degree update
// The second pass computes the approximate degree di, prunes the sets Ei and Ai, and computes a hash
// function h(i) for all nodes in Lk.
// scan2: degree update
for(S=Q;S<J;S++){
// scan Ei
for(
// consider node i in Lk
v=k[S],M=I[v],O=M+D[V+v]-1,T=M,A=0,P=0,K=M;K<=O;K++)
// check e is an unabsorbed element
if(_=k[K],0!==D[z+_]){
// dext = |Le\Lk|
var et=D[z+_]-G;et>0?(
// sum up the set differences
P+=et,
// keep e in Ei
k[T++]=_,
// compute the hash of node i
A+=_):(
// aggressive absorb. e->k
I[_]=i(g),
// e is a dead element
D[z+_]=0)}
// W[elen + i] = |Ei|
D[V+v]=T-M+1;var nt=T,rt=M+D[0+v];
// prune edges in Ai
for(K=O+1;K<rt;K++){y=k[K];
// check node j dead or in Lk
var it=D[L+y];it<=0||(
// degree(i) += |j|
P+=it,
// place j in node list of i
k[T++]=y,
// compute hash for node i
A+=y)}
// check for mass elimination
0===P?(
// absorb i into k
I[v]=i(g),C=-D[L+v],
// |Lk| -= |i|
Z-=C,
// |k| += W[nv + i]
X+=C,W+=C,D[L+v]=0,
// node i is dead
D[V+v]=-1):(
// update degree(i)
D[B+v]=Math.min(D[B+v],P),
// move first node to end
k[T]=k[nt],
// move 1st el. to end of Ei
k[nt]=k[M],
// add k as 1st element in of Ei
k[M]=g,
// new len of adj. list of node i
D[0+v]=T-M+1,
// finalize hash of i
A=(A<0?-A:A)%a,
// place i in hash bucket
D[F+v]=D[q+A],D[q+A]=v,
// save hash of i in last[i]
H[v]=A)}
// Supernode detection. Supernode detection relies on the hash function h(i) computed for each node i.
// If two nodes have identical adjacency lists, their hash functions wil be identical.
for(
// finalize |Lk|
D[B+g]=Z,u=Math.max(u,Z),
// clear w
G=d(G+u,u,D,z,a),S=Q;S<J;S++)
// check i is dead, skip it
if(v=k[S],!(D[L+v]>=0))for(
// scan hash bucket of node i
A=H[v],v=D[q+A],
// hash bucket will be empty
D[q+A]=-1;-1!=v&&-1!=D[F+v];v=D[F+v],G++){for(E=D[0+v],N=D[V+v],K=I[v]+1;K<=I[v]+E-1;K++)D[z+k[K]]=G;var ot=v;
// compare i with all j
for(y=D[F+v];-1!=y;){var st=D[0+y]===E&&D[V+y]===N;for(K=I[y]+1;st&&K<=I[y]+E-1;K++)
// compare i and j
D[z+k[K]]!=G&&(st=0);
// check i and j are identical
st?(
// absorb j into i
I[y]=i(v),D[L+v]+=D[L+y],D[L+y]=0,
// node j is dead
D[V+y]=-1,
// delete j from hash bucket
y=D[F+y],D[F+ot]=y):(
// j and i are different
ot=y,y=D[F+y])}}
// Finalize new element. The elimination of node k is nearly complete. All nodes i in Lk are scanned one last time.
// Node i is removed from Lk if it is dead. The flagged status of nv[i] is cleared.
for(K=Q,S=Q;S<J;S++)v=k[S],
// check  i is dead, skip it
(C=-D[L+v])<=0||(
// restore W[nv + i]
D[L+v]=C,
// compute external degree(i)
P=D[B+v]+Z-C,P=Math.min(P,a-W-C),-1!=D[U+P]&&(H[D[U+P]]=v),
// put i back in degree list
D[F+v]=D[U+P],H[v]=-1,D[U+P]=v,
// find new minimum degree
$=Math.min($,P),D[B+v]=P,
// place i in Lk
k[K++]=v);
// # nodes absorbed into k
D[L+g]=X,
// length of adj list of element k
0==(D[0+g]=K-Q)&&(
// k is a root of the tree
I[g]=-1,
// k is now a dead element
D[z+g]=0),0!==Y&&(
// free unused space in Lk
R=K)}
// Postordering. The elimination is complete, but no permutation has been computed. All that is left 
// of the graph is the assembly tree (ptr) and a set of dead nodes and elements (i is a dead node if
// nv[i] is zero and a dead element if nv[i] > 0). It is from this information only that the final permutation
// is computed. The tree is restored by unflipping all of ptr.
// fix assembly tree
for(v=0;v<a;v++)I[v]=i(I[v]);for(y=0;y<=a;y++)D[U+y]=-1;
// place unordered nodes in lists
for(y=a;y>=0;y--)
// skip if j is an element
D[L+y]>0||(
// place j in list of its parent
D[F+y]=D[U+I[y]],D[U+I[y]]=y);
// place elements in lists
for(_=a;_>=0;_--)
// skip unless e is an element
D[L+_]<=0||-1!=I[_]&&(
// place e in list of its parent
D[F+_]=D[U+I[_]],D[U+I[_]]=_);
// postorder the assembly tree
for(g=0,v=0;v<=a;v++)-1==I[v]&&(g=s(v,g,D,U,F,j,z));
// return P
// remove last item in array
return j.splice(j.length-1,1),j},f=function(t,e,n,r,i){
// compute A'
var o=c(e);
// check order = 1, matrix must be square
if(1===t&&r===n)
// C = A + A'
return a(e,o);
// check order = 2, drop dense columns from M'
if(2==t){
// loop A' columns (rows)
for(var s=o._index,l=o._ptr,f=0,p=0;p<n;p++){
// column j of AT starts here
var h=l[p];
// skip dense col j
if(
// new column j starts here
l[p]=f,!(l[p+1]-h>i))
// map rows in column j of A
for(var d=l[p+1];h<d;h++)s[f++]=s[h]}
// use A' * A
// finalize AT
// recreate A from new transpose matrix
return l[n]=f,e=c(o),u(o,e)}
// use A' * A, square or rectangular matrix
return u(o,e)},p=function(t,e,n,r,i,o,s,a,u,c,l,f){
// Initialize quotient graph
for(var p=0;p<t;p++)n[r+p]=e[p+1]-e[p];n[r+t]=0;
// initialize workspace
for(var h=0;h<=t;h++)
// degree list i is empty
n[i+h]=-1,o[h]=-1,n[s+h]=-1,
// hash list i is empty
n[a+h]=-1,
// node i is just one node
n[u+h]=1,
// node i is alive
n[c+h]=1,
// Ek of node i is empty
n[l+h]=0,
// degree of node i
n[f+h]=n[r+h];
// clear w
var m=d(0,0,n,c,t);
// return mark
// n is a dead element
// n is a root of assembly tree
// n is a dead element
return n[l+t]=-2,e[t]=-1,n[c+t]=0,m},h=function(t,e,n,r,o,s,a,u,c,l,f){
// loop columns
for(var p=0,h=0;h<t;h++){
// degree @ i
var d=n[r+h];
// check node i is empty
if(0===d)
// element i is dead
n[o+h]=-2,p++,
// i is a root of assembly tree
e[h]=-1,n[s+h]=0;else if(d>a)
// absorb i into element n
n[u+h]=0,
// node i is dead
n[o+h]=-1,p++,e[h]=i(t),n[u+t]++;else{var m=n[c+d];-1!=m&&(l[m]=h),
// put node i in degree list d
n[f+h]=n[c+d],n[c+d]=h}}return p},d=function(t,e,n,r,i){if(t<2||t+e<0){for(var o=0;o<i;o++)0!==n[r+o]&&(n[r+o]=1);t=2}
// at this point, W [0..n-1] < mark holds
return t},m=function(t,e){return t!=e};return l}e.name="cs_amd",e.path="sparse",e.factory=r},/* 685 */
/***/
function(t,e,n){"use strict";function r(t,e,r){var i=r(n(124)),o=r(n(690));return function(t,e,n,r){
// check inputs
if(!t||!e||!n)return null;
// a matrix arrays
var s,a,u,c,l,f,p,h=t._size,d=h[0],m=h[1],v=4*m+(r?m+d+1:0),y=[],g=m,b=2*m,w=3*m,_=4*m,x=5*m+1;// last entries in workspace
// clear workspace w[0..s-1]
for(u=0;u<v;u++)y[u]=-1;
// allocate result
var E=[],C=i(t),S=C._index,N=C._ptr;
// find w[first + j]
for(u=0;u<m;u++)for(a=n[u],
// colcount[j]=1 if j is a leaf
E[a]=-1==y[w+a]?1:0;-1!=a&&-1==y[w+a];a=e[a])y[w+a]=u;
// initialize ata if needed
if(r){
// invert post
for(u=0;u<m;u++)y[n[u]]=u;
// loop rows (columns in AT)
for(s=0;s<d;s++){
// values in column i of AT
for(u=m,f=N[s],p=N[s+1],l=f;l<p;l++)u=Math.min(u,y[S[l]]);
// place row i in linked list k
y[x+s]=y[_+u],y[_+u]=s}}
// each node in its own set
for(s=0;s<m;s++)y[0+s]=s;for(u=0;u<m;u++){
// J=j for LL'=A case
for(
// j is the kth node in postordered etree
a=n[u],
// check j is not a root
-1!=e[a]&&E[e[a]]--,c=r?y[_+u]:a;-1!=c;c=r?y[x+c]:-1)for(l=N[c];l<N[c+1];l++){s=S[l];var M=o(s,a,y,w,g,b,0);
// check A(i,j) is in skeleton
M.jleaf>=1&&E[a]++,
// check account for overlap in q
2==M.jleaf&&E[M.q]--}-1!=e[a]&&(y[0+a]=e[a])}
// sum up colcount's of each child
for(a=0;a<m;a++)-1!=e[a]&&(E[e[a]]+=E[a]);return E}}e.name="cs_counts",e.path="sparse",e.factory=r},/* 686 */
/***/
function(t,e,n){"use strict";function r(t,e,r){var i=r(n(251)),o=r(n(250)),s=r(n(697));return function(t,e,n,r,a){
// g arrays
var u,c,l,f=e._index,p=e._ptr,h=e._size,d=h[1],m=0;
// loop
for(
// initialize the recursion stack
r[0]=t;m>=0;){
// get j from the top of the recursion stack
t=r[m];
// apply permutation vector
var v=a?a[t]:t;
// check node j is marked
i(p,t)||(
// mark node j as visited
o(p,t),
// update stack (last n entries in xi)
r[d+m]=v<0?0:s(p[v]));
// node j done if no unvisited neighbors
var y=1;
// examine all neighbors of j, stack (last n entries in xi)
for(c=r[d+m],l=v<0?0:s(p[v+1]);c<l;c++)
// check we have visited node i, skip it
if(
// consider neighbor node i
u=f[c],!i(p,u)){
// pause depth-first search of node j, update stack (last n entries in xi)
r[d+m]=c,
// start dfs at node i
r[++m]=u,
// node j is not done
y=0;
// break, to start dfs(i)
break}
// check depth-first search at node j is done
y&&(
// remove j from the recursion stack
m--,
// and place in the output stack
r[--n]=t)}return n}}e.name="cs_dfs",e.path="sparse",e.factory=r},/* 687 */
/***/
function(t,e,n){"use strict";function r(){return function(t,e){
// check inputs
if(!t)return null;
// a arrays
var n,r,i=t._index,o=t._ptr,s=t._size,a=s[0],u=s[1],c=[],l=[],f=u;
// check we are calculating A'A
if(e)
// initialize workspace
for(n=0;n<a;n++)l[f+n]=-1;
// loop columns
for(var p=0;p<u;p++){
// node k has no parent yet
c[p]=-1,
// nor does k have an ancestor
l[0+p]=-1;
// values in column k
for(var h=o[p],d=o[p+1],m=h;m<d;m++){
// row
var v=i[m];
// traverse from i to k 
for(
// node
n=e?l[f+v]:v;-1!=n&&n<p;n=r)
// inext = ancestor of i
r=l[0+n],
// path compression
l[0+n]=p,
// check no anc., parent is k
-1==r&&(c[n]=p);e&&(l[f+v]=p)}}return c}}e.name="cs_etree",e.path="sparse",e.factory=r},/* 688 */
/***/
function(t,e,n){"use strict";function r(){return function(t,e,n){
// loop columns
for(var r=t._values,i=t._index,o=t._ptr,s=t._size,a=s[1],u=0,c=0;c<a;c++){
// get current location of col j
var l=o[c];for(
// record new location of col j
o[c]=u;l<o[c+1];l++)
// check we need to keep this item
e(i[l],c,r?r[l]:1,n)&&(
// keep A(i,j)
i[u]=i[l],
// check we need to process values (pattern only)
r&&(r[u]=r[l]),
// increment nonzero items
u++)}
// return number of nonzero items
// finalize A
// trim arrays
// check we need to process values (pattern only)
return o[a]=u,i.splice(u,i.length-u),r&&r.splice(u,r.length-u),u}}e.name="cs_fkeep",e.path="sparse",e.factory=r},/* 689 */
/***/
function(t,e,n){"use strict";function r(){return function(t,e,n){
// vars 
var r,n=e.length,i=[];
// check permutation vector was provided, p = null denotes identity
if(t)
// loop vector
for(r=0;r<n;r++)
// apply permutation
i[t[r]]=e[r];else
// loop vector
for(r=0;r<n;r++)
// x[i] = b[i]
i[r]=e[r];return i}}e.name="cs_ipvec",e.path="sparse",e.factory=r},/* 690 */
/***/
function(t,e,n){"use strict";function r(){return function(t,e,n,r,i,o,s){var a,u,c,l,f=0;
// check j is a leaf
if(t<=e||n[r+e]<=n[i+t])return-1;
// check j is first or subsequent leaf
if(
// update max first[j] seen so far
n[i+t]=n[r+e],
// jprev = previous leaf of ith subtree
c=n[o+t],n[o+t]=e,-1===c)
// 1st leaf, q = root of ith subtree
f=1,l=t;else{
// q = least common ancester (jprev,j)
for(
// update jleaf
f=2,l=c;l!=n[s+l];l=n[s+l]);for(a=c;a!=l;a=u)
// path compression
u=n[s+a],n[s+a]=l}return{jleaf:f,q:l}}}e.name="cs_leaf",e.path="sparse",e.factory=r},/* 691 */
/***/
function(t,e,n){"use strict";function r(t,e,r){var i=r(n(60)),o=r(n(38)),s=r(n(21)),a=r(n(61)),u=r(n(266)),c=r(n(695)),l=t.SparseMatrix;return function(t,e,n){
// validate input
if(!t)return null;
// m arrays
var r,f=t._size,p=f[1],h=100,d=100;
// update symbolic analysis parameters
e&&(r=e.q,h=e.lnz||h,d=e.unz||d);
// L arrays
var m,v,y=[],g=[],b=[],w=new l({values:y,index:g,ptr:b,size:[p,p]}),_=[],x=[],E=[],C=new l({values:_,index:x,ptr:E,size:[p,p]}),S=[],N=[],M=[];// (2 * n);
// initialize variables
for(m=0;m<p;m++)
// clear workspace
N[m]=0,
// no rows pivotal yet
S[m]=-1,
// no cols of L yet
b[m+1]=0;
// reset number of nonzero elements in L and U
h=0,d=0;
// compute L(:,k) and U(:,k)
for(var O=0;O<p;O++){
// update ptr
b[O]=h,E[O]=d;
// apply column permutations if needed
var T=r?r[O]:O,A=c(w,t,T,M,N,S,1),P=-1,k=-1;
// loop xi[] from top -> n
for(v=A;v<p;v++)
// check row i is not yet pivotal
if(
// x[i] is nonzero
m=M[v],S[m]<0){
// absolute value of x[i]          
var I=i(N[m]);
// check absoulte value is greater than pivot value
a(I,k)&&(
// largest pivot candidate so far
k=I,P=m)}else
// x(i) is the entry U(pinv[i],k)
x[d]=S[m],_[d++]=N[m];
// validate we found a valid pivot
if(-1==P||k<=0)return null;
// update actual pivot column, give preference to diagonal value
S[T]<0&&u(i(N[T]),s(k,n))&&(P=T);
// the chosen pivot
var R=N[P];
// L(k+1:n,k) = x / pivot      
for(
// last entry in U(:,k) is U(k,k)
x[d]=O,_[d++]=R,
// ipiv is the kth pivot row
S[P]=O,
// first entry in L(:,k) is L(k,k) = 1
g[h]=P,y[h++]=1,v=A;v<p;v++)
// row
m=M[v],
// check x(i) is an entry in L(:,k)
S[m]<0&&(
// save unpermuted row in L
g[h]=m,
// scale pivot column
y[h++]=o(N[m],R)),
// x[0..n-1] = 0 for next k
N[m]=0}
// fix row indices of L for final pinv
for(
// update ptr
b[p]=h,E[p]=d,v=0;v<h;v++)g[v]=S[g[v]];
// return LU factor
// trim arrays
return y.splice(h,y.length-h),g.splice(h,g.length-h),_.splice(d,_.length-d),x.splice(d,x.length-d),{L:w,U:C,pinv:S}}}e.name="cs_lu",e.path="sparse",e.factory=r},/* 692 */
/***/
function(t,e,n){"use strict";function r(t){var e=t.SparseMatrix;return function(t,n,r,i){
// loop columns    
for(var o=t._values,s=t._index,a=t._ptr,u=t._size,c=t._datatype,l=u[0],f=u[1],p=i&&t._values?[]:null,h=[],d=[],m=0,v=0;v<f;v++){
// column k of C is column q[k] of A
d[v]=m;
// loop values in column j of A
for(var y=r?r[v]:v,g=a[y],b=a[y+1],w=g;w<b;w++){
// row i of A is row pinv[i] of C
var _=n?n[s[w]]:s[w];
// index
h[m]=_,
// check we need to populate values
p&&(p[m]=o[w]),
// increment number of nonzero elements
m++}}
// return C matrix
// finalize the last column of C
return d[f]=m,new e({values:p,index:h,ptr:d,size:[l,f],datatype:c})}}e.name="cs_permute",e.path="sparse",e.factory=r},/* 693 */
/***/
function(t,e,n){"use strict";function r(t,e,r){var i=r(n(252));return function(t,e){
// check inputs
if(!t)return null;
// vars 
var n,r=0,o=[],s=[],a=e,u=2*e;
// initialize workspace
for(n=0;n<e;n++)
// empty linked lists
s[0+n]=-1;
// traverse nodes in reverse order
for(n=e-1;n>=0;n--)
// check j is a root
-1!=t[n]&&(
// add j to list of its parent
s[a+n]=s[0+t[n]],s[0+t[n]]=n);
// loop nodes
for(n=0;n<e;n++)
// skip j if it is not a root
-1==t[n]&&(
// depth-first search
r=i(n,r,s,0,a,o,u));return o}}e.name="cs_post",e.path="sparse",e.factory=r},/* 694 */
/***/
function(t,e,n){"use strict";function r(t,e,r){var i=r(n(686)),o=r(n(251)),s=r(n(250));return function(t,e,n,r,a){
// g arrays
var u,c,l,f=t._ptr,p=t._size,h=e._index,d=e._ptr,m=p[1],v=m;
// loop column indeces in B
for(c=d[n],l=d[n+1],u=c;u<l;u++){
// node i
var y=h[u];
// check node i is marked
o(f,y)||(
// start a dfs at unmarked node i
v=i(y,t,v,r,a))}
// loop columns from top -> n - 1
for(u=v;u<m;u++)
// restore G
s(f,r[u]);return v}}e.name="cs_reach",e.path="sparse",e.factory=r},/* 695 */
/***/
function(t,e,n){"use strict";function r(t,e,r){var i=r(n(38)),o=r(n(21)),s=r(n(41)),a=r(n(694));return function(t,e,n,r,u,c,l){
// g arrays
var f,p,h,d,m=t._values,v=t._index,y=t._ptr,g=t._size,b=g[1],w=e._values,_=e._index,x=e._ptr,E=a(t,e,n,r,c);
// clear x
for(f=E;f<b;f++)u[r[f]]=0;
// scatter b
for(p=x[n],h=x[n+1],f=p;f<h;f++)u[_[f]]=w[f];
// loop columns
for(var C=E;C<b;C++){
// x array index for px
var S=r[C],N=c?c[S]:S;
// check column J is empty
if(!(N<0))
// loop
for(
// column value indeces in G, p0 <= p < p1
p=y[N],h=y[N+1],
// x(j) /= G(j,j)
u[S]=i(u[S],m[l?p:h-1]),
// first entry L(j,j)
f=l?p+1:p,d=l?h:h-1;f<d;f++){
// row
var M=v[f];
// x(i) -= G(i,j) * x(j)
u[M]=s(u[M],o(m[f],u[S]))}}
// return top of stack
return E}}e.name="cs_spsolve",e.path="sparse",e.factory=r},/* 696 */
/***/
function(t,e,n){"use strict";function r(t,e,r){var i=r(n(684)),o=r(n(692)),s=r(n(687)),a=r(n(693)),u=r(n(685)),c=function(t,e){
// a arrays
var n=t._ptr,r=t._index,i=t._size,o=i[0],s=i[1];
// initialize s arrays
e.pinv=[],// (m + n);
e.leftmost=[];// (m);
// vars
var a,u,c,l,f,p=e.parent,h=e.pinv,d=e.leftmost,m=[],v=o,y=o+s,g=o+2*s;
// initialize w
for(u=0;u<s;u++)
// queue k is empty
m[v+u]=-1,m[y+u]=-1,m[g+u]=0;
// initialize row arrays
for(a=0;a<o;a++)d[a]=-1;
// loop columns backwards    
for(u=s-1;u>=0;u--)
// values & index for column k
for(l=n[u],f=n[u+1],c=l;c<f;c++)
// leftmost[i] = min(find(A(i,:)))
d[r[c]]=u;
// scan rows in reverse order
for(a=o-1;a>=0;a--)
// row i is not yet ordered
h[a]=-1,
// check row i is empty
-1!=(u=d[a])&&(
// first row in queue k
0==m[g+u]++&&(m[y+u]=a),
// put i at head of queue k
m[0+a]=m[v+u],m[v+u]=a);
// find row permutation and nnz(V)
for(e.lnz=0,e.m2=o,u=0;u<s;u++)
// skip if V(k+1:m,k) is empty
if(
// remove row i from queue k
a=m[v+u],
// count V(k,k) as nonzero
e.lnz++,
// add a fictitious row
a<0&&(a=e.m2++),
// associate row i with V(:,k)
h[a]=u,!(--g[u]<=0)){
// nque[k] is nnz (V(k+1:m,k))
e.lnz+=m[g+u];
// move all rows to parent of k
var b=p[u];-1!=b&&(0===m[g+b]&&(m[y+b]=m[y+u]),m[0+m[y+u]]=m[v+b],m[v+b]=m[0+a],m[g+b]+=m[g+u])}for(a=0;a<o;a++)h[a]<0&&(h[a]=u++);return!0};return function(t,e,n){
// a arrays
var r,l=e._ptr,f=e._size,p=f[1],h={};
// validate results
if(
// fill-reducing ordering
h.q=i(t,e),t&&!h.q)return null;
// QR symbolic analysis
if(n){
// apply permutations if needed
var d=t?o(e,null,h.q,0):e;
// etree of C'*C, where C=A(:,q)
h.parent=s(d,1);
// post order elimination tree
var m=a(h.parent,p);
// check we have everything needed to calculate number of nonzero elements
if(
// col counts chol(C'*C)
h.cp=u(d,h.parent,m,1),d&&h.parent&&h.cp&&c(d,h))
// calculate number of nonzero elements
for(h.unz=0,r=0;r<p;r++)h.unz+=h.cp[r]}else
// for LU factorization only, guess nnz(L) and nnz(U)
h.unz=4*l[p]+p,h.lnz=h.unz;
// return result S
return h}}e.name="cs_sqr",e.path="sparse",e.factory=r},/* 697 */
/***/
function(t,e,n){"use strict";function r(t,e,r){var i=r(n(164));return function(t){
// flip the value if it is negative
return t<0?i(t):t}}e.name="cs_unflip",e.path="sparse",e.factory=r},/* 698 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){/**
   * Calculate the cubic root for a complex number
   * @param {Complex} x
   * @param {boolean} [allRoots]   If true, the function will return an array
   *                               with all three roots. If false or undefined,
   *                               the principal root is returned.
   * @returns {Complex | Array.<Complex> | Matrix.<Complex>} Returns the cubic root(s) of x
   * @private
   */
function a(n,r){
// https://www.wikiwand.com/en/Cube_root#/Complex_numbers
var i=n.arg()/3,s=n.abs(),a=new t.Complex(o(s),0).mul(new t.Complex(0,i).exp());if(r){var u=[a,new t.Complex(o(s),0).mul(new t.Complex(0,i+2*Math.PI/3).exp()),new t.Complex(o(s),0).mul(new t.Complex(0,i-2*Math.PI/3).exp())];return"Array"===e.matrix?u:f(u)}return a}/**
   * Calculate the cubic root for a Unit
   * @param {Unit} x
   * @return {Unit} Returns the cubic root of x
   * @private
   */
function u(e){if(e.value&&e.value.isComplex){var n=e.clone();// Compute the value
// Compute the units
return n.value=1,n=n.pow(1/3),n.value=a(e.value),n}var r=l(e.value);r&&(e.value=c(e.value));
// TODO: create a helper function for this
var i;i=e.value&&e.value.isBigNumber?new t.BigNumber(1).div(3):e.value&&e.value.isFraction?new t.Fraction(1,3):1/3;var n=e.pow(i);return r&&(n.value=c(n.value)),n}var c=r(n(81)),l=r(n(100)),f=r(n(2)),p=s("cbrt",{number:o,
// note: signature 'number, boolean' is also supported,
//       created by typed as it knows how to convert number to Complex
Complex:a,"Complex, boolean":a,BigNumber:function(t){return t.cbrt()},Unit:u,"Array | Matrix":function(t){
// deep map collection, skip zeros since cbrt(0) = 0
return i(t,p,!0)}});return p.toTex={1:"\\sqrt[3]{${args[0]}}"},p}var i=n(3),o=Math.cbrt||function(t){if(0===t)return t;var e,n=t<0;
// from http://en.wikipedia.org/wiki/Cube_root#Numerical_methods
return n&&(t=-t),isFinite(t)?(e=Math.exp(Math.log(t)/3),e=(t/(e*e)+2*e)/3):e=t,n?-e:e};e.name="cbrt",e.factory=r},/* 699 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Round a value towards plus infinity
   * If `x` is complex, both real and imaginary part are rounded towards plus infinity.
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.ceil(x)
   *
   * Examples:
   *
   *    math.ceil(3.2);               // returns number 4
   *    math.ceil(3.8);               // returns number 4
   *    math.ceil(-4.2);              // returns number -4
   *    math.ceil(-4.7);              // returns number -4
   *
   *    var c = math.complex(3.2, -2.7);
   *    math.ceil(c);                 // returns Complex 4 - 2i
   *
   *    math.ceil([3.2, 3.8, -4.7]);  // returns Array [4, 4, -4]
   *
   * See also:
   *
   *    floor, fix, round
   *
   * @param  {number | BigNumber | Fraction | Complex | Array | Matrix} x  Number to be rounded
   * @return {number | BigNumber | Fraction | Complex | Array | Matrix} Rounded value
   */
var o=r("ceil",{number:Math.ceil,Complex:function(t){return t.ceil()},BigNumber:function(t){return t.ceil()},Fraction:function(t){return t.ceil()},"Array | Matrix":function(t){
// deep map collection, skip zeros since ceil(0) = 0
return i(t,o,!0)}});return o.toTex={1:"\\left\\lceil${args[0]}\\right\\rceil"},o}var i=n(3);e.name="ceil",e.factory=r},/* 700 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Compute the cube of a value, `x * x * x`.
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.cube(x)
   *
   * Examples:
   *
   *    math.cube(2);            // returns number 8
   *    math.pow(2, 3);          // returns number 8
   *    math.cube(4);            // returns number 64
   *    4 * 4 * 4;               // returns number 64
   *
   *    math.cube([1, 2, 3, 4]); // returns Array [1, 8, 27, 64]
   *
   * See also:
   *
   *    multiply, square, pow, cbrt
   *
   * @param  {number | BigNumber | Fraction | Complex | Array | Matrix | Unit} x  Number for which to calculate the cube
   * @return {number | BigNumber | Fraction | Complex | Array | Matrix | Unit} Cube of x
   */
var o=r("cube",{number:function(t){return t*t*t},Complex:function(t){return t.mul(t).mul(t)},BigNumber:function(t){return t.times(t).times(t)},Fraction:function(t){return t.pow(3)},"Array | Matrix":function(t){
// deep map collection, skip zeros since cube(0) = 0
return i(t,o,!0)},Unit:function(t){return t.pow(3)}});return o.toTex={1:"\\left(${args[0]}\\right)^3"},o}var i=n(3);e.name="cube",e.factory=r},/* 701 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(2)),s=r(n(47)),a=n(6),u=r(n(48)),c=r(n(281)),l=r(n(32)),f=r(n(12)),p=r(n(10)),h=i("dotMultiply",{"any, any":s,"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse .* sparse
n=c(t,e,s,!1);break;default:
// sparse .* dense
n=u(e,t,s,!0)}break;default:switch(e.storage()){case"sparse":
// dense .* sparse
n=u(t,e,s,!1);break;default:
// dense .* dense
n=f(t,e,s)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return h(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return h(o(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return h(t,o(e))},"Matrix, any":function(t,e){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=l(t,e,s,!1);break;default:n=p(t,e,s,!1)}return n},"any, Matrix":function(t,e){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=l(e,t,s,!0);break;default:n=p(e,t,s,!0)}return n},"Array, any":function(t,e){
// use matrix implementation
return p(o(t),e,s,!1).valueOf()},"any, Array":function(t,e){
// use matrix implementation
return p(o(e),t,s,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}"+a.operators.dotMultiply+"${args[1]}\\right)"},h}e.name="dotMultiply",e.factory=r},/* 702 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(2)),s=r(n(80)),a=n(6),u=r(n(31)),c=r(n(50)),l=r(n(32)),f=r(n(33)),p=r(n(12)),h=r(n(10)),d=i("dotPow",{"any, any":s,"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse .^ sparse
n=c(t,e,s,!1);break;default:
// sparse .^ dense
n=u(e,t,s,!0)}break;default:switch(e.storage()){case"sparse":
// dense .^ sparse
n=u(t,e,s,!1);break;default:
// dense .^ dense
n=p(t,e,s)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return d(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return d(o(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return d(t,o(e))},"Matrix, any":function(t,e){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=l(t,e,d,!1);break;default:n=h(t,e,d,!1)}return n},"any, Matrix":function(t,e){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=f(e,t,d,!0);break;default:n=h(e,t,d,!0)}return n},"Array, any":function(t,e){
// use matrix implementation
return h(o(t),e,d,!1).valueOf()},"any, Array":function(t,e){
// use matrix implementation
return h(o(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+a.operators.dotPow+"${args[1]}\\right)"},d}e.name="dotPow",e.factory=r},/* 703 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the exponent of a value.
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.exp(x)
   *
   * Examples:
   *
   *    math.exp(2);                  // returns number 7.3890560989306495
   *    math.pow(math.e, 2);          // returns number 7.3890560989306495
   *    math.log(math.exp(2));        // returns number 2
   *
   *    math.exp([1, 2, 3]);
   *    // returns Array [
   *    //   2.718281828459045,
   *    //   7.3890560989306495,
   *    //   20.085536923187668
   *    // ]
   *
   * See also:
   *
   *    log, pow
   *
   * @param {number | BigNumber | Complex | Array | Matrix} x  A number or matrix to exponentiate
   * @return {number | BigNumber | Complex | Array | Matrix} Exponent of `x`
   */
var o=r("exp",{number:Math.exp,Complex:function(t){return t.exp()},BigNumber:function(t){return t.exp()},"Array | Matrix":function(t){
// TODO: exp(sparse) should return a dense matrix since exp(0)==1
return i(t,o)}});return o.toTex={1:"\\exp\\left(${args[0]}\\right)"},o}var i=n(3);e.name="exp",e.factory=r},/* 704 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Round a value towards minus infinity.
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.floor(x)
   *
   * Examples:
   *
   *    math.floor(3.2);              // returns number 3
   *    math.floor(3.8);              // returns number 3
   *    math.floor(-4.2);             // returns number -5
   *    math.floor(-4.7);             // returns number -5
   *
   *    var c = math.complex(3.2, -2.7);
   *    math.floor(c);                // returns Complex 3 - 3i
   *
   *    math.floor([3.2, 3.8, -4.7]); // returns Array [3, 3, -5]
   *
   * See also:
   *
   *    ceil, fix, round
   *
   * @param  {number | BigNumber | Fraction | Complex | Array | Matrix} x  Number to be rounded
   * @return {number | BigNumber | Fraction | Complex | Array | Matrix} Rounded value
   */
var o=r("floor",{number:Math.floor,Complex:function(t){return t.floor()},BigNumber:function(t){return t.floor()},Fraction:function(t){return t.floor()},"Array | Matrix":function(t){
// deep map collection, skip zeros since floor(0) = 0
return i(t,o,!0)}});return o.toTex={1:"\\left\\lfloor${args[0]}\\right\\rfloor"},o}var i=n(3);e.name="floor",e.factory=r},/* 705 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){/**
   * Calculate gcd for BigNumbers
   * @param {BigNumber} a
   * @param {BigNumber} b
   * @returns {BigNumber} Returns greatest common denominator of a and b
   * @private
   */
function s(e,n){if(!e.isInt()||!n.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(
// http://en.wikipedia.org/wiki/Euclidean_algorithm
var r=new t.BigNumber(0);!n.isZero();){var i=e.mod(n);e=n,n=i}return e.lt(r)?e.neg():e}var a=r(n(2)),u=r(n(62)),c=r(n(172)),l=r(n(68)),f=r(n(12)),p=r(n(10)),h=o("gcd",{"number, number":i,"BigNumber, BigNumber":s,"Fraction, Fraction":function(t,e){return t.gcd(e)},"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse + sparse
n=c(t,e,h);break;default:
// sparse + dense
n=u(e,t,h,!0)}break;default:switch(e.storage()){case"sparse":
// dense + sparse
n=u(t,e,h,!1);break;default:
// dense + dense
n=f(t,e,h)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return h(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return h(a(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return h(t,a(e))},"Matrix, number | BigNumber":function(t,e){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=l(t,e,h,!1);break;default:n=p(t,e,h,!1)}return n},"number | BigNumber, Matrix":function(t,e){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=l(e,t,h,!0);break;default:n=p(e,t,h,!0)}return n},"Array, number | BigNumber":function(t,e){
// use matrix implementation
return p(a(t),e,h,!1).valueOf()},"number | BigNumber, Array":function(t,e){
// use matrix implementation
return p(a(e),t,h,!0).valueOf()},
// TODO: need a smarter notation here
"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(t,e,n){for(var r=h(t,e),i=0;i<n.length;i++)r=h(r,n[i]);return r}});return h.toTex="\\gcd\\left(${args}\\right)",h}/**
 * Calculate gcd for numbers
 * @param {number} a
 * @param {number} b
 * @returns {number} Returns the greatest common denominator of a and b
 * @private
 */
function i(t,e){if(!o(t)||!o(e))throw new Error("Parameters in function gcd must be integer numbers");for(
// http://en.wikipedia.org/wiki/Euclidean_algorithm
var n;0!=e;)n=t%e,t=e,e=n;return t<0?-t:t}var o=n(5).isInteger;e.name="gcd",e.factory=r},/* 706 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){/**
   * Calculate the hypotenusa for an Array with values
   * @param {Array.<number | BigNumber>} args
   * @return {number | BigNumber} Returns the result
   * @private
   */
function s(t){for(var e=0,n=0,r=0;r<t.length;r++){var i=a(t[r]);p(n,i)?(e=l(e,l(c(n,i),c(n,i))),e=u(e,1),n=i):e=u(e,h(i)?l(c(i,n),c(i,n)):i)}return l(n,f(e))}var a=r(n(60)),u=r(n(40)),c=r(n(38)),l=r(n(47)),f=r(n(122)),p=r(n(83)),h=r(n(127)),d=o("hypot",{"... number | BigNumber":s,Array:function(t){return d.apply(d,i(t))},Matrix:function(t){return d.apply(d,i(t.toArray()))}});return d.toTex="\\hypot\\left(${args}\\right)",d}var i=n(11).flatten;e.name="hypot",e.factory=r},/* 707 */
/***/
function(t,e,n){t.exports=[n(60),n(34),n(40),n(698),n(699),n(700),n(79),n(253),n(701),n(702),n(703),n(254),n(704),n(705),n(706),n(708),n(255),n(709),n(710),n(21),n(711),n(712),n(80),n(713),n(714),n(122),n(715),n(41),n(81),n(716),n(717)]},/* 708 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){/**
   * Calculate lcm for two BigNumbers
   * @param {BigNumber} a
   * @param {BigNumber} b
   * @returns {BigNumber} Returns the least common multiple of a and b
   * @private
   */
function s(e,n){if(!e.isInt()||!n.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(e.isZero()||n.isZero())return new t.BigNumber(0);for(
// http://en.wikipedia.org/wiki/Euclidean_algorithm
// evaluate lcm here inline to reduce overhead
var r=e.times(n);!n.isZero();){var i=n;n=e.mod(i),e=i}return r.div(e).abs()}var a=r(n(2)),u=r(n(48)),c=r(n(129)),l=r(n(32)),f=r(n(12)),p=r(n(10)),h=o("lcm",{"number, number":i,"BigNumber, BigNumber":s,"Fraction, Fraction":function(t,e){return t.lcm(e)},"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse + sparse
n=c(t,e,h);break;default:
// sparse + dense
n=u(e,t,h,!0)}break;default:switch(e.storage()){case"sparse":
// dense + sparse
n=u(t,e,h,!1);break;default:
// dense + dense
n=f(t,e,h)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return h(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return h(a(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return h(t,a(e))},"Matrix, number | BigNumber":function(t,e){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=l(t,e,h,!1);break;default:n=p(t,e,h,!1)}return n},"number | BigNumber, Matrix":function(t,e){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=l(e,t,h,!0);break;default:n=p(e,t,h,!0)}return n},"Array, number | BigNumber":function(t,e){
// use matrix implementation
return p(a(t),e,h,!1).valueOf()},"number | BigNumber, Array":function(t,e){
// use matrix implementation
return p(a(e),t,h,!0).valueOf()},
// TODO: need a smarter notation here
"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(t,e,n){for(var r=h(t,e),i=0;i<n.length;i++)r=h(r,n[i]);return r}});// use default template
return h.toTex=void 0,h}/**
 * Calculate lcm for two numbers
 * @param {number} a
 * @param {number} b
 * @returns {number} Returns the least common multiple of a and b
 * @private
 */
function i(t,e){if(!o(t)||!o(e))throw new Error("Parameters in function lcm must be integer numbers");if(0==t||0==e)return 0;for(
// http://en.wikipedia.org/wiki/Euclidean_algorithm
// evaluate lcm here inline to reduce overhead
var n,r=t*e;0!=e;)n=e,e=t%n,t=n;return Math.abs(r/t)}var o=n(5).isInteger;e.name="lcm",e.factory=r},/* 709 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the 10-base logarithm of a value. This is the same as calculating `log(x, 10)`.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.log10(x)
   *
   * Examples:
   *
   *    math.log10(0.00001);            // returns -5
   *    math.log10(10000);              // returns 4
   *    math.log(10000) / math.log(10); // returns 4
   *    math.pow(10, 4);                // returns 10000
   *
   * See also:
   *
   *    exp, log
   *
   * @param {number | BigNumber | Complex | Array | Matrix} x
   *            Value for which to calculate the logarithm.
   * @return {number | BigNumber | Complex | Array | Matrix}
   *            Returns the 10-base logarithm of `x`
   */
var s=r("log10",{number:function(n){return n>=0||e.predictable?o(n):new t.Complex(n,0).log().div(Math.LN10)},Complex:function(e){return new t.Complex(e).log().div(Math.LN10)},BigNumber:function(n){return!n.isNegative()||e.predictable?n.log():new t.Complex(n.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(t){return i(t,s)}});return s.toTex={1:"\\log_{10}\\left(${args[0]}\\right)"},s}var i=n(3),o=Math.log10||function(t){return Math.log(t)/Math.LN10};e.name="log10",e.factory=r},/* 710 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){/**
   * Calculate the modulus of two numbers
   * @param {number} x
   * @param {number} y
   * @returns {number} res
   * @private
   */
function o(t,e){if(e>0)
// We don't use JavaScript's % operator here as this doesn't work
// correctly for x < 0 and x == 0
// see http://en.wikipedia.org/wiki/Modulo_operation
return t-e*Math.floor(t/e);if(0===e)return t;// y < 0
// TODO: implement mod for a negative divisor
throw new Error("Cannot calculate mod for a negative divisor")}var s=r(n(2)),a=n(6),u=r(n(48)),c=r(n(31)),l=r(n(128)),f=r(n(32)),p=r(n(33)),h=r(n(12)),d=r(n(10)),m=i("mod",{"number, number":o,"BigNumber, BigNumber":function(t,e){return e.isZero()?t:t.mod(e)},"Fraction, Fraction":function(t,e){return t.mod(e)},"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// mod(sparse, sparse)
n=l(t,e,m,!1);break;default:
// mod(sparse, dense)
n=u(e,t,m,!0)}break;default:switch(e.storage()){case"sparse":
// mod(dense, sparse)
n=c(t,e,m,!1);break;default:
// mod(dense, dense)
n=h(t,e,m)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return m(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return m(s(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return m(t,s(e))},"Matrix, any":function(t,e){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=f(t,e,m,!1);break;default:n=d(t,e,m,!1)}return n},"any, Matrix":function(t,e){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=p(e,t,m,!0);break;default:n=d(e,t,m,!0)}return n},"Array, any":function(t,e){
// use matrix implementation
return d(s(t),e,m,!1).valueOf()},"any, Array":function(t,e){
// use matrix implementation
return d(s(e),t,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+a.operators.mod+"${args[1]}\\right)"},m}e.name="mod",e.factory=r},/* 711 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){/**
   * Calculate the norm for an array
   * @param {Array} x
   * @param {number | string} p
   * @returns {number} Returns the norm
   * @private
   */
function o(t,e){
// size
var n=t.size();
// check if it is a vector
if(1==n.length){
// check p
if(e===Number.POSITIVE_INFINITY||"inf"===e){
// norm(x, Infinity) = max(abs(x))
var r=0;
// skip zeros since abs(0) == 0
return t.forEach(function(t){var e=s(t);p(e,r)&&(r=e)},!0),r}if(e===Number.NEGATIVE_INFINITY||"-inf"===e){
// norm(x, -Infinity) = min(abs(x))
var i;
// skip zeros since abs(0) == 0
return t.forEach(function(t){var e=s(t);i&&!h(e,i)||(i=e)},!0),i||0}if("fro"===e)return o(t,2);if("number"==typeof e&&!isNaN(e)){
// check p != 0
if(!f(e,0)){
// norm(x, p) = sum(abs(xi) ^ p) ^ 1/p
var d=0;
// skip zeros since abs(0) == 0
return t.forEach(function(t){d=a(u(s(t),e),d)},!0),u(d,1/e)}return Number.POSITIVE_INFINITY}
// invalid parameter value
throw new Error("Unsupported parameter value")}
// MxN matrix
if(2==n.length){
// check p
if(1===e){
// norm(x) = the largest column sum
var y=[],g=0;
// skip zeros since abs(0) == 0
return t.forEach(function(t,e){var n=e[1],r=a(y[n]||0,s(t));p(r,g)&&(g=r),y[n]=r},!0),g}if(e===Number.POSITIVE_INFINITY||"inf"===e){
// norm(x) = the largest row sum
var b=[],w=0;
// skip zeros since abs(0) == 0
return t.forEach(function(t,e){var n=e[0],r=a(b[n]||0,s(t));p(r,w)&&(w=r),b[n]=r},!0),w}if("fro"===e)
// norm(x) = sqrt(sum(diag(x'x)))
return c(m(l(v(t),t)));if(2===e)
// not implemented
throw new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition");
// invalid parameter value
throw new Error("Unsupported parameter value")}}var s=r(n(60)),a=r(n(34)),u=r(n(80)),c=r(n(122)),l=r(n(21)),f=r(n(19)),p=r(n(61)),h=r(n(83)),d=r(n(2)),m=r(n(264)),v=r(n(124)),y=i("norm",{number:Math.abs,Complex:function(t){return t.abs()},BigNumber:function(t){
// norm(x) = abs(x)
return t.abs()},"boolean | null":function(t){
// norm(x) = abs(x)
return Math.abs(t)},Array:function(t){return o(d(t),2)},Matrix:function(t){return o(t,2)},"number | Complex | BigNumber | boolean | null, number | BigNumber | string":function(t){
// ignore second parameter, TODO: remove the option of second parameter for these types
return y(t)},"Array, number | BigNumber | string":function(t,e){return o(d(t),e)},"Matrix, number | BigNumber | string":function(t,e){return o(t,e)}});return y.toTex={1:"\\left\\|${args[0]}\\right\\|",2:void 0},y}e.name="norm",e.factory=r},/* 712 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){/**
   * Calculate the nth root of a for BigNumbers, solve x^root == a
   * http://rosettacode.org/wiki/Nth_root#JavaScript
   * @param {BigNumber} a
   * @param {BigNumber} root
   * @private
   */
function a(e,n){var r=t.BigNumber.precision,i=t.BigNumber.clone({precision:r+2}),o=new t.BigNumber(0),s=new i(1),a=n.isNegative();if(a&&(n=n.neg()),n.isZero())throw new Error("Root must be non-zero");if(e.isNegative()&&!n.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");
// edge cases zero and infinity
if(e.isZero())return a?new i(1/0):0;if(!e.isFinite())return a?o:e;var u=e.abs().pow(s.div(n));
// If a < 0, we require that root is an odd integer,
// so (-1) ^ (1/root) = -1
return u=e.isNeg()?u.neg():u,new t.BigNumber((a?s.div(u):u).toPrecision(r))}var u=r(n(2)),c=r(n(62)),l=r(n(48)),f=r(n(129)),p=r(n(32)),h=r(n(12)),d=r(n(10)),m=s("nthRoot",{number:function(t){return i(t,2)},"number, number":i,BigNumber:function(e){return a(e,new t.BigNumber(2))},Complex:function(t){return o(t,2)},"Complex, number":o,"BigNumber, BigNumber":a,"Array | Matrix":function(t){return m(t,2)},"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// density must be one (no zeros in matrix)
if(1!==e.density())
// throw exception
throw new Error("Root must be non-zero");
// sparse + sparse
n=f(t,e,m);break;default:
// sparse + dense
n=l(e,t,m,!0)}break;default:switch(e.storage()){case"sparse":
// density must be one (no zeros in matrix)
if(1!==e.density())
// throw exception
throw new Error("Root must be non-zero");
// dense + sparse
n=c(t,e,m,!1);break;default:
// dense + dense
n=h(t,e,m)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return m(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return m(u(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return m(t,u(e))},"Matrix, number | BigNumber":function(t,e){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=p(t,e,m,!1);break;default:n=d(t,e,m,!1)}return n},"number | BigNumber, Matrix":function(t,e){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":
// density must be one (no zeros in matrix)
if(1!==e.density())
// throw exception
throw new Error("Root must be non-zero");
// sparse - scalar
n=p(e,t,m,!0);break;default:n=d(e,t,m,!0)}return n},"Array, number | BigNumber":function(t,e){
// use matrix implementation
return m(u(t),e).valueOf()},"number | BigNumber, Array":function(t,e){
// use matrix implementation
return m(t,u(e)).valueOf()}});return m.toTex={2:"\\sqrt[${args[1]}]{${args[0]}}"},m}/**
 * Calculate the nth root of a, solve x^root == a
 * http://rosettacode.org/wiki/Nth_root#JavaScript
 * @param {number} a
 * @param {number} root
 * @private
 */
function i(t,e){var n=e<0;if(n&&(e=-e),0===e)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!=1)throw new Error("Root must be odd when a is negative.");
// edge cases zero and infinity
if(0==t)return n?1/0:0;if(!isFinite(t))return n?0:t;var r=Math.pow(Math.abs(t),1/e);
// If a < 0, we require that root is an odd integer,
// so (-1) ^ (1/root) = -1
return r=t<0?-r:r,n?1/r:r}/**
 * Calculate the nth root of a Complex Number a using De Moviers Theorem.
 * @param  {Complex} a
 * @param  {number} root
 * @return {Array} array or n Complex Roots in Polar Form.
 */
function o(t,e){if(e<0)throw new Error("Root must be greater than zero");if(0===e)throw new Error("Root must be non-zero");if(e%1!=0)throw new Error("Root must be an integer");for(var n=t.arg(),r=t.abs(),i=[],o=Math.pow(r,1/e),s=0;s<e;s++)i.push({r:o,phi:(n+2*Math.PI*s)/e});return i}e.name="nthRoot",e.factory=r},/* 713 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){var c=r(n(2)),l=r(n(19)),f=r(n(82)),p=r(n(32)),h=r(n(33)),d=r(n(10)),m=s("round",{number:Math.round,"number, number":function(t,e){if(!o(e))throw new TypeError(u);if(e<0||e>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return i(t,e)},Complex:function(t){return t.round()},"Complex, number":function(t,e){if(e%1)throw new TypeError(u);return t.round(e)},"Complex, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(u);var n=e.toNumber();return t.round(n)},"number, BigNumber":function(e,n){if(!n.isInteger())throw new TypeError(u);return new t.BigNumber(e).toDecimalPlaces(n.toNumber())},BigNumber:function(t){return t.toDecimalPlaces(0)},"BigNumber, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(u);return t.toDecimalPlaces(e.toNumber())},Fraction:function(t){return t.round()},"Fraction, number":function(t,e){if(e%1)throw new TypeError(u);return t.round(e)},"Array | Matrix":function(t){
// deep map collection, skip zeros since round(0) = 0
return a(t,m,!0)},"Matrix, number | BigNumber":function(t,e){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=p(t,e,m,!1);break;default:n=d(t,e,m,!1)}return n},"number | Complex | BigNumber, Matrix":function(t,e){
// check scalar is zero
if(!l(t,0)){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=h(e,t,m,!0);break;default:n=d(e,t,m,!0)}return n}
// do not execute algorithm, result will be a zero matrix
return f(e.size(),e.storage())},"Array, number | BigNumber":function(t,e){
// use matrix implementation
return d(c(t),e,m,!1).valueOf()},"number | Complex | BigNumber, Array":function(t,e){
// use matrix implementation
return d(c(e),t,m,!0).valueOf()}});return m.toTex={1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},m}/**
 * round a number to the given number of decimals, or to zero if decimals is
 * not provided
 * @param {number} value
 * @param {number} decimals       number of decimals, between 0 and 15 (0 by default)
 * @return {number} roundedValue
 * @private
 */
function i(t,e){return parseFloat(s(t,e))}var o=n(5).isInteger,s=n(5).toFixed,a=n(3),u="Number of decimals in function round must be an integer";e.name="round",e.factory=r},/* 714 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Compute the sign of a value. The sign of a value x is:
   *
   * -  1 when x > 1
   * - -1 when x < 0
   * -  0 when x == 0
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.sign(x)
   *
   * Examples:
   *
   *    math.sign(3.5);               // returns 1
   *    math.sign(-4.2);              // returns -1
   *    math.sign(0);                 // returns 0
   *
   *    math.sign([3, 5, -2, 0, 2]);  // returns [1, 1, -1, 0, 1]
   *
   * See also:
   *
   *    abs
   *
   * @param  {number | BigNumber | Fraction | Complex | Array | Matrix | Unit} x
   *            The number for which to determine the sign
   * @return {number | BigNumber | Fraction | Complex | Array | Matrix | Unit}e
   *            The sign of `x`
   */
var s=r("sign",{number:i.sign,Complex:function(t){return t.sign()},BigNumber:function(e){return new t.BigNumber(e.cmp(0))},Fraction:function(e){return new t.Fraction(e.s,1)},"Array | Matrix":function(t){
// deep map collection, skip zeros since sign(0) = 0
return o(t,s,!0)},Unit:function(t){return s(t.value)}});return s.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},s}var i=n(5),o=n(3);e.name="sign",e.factory=r},/* 715 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Compute the square of a value, `x * x`.
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.square(x)
   *
   * Examples:
   *
   *    math.square(2);           // returns number 4
   *    math.square(3);           // returns number 9
   *    math.pow(3, 2);           // returns number 9
   *    math.multiply(3, 3);      // returns number 9
   *
   *    math.square([1, 2, 3, 4]);  // returns Array [1, 4, 9, 16]
   *
   * See also:
   *
   *    multiply, cube, sqrt, pow
   *
   * @param  {number | BigNumber | Fraction | Complex | Array | Matrix | Unit} x
   *            Number for which to calculate the square
   * @return {number | BigNumber | Fraction | Complex | Array | Matrix | Unit}
   *            Squared value
   */
var o=r("square",{number:function(t){return t*t},Complex:function(t){return t.mul(t)},BigNumber:function(t){return t.times(t)},Fraction:function(t){return t.mul(t)},"Array | Matrix":function(t){
// deep map collection, skip zeros since square(0) = 0
return i(t,o,!0)},Unit:function(t){return t.pow(2)}});return o.toTex={1:"\\left(${args[0]}\\right)^2"},o}var i=n(3);e.name="square",e.factory=r},/* 716 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){var s=n(6),a=o("unaryPlus",{number:function(t){return t},Complex:function(t){return t},BigNumber:function(t){return t},Fraction:function(t){return t},Unit:function(t){return t.clone()},"Array | Matrix":function(t){
// deep map collection, skip zeros since unaryPlus(0) = 0
return i(t,a,!0)},"boolean | string | null":function(n){
// convert to a number or bignumber
return"BigNumber"==e.number?new t.BigNumber(+n):+n}});return a.toTex={1:s.operators.unaryPlus+"\\left(${args[0]}\\right)"},a}var i=n(3);e.name="unaryPlus",e.factory=r},/* 717 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){/**
   * Calculate xgcd for two numbers
   * @param {number} a
   * @param {number} b
   * @return {number} result
   * @private
   */
function s(t,n){
// source: http://en.wikipedia.org/wiki/Extended_Euclidean_algorithm
var r,// used to swap two variables
o,// quotient
s,// remainder
a=0,c=1,l=1,f=0;if(!i(t)||!i(n))throw new Error("Parameters in function xgcd must be integer numbers");for(;n;)o=Math.floor(t/n),s=t-o*n,r=a,a=c-o*a,c=r,r=l,l=f-o*l,f=r,t=n,n=s;var p;return p=t<0?[-t,-c,-f]:[t,t?c:0,f],"Array"===e.matrix?p:u(p)}/**
   * Calculate xgcd for two BigNumbers
   * @param {BigNumber} a
   * @param {BigNumber} b
   * @return {BigNumber[]} result
   * @private
   */
function a(n,r){
// source: http://en.wikipedia.org/wiki/Extended_Euclidean_algorithm
var i,// used to swap two variables
o,// quotient
s,// remainder
a=new t.BigNumber(0),c=new t.BigNumber(1),l=a,f=c,p=c,h=a;if(!n.isInt()||!r.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!r.isZero();)o=n.div(r).floor(),s=n.mod(r),i=l,l=f.minus(o.times(l)),f=i,i=p,p=h.minus(o.times(p)),h=i,n=r,r=s;var d;return d=n.lt(a)?[n.neg(),f.neg(),h.neg()]:[n,n.isZero()?0:f,h],"Array"===e.matrix?d:u(d)}var u=r(n(2)),c=o("xgcd",{"number, number":s,"BigNumber, BigNumber":a});// use default template
return c.toTex=void 0,c}var i=n(5).isInteger;e.name="xgcd",e.factory=r},/* 718 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){var a=n(6),u=r(n(2)),c=r(n(48)),l=r(n(129)),f=r(n(32)),p=r(n(12)),h=r(n(10)),d=s("bitAnd",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function bitAnd");return t&e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse & sparse
n=l(t,e,d,!1);break;default:
// sparse & dense
n=c(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":
// dense & sparse
n=c(t,e,d,!1);break;default:
// dense & dense
n=p(t,e,d)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return d(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return d(u(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return d(t,u(e))},"Matrix, any":function(t,e){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=f(t,e,d,!1);break;default:n=h(t,e,d,!1)}return n},"any, Matrix":function(t,e){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=f(e,t,d,!0);break;default:n=h(e,t,d,!0)}return n},"Array, any":function(t,e){
// use matrix implementation
return h(u(t),e,d,!1).valueOf()},"any, Array":function(t,e){
// use matrix implementation
return h(u(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+a.operators.bitAnd+"${args[1]}\\right)"},d}var i=n(5).isInteger,o=n(838);e.name="bitAnd",e.factory=r},/* 719 */
/***/
function(t,e,n){"use strict";function r(t,e,r,a){var u=n(6),c=a("bitNot",{number:function(t){if(!s(t))throw new Error("Integer expected in function bitNot");return~t},BigNumber:o,"Array | Matrix":function(t){return i(t,c)}});return c.toTex={1:u.operators.bitNot+"\\left(${args[0]}\\right)"},c}var i=n(3),o=n(175),s=n(5).isInteger;e.name="bitNot",e.factory=r},/* 720 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){var a=n(6),u=r(n(2)),c=r(n(62)),l=r(n(172)),f=r(n(68)),p=r(n(12)),h=r(n(10)),d=s("bitOr",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function bitOr");return t|e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse + sparse
n=l(t,e,d);break;default:
// sparse + dense
n=c(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":
// dense + sparse
n=c(t,e,d,!1);break;default:n=p(t,e,d)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return d(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return d(u(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return d(t,u(e))},"Matrix, any":function(t,e){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=f(t,e,d,!1);break;default:n=h(t,e,d,!1)}return n},"any, Matrix":function(t,e){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=f(e,t,d,!0);break;default:n=h(e,t,d,!0)}return n},"Array, any":function(t,e){
// use matrix implementation
return h(u(t),e,d,!1).valueOf()},"any, Array":function(t,e){
// use matrix implementation
return h(u(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+a.operators.bitOr+"${args[1]}\\right)"},d}var i=n(5).isInteger,o=n(839);e.name="bitOr",e.factory=r},/* 721 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){var a=n(6),u=r(n(2)),c=r(n(31)),l=r(n(50)),f=r(n(33)),p=r(n(12)),h=r(n(10)),d=s("bitXor",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function bitXor");return t^e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse + sparse
n=l(t,e,d);break;default:
// sparse + dense
n=c(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":
// dense + sparse
n=c(t,e,d,!1);break;default:
// dense + dense
n=p(t,e,d)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return d(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return d(u(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return d(t,u(e))},"Matrix, any":function(t,e){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=f(t,e,d,!1);break;default:n=h(t,e,d,!1)}return n},"any, Matrix":function(t,e){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=f(e,t,d,!0);break;default:n=h(e,t,d,!0)}return n},"Array, any":function(t,e){
// use matrix implementation
return h(u(t),e,d,!1).valueOf()},"any, Array":function(t,e){
// use matrix implementation
return h(u(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+a.operators.bitXor+"${args[1]}\\right)"},d}var i=n(5).isInteger,o=n(840);e.name="bitXor",e.factory=r},/* 722 */
/***/
function(t,e,n){t.exports=[n(718),n(719),n(720),n(721),n(723),n(724),n(725)]},/* 723 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){var a=n(6),u=r(n(2)),c=r(n(19)),l=r(n(82)),f=r(n(62)),p=r(n(48)),h=r(n(173)),d=r(n(68)),m=r(n(32)),v=r(n(12)),y=r(n(10)),g=s("leftShift",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function leftShift");return t<<e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse & sparse
n=h(t,e,g,!1);break;default:
// sparse & dense
n=p(e,t,g,!0)}break;default:switch(e.storage()){case"sparse":
// dense & sparse
n=f(t,e,g,!1);break;default:
// dense & dense
n=v(t,e,g)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return g(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return g(u(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return g(t,u(e))},"Matrix, number | BigNumber":function(t,e){
// check scalar
if(!c(e,0)){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=m(t,e,g,!1);break;default:n=y(t,e,g,!1)}return n}return t.clone()},"number | BigNumber, Matrix":function(t,e){
// check scalar
if(!c(t,0)){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=d(e,t,g,!0);break;default:n=y(e,t,g,!0)}return n}return l(e.size(),e.storage())},"Array, number | BigNumber":function(t,e){
// use matrix implementation
return g(u(t),e).valueOf()},"number | BigNumber, Array":function(t,e){
// use matrix implementation
return g(t,u(e)).valueOf()}});return g.toTex={2:"\\left(${args[0]}"+a.operators.leftShift+"${args[1]}\\right)"},g}var i=n(5).isInteger,o=n(842);e.name="leftShift",e.factory=r},/* 724 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){var a=n(6),u=r(n(2)),c=r(n(19)),l=r(n(82)),f=r(n(62)),p=r(n(48)),h=r(n(173)),d=r(n(68)),m=r(n(32)),v=r(n(12)),y=r(n(10)),g=s("rightArithShift",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function rightArithShift");return t>>e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse & sparse
n=h(t,e,g,!1);break;default:
// sparse & dense
n=p(e,t,g,!0)}break;default:switch(e.storage()){case"sparse":
// dense & sparse
n=f(t,e,g,!1);break;default:
// dense & dense
n=v(t,e,g)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return g(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return g(u(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return g(t,u(e))},"Matrix, number | BigNumber":function(t,e){
// check scalar
if(!c(e,0)){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=m(t,e,g,!1);break;default:n=y(t,e,g,!1)}return n}return t.clone()},"number | BigNumber, Matrix":function(t,e){
// check scalar
if(!c(t,0)){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=d(e,t,g,!0);break;default:n=y(e,t,g,!0)}return n}return l(e.size(),e.storage())},"Array, number | BigNumber":function(t,e){
// use matrix implementation
return g(u(t),e).valueOf()},"number | BigNumber, Array":function(t,e){
// use matrix implementation
return g(t,u(e)).valueOf()}});return g.toTex={2:"\\left(${args[0]}"+a.operators.rightArithShift+"${args[1]}\\right)"},g}var i=n(5).isInteger,o=n(843);e.name="rightArithShift",e.factory=r},/* 725 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){var s=n(6),a=r(n(2)),u=r(n(19)),c=r(n(82)),l=r(n(62)),f=r(n(48)),p=r(n(173)),h=r(n(68)),d=r(n(32)),m=r(n(12)),v=r(n(10)),y=o("rightLogShift",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function rightLogShift");return t>>>e},
// 'BigNumber, BigNumber': ..., // TODO: implement BigNumber support for rightLogShift
"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse & sparse
n=p(t,e,y,!1);break;default:
// sparse & dense
n=f(e,t,y,!0)}break;default:switch(e.storage()){case"sparse":
// dense & sparse
n=l(t,e,y,!1);break;default:
// dense & dense
n=m(t,e,y)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return y(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return y(a(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return y(t,a(e))},"Matrix, number | BigNumber":function(t,e){
// check scalar
if(!u(e,0)){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=d(t,e,y,!1);break;default:n=v(t,e,y,!1)}return n}return t.clone()},"number | BigNumber, Matrix":function(t,e){
// check scalar
if(!u(t,0)){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=h(e,t,y,!0);break;default:n=v(e,t,y,!0)}return n}return c(e.size(),e.storage())},"Array, number | BigNumber":function(t,e){
// use matrix implementation
return y(a(t),e).valueOf()},"number | BigNumber, Array":function(t,e){
// use matrix implementation
return y(t,a(e)).valueOf()}});return y.toTex={2:"\\left(${args[0]}"+s.operators.rightLogShift+"${args[1]}\\right)"},y}var i=n(5).isInteger;e.name="rightLogShift",e.factory=r},/* 726 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(34)),s=r(n(256)),a=r(n(100)),u=r(n(84)),c=i("bellNumbers",{"number | BigNumber":function(t){if(!u(t)||a(t))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var e=0,n=0;n<=t;n++)e=o(e,s(t,n));return e}});return c.toTex={1:"\\mathrm{B}_{${args[0]}}"},c}e.name="bellNumbers",e.factory=r},/* 727 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(34)),s=r(n(79)),a=r(n(21)),u=r(n(125)),c=r(n(100)),l=r(n(84)),f=i("catalan",{"number | BigNumber":function(t){if(!l(t)||c(t))throw new TypeError("Non-negative integer value expected in function catalan");return s(u(a(t,2),t),o(t,1))}});return f.toTex={1:"\\mathrm{C}_{${args[0]}}"},f}e.name="catalan",e.factory=r},/* 728 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(125)),s=r(n(40)),a=r(n(127)),u=r(n(84)),c=r(n(61)),l=i("composition",{"number | BigNumber, number | BigNumber":function(t,e){if(!(u(t)&&a(t)&&u(e)&&a(e)))throw new TypeError("Positive integer value expected in function composition");if(c(e,t))throw new TypeError("k must be less than or equal to n in function composition");return o(s(t,-1),s(e,-1))}});// use default template
return l.toTex=void 0,l}e.name="composition",e.factory=r},/* 729 */
/***/
function(t,e,n){t.exports=[n(726),n(728),n(256),n(727)]},/* 730 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Compute the argument of a complex value.
   * For a complex number `a + bi`, the argument is computed as `atan2(b, a)`.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.arg(x)
   *
   * Examples:
   *
   *    var a = math.complex(2, 2);
   *    math.arg(a) / math.pi;          // returns number 0.25
   *
   *    var b = math.complex('2 + 3i');
   *    math.arg(b);                    // returns number 0.982793723247329
   *    math.atan2(3, 2);               // returns number 0.982793723247329
   *
   * See also:
   *
   *    re, im, conj, abs
   *
   * @param {number | BigNumber | Complex | Array | Matrix} x
   *            A complex number or array with complex numbers
   * @return {number | BigNumber | Array | Matrix} The argument of x
   */
var o=r("arg",{number:function(t){return Math.atan2(0,t)},BigNumber:function(e){return t.BigNumber.atan2(0,e)},Complex:function(t){return t.arg()},
// TODO: implement BigNumber support for function arg
"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\arg\\left(${args[0]}\\right)"},o}var i=n(3);e.name="arg",e.factory=r},/* 731 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Compute the complex conjugate of a complex value.
   * If `x = a+bi`, the complex conjugate of `x` is `a - bi`.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.conj(x)
   *
   * Examples:
   *
   *    math.conj(math.complex('2 + 3i'));  // returns Complex 2 - 3i
   *    math.conj(math.complex('2 - 3i'));  // returns Complex 2 + 3i
   *    math.conj(math.complex('-5.2i'));  // returns Complex 5.2i
   *
   * See also:
   *
   *    re, im, arg, abs
   *
   * @param {number | BigNumber | Complex | Array | Matrix} x
   *            A complex number or array with complex numbers
   * @return {number | BigNumber | Complex | Array | Matrix}
   *            The complex conjugate of x
   */
var o=r("conj",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.conjugate()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\left(${args[0]}\\right)^*"},o}var i=n(3);e.name="conj",e.factory=r},/* 732 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Get the imaginary part of a complex number.
   * For a complex number `a + bi`, the function returns `b`.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.im(x)
   *
   * Examples:
   *
   *    var a = math.complex(2, 3);
   *    math.re(a);                     // returns number 2
   *    math.im(a);                     // returns number 3
   *
   *    math.re(math.complex('-5.2i')); // returns number -5.2
   *    math.re(math.complex(2.4));     // returns number 0
   *
   * See also:
   *
   *    re, conj, abs, arg
   *
   * @param {number | BigNumber | Complex | Array | Matrix} x
   *            A complex number or array with complex numbers
   * @return {number | BigNumber | Array | Matrix} The imaginary part of x
   */
var o=r("im",{number:function(t){return 0},BigNumber:function(e){return new t.BigNumber(0)},Complex:function(t){return t.im},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},o}var i=n(3);e.name="im",e.factory=r},/* 733 */
/***/
function(t,e,n){t.exports=[n(730),n(731),n(732),n(734)]},/* 734 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Get the real part of a complex number.
   * For a complex number `a + bi`, the function returns `a`.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.re(x)
   *
   * Examples:
   *
   *    var a = math.complex(2, 3);
   *    math.re(a);                     // returns number 2
   *    math.im(a);                     // returns number 3
   *
   *    math.re(math.complex('-5.2i')); // returns number 0
   *    math.re(math.complex(2.4));     // returns number 2.4
   *
   * See also:
   *
   *    im, conj, abs, arg
   *
   * @param {number | BigNumber | Complex | Array | Matrix} x
   *            A complex number or array with complex numbers
   * @return {number | BigNumber | Array | Matrix} The real part of x
   */
var o=r("re",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.re},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},o}var i=n(3);e.name="re",e.factory=r},/* 735 */
/***/
function(t,e,n){"use strict";function r(t,e,r,a){r(n(2));return a("distance",{"Array, Array, Array":function(t,e,n){
// Point to Line 2D; (x=Point, y=LinePoint1, z=LinePoint2)
if(2==t.length&&2==e.length&&2==n.length){if(!i(t))throw new TypeError("Array with 2 numbers expected for first argument");if(!i(e))throw new TypeError("Array with 2 numbers expected for second argument");if(!i(n))throw new TypeError("Array with 2 numbers expected for third argument");var r=(n[1]-n[0])/(e[1]-e[0]),o=r*r*e[0],s=r*e[0]*-1,a=t[1];return c(t[0],t[1],o,s,a)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(t,e,n){if(2==Object.keys(t).length&&2==Object.keys(e).length&&2==Object.keys(n).length){if(!i(t))throw new TypeError("Values of pointX and pointY should be numbers");if(!i(e))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers");if(!i(n))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers");if(t.hasOwnProperty("pointX")&&t.hasOwnProperty("pointY")&&e.hasOwnProperty("lineOnePtX")&&e.hasOwnProperty("lineOnePtY")&&n.hasOwnProperty("lineTwoPtX")&&n.hasOwnProperty("lineTwoPtY")){var r=(n.lineTwoPtY-n.lineTwoPtX)/(e.lineOnePtY-e.lineOnePtX),o=r*r*e.lineOnePtX,s=r*e.lineOnePtX*-1,a=t.pointX;return c(t.pointX,t.pointY,o,s,a)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(t,e){
// Point to Line 2D; (x=[pointX, pointY], y=[x-coeff, y-coeff, const])
if(2==t.length&&3==e.length){if(!i(t))throw new TypeError("Array with 2 numbers expected for first argument");if(!o(e))throw new TypeError("Array with 3 numbers expected for second argument");return c(t[0],t[1],e[0],e[1],e[2])}if(3==t.length&&6==e.length){if(!o(t))throw new TypeError("Array with 3 numbers expected for first argument");if(!s(e))throw new TypeError("Array with 6 numbers expected for second argument");return l(t[0],t[1],t[2],e[0],e[1],e[2],e[3],e[4],e[5])}if(2==t.length&&2==e.length){if(!i(t))throw new TypeError("Array with 2 numbers expected for first argument");if(!i(e))throw new TypeError("Array with 2 numbers expected for second argument");return f(t[0],t[1],e[0],e[1])}if(3==t.length&&3==e.length){if(!o(t))throw new TypeError("Array with 3 numbers expected for first argument");if(!o(e))throw new TypeError("Array with 3 numbers expected for second argument");return p(t[0],t[1],t[2],e[0],e[1],e[2])}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(t,e){if(2==Object.keys(t).length&&3==Object.keys(e).length){if(!i(t))throw new TypeError("Values of pointX and pointY should be numbers");if(!o(e))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers");if(t.hasOwnProperty("pointX")&&t.hasOwnProperty("pointY")&&e.hasOwnProperty("xCoeffLine")&&e.hasOwnProperty("yCoeffLine")&&e.hasOwnProperty("yCoeffLine"))return c(t.pointX,t.pointY,e.xCoeffLine,e.yCoeffLine,e.constant);throw new TypeError("Key names do not match")}if(3==Object.keys(t).length&&6==Object.keys(e).length){if(!o(t))throw new TypeError("Values of pointX, pointY and pointZ should be numbers");if(!s(e))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers");if(t.hasOwnProperty("pointX")&&t.hasOwnProperty("pointY")&&e.hasOwnProperty("x0")&&e.hasOwnProperty("y0")&&e.hasOwnProperty("z0")&&e.hasOwnProperty("a")&&e.hasOwnProperty("b")&&e.hasOwnProperty("c"))return l(t.pointX,t.pointY,t.pointZ,e.x0,e.y0,e.z0,e.a,e.b,e.c);throw new TypeError("Key names do not match")}if(2==Object.keys(t).length&&2==Object.keys(e).length){if(!i(t))throw new TypeError("Values of pointOneX and pointOneY should be numbers");if(!i(e))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers");if(t.hasOwnProperty("pointOneX")&&t.hasOwnProperty("pointOneY")&&e.hasOwnProperty("pointTwoX")&&e.hasOwnProperty("pointTwoY"))return f(t.pointOneX,t.pointOneY,e.pointTwoX,e.pointTwoY);throw new TypeError("Key names do not match")}if(3==Object.keys(t).length&&3==Object.keys(e).length){if(!o(t))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers");if(!o(e))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers");if(t.hasOwnProperty("pointOneX")&&t.hasOwnProperty("pointOneY")&&t.hasOwnProperty("pointOneZ")&&e.hasOwnProperty("pointTwoX")&&e.hasOwnProperty("pointTwoY")&&e.hasOwnProperty("pointTwoZ"))return p(t.pointOneX,t.pointOneY,t.pointOneZ,e.pointTwoX,e.pointTwoY,e.pointTwoZ);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(t){if(!u(t))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return h(t)}})}function i(t){
// checks if the number of arguments are correct in count and are valid (should be numbers)
return t.constructor!==Array&&(t=a(t)),"number"==typeof t[0]&&"number"==typeof t[1]}function o(t){
// checks if the number of arguments are correct in count and are valid (should be numbers)
return t.constructor!==Array&&(t=a(t)),"number"==typeof t[0]&&"number"==typeof t[1]&&"number"==typeof t[2]}function s(t){return t.constructor!==Array&&(t=a(t)),"number"==typeof t[0]&&"number"==typeof t[1]&&"number"==typeof t[2]&&"number"==typeof t[3]&&"number"==typeof t[4]&&"number"==typeof t[5]}function a(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;r++)n.push(t[e[r]]);return n}function u(t){
//checks for valid arguments passed to _distancePairwise(Array)
if(2==t[0].length&&"number"==typeof t[0][0]&&"number"==typeof t[0][1]){for(var e in t)if(2!=t[e].length||"number"!=typeof t[e][0]||"number"!=typeof t[e][1])return!1}else{if(3!=t[0].length||"number"!=typeof t[0][0]||"number"!=typeof t[0][1]||"number"!=typeof t[0][2])return!1;for(var e in t)if(3!=t[e].length||"number"!=typeof t[e][0]||"number"!=typeof t[e][1]||"number"!=typeof t[e][2])return!1}return!0}function c(t,e,n,r,i){return Math.abs(n*t+r*e+i)/Math.pow(n*n+r*r,.5)}function l(t,e,n,r,i,o,s,a,u){var c=[(i-e)*u-(o-n)*a,(o-n)*s-(r-t)*u,(r-t)*a-(i-e)*s];return(c=Math.pow(c[0]*c[0]+c[1]*c[1]+c[2]*c[2],.5))/Math.pow(s*s+a*a+u*u,.5)}function f(t,e,n,r){var i=r-e,o=n-t,s=i*i+o*o;return Math.pow(s,.5)}function p(t,e,n,r,i,o){var s=o-n,a=i-e,u=r-t,c=s*s+a*a+u*u;return Math.pow(c,.5)}function h(t){for(var e=[],n=0;n<t.length-1;n++)for(var r=n+1;r<t.length;r++)2==t[0].length?e.push(f(t[n][0],t[n][1],t[r][0],t[r][1])):3==t[0].length&&e.push(p(t[n][0],t[n][1],t[n][2],t[r][0],t[r][1],t[r][2]));return e}e.name="distance",e.factory=r},/* 736 */
/***/
function(t,e,n){t.exports=[n(737),n(735)]},/* 737 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){function o(t){return 2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]}function s(t){return 3===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]&&"number"==typeof t[2]}function a(t){return 4===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]&&"number"==typeof t[2]&&"number"==typeof t[3]}function u(t,n,r,i){var o=t,s=r,a=m(o,n),u=m(s,i),c=a[0]*u[1]-u[0]*a[1];if(f(c)<e.epsilon)return null;var l=(u[0]*o[1]-u[1]*o[0]-u[0]*s[1]+u[1]*s[0])/c;return p(d(a,l),o)}function c(t,e,n,r,i,o,s,a,u,c,l,f){var p=(t-s)*(c-s)+(e-a)*(l-a)+(n-u)*(f-u),h=(c-s)*(r-t)+(l-a)*(i-e)+(f-u)*(o-n),d=(t-s)*(r-t)+(e-a)*(i-e)+(n-u)*(o-n),m=(c-s)*(c-s)+(l-a)*(l-a)+(f-u)*(f-u),v=(r-t)*(r-t)+(i-e)*(i-e)+(o-n)*(o-n),y=(p*h-d*m)/(v*m-h*h),g=(p+y*h)/m,b=t+y*(r-t),w=e+y*(i-e),_=n+y*(o-n),x=s+g*(c-s),E=a+g*(l-a),C=u+g*(f-u);return b===x&&w===E&&_===C?[b,w,_]:null}function l(t,e,n,r,i,o,s,a,u,c){var l=(c-t*s-e*a-n*u)/(r*s+i*a+o*u-t-e-n);return[t+l*(r-t),e+l*(i-e),n+l*(o-n)]}var f=r(n(60)),p=r(n(34)),h=r(n(2)),d=r(n(21)),m=r(n(41)),v=i("intersect",{"Array, Array, Array":function(t,e,n){if(!s(t))throw new TypeError("Array with 3 numbers expected for first argument");if(!s(e))throw new TypeError("Array with 3 numbers expected for second argument");if(!a(n))throw new TypeError("Array with 4 numbers expected as third argument");return l(t[0],t[1],t[2],e[0],e[1],e[2],n[0],n[1],n[2],n[3])},"Array, Array, Array, Array":function(t,e,n,r){if(2===t.length){if(!o(t))throw new TypeError("Array with 2 numbers expected for first argument");if(!o(e))throw new TypeError("Array with 2 numbers expected for second argument");if(!o(n))throw new TypeError("Array with 2 numbers expected for third argument");if(!o(r))throw new TypeError("Array with 2 numbers expected for fourth argument");return u(t,e,n,r)}if(3===t.length){if(!s(t))throw new TypeError("Array with 3 numbers expected for first argument");if(!s(e))throw new TypeError("Array with 3 numbers expected for second argument");if(!s(n))throw new TypeError("Array with 3 numbers expected for third argument");if(!s(r))throw new TypeError("Array with 3 numbers expected for fourth argument");return c(t[0],t[1],t[2],e[0],e[1],e[2],n[0],n[1],n[2],r[0],r[1],r[2])}throw new TypeError("Arrays with two or thee dimensional points expected")},"Matrix, Matrix, Matrix":function(t,e,n){return h(v(t.valueOf(),e.valueOf(),n.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(t,e,n,r){
// TODO: output matrix type should match input matrix type
return h(v(t.valueOf(),e.valueOf(),n.valueOf(),r.valueOf()))}});return v}e.name="intersect",e.factory=r},/* 738 */
/***/
function(t,e,n){t.exports=[n(681),n(707),n(722),n(729),n(733),n(736),n(740),n(747),n(755),n(764),n(768),n(769),n(775),n(795),n(802),n(805)]},/* 739 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){var o=n(6),s=r(n(2)),a=r(n(82)),u=r(n(257)),c=(r(n(275)),r(n(48))),l=r(n(129)),f=r(n(32)),p=r(n(12)),h=r(n(10)),d=i("and",{"number, number":function(t,e){return!(!t||!e)},"Complex, Complex":function(t,e){return!(0===t.re&&0===t.im||0===e.re&&0===e.im)},"BigNumber, BigNumber":function(t,e){return!(t.isZero()||e.isZero()||t.isNaN()||e.isNaN())},"Unit, Unit":function(t,e){return d(t.value,e.value)},"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse & sparse
n=l(t,e,d,!1);break;default:
// sparse & dense
n=c(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":
// dense & sparse
n=c(t,e,d,!1);break;default:
// dense & dense
n=p(t,e,d)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return d(s(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return d(t,s(e))},"Matrix, any":function(t,e){
// check scalar
if(u(e))
// return zero matrix
return a(t.size(),t.storage());
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=f(t,e,d,!1);break;default:n=h(t,e,d,!1)}return n},"any, Matrix":function(t,e){
// check scalar
if(u(t))
// return zero matrix
return a(t.size(),t.storage());
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=f(e,t,d,!0);break;default:n=h(e,t,d,!0)}return n},"Array, any":function(t,e){
// use matrix implementation
return d(s(t),e).valueOf()},"any, Array":function(t,e){
// use matrix implementation
return d(t,s(e)).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+o.operators.and+"${args[1]}\\right)"},d}e.name="and",e.factory=r},/* 740 */
/***/
function(t,e,n){t.exports=[n(739),n(257),n(741),n(742)]},/* 741 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){var o=n(6),s=r(n(2)),a=r(n(31)),u=r(n(128)),c=r(n(33)),l=r(n(12)),f=r(n(10)),p=i("or",{"number, number":function(t,e){return!(!t&&!e)},"Complex, Complex":function(t,e){return 0!==t.re||0!==t.im||0!==e.re||0!==e.im},"BigNumber, BigNumber":function(t,e){return!t.isZero()&&!t.isNaN()||!e.isZero()&&!e.isNaN()},"Unit, Unit":function(t,e){return p(t.value,e.value)},"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse + sparse
n=u(t,e,p);break;default:
// sparse + dense
n=a(e,t,p,!0)}break;default:switch(e.storage()){case"sparse":
// dense + sparse
n=a(t,e,p,!1);break;default:
// dense + dense
n=l(t,e,p)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return p(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return p(s(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return p(t,s(e))},"Matrix, any":function(t,e){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=c(t,e,p,!1);break;default:n=f(t,e,p,!1)}return n},"any, Matrix":function(t,e){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=c(e,t,p,!0);break;default:n=f(e,t,p,!0)}return n},"Array, any":function(t,e){
// use matrix implementation
return f(s(t),e,p,!1).valueOf()},"any, Array":function(t,e){
// use matrix implementation
return f(s(e),t,p,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+o.operators.or+"${args[1]}\\right)"},p}e.name="or",e.factory=r},/* 742 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){var o=n(6),s=r(n(2)),a=r(n(31)),u=r(n(50)),c=r(n(33)),l=r(n(12)),f=r(n(10)),p=i("xor",{"number, number":function(t,e){return!!(!!t^!!e)},"Complex, Complex":function(t,e){return(0!==t.re||0!==t.im)!=(0!==e.re||0!==e.im)},"BigNumber, BigNumber":function(t,e){return(!t.isZero()&&!t.isNaN())!=(!e.isZero()&&!e.isNaN())},"Unit, Unit":function(t,e){return p(t.value,e.value)},"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse + sparse
n=u(t,e,p);break;default:
// sparse + dense
n=a(e,t,p,!0)}break;default:switch(e.storage()){case"sparse":
// dense + sparse
n=a(t,e,p,!1);break;default:
// dense + dense
n=l(t,e,p)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return p(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return p(s(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return p(t,s(e))},"Matrix, any":function(t,e){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=c(t,e,p,!1);break;default:n=f(t,e,p,!1)}return n},"any, Matrix":function(t,e){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=c(e,t,p,!0);break;default:n=f(e,t,p,!0)}return n},"Array, any":function(t,e){
// use matrix implementation
return f(s(t),e,p,!1).valueOf()},"any, Array":function(t,e){
// use matrix implementation
return f(s(e),t,p,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+o.operators.xor+"${args[1]}\\right)"},p}e.name="xor",e.factory=r},/* 743 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){/**
   * Calculate the cross product for two arrays
   * @param {Array} x  First vector
   * @param {Array} y  Second vector
   * @returns {Array} Returns the cross product of x and y
   * @private
   */
function s(t,e){var n=Math.max(i.size(t).length,i.size(e).length);t=i.squeeze(t),e=i.squeeze(e);var r=i.size(t),o=i.size(e);if(1!=r.length||1!=o.length||3!=r[0]||3!=o[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+r.join(", ")+"], B = ["+o.join(", ")+"])");var s=[u(c(t[1],e[2]),c(t[2],e[1])),u(c(t[2],e[0]),c(t[0],e[2])),u(c(t[0],e[1]),c(t[1],e[0]))];return n>1?[s]:s}var a=r(n(2)),u=r(n(41)),c=r(n(21)),l=o("cross",{"Matrix, Matrix":function(t,e){return a(s(t.toArray(),e.toArray()))},"Matrix, Array":function(t,e){return a(s(t.toArray(),e))},"Array, Matrix":function(t,e){return a(s(t,e.toArray()))},"Array, Array":s});return l.toTex={2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},l}var i=n(11);e.name="cross",e.factory=r},/* 744 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){/**
   * Creeate diagonal matrix from a vector or vice versa
   * @param {Array | Matrix} x
   * @param {number} k
   * @param {string} format Storage format for matrix. If null,
   *                          an Array is returned
   * @returns {Array | Matrix}
   * @private
   */
function a(t,e,n,r){if(!o(e))throw new TypeError("Second parameter in function diag must be an integer");var i=e>0?e:0,s=e<0?-e:0;
// check dimensions
switch(n.length){case 1:return u(t,e,r,n[0],s,i);case 2:return c(t,e,r,n,s,i)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function u(e,n,r,i,o,s){
// matrix size
var a=[i+o,i+s],u=t.Matrix.storage(r||"dense"),c=u.diagonal(a,e,n);
// check we need to return a matrix
return null!==r?c:c.valueOf()}function c(t,e,n,r,i,o){
// check x is a Matrix
if(t&&!0===t.isMatrix){
// get diagonal matrix
var s=t.diagonal(e);
// check we need to return a matrix
// check we need to return a matrix
// check we need to change matrix format
return null!==n?n!==s.storage()?l(s,n):s:s.valueOf()}
// loop diagonal
for(var a=Math.min(r[0]-i,r[1]-o),u=[],c=0;c<a;c++)u[c]=t[c+i][c+o];
// check we need to return a matrix
return null!==n?l(u):u}var l=r(n(2)),f=s("diag",{
// FIXME: simplify this huge amount of signatures as soon as typed-function supports optional arguments
Array:function(t){return a(t,0,i.size(t),null)},"Array, number":function(t,e){return a(t,e,i.size(t),null)},"Array, BigNumber":function(t,e){return a(t,e.toNumber(),i.size(t),null)},"Array, string":function(t,e){return a(t,0,i.size(t),e)},"Array, number, string":function(t,e,n){return a(t,e,i.size(t),n)},"Array, BigNumber, string":function(t,e,n){return a(t,e.toNumber(),i.size(t),n)},Matrix:function(t){return a(t,0,t.size(),t.storage())},"Matrix, number":function(t,e){return a(t,e,t.size(),t.storage())},"Matrix, BigNumber":function(t,e){return a(t,e.toNumber(),t.size(),t.storage())},"Matrix, string":function(t,e){return a(t,0,t.size(),e)},"Matrix, number, string":function(t,e,n){return a(t,e,t.size(),n)},"Matrix, BigNumber, string":function(t,e,n){return a(t,e.toNumber(),t.size(),n)}});// use default template
return f.toTex=void 0,f}var i=n(11),o=(n(9).clone,n(5).isInteger);e.name="diag",e.factory=r},/* 745 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){/**
   * Calculate the dot product for two arrays
   * @param {Array} x  First vector
   * @param {Array} y  Second vector
   * @returns {number} Returns the dot product of x and y
   * @private
   */
// TODO: double code with math.multiply
function s(t,e){var n=i(t),r=i(e),o=n[0];if(1!==n.length||1!==r.length)throw new RangeError("Vector expected");// TODO: better error message
if(n[0]!=r[0])throw new RangeError("Vectors must have equal length ("+n[0]+" != "+r[0]+")");if(0==o)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var s=0,c=0;c<o;c++)s=a(s,u(t[c],e[c]));return s}var a=r(n(34)),u=r(n(21)),c=o("dot",{"Matrix, Matrix":function(t,e){return s(t.toArray(),e.toArray())},"Matrix, Array":function(t,e){return s(t.toArray(),e)},"Array, Matrix":function(t,e){return s(t,e.toArray())},"Array, Array":s});return c.toTex={2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},c}var i=n(11).size;e.name="dot",e.factory=r},/* 746 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){var a=r(n(2)),u=s("flatten",{Array:function(t){return o(i(t))},Matrix:function(t){var e=o(i(t.toArray()));
// TODO: return the same matrix type as x
return a(e)}});// use default template
return u.toTex=void 0,u}var i=n(9).clone,o=n(11).flatten;e.name="flatten",e.factory=r},/* 747 */
/***/
function(t,e,n){t.exports=[n(258),n(743),n(259),n(744),n(745),n(165),n(260),n(746),n(261),n(262),n(748),n(166),n(749),n(167),n(263),n(750),n(751),n(752),n(753),n(754),n(123),n(264),n(124),n(82)]},/* 748 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){/**
     * Calculate the kronecker product of two matrices / vectors
     * @param {Array} a  First vector
     * @param {Array} b  Second vector
     * @returns {Array} Returns the kronecker product of x and y
     * @private
     */
function s(t,e){if(
// Deal with the dimensions of the matricies.
1===i(t).length&&(
// Wrap it in a 2D Matrix
t=[t]),1===i(e).length&&(
// Wrap it in a 2D Matrix
e=[e]),i(t).length>2||i(e).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(t.length)+", y = "+JSON.stringify(e.length)+")");var n=[],r=[];return t.map(function(t){return e.map(function(e){return t.map(function(t){return e.map(function(e){return r.push(u(t,e))})},n.push(r=[]))})},n=[])&&n}var a=r(n(2)),u=r(n(47));return o("kron",{"Matrix, Matrix":function(t,e){return a(s(t.toArray(),e.toArray()))},"Matrix, Array":function(t,e){return a(s(t.toArray(),e))},"Array, Matrix":function(t,e){return a(s(t,e.toArray()))},"Array, Array":s})}var i=n(11).size;e.name="kron",e.factory=r},/* 749 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){/**
   * Create an Array or Matrix with ones
   * @param {Array} size
   * @param {string} [format='default']
   * @return {Array | Matrix}
   * @private
   */
function a(e,n){var r=u(e),i=r?new t.BigNumber(1):1;if(c(e),n){
// return a matrix
var s=l(n);return e.length>0?s.resize(e,i):s}
// return an Array
var a=[];return e.length>0?o(a,e,i):a}
// replace BigNumbers with numbers, returns true if size contained BigNumbers
function u(t){var e=!1;return t.forEach(function(t,n,r){t&&!0===t.isBigNumber&&(e=!0,r[n]=t.toNumber())}),e}
// validate arguments
function c(t){t.forEach(function(t){if("number"!=typeof t||!i(t)||t<0)throw new Error("Parameters in function ones must be positive integers")})}var l=r(n(2)),f=s("ones",{"":function(){return"Array"===e.matrix?a([]):a([],"default")},
// math.ones(m, n, p, ..., format)
// TODO: more accurate signature '...number | BigNumber, string' as soon as typed-function supports this
"...number | BigNumber | string":function(t){if("string"==typeof t[t.length-1])return a(t,t.pop());return"Array"===e.matrix?a(t):a(t,"default")},Array:a,Matrix:function(t){var e=t.storage();return a(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return a(t.valueOf(),e)}});// use default template
return f.toTex=void 0,f}var i=n(5).isInteger,o=n(11).resize;e.name="ones",e.factory=r},/* 750 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){var a=r(n(2)),u=s("reshape",{"Matrix, Array":function(t,e){return t.reshape?t.reshape(e):a(o.reshape(t.valueOf(),e))},"Array, Array":function(t,e){return e.forEach(function(t){if(!i(t))throw new TypeError("Invalid size for dimension: "+t)}),o.reshape(t,e)}});// use default template
return u.toTex=void 0,u}var i=(n(18),n(5).isInteger),o=n(11);e.name="reshape",e.factory=r},/* 751 */
/***/
function(t,e,n){"use strict";function r(t,e,r,l){/**
   * Resize a string
   * @param {string} str
   * @param {number[]} size
   * @param {string} [defaultChar=' ']
   * @private
   */
function f(t,e,n){if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";if(1!==e.length)throw new i(e.length,1);var r=e[0];if("number"!=typeof r||!s(r))throw new TypeError("Invalid size, must contain positive integers (size: "+a(e)+")");if(t.length>r)return t.substring(0,r);if(t.length<r){for(var o=t,u=0,c=r-t.length;u<c;u++)o+=n;return o}return t}var p=r(n(2)),h=function(t,n,r){if(2!=arguments.length&&3!=arguments.length)throw new o("resize",arguments.length,2,3);
// check x is a Matrix
if(n&&!0===n.isMatrix&&(n=n.valueOf()),n.length&&n[0]&&!0===n[0].isBigNumber&&(
// convert bignumbers to numbers
n=n.map(function(t){return t&&!0===t.isBigNumber?t.toNumber():t})),t&&!0===t.isMatrix)
// use optimized matrix implementation, return copy
return t.resize(n,r,!0);if("string"==typeof t)
// resize string
return f(t,n,r);
// check result should be a matrix
var i=!Array.isArray(t)&&"Array"!==e.matrix;if(0==n.length){
// output a scalar
for(;Array.isArray(t);)t=t[0];return u(t)}
// output an array/matrix
Array.isArray(t)||(t=[t]),t=u(t);var s=c.resize(t,n,r);return i?p(s):s};// use default template
return h.toTex=void 0,h}var i=n(18),o=n(94),s=n(5).isInteger,a=n(42).format,u=n(9).clone,c=n(11);e.name="resize",e.factory=r},/* 752 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){var s=r(n(2)),a=o("size",{Matrix:function(t){
// TODO: return the same matrix type as the input
return s(t.size())},Array:i.size,string:function(t){return"Array"===e.matrix?[t.length]:s([t.length])},"number | Complex | BigNumber | Unit | boolean | null":function(t){
// scalar
return"Array"===e.matrix?[]:s([])}});// use default template
return a.toTex=void 0,a}var i=n(11);e.name="size",e.factory=r},/* 753 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){// use default template
/**
   * Get the comparator for given order ('asc' or 'desc')
   * @param {'asc' | 'desc'} order
   * @return {Function} Returns a _comparator function
   */
function s(t){if("asc"===t)return l;if("desc"===t)return f;throw new Error('String "asc" or "desc" expected')}/**
   * Validate whether an array is one dimensional
   * Throws an error when this is not the case
   * @param {Array} array
   * @private
   */
function a(t){if(1!==i(t).length)throw new Error("One dimensional array expected")}/**
   * Validate whether a matrix is one dimensional
   * Throws an error when this is not the case
   * @param {Matrix} matrix
   * @private
   */
function u(t){if(1!==t.size().length)throw new Error("One dimensional matrix expected")}var c=r(n(2)),l=r(n(99)),f=function(t,e){return-l(t,e)},p=o("sort",{Array:function(t){return a(t),t.sort(l)},Matrix:function(t){return u(t),c(t.toArray().sort(l),t.storage())},"Array, function":function(t,e){return a(t),t.sort(e)},"Matrix, function":function(t,e){return u(t),c(t.toArray().sort(e),t.storage())},"Array, string":function(t,e){return a(t),t.sort(s(e))},"Matrix, string":function(t,e){return u(t),c(t.toArray().sort(s(e)),t.storage())}});return p.toTex=void 0,p}var i=n(11).size;e.name="sort",e.factory=r},/* 754 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){var a=r(n(2)),u=s("squeeze",{Array:function(t){return o.squeeze(i.clone(t))},Matrix:function(t){var e=o.squeeze(t.toArray());
// FIXME: return the same type of matrix as the input
return Array.isArray(e)?a(e):e},any:function(t){
// scalar
return i.clone(t)}});// use default template
return u.toTex=void 0,u}var i=n(9),o=n(11);e.name="squeeze",e.factory=r},/* 755 */
/***/
function(t,e,n){t.exports=[
//require('./distribution'), // TODO: rethink math.distribution
n(125),n(126),n(265),n(756),n(757),n(758),n(759),n(760),n(761)]},/* 756 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){function o(t,e){var n=e.size().length,r=t.size().length;if(n>1)throw new Error("first object must be one dimensional");if(r>1)throw new Error("second object must be one dimensional");if(n!==r)throw new Error("Length of two vectors must be equal");if(0===u(t))throw new Error("Sum of elements in first object must be non zero");if(0===u(e))throw new Error("Sum of elements in second object must be non zero");var i=a(t,u(t)),o=a(e,u(e)),s=u(c(i,f(l(i,o))));return p(s)?s:Number.NaN}var s=r(n(2)),a=r(n(79)),u=r(n(271)),c=r(n(21)),l=r(n(253)),f=r(n(255)),p=r(n(170));return i("kldivergence",{"Array, Array":function(t,e){return o(s(t),s(e))},"Matrix, Array":function(t,e){return o(t,s(e))},"Array, Matrix":function(t,e){return o(s(t),e)},"Matrix, Matrix":function(t,e){return o(t,e)}})}e.name="kldivergence",e.factory=r},/* 757 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){var s=r(n(34)),a=r(n(21)),u=r(n(79)),c=r(n(126)),l=r(n(84)),f=r(n(127));/**
   * Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities.
   *
   * multinomial takes one array of integers as an argument.
   * The following condition must be enforced: every ai <= 0
   *
   * Syntax:
   *
   *     math.multinomial(a) // a is an array type
   *
   * Examples:
   *
   *    math.multinomial([1,2,1]); // returns 12
   *
   * See also:
   *
   *    combinations, factorial
   *
   * @param {number[] | BigNumber[]} a    Integer numbers of objects in the subset
   * @return {Number | BigNumber}         Multinomial coefficient.
   */
return o("multinomial",{"Array | Matrix":function(t){var e=0,n=1;return i(t,function(t){if(!l(t)||!f(t))throw new TypeError("Positive integer value expected in function multinomial");e=s(e,t),n=a(n,c(t))}),u(c(e),n)}})}var i=n(70);e.name="multinomial",e.factory=r},/* 758 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){var a=r(n(126)),u=s("permutations",{"number | BigNumber":a,"number, number":function(t,e){var n,r;if(!o(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(!o(e)||e<0)throw new TypeError("Positive integer value expected in function permutations");if(e>t)throw new TypeError("second argument k must be less than or equal to first argument n");for(
// Permute n objects, k at a time
n=1,r=t-e+1;r<=t;r++)n*=r;return n},"BigNumber, BigNumber":function(e,n){var r,o;if(!i(e)||!i(n))throw new TypeError("Positive integer value expected in function permutations");if(n.gt(e))throw new TypeError("second argument k must be less than or equal to first argument n");for(r=new t.BigNumber(1),o=e.minus(n).plus(1);o.lte(e);o=o.plus(1))r=r.times(o);return r}});// use default template
return u.toTex=void 0,u}/**
 * Test whether BigNumber n is a positive integer
 * @param {BigNumber} n
 * @returns {boolean} isPositiveInteger
 */
function i(t){return t.isInteger()&&t.gte(0)}var o=n(5).isInteger;e.name="permutations",e.factory=r},/* 759 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(168)),s=o("uniform").pickRandom;// use default template
return s.toTex=void 0,s}e.name="pickRandom",e.factory=r},/* 760 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(168)),s=o("uniform").random;// use default template
return s.toTex=void 0,s}e.name="random",e.factory=r},/* 761 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(168)),s=o("uniform").randomInt;// use default template
return s.toTex=void 0,s}e.name="randomInt",e.factory=r},/* 762 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r,o){
// wrapper function so the rng can be updated via generator
function s(){return a()}
// initialize a seeded pseudo random number generator with config's random seed
var a=null===e.randomSeed?i():i(e.randomSeed.toString());
// updates generator with a new instance of a seeded pseudo random number generator
return o.on("config",function(t,e,n){
// if the user specified a randomSeed
void 0!==n.randomSeed&&(
// update generator with a new instance of a seeded pseudo random number generator
a=null===t.randomSeed?i():i(t.randomSeed.toString()))}),s}var i=n(1113);e.factory=r,e.math=!0},/* 763 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){/**
   * Test whether two arrays have the same size and all elements are equal
   * @param {Array | *} x
   * @param {Array | *} y
   * @return {boolean} Returns true if both arrays are deep equal
   */
function o(t,e){if(Array.isArray(t)){if(Array.isArray(e)){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(!o(t[r],e[r]))return!1;return!0}return!1}return!Array.isArray(e)&&s(t,e)}var s=r(n(169)),a=i("deepEqual",{"any, any":function(t,e){return o(t.valueOf(),e.valueOf())}});// use default template
return a.toTex=void 0,a}e.name="deepEqual",e.factory=r},/* 764 */
/***/
function(t,e,n){t.exports=[n(99),n(763),n(169),n(61),n(266),n(83),n(765),n(766)]},/* 765 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){var a=r(n(2)),u=r(n(31)),c=r(n(50)),l=r(n(33)),f=r(n(12)),p=r(n(10)),h=n(6),d=s("smallerEq",{"boolean, boolean":function(t,e){return t<=e},"number, number":function(t,n){return t<=n||i(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return t.lte(n)||o(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return 1!==t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"string, string":function(t,e){return t<=e},"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse + sparse
n=c(t,e,d);break;default:
// sparse + dense
n=u(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":
// dense + sparse
n=u(t,e,d,!1);break;default:
// dense + dense
n=f(t,e,d)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return d(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return d(a(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return d(t,a(e))},"Matrix, any":function(t,e){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=l(t,e,d,!1);break;default:n=p(t,e,d,!1)}return n},"any, Matrix":function(t,e){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=l(e,t,d,!0);break;default:n=p(e,t,d,!0)}return n},"Array, any":function(t,e){
// use matrix implementation
return p(a(t),e,d,!1).valueOf()},"any, Array":function(t,e){
// use matrix implementation
return p(a(e),t,d,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+h.operators.smallerEq+"${args[1]}\\right)"},d}var i=n(5).nearlyEqual,o=n(69);e.name="smallerEq",e.factory=r},/* 766 */
/***/
function(t,e,n){"use strict";function r(t,e,r,s){var a=r(n(2)),u=r(n(31)),c=r(n(50)),l=r(n(33)),f=r(n(12)),p=r(n(10)),h=n(6),d=s("unequal",{"any, any":function(t,e){
// strict equality for null and undefined?
// strict equality for null and undefined?
return null===t?null!==e:null===e?null!==t:void 0===t?void 0!==e:void 0===e?void 0!==t:m(t,e)},"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse + sparse
n=c(t,e,m);break;default:
// sparse + dense
n=u(e,t,m,!0)}break;default:switch(e.storage()){case"sparse":
// dense + sparse
n=u(t,e,m,!1);break;default:
// dense + dense
n=f(t,e,m)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return d(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return d(a(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return d(t,a(e))},"Matrix, any":function(t,e){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=l(t,e,m,!1);break;default:n=p(t,e,m,!1)}return n},"any, Matrix":function(t,e){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=l(e,t,m,!0);break;default:n=p(e,t,m,!0)}return n},"Array, any":function(t,e){
// use matrix implementation
return p(a(t),e,m,!1).valueOf()},"any, Array":function(t,e){
// use matrix implementation
return p(a(e),t,m,!0).valueOf()}}),m=s("_unequal",{"boolean, boolean":function(t,e){return t!==e},"number, number":function(t,n){return!i(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return!o(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return!t.equals(e)},"Complex, Complex":function(t,e){return!t.equals(e)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"string, string":function(t,e){return t!==e}});return d.toTex={2:"\\left(${args[0]}"+h.operators.unequal+"${args[1]}\\right)"},d}var i=n(5).nearlyEqual,o=n(69);e.name="unequal",e.factory=r},/* 767 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Approximates the error function erf() for x <= 0.46875 using this function:
   *               n
   * erf(x) = x * sum (p_j * x^(2j)) / (q_j * x^(2j))
   *              j=0
   */
function f(t){var e,n=t*t,r=u[0][4]*n,i=n;for(e=0;e<3;e+=1)r=(r+u[0][e])*n,i=(i+c[0][e])*n;return t*(r+u[0][3])/(i+c[0][3])}/**
   * Approximates the complement of the error function erfc() for
   * 0.46875 <= x <= 4.0 using this function:
   *                       n
   * erfc(x) = e^(-x^2) * sum (p_j * x^j) / (q_j * x^j)
   *                      j=0
   */
function p(t){var e,n=u[1][8]*t,r=t;for(e=0;e<7;e+=1)n=(n+u[1][e])*t,r=(r+c[1][e])*t;var i=(n+u[1][7])/(r+c[1][7]),o=parseInt(16*t)/16,s=(t-o)*(t+o);return Math.exp(-o*o)*Math.exp(-s)*i}/**
   * Approximates the complement of the error function erfc() for x > 4.0 using
   * this function:
   *
   * erfc(x) = (e^(-x^2) / x) * [ 1/sqrt(pi) +
   *               n
   *    1/(x^2) * sum (p_j * x^(-2j)) / (q_j * x^(-2j)) ]
   *              j=0
   */
function h(t){var e,n=1/(t*t),r=u[2][5]*n,i=n;for(e=0;e<4;e+=1)r=(r+u[2][e])*n,i=(i+c[2][e])*n;var o=n*(r+u[2][4])/(i+c[2][4]);o=(a-o)/t,n=parseInt(16*t)/16;var s=(t-n)*(t+n);return Math.exp(-n*n)*Math.exp(-s)*o}/**
   * Compute the erf function of a value using a rational Chebyshev
   * approximations for different intervals of x.
   *
   * This is a translation of W. J. Cody's Fortran implementation from 1987
   * ( http://www.netlib.org/specfun/erf ). See the AMS publication
   * "Rational Chebyshev Approximations for the Error Function" by W. J. Cody
   * for an explanation of this process.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.erf(x)
   *
   * Examples:
   *
   *    math.erf(0.2);    // returns 0.22270258921047847
   *    math.erf(-0.5);   // returns -0.5204998778130465
   *    math.erf(4);      // returns 0.9999999845827421
   *
   * @param {number | Array | Matrix} x   A real number
   * @return {number | Array | Matrix}    The erf of `x`
   */
var d=r("erf",{number:function(t){var e=Math.abs(t);return e>=l?o(t):e<=s?o(t)*f(e):e<=4?o(t)*(1-p(e)):o(t)*(1-h(e))},
// TODO: Not sure if there's a way to guarantee some degree of accuracy here.
//  Perhaps it would be best to set the precision of the number to that which
//  is guaranteed by erf()
BigNumber:function(e){return new t.BigNumber(d(e.toNumber()))},"Array | Matrix":function(t){return i(t,d)}});return d.toTex={1:"erf\\left(${args[0]}\\right)"},d}var i=n(3),o=n(5).sign,s=.46875,a=.5641895835477563,u=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],c=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],l=Math.pow(2,53);e.name="erf",e.factory=r},/* 768 */
/***/
function(t,e,n){t.exports=[n(767)]},/* 769 */
/***/
function(t,e,n){t.exports=[n(770),n(267),n(268),n(269),n(270),n(771),n(772),n(773),n(774),n(271),n(272)]},/* 770 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){function s(t){if(t=i(t.valueOf()),0===t.length)throw new Error("Cannot calculate median absolute deviation of an empty array");var e=c(t);return c(u(t,function(t){return a(l(t,e))}))}var a=r(n(60)),u=r(n(166)),c=r(n(269)),l=r(n(41)),f=o("mad",{
// mad([a, b, c, d, ...])
"Array | Matrix":s,
// mad(a, b, c, d, ...)
"...":function(t){return s(t)}});// use default template
return f.toTex=void 0,f}var i=n(11).flatten;e.name="mad",e.factory=r},/* 771 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculates the mode in an 1-dimensional array
   * @param {Array} values
   * @return {number} mode
   * @private
   */
function o(t){if(t=i(t.valueOf()),0==t.length)throw new Error("Cannot calculate mode of an empty array");var e={},n=[],r=0;for(var o in t)t[o]in e||(e[t[o]]=0),e[t[o]]++,e[t[o]]==r?n.push(t[o]):e[t[o]]>r&&(r=e[t[o]],n=[t[o]]);return n}return r("mode",{"Array | Matrix":o,"...":function(t){return o(t)}})}var i=n(11).flatten;e.name="mode",e.factory=r},/* 772 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){/**
   * Recursively calculate the product of an n-dimensional array
   * @param {Array} array
   * @return {number} prod
   * @private
   */
function s(t){var e=void 0;if(i(t,function(t){e=void 0===e?t:a(e,t)}),void 0===e)throw new Error("Cannot calculate prod of an empty array");return e}var a=r(n(47)),u=o("prod",{
// prod([a, b, c, d, ...])
"Array | Matrix":s,
// prod([a, b, c, d, ...], dim)
"Array | Matrix, number | BigNumber":function(t,e){
// TODO: implement prod(A, dim)
throw new Error("prod(A, dim) is not yet supported")},
// prod(a, b, c, d, ...)
"...":function(t){return s(t)}});// use default template
return u.toTex=void 0,u}var i=n(70);e.name="prod",e.factory=r},/* 773 */
/***/
function(t,e,n){"use strict";function r(t,e,r,u){/**
   * Compute the prob order quantile of a matrix or a list with values.
   * The sequence is sorted and the middle value is returned.
   * Supported types of sequence values are: Number, BigNumber, Unit
   * Supported types of probability are: Number, BigNumber
   *
   * In case of a (multi dimensional) array or matrix, the prob order quantile
   * of all elements will be calculated.
   *
   * Syntax:
   *
   *     math.quantileSeq(A, prob[, sorted])
   *     math.quantileSeq(A, [prob1, prob2, ...][, sorted])
   *     math.quantileSeq(A, N[, sorted])
   *
   * Examples:
   *
   *     math.quantileSeq([3, -1, 5, 7], 0.5);         // returns 4
   *     math.quantileSeq([3, -1, 5, 7], [1/3, 2/3]);  // returns [3, 5]
   *     math.quantileSeq([3, -1, 5, 7], 2);           // returns [3, 5]
   *     math.quantileSeq([-1, 3, 5, 7], 0.5, true);   // returns 4
   *
   * See also:
   *
   *     median, mean, min, max, sum, prod, std, var
   *
   * @param {Array, Matrix} data                A single matrix or Array
   * @param {Number, BigNumber, Array} probOrN  prob is the order of the quantile, while N is
   *                                            the amount of evenly distributed steps of
   *                                            probabilities; only one of these options can
   *                                            be provided
   * @param {Boolean} sorted=false              is data sorted in ascending order
   * @return {Number, BigNumber, Unit, Array}   Quantile(s)
   */
function c(e,n,r){var s,u,c;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(a(e)){if("boolean"==typeof(r=r||!1)){if(u=e.valueOf(),o(n)){if(n<0)throw new Error("N/prob must be non-negative");if(n<=1)
// quantileSeq([a, b, c, d, ...], prob[,sorted])
return l(u,n,r);if(n>1){
// quantileSeq([a, b, c, d, ...], N[,sorted])
if(!i(n))throw new Error("N must be a positive integer");var f=n+1;s=new Array(n);for(var p=0;p<n;)s[p]=l(u,++p/f,r);return s}}if(n&&n.isBigNumber){if(n.isNegative())throw new Error("N/prob must be non-negative");if(c=new n.constructor(1),n.lte(c))
// quantileSeq([a, b, c, d, ...], prob[,sorted])
return l(u,n,r);if(n.gt(c)){
// quantileSeq([a, b, c, d, ...], N[,sorted])
if(!n.isInteger())throw new Error("N must be a positive integer");
// largest possible Array length is 2^32-1;
// 2^32 < 10^15, thus safe conversion guaranteed
var h=n.toNumber();if(h>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var f=new t.BigNumber(h+1);s=new Array(h);for(var p=0;p<h;)s[p]=l(u,new t.BigNumber(++p).div(f),r);return s}}if(Array.isArray(n)){
// quantileSeq([a, b, c, d, ...], [prob1, prob2, ...][,sorted])
s=new Array(n.length);for(var p=0;p<s.length;++p){var d=n[p];if(o(d)){if(d<0||d>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!d||!d.isBigNumber)throw new TypeError("Unexpected type of argument in function quantileSeq");if(c=new d.constructor(1),d.isNegative()||d.gt(c))throw new Error("Probability must be between 0 and 1, inclusive")}s[p]=l(u,d,r)}return s}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}/**
   * Calculate the prob order quantile of an n-dimensional array.
   * 
   * @param {Array} array
   * @param {Number, BigNumber} prob
   * @param {Boolean} sorted
   * @return {Number, BigNumber, Unit} prob order quantile
   * @private
   */
function l(t,e,n){var r=s(t),i=r.length;if(0===i)throw new Error("Cannot calculate quantile of an empty sequence");if(o(e)){var a=e*(i-1),u=a%1;if(0===u){var c=n?r[a]:h(r,a);return m(c),c}var l,v,y=Math.floor(a);if(n)l=r[y],v=r[y+1];else{v=h(r,y+1),
// max of partition is kth largest
l=r[y];for(var g=0;g<y;++g)d(r[g],l)>0&&(l=r[g])}
// Q(prob) = (1-f)*A[floor(index)] + f*A[floor(index)+1]
return m(l),m(v),f(p(l,1-u),p(v,u))}
// If prob is a BigNumber
var a=e.times(i-1);if(a.isInteger()){a=a.toNumber();var c=n?r[a]:h(r,a);return m(c),c}var l,v,y=a.floor(),u=a.minus(y),b=y.toNumber();if(n)l=r[b],v=r[b+1];else{v=h(r,b+1),
// max of partition is kth largest
l=r[b];for(var g=0;g<b;++g)d(r[g],l)>0&&(l=r[g])}m(l),m(v);
// Q(prob) = (1-f)*A[floor(index)] + f*A[floor(index)+1]
var w=new u.constructor(1);return f(p(l,w.minus(u)),p(v,u))}var f=r(n(34)),p=r(n(21)),h=r(n(167)),d=r(n(99)),m=u({"number | BigNumber | Unit":function(t){return t}});return c}var i=n(5).isInteger,o=n(5).isNumber,s=n(11).flatten,a=n(85);e.name="quantileSeq",e.factory=r},/* 774 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){function o(t,e){if(0==t.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");return s(a.apply(null,arguments))}var s=r(n(122)),a=r(n(272)),u=i("std",{
// std([a, b, c, d, ...])
"Array | Matrix":o,
// std([a, b, c, d, ...], normalization)
"Array | Matrix, string":o,
// std(a, b, c, d, ...)
"...":function(t){return o(t)}});// use default template
return u.toTex=void 0,u}e.name="std",e.factory=r},/* 775 */
/***/
function(t,e,n){t.exports=[n(273),n(776)]},/* 776 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Interpolate values into a string template.
   *
   * Syntax:
   *
   *     math.print(template, values)
   *     math.print(template, values, precision)
   *     math.print(template, values, options)
   *
   * Example usage:
   *
   *     // the following outputs: 'Lucy is 5 years old'
   *     math.print('Lucy is $age years old', {age: 5});
   *
   *     // the following outputs: 'The value of pi is 3.141592654'
   *     math.print('The value of pi is $pi', {pi: math.pi}, 10);
   *
   *     // the following outputs: 'hello Mary! The date is 2013-03-23'
   *     math.print('Hello $user.name! The date is $date', {
   *       user: {
   *         name: 'Mary',
   *       },
   *       date: new Date(2013, 2, 23).toISOString().substring(0, 10)
   *     });
   *
   * See also:
   *
   *     format
   *
   * @param {string} template     A string containing variable placeholders.
   * @param {Object} values       An object containing variables which will
   *                              be filled in in the template.
   * @param {number | Object} [options]  Formatting options,
   *                              or the number of digits to format numbers.
   *                              See function math.format for a description
   *                              of all options.
   * @return {string} Interpolated string
   */
var o=r("print",{"string, Object":i,"string, Object, number | Object":i});// use default template
return o.toTex=void 0,o}/**
 * Interpolate values into a string template.
 * @param {string} template
 * @param {Object} values
 * @param {number | Object} [options]
 * @returns {string} Interpolated string
 * @private
 */
function i(t,e,n){return t.replace(/\$([\w\.]+)/g,function(t,r){for(var i=r.split("."),a=e[i.shift()];i.length&&void 0!==a;){var u=i.shift();a=u?a[u]:a+"."}return void 0!==a?o(a)?a:s(a,n):t})}var o=n(42).isString,s=n(42).format;e.name="print",e.factory=r},/* 777 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the inverse cosine of a value.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.acos(x)
   *
   * Examples:
   *
   *    math.acos(0.5);           // returns number 1.0471975511965979
   *    math.acos(math.cos(1.5)); // returns number 1.5
   *
   *    math.acos(2);             // returns Complex 0 + 1.3169578969248166 i
   *
   * See also:
   *
   *    cos, atan, asin
   *
   * @param {number | BigNumber | Complex | Array | Matrix} x  Function input
   * @return {number | BigNumber | Complex | Array | Matrix} The arc cosine of x
   */
var o=r("acos",{number:function(n){return n>=-1&&n<=1||e.predictable?Math.acos(n):new t.Complex(n,0).acos()},Complex:function(t){return t.acos()},BigNumber:function(t){return t.acos()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\cos^{-1}\\left(${args[0]}\\right)"},o}var i=n(3);e.name="acos",e.factory=r},/* 778 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the inverse cotangent of a value, defined as `acot(x) = atan(1/x)`.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.acot(x)
   *
   * Examples:
   *
   *    math.acot(0.5);           // returns number 0.4636476090008061
   *    math.acot(math.cot(1.5)); // returns number 1.5
   *
   *    math.acot(2);             // returns Complex 1.5707963267948966 -1.3169578969248166 i
   *
   * See also:
   *
   *    cot, atan
   *
   * @param {number | Complex | Array | Matrix} x   Function input
   * @return {number | Complex | Array | Matrix} The arc cotangent of x
   */
var o=r("acot",{number:function(t){return Math.atan(1/t)},Complex:function(t){return t.acot()},BigNumber:function(e){return new t.BigNumber(1).div(e).atan()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\cot^{-1}\\left(${args[0]}\\right)"},o}var i=n(3);e.name="acot",e.factory=r},/* 779 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the hyperbolic arccotangent of a value,
   * defined as `acoth(x) = atanh(1/x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.acoth(x)
   *
   * Examples:
   *
   *    math.acoth(0.5);       // returns 0.8047189562170503
   *
   * See also:
   *
   *    acsch, asech
   *
   * @param {number | Complex | Array | Matrix} x  Function input
   * @return {number | Complex | Array | Matrix} Hyperbolic arccotangent of x
   */
var o=r("acoth",{number:function(n){return n>=1||n<=-1||e.predictable?isFinite(n)?(Math.log((n+1)/n)+Math.log(n/(n-1)))/2:0:new t.Complex(n,0).acoth()},Complex:function(t){return t.acoth()},BigNumber:function(e){return new t.BigNumber(1).div(e).atanh()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\coth^{-1}\\left(${args[0]}\\right)"},o}var i=n(3);e.name="acoth",e.factory=r},/* 780 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the inverse cosecant of a value, defined as `acsc(x) = asin(1/x)`.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.acsc(x)
   *
   * Examples:
   *
   *    math.acsc(0.5);           // returns number 0.5235987755982989
   *    math.acsc(math.csc(1.5)); // returns number ~1.5
   *
   *    math.acsc(2);             // returns Complex 1.5707963267948966 -1.3169578969248166 i
   *
   * See also:
   *
   *    csc, asin, asec
   *
   * @param {number | Complex | Array | Matrix} x   Function input
   * @return {number | Complex | Array | Matrix} The arc cosecant of x
   */
var o=r("acsc",{number:function(n){return n<=-1||n>=1||e.predictable?Math.asin(1/n):new t.Complex(n,0).acsc()},Complex:function(t){return t.acsc()},BigNumber:function(e){return new t.BigNumber(1).div(e).asin()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\csc^{-1}\\left(${args[0]}\\right)"},o}var i=n(3);e.name="acsc",e.factory=r},/* 781 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the hyperbolic arccosecant of a value,
   * defined as `acsch(x) = asinh(1/x) = ln(1/x + sqrt(1/x^2 + 1))`.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.acsch(x)
   *
   * Examples:
   *
   *    math.acsch(0.5);       // returns 1.4436354751788103
   *
   * See also:
   *
   *    asech, acoth
   *
   * @param {number | Complex | Array | Matrix} x  Function input
   * @return {number | Complex | Array | Matrix} Hyperbolic arccosecant of x
   */
var o=r("acsch",{number:function(t){return t=1/t,Math.log(t+Math.sqrt(t*t+1))},Complex:function(t){return t.acsch()},BigNumber:function(e){return new t.BigNumber(1).div(e).asinh()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},o}var i=n(3);e.name="acsch",e.factory=r},/* 782 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the inverse secant of a value. Defined as `asec(x) = acos(1/x)`.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.asec(x)
   *
   * Examples:
   *
   *    math.asec(0.5);           // returns 1.0471975511965979
   *    math.asec(math.sec(1.5)); // returns 1.5
   *
   *    math.asec(2);             // returns 0 + 1.3169578969248166 i
   *
   * See also:
   *
   *    acos, acot, acsc
   *
   * @param {number | Complex | Array | Matrix} x  Function input
   * @return {number | Complex | Array | Matrix} The arc secant of x
   */
var o=r("asec",{number:function(n){return n<=-1||n>=1||e.predictable?Math.acos(1/n):new t.Complex(n,0).asec()},Complex:function(t){return t.asec()},BigNumber:function(e){return new t.BigNumber(1).div(e).acos()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\sec^{-1}\\left(${args[0]}\\right)"},o}var i=n(3);e.name="asec",e.factory=r},/* 783 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){var s=(o.find(r(n(274)),["Complex"]),o("asech",{number:function(n){if(n<=1&&n>=-1||e.predictable){n=1/n;var r=Math.sqrt(n*n-1);return n>0||e.predictable?Math.log(r+n):new t.Complex(Math.log(r-n),Math.PI)}return new t.Complex(n,0).asech()},Complex:function(t){return t.asech()},BigNumber:function(e){return new t.BigNumber(1).div(e).acosh()},"Array | Matrix":function(t){return i(t,s)}}));return s.toTex={1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},s}var i=n(3);e.name="asech",e.factory=r},/* 784 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the inverse sine of a value.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.asin(x)
   *
   * Examples:
   *
   *    math.asin(0.5);           // returns number 0.5235987755982989
   *    math.asin(math.sin(1.5)); // returns number ~1.5
   *
   *    math.asin(2);             // returns Complex 1.5707963267948966 -1.3169578969248166 i
   *
   * See also:
   *
   *    sin, atan, acos
   *
   * @param {number | BigNumber | Complex | Array | Matrix} x   Function input
   * @return {number | BigNumber | Complex | Array | Matrix} The arc sine of x
   */
var o=r("asin",{number:function(n){return n>=-1&&n<=1||e.predictable?Math.asin(n):new t.Complex(n,0).asin()},Complex:function(t){return t.asin()},BigNumber:function(t){return t.asin()},"Array | Matrix":function(t){
// deep map collection, skip zeros since asin(0) = 0
return i(t,o,!0)}});return o.toTex={1:"\\sin^{-1}\\left(${args[0]}\\right)"},o}var i=n(3);e.name="asin",e.factory=r},/* 785 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the hyperbolic arcsine of a value,
   * defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.asinh(x)
   *
   * Examples:
   *
   *    math.asinh(0.5);       // returns 0.48121182505960347
   *
   * See also:
   *
   *    acosh, atanh
   *
   * @param {number | Complex | Array | Matrix} x  Function input
   * @return {number | Complex | Array | Matrix} Hyperbolic arcsine of x
   */
var o=r("asinh",{number:Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},Complex:function(t){return t.asinh()},BigNumber:function(t){return t.asinh()},"Array | Matrix":function(t){
// deep map collection, skip zeros since asinh(0) = 0
return i(t,o,!0)}});return o.toTex={1:"\\sinh^{-1}\\left(${args[0]}\\right)"},o}var i=n(3);e.name="asinh",e.factory=r},/* 786 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the inverse tangent of a value.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.atan(x)
   *
   * Examples:
   *
   *    math.atan(0.5);           // returns number 0.4636476090008061
   *    math.atan(math.tan(1.5)); // returns number 1.5
   *
   *    math.atan(2);             // returns Complex 1.5707963267948966 -1.3169578969248166 i
   *
   * See also:
   *
   *    tan, asin, acos
   *
   * @param {number | BigNumber | Complex | Array | Matrix} x   Function input
   * @return {number | BigNumber | Complex | Array | Matrix} The arc tangent of x
   */
var o=r("atan",{number:function(t){return Math.atan(t)},Complex:function(t){return t.atan()},BigNumber:function(t){return t.atan()},"Array | Matrix":function(t){
// deep map collection, skip zeros since atan(0) = 0
return i(t,o,!0)}});return o.toTex={1:"\\tan^{-1}\\left(${args[0]}\\right)"},o}var i=n(3);e.name="atan",e.factory=r},/* 787 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){var o=r(n(2)),s=r(n(48)),a=r(n(31)),u=r(n(281)),c=r(n(32)),l=r(n(33)),f=r(n(12)),p=r(n(10)),h=i("atan2",{"number, number":Math.atan2,
// Complex numbers doesn't seem to have a reasonable implementation of
// atan2(). Even Matlab removed the support, after they only calculated
// the atan only on base of the real part of the numbers and ignored the imaginary.
"BigNumber, BigNumber":function(e,n){return t.BigNumber.atan2(e,n)},"Matrix, Matrix":function(t,e){
// result
var n;
// process matrix storage
switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":
// sparse .* sparse
n=u(t,e,h,!1);break;default:
// sparse .* dense
n=s(e,t,h,!0)}break;default:switch(e.storage()){case"sparse":
// dense .* sparse
n=a(t,e,h,!1);break;default:
// dense .* dense
n=f(t,e,h)}}return n},"Array, Array":function(t,e){
// use matrix implementation
return h(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return h(o(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return h(t,o(e))},"Matrix, number | BigNumber":function(t,e){
// result
var n;
// check storage format
switch(t.storage()){case"sparse":n=c(t,e,h,!1);break;default:n=p(t,e,h,!1)}return n},"number | BigNumber, Matrix":function(t,e){
// result
var n;
// check storage format
switch(e.storage()){case"sparse":n=l(e,t,h,!0);break;default:n=p(e,t,h,!0)}return n},"Array, number | BigNumber":function(t,e){
// use matrix implementation
return p(o(t),e,h,!1).valueOf()},"number | BigNumber, Array":function(t,e){
// use matrix implementation
return p(o(e),t,h,!0).valueOf()}});return h.toTex={2:"\\mathrm{atan2}\\left(${args}\\right)"},h}e.name="atan2",e.factory=r},/* 788 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the hyperbolic arctangent of a value,
   * defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.atanh(x)
   *
   * Examples:
   *
   *    math.atanh(0.5);       // returns 0.5493061443340549
   *
   * See also:
   *
   *    acosh, asinh
   *
   * @param {number | Complex | Array | Matrix} x  Function input
   * @return {number | Complex | Array | Matrix} Hyperbolic arctangent of x
   */
var s=r("atanh",{number:function(n){return n<=1&&n>=-1||e.predictable?o(n):new t.Complex(n,0).atanh()},Complex:function(t){return t.atanh()},BigNumber:function(t){return t.atanh()},"Array | Matrix":function(t){
// deep map collection, skip zeros since atanh(0) = 0
return i(t,s,!0)}});return s.toTex={1:"\\tanh^{-1}\\left(${args[0]}\\right)"},s}var i=n(3),o=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2};e.name="atanh",e.factory=r},/* 789 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the cosine of a value.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.cos(x)
   *
   * Examples:
   *
   *    math.cos(2);                      // returns number -0.4161468365471422
   *    math.cos(math.pi / 4);            // returns number  0.7071067811865475
   *    math.cos(math.unit(180, 'deg'));  // returns number -1
   *    math.cos(math.unit(60, 'deg'));   // returns number  0.5
   *
   *    var angle = 0.2;
   *    math.pow(math.sin(angle), 2) + math.pow(math.cos(angle), 2); // returns number ~1
   *
   * See also:
   *
   *    cos, tan
   *
   * @param {number | BigNumber | Complex | Unit | Array | Matrix} x  Function input
   * @return {number | BigNumber | Complex | Array | Matrix} Cosine of x
   */
var o=r("cos",{number:Math.cos,Complex:function(t){return t.cos()},BigNumber:function(t){return t.cos()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\cos\\left(${args[0]}\\right)"},o}var i=n(3);e.name="cos",e.factory=r},/* 790 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the hyperbolic cosine of a value,
   * defined as `cosh(x) = 1/2 * (exp(x) + exp(-x))`.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.cosh(x)
   *
   * Examples:
   *
   *    math.cosh(0.5);       // returns number 1.1276259652063807
   *
   * See also:
   *
   *    sinh, tanh
   *
   * @param {number | BigNumber | Complex | Unit | Array | Matrix} x  Function input
   * @return {number | BigNumber | Complex | Array | Matrix} Hyperbolic cosine of x
   */
var s=r("cosh",{number:o,Complex:function(t){return t.cosh()},BigNumber:function(t){return t.cosh()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return s(e.value)},"Array | Matrix":function(t){return i(t,s)}});return s.toTex={1:"\\cosh\\left(${args[0]}\\right)"},s}var i=n(3),o=Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2};e.name="cosh",e.factory=r},/* 791 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the cotangent of a value. Defined as `cot(x) = 1 / tan(x)`.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.cot(x)
   *
   * Examples:
   *
   *    math.cot(2);      // returns number -0.45765755436028577
   *    1 / math.tan(2);  // returns number -0.45765755436028577
   *
   * See also:
   *
   *    tan, sec, csc
   *
   * @param {number | Complex | Unit | Array | Matrix} x  Function input
   * @return {number | Complex | Array | Matrix} Cotangent of x
   */
var o=r("cot",{number:function(t){return 1/Math.tan(t)},Complex:function(t){return t.cot()},BigNumber:function(e){return new t.BigNumber(1).div(e.tan())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\cot\\left(${args[0]}\\right)"},o}var i=n(3);e.name="cot",e.factory=r},/* 792 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the hyperbolic cotangent of a value,
   * defined as `coth(x) = 1 / tanh(x)`.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.coth(x)
   *
   * Examples:
   *
   *    // coth(x) = 1 / tanh(x)
   *    math.coth(2);         // returns 1.0373147207275482
   *    1 / math.tanh(2);     // returns 1.0373147207275482
   *
   * See also:
   *
   *    sinh, tanh, cosh
   *
   * @param {number | Complex | Unit | Array | Matrix} x  Function input
   * @return {number | Complex | Array | Matrix} Hyperbolic cotangent of x
   */
var s=r("coth",{number:i,Complex:function(t){return t.coth()},BigNumber:function(e){return new t.BigNumber(1).div(e.tanh())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return s(e.value)},"Array | Matrix":function(t){return o(t,s)}});return s.toTex={1:"\\coth\\left(${args[0]}\\right)"},s}/**
 * Calculate the hyperbolic cosine of a number
 * @param {number} x
 * @returns {number}
 * @private
 */
function i(t){var e=Math.exp(2*t);return(e+1)/(e-1)}var o=n(3);e.name="coth",e.factory=r},/* 793 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the cosecant of a value, defined as `csc(x) = 1/sin(x)`.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.csc(x)
   *
   * Examples:
   *
   *    math.csc(2);      // returns number 1.099750170294617
   *    1 / math.sin(2);  // returns number 1.099750170294617
   *
   * See also:
   *
   *    sin, sec, cot
   *
   * @param {number | Complex | Unit | Array | Matrix} x  Function input
   * @return {number | Complex | Array | Matrix} Cosecant of x
   */
var o=r("csc",{number:function(t){return 1/Math.sin(t)},Complex:function(t){return t.csc()},BigNumber:function(e){return new t.BigNumber(1).div(e.sin())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\csc\\left(${args[0]}\\right)"},o}var i=n(3);e.name="csc",e.factory=r},/* 794 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the hyperbolic cosecant of a value,
   * defined as `csch(x) = 1 / sinh(x)`.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.csch(x)
   *
   * Examples:
   *
   *    // csch(x) = 1/ sinh(x)
   *    math.csch(0.5);       // returns 1.9190347513349437
   *    1 / math.sinh(0.5);   // returns 1.9190347513349437
   *
   * See also:
   *
   *    sinh, sech, coth
   *
   * @param {number | Complex | Unit | Array | Matrix} x  Function input
   * @return {number | Complex | Array | Matrix} Hyperbolic cosecant of x
   */
var s=r("csch",{number:i,Complex:function(t){return t.csch()},BigNumber:function(e){return new t.BigNumber(1).div(e.sinh())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return s(e.value)},"Array | Matrix":function(t){return o(t,s)}});return s.toTex={1:"\\mathrm{csch}\\left(${args[0]}\\right)"},s}/**
 * Calculate the hyperbolic cosecant of a number
 * @param {number} x
 * @returns {number}
 * @private
 */
function i(t){
// consider values close to zero (+/-)
// consider values close to zero (+/-)
return 0==t?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*s(t)}var o=n(3),s=n(5).sign;e.name="csch",e.factory=r},/* 795 */
/***/
function(t,e,n){t.exports=[n(777),n(274),n(778),n(779),n(780),n(781),n(782),n(783),n(784),n(785),n(786),n(787),n(788),n(789),n(790),n(791),n(792),n(793),n(794),n(796),n(797),n(798),n(799),n(800),n(801)]},/* 796 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the secant of a value, defined as `sec(x) = 1/cos(x)`.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.sec(x)
   *
   * Examples:
   *
   *    math.sec(2);      // returns number -2.4029979617223822
   *    1 / math.cos(2);  // returns number -2.4029979617223822
   *
   * See also:
   *
   *    cos, csc, cot
   *
   * @param {number | Complex | Unit | Array | Matrix} x  Function input
   * @return {number | Complex | Array | Matrix} Secant of x
   */
var o=r("sec",{number:function(t){return 1/Math.cos(t)},Complex:function(t){return t.sec()},BigNumber:function(e){return new t.BigNumber(1).div(e.cos())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\sec\\left(${args[0]}\\right)"},o}var i=n(3);e.name="sec",e.factory=r},/* 797 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the hyperbolic secant of a value,
   * defined as `sech(x) = 1 / cosh(x)`.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.sech(x)
   *
   * Examples:
   *
   *    // sech(x) = 1/ cosh(x)
   *    math.sech(0.5);       // returns 0.886818883970074
   *    1 / math.cosh(0.5);   // returns 0.886818883970074
   *
   * See also:
   *
   *    cosh, csch, coth
   *
   * @param {number | Complex | Unit | Array | Matrix} x  Function input
   * @return {number | Complex | Array | Matrix} Hyperbolic secant of x
   */
var s=r("sech",{number:i,Complex:function(t){return t.sech()},BigNumber:function(e){return new t.BigNumber(1).div(e.cosh())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return s(e.value)},"Array | Matrix":function(t){return o(t,s)}});return s.toTex={1:"\\mathrm{sech}\\left(${args[0]}\\right)"},s}/**
 * Calculate the hyperbolic secant of a number
 * @param {number} x
 * @returns {number}
 * @private
 */
function i(t){return 2/(Math.exp(t)+Math.exp(-t))}var o=n(3);e.name="sech",e.factory=r},/* 798 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the sine of a value.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.sin(x)
   *
   * Examples:
   *
   *    math.sin(2);                      // returns number 0.9092974268256813
   *    math.sin(math.pi / 4);            // returns number 0.7071067811865475
   *    math.sin(math.unit(90, 'deg'));   // returns number 1
   *    math.sin(math.unit(30, 'deg'));   // returns number 0.5
   *
   *    var angle = 0.2;
   *    math.pow(math.sin(angle), 2) + math.pow(math.cos(angle), 2); // returns number ~1
   *
   * See also:
   *
   *    cos, tan
   *
   * @param {number | BigNumber | Complex | Unit | Array | Matrix} x  Function input
   * @return {number | BigNumber | Complex | Array | Matrix} Sine of x
   */
var o=r("sin",{number:Math.sin,Complex:function(t){return t.sin()},BigNumber:function(t){return t.sin()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return o(e.value)},"Array | Matrix":function(t){
// deep map collection, skip zeros since sin(0) = 0
return i(t,o,!0)}});return o.toTex={1:"\\sin\\left(${args[0]}\\right)"},o}var i=n(3);e.name="sin",e.factory=r},/* 799 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the hyperbolic sine of a value,
   * defined as `sinh(x) = 1/2 * (exp(x) - exp(-x))`.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.sinh(x)
   *
   * Examples:
   *
   *    math.sinh(0.5);       // returns number 0.5210953054937474
   *
   * See also:
   *
   *    cosh, tanh
   *
   * @param {number | BigNumber | Complex | Unit | Array | Matrix} x  Function input
   * @return {number | BigNumber | Complex | Array | Matrix} Hyperbolic sine of x
   */
var s=r("sinh",{number:o,Complex:function(t){return t.sinh()},BigNumber:function(t){return t.sinh()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return s(e.value)},"Array | Matrix":function(t){
// deep map collection, skip zeros since sinh(0) = 0
return i(t,s,!0)}});return s.toTex={1:"\\sinh\\left(${args[0]}\\right)"},s}var i=n(3),o=Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2};e.name="sinh",e.factory=r},/* 800 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the tangent of a value. `tan(x)` is equal to `sin(x) / cos(x)`.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.tan(x)
   *
   * Examples:
   *
   *    math.tan(0.5);                    // returns number 0.5463024898437905
   *    math.sin(0.5) / math.cos(0.5);    // returns number 0.5463024898437905
   *    math.tan(math.pi / 4);            // returns number 1
   *    math.tan(math.unit(45, 'deg'));   // returns number 1
   *
   * See also:
   *
   *    atan, sin, cos
   *
   * @param {number | BigNumber | Complex | Unit | Array | Matrix} x  Function input
   * @return {number | BigNumber | Complex | Array | Matrix} Tangent of x
   */
var o=r("tan",{number:Math.tan,Complex:function(t){return t.tan()},BigNumber:function(t){return t.tan()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return o(e.value)},"Array | Matrix":function(t){
// deep map collection, skip zeros since tan(0) = 0
return i(t,o,!0)}});return o.toTex={1:"\\tan\\left(${args[0]}\\right)"},o}var i=n(3);e.name="tan",e.factory=r},/* 801 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Calculate the hyperbolic tangent of a value,
   * defined as `tanh(x) = (exp(2 * x) - 1) / (exp(2 * x) + 1)`.
   *
   * For matrices, the function is evaluated element wise.
   *
   * Syntax:
   *
   *    math.tanh(x)
   *
   * Examples:
   *
   *    // tanh(x) = sinh(x) / cosh(x) = 1 / coth(x)
   *    math.tanh(0.5);                   // returns 0.46211715726000974
   *    math.sinh(0.5) / math.cosh(0.5);  // returns 0.46211715726000974
   *    1 / math.coth(0.5);               // returns 0.46211715726000974
   *
   * See also:
   *
   *    sinh, cosh, coth
   *
   * @param {number | BigNumber | Complex | Unit | Array | Matrix} x  Function input
   * @return {number | BigNumber | Complex | Array | Matrix} Hyperbolic tangent of x
   */
var s=r("tanh",{number:o,Complex:function(t){return t.tanh()},BigNumber:function(t){return t.tanh()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return s(e.value)},"Array | Matrix":function(t){
// deep map collection, skip zeros since tanh(0) = 0
return i(t,s,!0)}});return s.toTex={1:"\\tanh\\left(${args[0]}\\right)"},s}var i=n(3),o=Math.tanh||function(t){var e=Math.exp(2*t);return(e-1)/(e+1)};e.name="tanh",e.factory=r},/* 802 */
/***/
function(t,e,n){t.exports=[n(803)]},/* 803 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){var o=n(6),s=r(n(2)),a=r(n(12)),u=r(n(10)),c=i("to",{"Unit, Unit | string":function(t,e){return t.to(e)},"Matrix, Matrix":function(t,e){
// SparseMatrix does not support Units
return a(t,e,c)},"Array, Array":function(t,e){
// use matrix implementation
return c(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){
// use matrix implementation
return c(s(t),e)},"Matrix, Array":function(t,e){
// use matrix implementation
return c(t,s(e))},"Matrix, any":function(t,e){
// SparseMatrix does not support Units
return u(t,e,c,!1)},"any, Matrix":function(t,e){
// SparseMatrix does not support Units
return u(e,t,c,!0)},"Array, any":function(t,e){
// use matrix implementation
return u(s(t),e,c,!1).valueOf()},"any, Array":function(t,e){
// use matrix implementation
return u(s(e),t,c,!0).valueOf()}});return c.toTex={2:"\\left(${args[0]}"+o.operators.to+"${args[1]}\\right)"},c}e.name="to",e.factory=r},/* 804 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Clone an object.
   *
   * Syntax:
   *
   *     math.clone(x)
   *
   * Examples:
   *
   *    math.clone(3.5);                   // returns number 3.5
   *    math.clone(math.complex('2-4i'); // returns Complex 2 - 4i
   *    math.clone(math.unit(45, 'deg'));  // returns Unit 45 deg
   *    math.clone([[1, 2], [3, 4]]);      // returns Array [[1, 2], [3, 4]]
   *    math.clone("hello world");         // returns string "hello world"
   *
   * @param {*} x   Object to be cloned
   * @return {*} A clone of object x
   */
var o=r("clone",{any:i.clone});// use default template
return o.toTex=void 0,o}var i=n(9);e.name="clone",e.factory=r},/* 805 */
/***/
function(t,e,n){t.exports=[n(804),n(84),n(100),n(170),n(127),n(807),n(275),n(806),n(276)]},/* 806 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){return r("isNaN",{number:function(t){return Number.isNaN(t)},BigNumber:function(t){return t.isNaN()},Fraction:function(t){return!1},Complex:function(t){return Number.isNaN(t.re)&&Number.isNaN(t.im)},Unit:function(t){return Number.isNaN(t.value)},"Array | Matrix":function(t){return i(t,Number.isNaN)}})}var i=n(3);n(5);e.name="isNaN",e.factory=r},/* 807 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Test whether a value is prime: has no divisors other than itself and one.
   * The function supports type `number`, `bignumber`.
   *
   * The function is evaluated element-wise in case of Array or Matrix input.
   *
   * Syntax:
   *
   *     math.isPrime(x)
   *
   * Examples:
   *
   *    math.isPrime(3);                     // returns true
   *    math.isPrime(-2);                    // returns false
   *    math.isPrime(0);                     // returns false
   *    math.isPrime(-0);                    // returns false
   *    math.isPrime(0.5);                   // returns false
   *    math.isPrime('2');                   // returns true
   *    math.isPrime([2, 17, 100]');           // returns [true, true, false]
   *
   * See also:
   *
   *    isNumeric, isZero, isNegative, isInteger
   *
   * @param {number | BigNumber | Array | Matrix} x  Value to be tested
   * @return {boolean}  Returns true when `x` is larger than zero.
   *                    Throws an error in case of an unknown data type.
   */
var o=r("isPrime",{number:function(t){if(t<2)return!1;if(2==t)return!0;if(t%2==0)return!1;for(var e=3;e*e<=t;e+=2)if(t%e==0)return!1;return!0},BigNumber:function(e){if(e.lt(2))return!1;if(e.equals(2))return!0;if(e.mod(2).isZero())return!1;for(var n=t.BigNumber(3);n.times(n).lte(e);n=n.plus(1))if(e.mod(n).isZero())return!1;return!0},"Array | Matrix":function(t){return i(t,o)}});return o}var i=n(3);e.name="isPrime",e.factory=r},/* 808 */
/***/
function(t,e,n){t.exports=[n(822),// data types (Matrix, Complex, Unit, ...)
n(474),// constants
n(665),// expression parsing
n(738),// functions
n(809),// serialization utility (math.json.reviver)
n(479)]},/* 809 */
/***/
function(t,e,n){t.exports=[n(810)]},/* 810 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Instantiate mathjs data types from their JSON representation
   * @param {string} key
   * @param {*} value
   * @returns {*} Returns the revived object
   */
return function(e,n){var r=t[n&&n.mathjs];return r&&"function"==typeof r.fromJSON?r.fromJSON(n):n}}e.name="reviver",e.path="json",e.factory=r},/* 811 */
/***/
function(t,e,n){function r(t,e,n,r,o){var s=i.clone({precision:e.precision});/**
   * Attach type information
   */
/**
   * Get a JSON representation of a BigNumber containing
   * type information
   * @returns {Object} Returns a JSON object structured as:
   *                   `{"mathjs": "BigNumber", "value": "0.2"}`
   */
/**
   * Instantiate a BigNumber from a JSON object
   * @param {Object} json  a JSON object structured as:
   *                       `{"mathjs": "BigNumber", "value": "0.2"}`
   * @return {BigNumber}
   */
// listen for changed in the configuration, automatically apply changed precision
return s.prototype.type="BigNumber",s.prototype.isBigNumber=!0,s.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},s.fromJSON=function(t){return new s(t.value)},o.on("config",function(t,e){t.precision!==e.precision&&s.config({precision:t.precision})}),s}var i=n(469);e.name="BigNumber",e.path="type",e.factory=r,e.math=!0},/* 812 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Create a BigNumber, which can store numbers with arbitrary precision.
   * When a matrix is provided, all elements will be converted to BigNumber.
   *
   * Syntax:
   *
   *    math.bignumber(x)
   *
   * Examples:
   *
   *    0.1 + 0.2;                                  // returns number 0.30000000000000004
   *    math.bignumber(0.1) + math.bignumber(0.2);  // returns BigNumber 0.3
   *
   *
   *    7.2e500;                                    // returns number Infinity
   *    math.bignumber('7.2e500');                  // returns BigNumber 7.2e500
   *
   * See also:
   *
   *    boolean, complex, index, matrix, string, unit
   *
   * @param {number | string | Fraction | BigNumber | Array | Matrix | boolean | null} [value]  Value for the big number,
   *                                                    0 by default.
   * @returns {BigNumber} The created bignumber
   */
var o=r("bignumber",{"":function(){return new t.BigNumber(0)},number:function(e){
// convert to string to prevent errors in case of >15 digits
return new t.BigNumber(e+"")},string:function(e){return new t.BigNumber(e)},BigNumber:function(t){
// we assume a BigNumber is immutable
return t},Fraction:function(e){return new t.BigNumber(e.n).div(e.d)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={0:"0",1:"\\left(${args[0]}\\right)"},o}var i=n(3);e.name="bignumber",e.factory=r},/* 813 */
/***/
function(t,e,n){t.exports=[
// type
n(811),
// construction function
n(812)]},/* 814 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Create a boolean or convert a string or number to a boolean.
   * In case of a number, `true` is returned for non-zero numbers, and `false` in
   * case of zero.
   * Strings can be `'true'` or `'false'`, or can contain a number.
   * When value is a matrix, all elements will be converted to boolean.
   *
   * Syntax:
   *
   *    math.boolean(x)
   *
   * Examples:
   *
   *    math.boolean(0);     // returns false
   *    math.boolean(1);     // returns true
   *    math.boolean(-3);     // returns true
   *    math.boolean('true');     // returns true
   *    math.boolean('false');     // returns false
   *    math.boolean([1, 0, 1, 1]);     // returns [true, false, true, true]
   *
   * See also:
   *
   *    bignumber, complex, index, matrix, string, unit
   *
   * @param {string | number | boolean | Array | Matrix | null} value  A value of any type
   * @return {boolean | Array | Matrix} The boolean value
   */
var o=r("bool",{"":function(){return!1},boolean:function(t){return t},number:function(t){return!!t},BigNumber:function(t){return!t.isZero()},string:function(t){
// try case insensitive
var e=t.toLowerCase();if("true"===e)return!0;if("false"===e)return!1;
// test whether value is a valid number
var n=Number(t);if(""!=t&&!isNaN(n))return!!n;throw new Error('Cannot convert "'+t+'" to a boolean')},"Array | Matrix":function(t){return i(t,o)}});return o}var i=n(3);e.name="boolean",e.factory=r},/* 815 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r,s){/**
   * @constructor Chain
   * Wrap any value in a chain, allowing to perform chained operations on
   * the value.
   *
   * All methods available in the math.js library can be called upon the chain,
   * and then will be evaluated with the value itself as first argument.
   * The chain can be closed by executing chain.done(), which will return
   * the final value.
   *
   * The Chain has a number of special functions:
   * - done()             Finalize the chained operation and return the
   *                      chain's value.
   * - valueOf()          The same as done()
   * - toString()         Returns a string representation of the chain's value.
   *
   * @param {*} [value]
   */
function a(t){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");t&&t.isChain?this.value=t.value:this.value=t}/**
   * Create a proxy method for the chain
   * @param {string} name
   * @param {Function} fn      The function to be proxied
   *                           If fn is no function, it is silently ignored.
   * @private
   */
function u(t,e){"function"==typeof e&&(a.prototype[t]=l(e))}/**
   * Create a proxy method for the chain
   * @param {string} name
   * @param {function} resolver   The function resolving with the
   *                              function to be proxied
   * @private
   */
function c(t,e){o(a.prototype,t,function(){var t=e();if("function"==typeof t)return l(t)})}/**
   * Make a function chainable
   * @param {function} fn
   * @return {Function} chain function
   * @private
   */
function l(t){return function(){// `this` will be the context of a Chain instance
for(var e=[this.value],n=0;n<arguments.length;n++)e[n+1]=arguments[n];return new a(t.apply(t,e))}}/**
   * Attach type information
   */
/**
   * Close the chain. Returns the final value.
   * Does the same as method valueOf()
   * @returns {*} value
   */
/**
   * Close the chain. Returns the final value.
   * Does the same as method done()
   * @returns {*} value
   */
/**
   * Get a string representation of the value in the chain
   * @returns {string}
   */
/**
   * Create a proxy for a single method, or an object with multiple methods.
   * Example usage:
   *
   *   Chain.createProxy('add', function add (x, y) {...});
   *   Chain.createProxy({
   *     add:      function add (x, y) {...},
   *     subtract: function subtract (x, y) {...}
   *   }
   *
   * @param {string | Object} arg0   A name (string), or an object with
   *                                 functions
   * @param {*} [arg1]               A function, when arg0 is a name
   */
// create proxy for everything that is in math.js
// register on the import event, automatically add a proxy for every imported function.
return a.prototype.type="Chain",a.prototype.isChain=!0,a.prototype.done=function(){return this.value},a.prototype.valueOf=function(){return this.value},a.prototype.toString=function(){return i(this.value)},a.createProxy=function(t,e){if("string"==typeof t)
// createProxy(name, value)
u(t,e);else
// createProxy(values)
for(var n in t)t.hasOwnProperty(n)&&u(n,t[n])},a.createProxy(s),s.on("import",function(t,e,n){void 0===n&&
// an imported function (not a data type or something special)
c(t,e)}),a}var i=n(42).format,o=n(9).lazy;e.name="Chain",e.path="type",e.factory=r,e.math=!0,// require providing the math namespace as 5th argument
e.lazy=!1},/* 816 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Wrap any value in a chain, allowing to perform chained operations on
   * the value.
   *
   * All methods available in the math.js library can be called upon the chain,
   * and then will be evaluated with the value itself as first argument.
   * The chain can be closed by executing `chain.done()`, which returns
   * the final value.
   *
   * The chain has a number of special functions:
   *
   * - `done()`     Finalize the chain and return the chain's value.
   * - `valueOf()`  The same as `done()`
   * - `toString()` Executes `math.format()` onto the chain's value, returning
   *                a string representation of the value.
   *
   * Syntax:
   *
   *    math.chain(value)
   *
   * Examples:
   *
   *     math.chain(3)
   *         .add(4)
   *         .subtract(2)
   *         .done();     // 5
   *
   *     math.chain( [[1, 2], [3, 4]] )
   *         .subset(math.index(0, 0), 8)
   *         .multiply(3)
   *         .done();     // [[24, 6], [9, 12]]
   *
   * @param {*} [value]   A value of any type on which to start a chained operation.
   * @return {math.type.Chain} The created chain
   */
return r("chain",{"":function(){return new t.Chain},any:function(e){return new t.Chain(e)}})}e.name="chain",e.factory=r},/* 817 */
/***/
function(t,e,n){t.exports=[
// type
n(815),
// construction function
n(816)]},/* 818 */
/***/
function(t,e,n){"use strict";function r(t,e,r,o){var s=n(6),a=o("complex",{"":function(){return t.Complex.ZERO},number:function(e){return new t.Complex(e,0)},"number, number":function(e,n){return new t.Complex(e,n)},
// TODO: this signature should be redundant
"BigNumber, BigNumber":function(e,n){return new t.Complex(e.toNumber(),n.toNumber())},Complex:function(t){return t.clone()},string:function(e){return t.Complex(e)},Object:function(e){if("re"in e&&"im"in e)return new t.Complex(e.re,e.im);if("r"in e&&"phi"in e)return new t.Complex(e);throw new Error("Expected object with either properties re and im, or properties r and phi.")},"Array | Matrix":function(t){return i(t,a)}});return a.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+"+s.symbols.i+"\\cdot\\left(${args[1]}\\right)\\right)"},a}var i=n(3);e.name="complex",e.factory=r},/* 819 */
/***/
function(t,e,n){t.exports=[
// type
n(277),
// construction function
n(818)]},/* 820 */
/***/
function(t,e,n){function r(t,e,n,r){return i}var i=n(470);/**
 * Attach type information
 */
i.prototype.type="Fraction",i.prototype.isFraction=!0,/**
 * Get a JSON representation of a Fraction containing type information
 * @returns {Object} Returns a JSON object structured as:
 *                   `{"mathjs": "Fraction", "n": 3, "d": 8}`
 */
i.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},/**
 * Instantiate a Fraction from a JSON object
 * @param {Object} json  a JSON object structured as:
 *                       `{"mathjs": "Fraction", "n": 3, "d": 8}`
 * @return {BigNumber}
 */
i.fromJSON=function(t){return new i(t)},e.name="Fraction",e.path="type",e.factory=r},/* 821 */
/***/
function(t,e,n){t.exports=[
// type
n(820),
// construction function
n(278)]},/* 822 */
/***/
function(t,e,n){t.exports=[n(813),n(814),n(817),n(819),n(821),n(830),n(174),n(831),n(832),n(836)]},/* 823 */
/***/
function(t,e,n){"use strict";function r(t,e,r,i){/**
   * Fibonacci Heap implementation, used interally for Matrix math.
   * @class FibonacciHeap
   * @constructor FibonacciHeap
   */
function o(){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");
// initialize fields
this._minimum=null,this._size=0}var s=r(n(83)),a=r(n(61)),u=1/Math.log((1+Math.sqrt(5))/2);/**
   * Attach type information
   */
o.prototype.type="FibonacciHeap",o.prototype.isFibonacciHeap=!0,/**
   * Inserts a new data element into the heap. No heap consolidation is
   * performed at this time, the new node is simply inserted into the root
   * list of this heap. Running time: O(1) actual.
   * @memberof FibonacciHeap
   */
o.prototype.insert=function(t,e){
// create node
var n={key:t,value:e,degree:0};
// check we have a node in the minimum
if(this._minimum){
// minimum node
var r=this._minimum;
// update left & right of node
n.left=r,n.right=r.right,r.right=n,n.right.left=n,
// update minimum node in heap if needed
s(t,r.key)&&(
// node has a smaller key, use it as minimum
this._minimum=n)}else
// set left & right
n.left=n,n.right=n,
// this is the first node
this._minimum=n;
// return node
// increment number of nodes in heap
return this._size++,n},/**
   * Returns the number of nodes in heap. Running time: O(1) actual.
   * @memberof FibonacciHeap
   */
o.prototype.size=function(){return this._size},/**
   * Removes all elements from this heap.
   * @memberof FibonacciHeap
   */
o.prototype.clear=function(){this._minimum=null,this._size=0},/**
   * Returns true if the heap is empty, otherwise false.
   * @memberof FibonacciHeap
   */
o.prototype.isEmpty=function(){return!!this._minimum},/**
   * Extracts the node with minimum key from heap. Amortized running 
   * time: O(log n).
   * @memberof FibonacciHeap
   */
o.prototype.extractMinimum=function(){
// node to remove
var t=this._minimum;
// check we have a minimum
if(null===t)return t;
// for each child of node do...
for(
// current minimum
var e=this._minimum,n=t.degree,r=t.child;n>0;){
// store node in right side
var i=r.right;
// remove x from child list
r.left.right=r.right,r.right.left=r.left,
// add x to root list of heap
r.left=e,r.right=e.right,e.right=r,r.right.left=r,
// set Parent[x] to null
r.parent=null,r=i,n--}
// return node
// remove node from root list of heap
// update minimum
// empty
// update minimum
// we need to update the pointer to the root with minimum key
// decrement size of heap
// update minimum
return t.left.right=t.right,t.right.left=t.left,t==t.right?e=null:(e=t.right,e=h(e,this._size)),this._size--,this._minimum=e,t},/**
   * Removes a node from the heap given the reference to the node. The trees
   * in the heap will be consolidated, if necessary. This operation may fail
   * to remove the correct element if there are nodes with key value -Infinity.
   * Running time: O(log n) amortized.
   * @memberof FibonacciHeap
   */
o.prototype.remove=function(t){
// decrease key value
this._minimum=c(this._minimum,t,-1),
// remove the smallest
this.extractMinimum()};/**
   * Decreases the key value for a heap node, given the new value to take on.
   * The structure of the heap may be changed and will not be consolidated. 
   * Running time: O(1) amortized.
   * @memberof FibonacciHeap
   */
var c=function(t,e,n){
// set node key
e.key=n;
// get parent node
var r=e.parent;
// return minimum
// remove node from parent
// remove all nodes from parent to the root parent
// update minimum node if needed
return r&&s(e.key,r.key)&&(l(t,e,r),f(t,r)),s(e.key,t.key)&&(t=e),t},l=function(t,e,n){
// remove node from parent children and decrement Degree[parent]
e.left.right=e.right,e.right.left=e.left,n.degree--,
// reset y.child if necessary
n.child==e&&(n.child=e.right),
// remove child if degree is 0
0===n.degree&&(n.child=null),
// add node to root list of heap
e.left=t,e.right=t.right,t.right=e,e.right.left=e,
// set parent[node] to null
e.parent=null,
// set mark[node] to false
e.mark=!1},f=function(t,e){
// store parent node
var n=e.parent;
// if there's a parent...
n&&(
// if node is unmarked, set it marked
e.mark?(
// it's marked, cut it from parent
l(t,e,n),
// cut its parent as well
f(n)):e.mark=!0)},p=function(t,e){
// remove node from root list of heap
t.left.right=t.right,t.right.left=t.left,
// make node a Child of parent
t.parent=e,e.child?(t.left=e.child,t.right=e.child.right,e.child.right=t,t.right.left=t):(e.child=t,t.right=t,t.left=t),
// increase degree[parent]
e.degree++,
// set mark[node] false
t.mark=!1},h=function(t,e){
// to find trees of the same degree efficiently we use an array of length O(log n) in which we keep a pointer to one root of each degree
var n=Math.floor(Math.log(e)*u)+1,r=new Array(n),i=0,o=t;if(o)for(i++,o=o.right;o!==t;)i++,o=o.right;
// For each node in root list do...
for(
// vars
var c;i>0;){
// check if there is a node already in array with the same degree
for(
// access this node's degree..
var l=o.degree,f=o.right;;){if(!(
// get node with the same degree is any
c=r[l]))break;
// make one node with the same degree a child of the other, do this based on the key value.
if(a(o.key,c.key)){var h=c;c=o,o=h}
// make y a child of x
p(c,o),
// we have handled this degree, go to next one.
r[l]=null,l++}
// save this node for later when we might encounter another of the same degree.
r[l]=o,
// move forward through list.
o=f,i--}
// Set min to null (effectively losing the root list) and reconstruct the root list from the array entries in array[].
t=null;
// loop nodes in array
for(var d=0;d<n;d++)
// get current node
(c=r[d])&&(
// check if we have a linked list
t?(
// First remove node from root list.
c.left.right=c.right,c.right.left=c.left,
// now add to root list, again.
c.left=t,c.right=t.right,t.right=c,c.right.left=c,
// check if this is a new min.
s(c.key,t.key)&&(t=c)):t=c);return t};return o}e.name="FibonacciHeap",e.path="type",e.factory=r},/* 824 */
/***/
function(t,e,n){"use strict";function r(t,e,r){function o(t,e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!u(e))throw new Error("Invalid datatype: "+e);if(t&&!0===t.isMatrix||a(t)){
// use DenseMatrix implementation
var n=new c(t,e);
// internal structures
this._data=n._data,this._size=n._size,this._datatype=n._datatype,this._min=null,this._max=null}else if(t&&a(t.data)&&a(t.size))
// initialize fields from JSON representation
this._data=t.data,this._size=t.size,this._datatype=t.datatype,this._min=void 0!==t.min?t.min:null,this._max=void 0!==t.max?t.max:null;else{if(t)
// unsupported type
throw new TypeError("Unsupported type of data ("+i.types.type(t)+")");
// nothing provided
this._data=[],this._size=[0],this._datatype=e,this._min=null,this._max=null}}var c=r(n(279)),l=r(n(83));
// exports
/**
   * Attach type information
   */
/**
   * Get a subset of the matrix, or replace a subset of the matrix.
   *
   * Usage:
   *     var subset = matrix.subset(index)               // retrieve subset
   *     var value = matrix.subset(index, replacement)   // replace subset
   *
   * @param {Index} index
   * @param {Array | ImmutableDenseMatrix | *} [replacement]
   * @param {*} [defaultValue=0]      Default value, filled in on new entries when
   *                                  the matrix is resized. If not provided,
   *                                  new matrix elements will be filled with zeros.
   */
/**
   * Replace a single element in the matrix.
   * @param {Number[]} index   Zero-based index
   * @param {*} value
   * @param {*} [defaultValue]        Default value, filled in on new entries when
   *                                  the matrix is resized. If not provided,
   *                                  new matrix elements will be left undefined.
   * @return {ImmutableDenseMatrix} self
   */
/**
   * Resize the matrix to the given size. Returns a copy of the matrix when
   * `copy=true`, otherwise return the matrix itself (resize in place).
   *
   * @param {Number[]} size           The new size the matrix should have.
   * @param {*} [defaultValue=0]      Default value, filled in on new entries.
   *                                  If not provided, the matrix elements will
   *                                  be filled with zeros.
   * @param {boolean} [copy]          Return a resized copy of the matrix
   *
   * @return {Matrix}                 The resized matrix
   */
/**
   * Disallows reshaping in favor of immutability.
   *
   * @throws {Error} Operation not allowed
   */
/**
   * Create a clone of the matrix
   * @return {ImmutableDenseMatrix} clone
   */
/**
   * Get a JSON representation of the matrix
   * @returns {Object}
   */
/**
   * Generate a matrix from a JSON object
   * @param {Object} json  An object structured like
   *                       `{"mathjs": "ImmutableDenseMatrix", data: [], size: []}`,
   *                       where mathjs is optional
   * @returns {ImmutableDenseMatrix}
   */
/**
   * Swap rows i and j in Matrix.
   *
   * @param {Number} i       Matrix row index 1
   * @param {Number} j       Matrix row index 2
   *
   * @return {Matrix}        The matrix reference
   */
/**
   * Calculate the minimum value in the set
   * @return {Number | undefined} min
   */
/**
   * Calculate the maximum value in the set
   * @return {Number | undefined} max
   */
return o.prototype=new c,o.prototype.type="ImmutableDenseMatrix",o.prototype.isImmutableDenseMatrix=!0,o.prototype.subset=function(t){switch(arguments.length){case 1:
// use base implementation
var e=c.prototype.subset.call(this,t);
// check result is a matrix
// check result is a matrix
return e.isMatrix?new o({data:e._data,size:e._size,datatype:e._datatype}):e;
// intentional fall through
case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},o.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},o.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},o.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},o.prototype.clone=function(){return new o({data:s.clone(this._data),size:s.clone(this._size),datatype:this._datatype})},o.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},o.fromJSON=function(t){return new o(t)},o.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},o.prototype.min=function(){
// check min has been calculated before
if(null===this._min){
// minimum
var t=null;
// compute min
this.forEach(function(e){(null===t||l(e,t))&&(t=e)}),this._min=null!==t?t:void 0}return this._min},o.prototype.max=function(){
// check max has been calculated before
if(null===this._max){
// maximum
var t=null;
// compute max
this.forEach(function(e){(null===t||l(t,e))&&(t=e)}),this._max=null!==t?t:void 0}return this._max},o}var i=n(51),o=i.string,s=i.object,a=Array.isArray,u=o.isString;e.name="ImmutableDenseMatrix",e.path="type",e.factory=r},/* 825 */
/***/
function(t,e,n){"use strict";function r(t){/**
   * Create an index. An Index can store ranges and sets for multiple dimensions.
   * Matrix.get, Matrix.set, and math.subset accept an Index as input.
   *
   * Usage:
   *     var index = new Index(range1, range2, matrix1, array1, ...);
   *
   * Where each parameter can be any of:
   *     A number
   *     A string (containing a name of an object property)
   *     An instance of Range
   *     An Array with the Set values
   *     A Matrix with the Set values
   *
   * The parameters start, end, and step must be integer numbers.
   *
   * @class Index
   * @Constructor Index
   * @param {...*} ranges
   */
function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var r=0,i=arguments.length;r<i;r++){var o=arguments[r];if(o&&!0===o.isRange)this._dimensions.push(o),this._isScalar=!1;else if(o&&(Array.isArray(o)||!0===o.isMatrix)){
// create matrix
var s=n(o.valueOf());this._dimensions.push(s);
// size
var a=s.size();
// scalar
1===a.length&&1===a[0]||(this._isScalar=!1)}else if("number"==typeof o)this._dimensions.push(n([o]));else{if("string"!=typeof o)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");
// object property (arguments.count should be 1)
this._dimensions.push(o)}}}function n(e){
// loop array elements
for(var n=0,r=e.length;n<r;n++)if("number"!=typeof e[n]||!o(e[n]))throw new TypeError("Index parameters must be positive integer numbers");
// create matrix
return new t.ImmutableDenseMatrix(e)}/**
   * Attach type information
   */
/**
   * Create a clone of the index
   * @memberof Index
   * @return {Index} clone
   */
/**
   * Create an index from an array with ranges/numbers
   * @memberof Index
   * @param {Array.<Array | number>} ranges
   * @return {Index} index
   * @private
   */
/**
   * Retrieve the size of the index, the number of elements for each dimension.
   * @memberof Index
   * @returns {number[]} size
   */
/**
   * Get the maximum value for each of the indexes ranges.
   * @memberof Index
   * @returns {number[]} max
   */
/**
   * Get the minimum value for each of the indexes ranges.
   * @memberof Index
   * @returns {number[]} min
   */
/**
   * Loop over each of the ranges of the index
   * @memberof Index
   * @param {Function} callback   Called for each range with a Range as first
   *                              argument, the dimension as second, and the
   *                              index object as third.
   */
/**
   * Retrieve the dimension for the given index
   * @memberof Index
   * @param {Number} dim                  Number of the dimension
   * @returns {Range | null} range
   */
/**
   * Test whether this index contains an object property
   * @returns {boolean} Returns true if the index is an object property
   */
/**
   * Returns the object property name when the Index holds a single object property,
   * else returns null
   * @returns {string | null}
   */
/**
   * Test whether this index contains only a single value.
   *
   * This is the case when the index is created with only scalar values as ranges,
   * not for ranges resolving into a single value.
   * @memberof Index
   * @return {boolean} isScalar
   */
/**
   * Expand the Index into an array.
   * For example new Index([0,3], [2,7]) returns [[0,1,2], [2,3,4,5,6]]
   * @memberof Index
   * @returns {Array} array
   */
/**
   * Get the primitive value of the Index, a two dimensional array.
   * Equivalent to Index.toArray().
   * @memberof Index
   * @returns {Array} array
   */
/**
   * Get the string representation of the index, for example '[2:6]' or '[0:2:10, 4:7, [1,2,3]]'
   * @memberof Index
   * @returns {String} str
   */
/**
   * Get a JSON representation of the Index
   * @memberof Index
   * @returns {Object} Returns a JSON object structured as:
   *                   `{"mathjs": "Index", "ranges": [{"mathjs": "Range", start: 0, end: 10, step:1}, ...]}`
   */
/**
   * Instantiate an Index from a JSON object
   * @memberof Index
   * @param {Object} json A JSON object structured as:
   *                     `{"mathjs": "Index", "dimensions": [{"mathjs": "Range", start: 0, end: 10, step:1}, ...]}`
   * @return {Index}
   */
return e.prototype.type="Index",e.prototype.isIndex=!0,e.prototype.clone=function(){var t=new e;return t._dimensions=i(this._dimensions),t._isScalar=this._isScalar,t},e.create=function(t){var n=new e;return e.apply(n,t),n},e.prototype.size=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?1:r.size()[0]}return t},e.prototype.max=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?r:r.max()}return t},e.prototype.min=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?r:r.min()}return t},e.prototype.forEach=function(t){for(var e=0,n=this._dimensions.length;e<n;e++)t(this._dimensions[e],e,this)},e.prototype.dimension=function(t){return this._dimensions[t]||null},e.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},e.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},e.prototype.isScalar=function(){return this._isScalar},e.prototype.toArray=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t.push("string"==typeof r?r:r.toArray())}return t},e.prototype.valueOf=e.prototype.toArray,e.prototype.toString=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];"string"==typeof r?t.push(JSON.stringify(r)):t.push(r.toString())}return"["+t.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},e.fromJSON=function(t){return e.create(t.dimensions)},e}var i=n(9).clone,o=n(5).isInteger;e.name="Index",e.path="type",e.factory=r},/* 826 */
/***/
function(t,e,n){"use strict";function r(t,e,r){/**
   * An ordered Sparse Accumulator is a representation for a sparse vector that includes a dense array 
   * of the vector elements and an ordered list of non-zero elements.
   */
function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");
// allocate vector, TODO use typed arrays
this._values=[],this._heap=new t.FibonacciHeap}var o=r(n(34)),s=r(n(19));/**
   * Attach type information
   */
/**
   * Set the value for index i.
   *
   * @param {number} i                       The index
   * @param {number | BigNumber | Complex}   The value at index i
   */
return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(t,e){
// check we have a value @ i
if(this._values[t])
// update the value @ i
this._values[t].value=e;else{
// insert in heap
var n=this._heap.insert(t,e);
// set the value @ i
this._values[t]=n}},i.prototype.get=function(t){var e=this._values[t];return e?e.value:0},i.prototype.accumulate=function(t,e){
// node @ i
var n=this._values[t];n?
// accumulate value
n.value=o(n.value,e):(
// insert in heap
n=this._heap.insert(t,e),
// initialize value
this._values[t]=n)},i.prototype.forEach=function(t,e,n){
// references
var r=this._heap,i=this._values,o=[],a=r.extractMinimum();
// extract nodes from heap (ordered)
for(a&&o.push(a);a&&a.key<=e;)
// check it is in range
a.key>=t&&(
// check value is not zero
s(a.value,0)||
// invoke callback
n(a.key,a.value,this)),(
// extract next node, save it
a=r.extractMinimum())&&o.push(a);
// reinsert all nodes in heap
for(var u=0;u<o.length;u++){
// current node
var c=o[u];
// insert node in heap
a=r.insert(c.key,c.value),
// update values
i[a.key]=a}},i.prototype.swap=function(t,e){
// node @ i and j
var n=this._values[t],r=this._values[e];
// check we need to insert indeces
if(!n&&r)
// insert in heap
n=this._heap.insert(t,r.value),
// remove from heap
this._heap.remove(r),
// set values
this._values[t]=n,this._values[e]=void 0;else if(n&&!r)
// insert in heap
r=this._heap.insert(e,n.value),
// remove from heap
this._heap.remove(n),
// set values
this._values[e]=r,this._values[t]=void 0;else if(n&&r){
// swap values
var i=n.value;n.value=r.value,r.value=i}},i}e.name="Spa",e.path="type",e.factory=r},/* 827 */
/***/
function(t,e,n){"use strict";function r(t,e,r,m){/**
   * Sparse Matrix implementation. This type implements a Compressed Column Storage format
   * for sparse matrices.
   * @class SparseMatrix
   */
function v(t,e){if(!(this instanceof v))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!h(e))throw new Error("Invalid datatype: "+e);if(t&&!0===t.isMatrix)
// create from matrix
b(this,t,e);else if(t&&l(t.index)&&l(t.ptr)&&l(t.size))
// initialize fields
this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(l(t))
// create from array
w(this,t,e);else{if(t)
// unsupported type
throw new TypeError("Unsupported type of data ("+i.types.type(t)+")");
// nothing provided
this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e}}var y=r(n(171)),g=r(n(19)),b=function(t,e,n){
// check matrix type
"SparseMatrix"===e.type?(
// clone arrays
t._values=e._values?a.clone(e._values):void 0,t._index=a.clone(e._index),t._ptr=a.clone(e._ptr),t._size=a.clone(e._size),t._datatype=n||e._datatype):
// build from matrix data
w(t,e.valueOf(),n||e._datatype)},w=function(t,e,n){
// initialize fields
t._values=[],t._index=[],t._ptr=[],t._datatype=n;
// discover rows & columns, do not use math.size() to avoid looping array twice
var r=e.length,i=0,o=g,s=0;
// check we have rows (empty array)
if(h(n)&&(
// find signature that matches (datatype, datatype)
o=m.find(g,[n,n])||g,
// convert 0 to the same datatype
s=m.convert(0,n)),r>0){
// column index
var a=0;do{
// store pointer to values index
t._ptr.push(t._index.length);
// loop rows
for(var u=0;u<r;u++){
// current row
var c=e[u];
// check row is an array
if(l(c)){
// check row has column
if(
// update columns if needed (only on first column)
0===a&&i<c.length&&(i=c.length),a<c.length){
// value
var f=c[a];
// check value != 0
o(f,s)||(
// store value
t._values.push(f),
// index
t._index.push(u))}}else
// update columns if needed (only on first column)
0===a&&i<1&&(i=1),
// check value != 0 (row is a scalar)
o(c,s)||(
// store value
t._values.push(c),
// index
t._index.push(u))}
// increment index
a++}while(a<i)}
// store number of values in ptr
t._ptr.push(t._index.length),
// size
t._size=[r,i]};v.prototype=new y,/**
   * Attach type information
   */
v.prototype.type="SparseMatrix",v.prototype.isSparseMatrix=!0,/**
   * Get the storage format used by the matrix.
   *
   * Usage:
   *     var format = matrix.storage()                   // retrieve storage format
   *
   * @memberof SparseMatrix
   * @return {string}           The storage format.
   */
v.prototype.storage=function(){return"sparse"},/**
   * Get the datatype of the data stored in the matrix.
   *
   * Usage:
   *     var format = matrix.datatype()                   // retrieve matrix datatype
   *
   * @memberof SparseMatrix
   * @return {string}           The datatype.
   */
v.prototype.datatype=function(){return this._datatype},/**
   * Create a new SparseMatrix
   * @memberof SparseMatrix
   * @param {Array} data
   * @param {string} [datatype]
   */
v.prototype.create=function(t,e){return new v(t,e)},/**
   * Get the matrix density.
   *
   * Usage:
   *     var density = matrix.density()                   // retrieve matrix density
   *
   * @memberof SparseMatrix
   * @return {number}           The matrix density.
   */
v.prototype.density=function(){
// rows & columns
var t=this._size[0],e=this._size[1];
// calculate density
return 0!==t&&0!==e?this._index.length/(t*e):0},/**
   * Get a subset of the matrix, or replace a subset of the matrix.
   *
   * Usage:
   *     var subset = matrix.subset(index)               // retrieve subset
   *     var value = matrix.subset(index, replacement)   // replace subset
   *
   * @memberof SparseMatrix
   * @param {Index} index
   * @param {Array | Maytrix | *} [replacement]
   * @param {*} [defaultValue=0]      Default value, filled in on new entries when
   *                                  the matrix is resized. If not provided,
   *                                  new matrix elements will be filled with zeros.
   */
v.prototype.subset=function(t,e,n){// check it is a pattern matrix
if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");
// check arguments
switch(arguments.length){case 1:return _(this,t);
// intentional fall through
case 2:case 3:return x(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}};var _=function(t,e){
// check idx
if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");if(e.isScalar())
// return a scalar
return t.get(e.min());
// validate dimensions
var n=e.size();if(n.length!=t._size.length)throw new o(n.length,t._size.length);
// vars
var r,i,s,a,u=e.min(),c=e.max();for(r=0,i=t._size.length;r<i;r++)d(u[r],t._size[r]),d(c[r],t._size[r]);
// matrix arrays
var l=t._values,f=t._index,p=t._ptr,h=e.dimension(0),m=e.dimension(1),y=[],g=[];
// loop rows in resulting matrix
h.forEach(function(t,e){
// update permutation vector
g[t]=e[0],
// mark i in workspace
y[t]=!0});
// result matrix arrays
var b=l?[]:void 0,w=[],_=[];
// return matrix
// loop columns in result matrix
// update ptr
return m.forEach(function(t){
// loop values in column j
for(
// update ptr
_.push(w.length),s=p[t],a=p[t+1];s<a;s++)
// row
r=f[s],
// check row is in result matrix
!0===y[r]&&(
// push index
w.push(g[r]),
// check we need to process values
b&&b.push(l[s]))}),_.push(w.length),new v({values:b,index:w,ptr:_,size:n,datatype:t._datatype})},x=function(t,e,n,r){
// check index
if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");
// get index size and check whether the index contains a single value
var i,u=e.size(),c=e.isScalar();
// check index is a scalar
if(n&&!0===n.isMatrix?(
// submatrix size
i=n.size(),
// use array representation
n=n.toArray()):
// get submatrix size (array, scalar)
i=s.size(n),c){
// verify submatrix is a scalar
if(0!==i.length)throw new TypeError("Scalar expected");
// set value
t.set(e.min(),n,r)}else{
// validate dimensions, index size must be one or two dimensions
if(1!==u.length&&2!==u.length)throw new o(u.length,t._size.length,"<");
// check submatrix and index have the same dimensions
if(i.length<u.length){for(
// calculate number of missing outer dimensions
var l=0,f=0;1===u[l]&&1===i[l];)l++;for(;1===u[l];)f++,l++;
// unsqueeze both outer and inner dimensions
n=s.unsqueeze(n,u.length,f,i)}
// check whether the size of the submatrix matches the index size
if(!a.deepEqual(u,i))throw new o(u,i,">");
// loop submatrix
for(var p=e.min()[0],h=e.min()[1],d=i[0],m=i[1],v=0;v<d;v++)
// loop columns
for(var y=0;y<m;y++){
// value at i, j
var g=n[v][y];
// invoke set (zero value will remove entry from matrix)
t.set([v+p,y+h],g,r)}}return t};/**
   * Get a single element from the matrix.
   * @memberof SparseMatrix
   * @param {number[]} index   Zero-based index
   * @return {*} value
   */
v.prototype.get=function(t){if(!l(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new o(t.length,this._size.length);
// check it is a pattern matrix
if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");
// row and column
var e=t[0],n=t[1];
// check i, j are valid
d(e,this._size[0]),d(n,this._size[1]);
// find value index
var r=E(e,this._ptr[n],this._ptr[n+1],this._index);
// check k is prior to next column k and it is in the correct row
// check k is prior to next column k and it is in the correct row
return r<this._ptr[n+1]&&this._index[r]===e?this._values[r]:0},/**
   * Replace a single element in the matrix.
   * @memberof SparseMatrix
   * @param {number[]} index   Zero-based index
   * @param {*} value
   * @param {*} [defaultValue]        Default value, filled in on new entries when
   *                                  the matrix is resized. If not provided,
   *                                  new matrix elements will be set to zero.
   * @return {SparseMatrix} self
   */
v.prototype.set=function(t,e,n){if(!l(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new o(t.length,this._size.length);
// check it is a pattern matrix
if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");
// row and column
var r=t[0],i=t[1],s=this._size[0],a=this._size[1],u=g,c=0;h(this._datatype)&&(
// find signature that matches (datatype, datatype)
u=m.find(g,[this._datatype,this._datatype])||g,
// convert 0 to the same datatype
c=m.convert(0,this._datatype)),
// check we need to resize matrix
(r>s-1||i>a-1)&&(
// resize matrix
N(this,Math.max(r+1,s),Math.max(i+1,a),n),
// update rows & columns
s=this._size[0],a=this._size[1]),
// check i, j are valid
d(r,s),d(i,a);
// find value index
var f=E(r,this._ptr[i],this._ptr[i+1],this._index);
// check k is prior to next column k and it is in the correct row
// check value != 0
// remove value from matrix
// update value
// insert value @ (i, j)
return f<this._ptr[i+1]&&this._index[f]===r?u(e,c)?C(f,i,this._values,this._index,this._ptr):this._values[f]=e:S(f,r,i,e,this._values,this._index,this._ptr),this};var E=function(t,e,n,r){
// check row is on the bottom side
if(n-e==0)return n;
// loop rows [top, bottom[
for(var i=e;i<n;i++)
// check we found value index
if(r[i]===t)return i;
// we did not find row
return e},C=function(t,e,n,r,i){
// remove value @ k
n.splice(t,1),r.splice(t,1);
// update pointers
for(var o=e+1;o<i.length;o++)i[o]--},S=function(t,e,n,r,i,o,s){
// insert value
i.splice(t,0,r),
// update row for k
o.splice(t,0,e);
// update column pointers
for(var a=n+1;a<s.length;a++)s[a]++};/**
   * Resize the matrix to the given size. Returns a copy of the matrix when 
   * `copy=true`, otherwise return the matrix itself (resize in place).
   *
   * @memberof SparseMatrix
   * @param {number[]} size           The new size the matrix should have.
   * @param {*} [defaultValue=0]      Default value, filled in on new entries.
   *                                  If not provided, the matrix elements will
   *                                  be filled with zeros.
   * @param {boolean} [copy]          Return a resized copy of the matrix
   *
   * @return {Matrix}                 The resized matrix
   */
v.prototype.resize=function(t,e,n){
// validate arguments
if(!l(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");
// check sizes
t.forEach(function(e){if(!c.isNumber(e)||!c.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+u.format(t)+")")});
// matrix to resize
var r=n?this.clone():this;
// resize matrix
return N(r,t[0],t[1],e)};var N=function(t,e,n,r){
// value to insert at the time of growing matrix
var i=r||0,o=g,s=0;h(t._datatype)&&(
// find signature that matches (datatype, datatype)
o=m.find(g,[t._datatype,t._datatype])||g,
// convert 0 to the same datatype
s=m.convert(0,t._datatype),
// convert value to the same datatype
i=m.convert(i,t._datatype));
// should we insert the value?
var a,u,c,l=!o(i,s),f=t._size[0],p=t._size[1];
// check we need to increase columns
if(n>p){
// loop new columns
for(u=p;u<n;u++)
// check we need to insert matrix._values
if(
// update matrix._ptr for current column
t._ptr[u]=t._values.length,l)
// loop rows
for(a=0;a<f;a++)
// add new matrix._values
t._values.push(i),
// update matrix._index
t._index.push(a);
// store number of matrix._values in matrix._ptr
t._ptr[n]=t._values.length}else n<p&&(
// truncate matrix._ptr
t._ptr.splice(n+1,p-n),
// truncate matrix._values and matrix._index
t._values.splice(t._ptr[n],t._values.length),t._index.splice(t._ptr[n],t._index.length));
// check we need to increase rows
if(
// update columns
p=n,e>f){
// check we have to insert values
if(l){
// inserts
var d=0;
// loop columns
for(u=0;u<p;u++){
// update matrix._ptr for current column
t._ptr[u]=t._ptr[u]+d,
// where to insert matrix._values
c=t._ptr[u+1]+d;
// pointer
var v=0;
// loop new rows, initialize pointer
for(a=f;a<e;a++,v++)
// add value
t._values.splice(c+v,0,i),
// update matrix._index
t._index.splice(c+v,0,a),
// increment inserts
d++}
// store number of matrix._values in matrix._ptr
t._ptr[p]=t._values.length}}else if(e<f){
// deletes
var y=0;
// loop columns
for(u=0;u<p;u++){
// update matrix._ptr for current column
t._ptr[u]=t._ptr[u]-y;
// where matrix._values start for next column
var b=t._ptr[u],w=t._ptr[u+1]-y;
// loop matrix._index
for(c=b;c<w;c++)
// row
// check we need to delete value and matrix._index
(a=t._index[c])>e-1&&(
// remove value
t._values.splice(c,1),
// remove item from matrix._index
t._index.splice(c,1),
// increase deletes
y++)}
// update matrix._ptr for current column
t._ptr[u]=t._values.length}
// return matrix
// update matrix._size
return t._size[0]=e,t._size[1]=n,t};/**
   * Reshape the matrix to the given size. Returns a copy of the matrix when
   * `copy=true`, otherwise return the matrix itself (reshape in place).
   *
   * NOTE: This might be better suited to copy by default, instead of modifying
   *       in place. For now, it operates in place to remain consistent with
   *       resize().
   *
   * @memberof SparseMatrix
   * @param {number[]} size           The new size the matrix should have.
   * @param {boolean} [copy]          Return a reshaped copy of the matrix
   *
   * @return {Matrix}                 The reshaped matrix
   */
v.prototype.reshape=function(t,e){
// validate arguments
if(!l(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");
// m * n must not change
if(
// check sizes
t.forEach(function(e){if(!c.isNumber(e)||!c.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+u.format(t)+")")}),this._size[0]*this._size[1]!=t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");
// matrix to reshape
var n=e?this.clone():this;
// return unchanged if the same shape
if(this._size[0]===t[0]&&this._size[1]===t[1])return n;for(var r=[],i=0;i<n._ptr.length;i++)for(var o=0;o<n._ptr[i+1]-n._ptr[i];o++)r.push(i);
// Transform the (row, column) indices
for(var s=n._values.slice(),a=n._index.slice(),i=0;i<n._index.length;i++){var f=a[i],p=r[i],h=f*n._size[1]+p;r[i]=h%t[1],a[i]=Math.floor(h/t[1])}
// Now reshaping is supposed to preserve the row-major order, BUT these sparse matrices are stored
// in column-major order, so we have to reorder the value array now. One option is to use a multisort,
// sorting several arrays based on some other array.
// OR, we could easily just:
// 1. Remove all values from the matrix
n._values.length=0,n._index.length=0,n._ptr.length=t[1]+1,n._size=t.slice();for(var i=0;i<n._ptr.length;i++)n._ptr[i]=0;
// 2. Re-insert all elements in the proper order (simplified code from SparseMatrix.prototype.set)
// This step is probably the most time-consuming
for(var d=0;d<s.length;d++){var i=a[d],o=r[d],m=s[d],v=E(i,n._ptr[o],n._ptr[o+1],n._index);S(v,i,o,m,n._values,n._index,n._ptr)}
// The value indices are inserted out of order, but apparently that's... still OK?
return n},/**
   * Create a clone of the matrix
   * @memberof SparseMatrix
   * @return {SparseMatrix} clone
   */
v.prototype.clone=function(){return new v({values:this._values?a.clone(this._values):void 0,index:a.clone(this._index),ptr:a.clone(this._ptr),size:a.clone(this._size),datatype:this._datatype})},/**
   * Retrieve the size of the matrix.
   * @memberof SparseMatrix
   * @returns {number[]} size
   */
v.prototype.size=function(){return this._size.slice(0)},/**
   * Create a new matrix with the results of the callback function executed on
   * each entry of the matrix.
   * @memberof SparseMatrix
   * @param {Function} callback   The callback function is invoked with three
   *                              parameters: the value of the element, the index
   *                              of the element, and the Matrix being traversed.
   * @param {boolean} [skipZeros] Invoke callback function for non-zero values only.
   *
   * @return {SparseMatrix} matrix
   */
v.prototype.map=function(t,e){
// check it is a pattern matrix
if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");
// matrix instance
var n=this,r=this._size[0],i=this._size[1];
// invoke _map
return M(this,0,r-1,0,i-1,function(e,r,i){
// invoke callback
return t(e,[r,i],n)},e)};/**
   * Create a new matrix with the results of the callback function executed on the interval
   * [minRow..maxRow, minColumn..maxColumn].
   */
var M=function(t,e,n,r,i,o,s){
// result arrays
var a=[],u=[],c=[],l=g,f=0;h(t._datatype)&&(
// find signature that matches (datatype, datatype)
l=m.find(g,[t._datatype,t._datatype])||g,
// convert 0 to the same datatype
f=m.convert(0,t._datatype));
// loop columns
for(var p=function(t,e,n){
// invoke callback
t=o(t,e,n),
// check value != 0
l(t,f)||(
// store value
a.push(t),
// index
u.push(e))},d=r;d<=i;d++){
// store pointer to values index
c.push(a.length);
// loop k within [k0, k1[
for(var y=t._ptr[d],b=t._ptr[d+1],w=e,_=y;_<b;_++){
// row index
var x=t._index[_];
// check i is in range
if(x>=e&&x<=n){
// zero values
if(!s)for(var E=w;E<x;E++)p(0,E-e,d-r);
// value @ k
p(t._values[_],x-e,d-r)}
// update pointer
w=x+1}
// zero values
if(!s)for(var C=w;C<=n;C++)p(0,C-e,d-r)}
// return sparse matrix
// store number of values in ptr
return c.push(a.length),new v({values:a,index:u,ptr:c,size:[n-e+1,i-r+1]})};/**
   * Execute a callback function on each entry of the matrix.
   * @memberof SparseMatrix
   * @param {Function} callback   The callback function is invoked with three
   *                              parameters: the value of the element, the index
   *                              of the element, and the Matrix being traversed.
   * @param {boolean} [skipZeros] Invoke callback function for non-zero values only.
   */
v.prototype.forEach=function(t,e){
// check it is a pattern matrix
if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");
// loop columns
for(var n=this,r=this._size[0],i=this._size[1],o=0;o<i;o++){
// loop k within [k0, k1[
for(var s=this._ptr[o],a=this._ptr[o+1],u=0,c=s;c<a;c++){
// row index
var l=this._index[c];
// check we need to process zeros
if(!e)
// zero values
for(var f=u;f<l;f++)t(0,[f,o],n);
// value @ k
t(this._values[c],[l,o],n),
// update pointer
u=l+1}
// check we need to process zeros
if(!e)
// zero values
for(var p=u;p<r;p++)t(0,[p,o],n)}},/**
   * Create an Array with a copy of the data of the SparseMatrix
   * @memberof SparseMatrix
   * @returns {Array} array
   */
v.prototype.toArray=function(){return O(this._values,this._index,this._ptr,this._size,!0)},/**
   * Get the primitive value of the SparseMatrix: a two dimensions array
   * @memberof SparseMatrix
   * @returns {Array} array
   */
v.prototype.valueOf=function(){return O(this._values,this._index,this._ptr,this._size,!1)};var O=function(t,e,n,r,i){
// rows and columns
var o,s,u=r[0],c=r[1],l=[];
// initialize array
for(o=0;o<u;o++)for(l[o]=[],s=0;s<c;s++)l[o][s]=0;
// loop columns
for(s=0;s<c;s++)
// loop k within [k0, k1[
for(var f=n[s],p=n[s+1],h=f;h<p;h++)
// row index
o=e[h],
// set value (use one for pattern matrix)
l[o][s]=t?i?a.clone(t[h]):t[h]:1;return l};/**
   * Get a string representation of the matrix, with optional formatting options.
   * @memberof SparseMatrix
   * @param {Object | number | Function} [options]  Formatting options. See
   *                                                lib/utils/number:format for a
   *                                                description of the available
   *                                                options.
   * @returns {string} str
   */
/**
   * Get a string representation of the matrix
   * @memberof SparseMatrix
   * @returns {string} str
   */
/**
   * Get a JSON representation of the matrix
   * @memberof SparseMatrix
   * @returns {Object}
   */
/**
   * Get the kth Matrix diagonal.
   *
   * @memberof SparseMatrix
   * @param {number | BigNumber} [k=0]     The kth diagonal where the vector will retrieved.
   *
   * @returns {Matrix}                     The matrix vector with the diagonal values.
   */
/**
   * Generate a matrix from a JSON object
   * @memberof SparseMatrix
   * @param {Object} json  An object structured like
   *                       `{"mathjs": "SparseMatrix", "values": [], "index": [], "ptr": [], "size": []}`,
   *                       where mathjs is optional
   * @returns {SparseMatrix}
   */
/**
   * Create a diagonal matrix.
   *
   * @memberof SparseMatrix
   * @param {Array} size                       The matrix size.
   * @param {number | Array | Matrix } value   The values for the diagonal.
   * @param {number | BigNumber} [k=0]         The kth diagonal where the vector will be filled in.
   * @param {string} [datatype]                The Matrix datatype, values must be of this datatype.
   *
   * @returns {SparseMatrix}
   */
/**
   * Swap rows i and j in Matrix.
   *
   * @memberof SparseMatrix
   * @param {number} i       Matrix row index 1
   * @param {number} j       Matrix row index 2
   *
   * @return {Matrix}        The matrix reference
   */
/**
   * Loop rows with data in column j.
   *
   * @param {number} j            Column
   * @param {Array} values        Matrix values
   * @param {Array} index         Matrix row indeces
   * @param {Array} ptr           Matrix column pointers
   * @param {Function} callback   Callback function invoked for every row in column j
   */
/**
   * Swap rows x and y in Sparse Matrix data structures.
   *
   * @param {number} x         Matrix row index 1
   * @param {number} y         Matrix row index 2
   * @param {number} columns   Number of columns in matrix
   * @param {Array} values     Matrix values
   * @param {Array} index      Matrix row indeces
   * @param {Array} ptr        Matrix column pointers
   */
// register this type in the base class Matrix
return v.prototype.format=function(t){
// loop columns
for(var e=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+u.format(e,t)+" x "+u.format(n,t)+"] density: "+u.format(r,t)+"\n",o=0;o<n;o++)
// loop k within [k0, k1[
for(var s=this._ptr[o],a=this._ptr[o+1],c=s;c<a;c++){
// row index
var l=this._index[c];
// append value
i+="\n    ("+u.format(l,t)+", "+u.format(o,t)+") ==> "+(this._values?u.format(this._values[c],t):"X")}return i},v.prototype.toString=function(){return u.format(this.toArray())},v.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},v.prototype.diagonal=function(t){
// validate k if any
if(t){
// is must be an integer
if(
// convert BigNumber to a number
!0===t.isBigNumber&&(t=t.toNumber()),!f(t)||!p(t))throw new TypeError("The parameter k must be an integer number")}else
// default value
t=0;var e=t>0?t:0,n=t<0?-t:0,r=this._size[0],i=this._size[1],o=Math.min(r-n,i-e),s=[],a=[],u=[];
// initial ptr value
u[0]=0;
// loop columns
for(var c=e;c<i&&s.length<o;c++)
// loop x within [k0, k1[
for(var l=this._ptr[c],h=this._ptr[c+1],d=l;d<h;d++){
// row index
var m=this._index[d];
// check row
if(m===c-e+n){
// value on this column
s.push(this._values[d]),
// store row
a[s.length-1]=m-n;
// exit loop
break}}
// return matrix
// close ptr
return u.push(s.length),new v({values:s,index:a,ptr:u,size:[o,1]})},v.fromJSON=function(t){return new v(t)},v.diagonal=function(t,e,n,r,i){if(!l(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");
// validate k if any
if(
// map size & validate
t=t.map(function(t){
// validate arguments
if(
// check it is a big number
t&&!0===t.isBigNumber&&(
// convert it
t=t.toNumber()),!f(t)||!p(t)||t<1)throw new Error("Size values must be positive integers");return t}),n){
// is must be an integer
if(
// convert BigNumber to a number
!0===n.isBigNumber&&(n=n.toNumber()),!f(n)||!p(n))throw new TypeError("The parameter k must be an integer number")}else
// default value
n=0;
// equal signature to use
var o=g,s=0;h(i)&&(
// find signature that matches (datatype, datatype)
o=m.find(g,[i,i])||g,
// convert 0 to the same datatype
s=m.convert(0,i));var a,u=n>0?n:0,c=n<0?-n:0,d=t[0],y=t[1],b=Math.min(d-c,y-u);
// check value
if(l(e)){
// validate array
if(e.length!==b)
// number of values in array must be n
throw new Error("Invalid value array length");
// define function
a=function(t){
// return value @ i
return e[t]}}else if(e&&!0===e.isMatrix){
// matrix size
var w=e.size();
// validate matrix
if(1!==w.length||w[0]!==b)
// number of values in array must be n
throw new Error("Invalid matrix length");
// define function
a=function(t){
// return value @ i
return e.get([t])}}else
// define function
a=function(){
// return value
return e};
// loop items
for(var _=[],x=[],E=[],C=0;C<y;C++){
// number of rows with value
E.push(_.length);
// diagonal index
var S=C-u;
// check we need to set diagonal value
if(S>=0&&S<b){
// get value @ i
var N=a(S);
// check for zero
o(N,s)||(
// column
x.push(S+c),
// add value
_.push(N))}}
// create SparseMatrix
// last value should be number of values
return E.push(_.length),new v({values:_,index:x,ptr:E,size:[d,y]})},v.prototype.swapRows=function(t,e){
// check index
if(!(f(t)&&p(t)&&f(e)&&p(e)))throw new Error("Row index must be positive integers");
// check dimensions
if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");
// return current instance
// validate index
// swap rows
return d(t,this._size[0]),d(e,this._size[0]),v._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},v._forEachRow=function(t,e,n,r,i){
// loop
for(var o=r[t],s=r[t+1],a=o;a<s;a++)
// invoke callback
i(n[a],e[a])},v._swapRows=function(t,e,n,r,i,o){
// loop columns
for(var s=0;s<n;s++){
// k0 <= k < k1 where k0 = _ptr[j] && k1 = _ptr[j+1]
var a=o[s],u=o[s+1],c=E(t,a,u,i),l=E(e,a,u,i);
// check both rows exist in matrix
if(c<u&&l<u&&i[c]===t&&i[l]===e){
// swap values (check for pattern matrix)
if(r){var f=r[c];r[c]=r[l],r[l]=f}}else
// check x row exist & no y row
if(c<u&&i[c]===t&&(l>=u||i[l]!==e)){
// value @ x (check for pattern matrix)
var p=r?r[c]:void 0;
// insert value @ y
i.splice(l,0,e),r&&r.splice(l,0,p),
// remove value @ x (adjust array index if needed)
i.splice(l<=c?c+1:c,1),r&&r.splice(l<=c?c+1:c,1)}else
// check y row exist & no x row
if(l<u&&i[l]===e&&(c>=u||i[c]!==t)){
// value @ y (check for pattern matrix)
var h=r?r[l]:void 0;
// insert value @ x
i.splice(c,0,t),r&&r.splice(c,0,h),
// remove value @ y (adjust array index if needed)
i.splice(c<=l?l+1:l,1),r&&r.splice(c<=l?l+1:l,1)}}},t.Matrix._storage.sparse=v,v}var i=n(51),o=n(18),s=i.array,a=i.object,u=i.string,c=i.number,l=Array.isArray,f=c.isNumber,p=c.isInteger,h=u.isString,d=s.validateIndex;e.name="SparseMatrix",e.path="type",e.factory=r,e.lazy=!1},/* 828 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Create an index. An Index can store ranges having start, step, and end
   * for multiple dimensions.
   * Matrix.get, Matrix.set, and math.subset accept an Index as input.
   *
   * Syntax:
   *
   *     math.index(range1, range2, ...)
   *
   * Where each range can be any of:
   *
   * - A number
   * - A string for getting/setting an object property
   * - An instance of `Range`
   * - A one-dimensional Array or a Matrix with numbers
   *
   * Indexes must be zero-based, integer numbers.
   *
   * Examples:
   *
   *    var math = math.js
   *
   *    var b = [1, 2, 3, 4, 5];
   *    math.subset(b, math.index([1, 2, 3]));     // returns [2, 3, 4]
   *
   *    var a = math.matrix([[1, 2], [3, 4]]);
   *    a.subset(math.index(0, 1));             // returns 2
   *
   * See also:
   *
   *    bignumber, boolean, complex, matrix, number, string, unit
   *
   * @param {...*} ranges   Zero or more ranges or numbers.
   * @return {Index}        Returns the created index
   */
return r("index",{"...number | string | BigNumber | Range | Array | Matrix":function(e){var n=e.map(function(t){return t&&!0===t.isBigNumber?t.toNumber():t&&(Array.isArray(t)||!0===t.isMatrix)?t.map(function(t){
// convert BigNumber to Number
return t&&!0===t.isBigNumber?t.toNumber():t}):t}),r=new t.Index;return t.Index.apply(r,n),r}})}e.name="index",e.factory=r},/* 829 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){var i=t.SparseMatrix,o=r("sparse",{"":function(){return new i([])},string:function(t){return new i([],t)},"Array | Matrix":function(t){return new i(t)},"Array | Matrix, string":function(t,e){return new i(t,e)}});return o.toTex={0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},o}e.name="sparse",e.factory=r},/* 830 */
/***/
function(t,e,n){t.exports=[
// types
n(171),n(279),n(827),n(826),n(823),n(824),n(825),n(280),
// construction functions
n(828),n(2),n(829)]},/* 831 */
/***/
function(t,e,n){t.exports=[
// type
n(282)]},/* 832 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Create a string or convert any object into a string.
   * Elements of Arrays and Matrices are processed element wise.
   *
   * Syntax:
   *
   *    math.string(value)
   *
   * Examples:
   *
   *    math.string(4.2);               // returns string '4.2'
   *    math.string(math.complex(3, 2); // returns string '3 + 2i'
   *
   *    var u = math.unit(5, 'km');
   *    math.string(u.to('m'));         // returns string '5000 m'
   *
   *    math.string([true, false]);     // returns ['true', 'false']
   *
   * See also:
   *
   *    bignumber, boolean, complex, index, matrix, number, unit
   *
   * @param {* | Array | Matrix | null} [value]  A value to convert to a string
   * @return {string | Array | Matrix} The created string
   */
var s=r("string",{"":function(){return""},number:o.format,null:function(t){return"null"},boolean:function(t){return t+""},string:function(t){return t},"Array | Matrix":function(t){return i(t,s)},any:function(t){return String(t)}});return s.toTex={0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},s}var i=n(3),o=n(5);e.name="string",e.factory=r},/* 833 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){return r("createUnit",{
// General function signature. First parameter is an object where each property is the definition of a new unit. The object keys are the unit names and the values are the definitions. The values can be objects, strings, or Units. If a property is an empty object or an empty string, a new base unit is created. The second parameter is the options.
"Object, Object":function(e,n){return t.Unit.createUnit(e,n)},
// Same as above but without the options.
Object:function(e){return t.Unit.createUnit(e,{})},
// Shortcut method for creating one unit.
"string, Unit | string | Object, Object":function(e,n,r){var i={};return i[e]=n,t.Unit.createUnit(i,r)},
// Same as above but without the options.
"string, Unit | string | Object":function(e,n){var r={};return r[e]=n,t.Unit.createUnit(r,{})},
// Without a definition, creates a base unit.
string:function(e){var n={};return n[e]={},t.Unit.createUnit(n,{})}})}n(3);e.name="createUnit",e.factory=r},/* 834 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){return r("splitUnit",{"Unit, Array":function(t,e){return t.splitUnit(e)}})}n(3);e.name="splitUnit",e.factory=r},/* 835 */
/***/
function(t,e,n){"use strict";function r(t,e,n,r){/**
   * Create a unit. Depending on the passed arguments, the function
   * will create and return a new math.type.Unit object.
   * When a matrix is provided, all elements will be converted to units.
   *
   * Syntax:
   *
   *     math.unit(unit : string)
   *     math.unit(value : number, unit : string)
   *
   * Examples:
   *
   *    var a = math.unit(5, 'cm');    // returns Unit 50 mm
   *    var b = math.unit('23 kg');    // returns Unit 23 kg
   *    a.to('m');                     // returns Unit 0.05 m
   *
   * See also:
   *
   *    bignumber, boolean, complex, index, matrix, number, string, createUnit
   *
   * @param {* | Array | Matrix} args   A number and unit.
   * @return {Unit | Array | Matrix}    The created unit
   */
var o=r("unit",{Unit:function(t){return t.clone()},string:function(e){return t.Unit.isValuelessUnit(e)?new t.Unit(null,e):t.Unit.parse(e)},"number | BigNumber | Fraction | Complex, string":function(e,n){return new t.Unit(e,n)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},o}var i=n(3);e.name="unit",e.factory=r},/* 836 */
/***/
function(t,e,n){t.exports=[
// type
n(283),
// construction function
n(835),
// create new units
n(833),
// split units
n(834),
// physical constants
n(837)]},/* 837 */
/***/
function(t,e,n){function r(t,e,n,r,o){
// helper function to create a unit with a fixed prefix
function s(e){var n=t.Unit.parse(e);return n.fixPrefix=!0,n}
// Source: http://www.wikiwand.com/en/Physical_constant
// Universal constants
i(o,"speedOfLight",function(){return s("299792458 m s^-1")}),i(o,"gravitationConstant",function(){return s("6.6738480e-11 m^3 kg^-1 s^-2")}),i(o,"planckConstant",function(){return s("6.626069311e-34 J s")}),i(o,"reducedPlanckConstant",function(){return s("1.05457172647e-34 J s")}),
// Electromagnetic constants
i(o,"magneticConstant",function(){return s("1.2566370614e-6 N A^-2")}),i(o,"electricConstant",function(){return s("8.854187817e-12 F m^-1")}),i(o,"vacuumImpedance",function(){return s("376.730313461 ohm")}),i(o,"coulomb",function(){return s("8.9875517873681764e9 N m^2 C^-2")}),i(o,"elementaryCharge",function(){return s("1.60217656535e-19 C")}),i(o,"bohrMagneton",function(){return s("9.2740096820e-24 J T^-1")}),i(o,"conductanceQuantum",function(){return s("7.748091734625e-5 S")}),i(o,"inverseConductanceQuantum",function(){return s("12906.403721742 ohm")}),i(o,"magneticFluxQuantum",function(){return s("2.06783375846e-15 Wb")}),i(o,"nuclearMagneton",function(){return s("5.0507835311e-27 J T^-1")}),i(o,"klitzing",function(){return s("25812.807443484 ohm")}),
//lazy(math, 'josephson',                 function () {return fixedUnit('4.8359787011e-14 Hz V^-1')});  // TODO: support for Hz needed
// Atomic and nuclear constants
i(o,"bohrRadius",function(){return s("5.291772109217e-11 m")}),i(o,"classicalElectronRadius",function(){return s("2.817940326727e-15 m")}),i(o,"electronMass",function(){return s("9.1093829140e-31 kg")}),i(o,"fermiCoupling",function(){return s("1.1663645e-5 GeV^-2")}),i(o,"fineStructure",function(){return.007297352569824}),i(o,"hartreeEnergy",function(){return s("4.3597443419e-18 J")}),i(o,"protonMass",function(){return s("1.67262177774e-27 kg")}),i(o,"deuteronMass",function(){return s("3.3435830926e-27 kg")}),i(o,"neutronMass",function(){return s("1.6749271613e-27 kg")}),i(o,"quantumOfCirculation",function(){return s("3.636947552024e-4 m^2 s^-1")}),i(o,"rydberg",function(){return s("10973731.56853955 m^-1")}),i(o,"thomsonCrossSection",function(){return s("6.65245873413e-29 m^2")}),i(o,"weakMixingAngle",function(){return.222321}),i(o,"efimovFactor",function(){return 22.7}),
// Physico-chemical constants
i(o,"atomicMass",function(){return s("1.66053892173e-27 kg")}),i(o,"avogadro",function(){return s("6.0221412927e23 mol^-1")}),i(o,"boltzmann",function(){return s("1.380648813e-23 J K^-1")}),i(o,"faraday",function(){return s("96485.336521 C mol^-1")}),i(o,"firstRadiation",function(){return s("3.7417715317e-16 W m^2")}),
// lazy(math, 'spectralRadiance',   function () {return fixedUnit('1.19104286953e-16 W m^2 sr^-1')}); // TODO spectralRadiance
i(o,"loschmidt",function(){return s("2.686780524e25 m^-3")}),i(o,"gasConstant",function(){return s("8.314462175 J K^-1 mol^-1")}),i(o,"molarPlanckConstant",function(){return s("3.990312717628e-10 J s mol^-1")}),i(o,"molarVolume",function(){return s("2.241396820e-10 m^3 mol^-1")}),i(o,"sackurTetrode",function(){return-1.164870823}),i(o,"secondRadiation",function(){return s("1.438777013e-2 m K")}),i(o,"stefanBoltzmann",function(){return s("5.67037321e-8 W m^-2 K^-4")}),i(o,"wienDisplacement",function(){return s("2.897772126e-3 m K")}),
// Adopted values
i(o,"molarMass",function(){return s("1e-3 kg mol^-1")}),i(o,"molarMassC12",function(){return s("1.2e-2 kg mol^-1")}),i(o,"gravity",function(){return s("9.80665 m s^-2")}),
// atm is defined in Unit.js
// Natural units
i(o,"planckLength",function(){return s("1.61619997e-35 m")}),i(o,"planckMass",function(){return s("2.1765113e-8 kg")}),i(o,"planckTime",function(){return s("5.3910632e-44 s")}),i(o,"planckCharge",function(){return s("1.87554595641e-18 C")}),i(o,"planckTemperature",function(){return s("1.41683385e+32 K")})}var i=n(9).lazy;e.factory=r,e.lazy=!1,// no lazy loading of constants, the constants themselves are lazy when needed
e.math=!0},/* 838 */
/***/
function(t,e,n){var r=n(176);/**
 * Bitwise and for Bignumbers
 *
 * Special Cases:
 *   N &  n =  N
 *   n &  0 =  0
 *   n & -1 =  n
 *   n &  n =  n
 *   I &  I =  I
 *  -I & -I = -I
 *   I & -I =  0
 *   I &  n =  n
 *   I & -n =  I
 *  -I &  n =  0
 *  -I & -n = -I
 *
 * @param {BigNumber} x
 * @param {BigNumber} y
 * @return {BigNumber} Result of `x` & `y`, is fully precise
 * @private
 */
t.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);if(t.isZero()||e.eq(-1)||t.eq(e))return t;if(e.isZero()||t.eq(-1))return e;if(!t.isFinite()||!e.isFinite()){if(!t.isFinite()&&!e.isFinite())return t.isNegative()==e.isNegative()?t:new n(0);if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new n(0):e;if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new n(0):t}return r(t,e,function(t,e){return t&e})}},/* 839 */
/***/
function(t,e,n){var r=n(176);/**
 * Bitwise OR for BigNumbers
 *
 * Special Cases:
 *   N |  n =  N
 *   n |  0 =  n
 *   n | -1 = -1
 *   n |  n =  n
 *   I |  I =  I
 *  -I | -I = -I
 *   I | -n = -1
 *   I | -I = -1
 *   I |  n =  I
 *  -I |  n = -I
 *  -I | -n = -n
 *
 * @param {BigNumber} x
 * @param {BigNumber} y
 * @return {BigNumber} Result of `x` | `y`, fully precise
 */
t.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);var i=new n(-1);return t.isZero()||e.eq(i)||t.eq(e)?e:e.isZero()||t.eq(i)?t:t.isFinite()&&e.isFinite()?r(t,e,function(t,e){return t|e}):!t.isFinite()&&!t.isNegative()&&e.isNegative()||t.isNegative()&&!e.isNegative()&&!e.isFinite()?i:t.isNegative()&&e.isNegative()?t.isFinite()?t:e:t.isFinite()?e:t}},/* 840 */
/***/
function(t,e,n){var r=n(176),i=n(175);/**
 * Bitwise XOR for BigNumbers
 *
 * Special Cases:
 *   N ^  n =  N
 *   n ^  0 =  n
 *   n ^  n =  0
 *   n ^ -1 = ~n
 *   I ^  n =  I
 *   I ^ -n = -I
 *   I ^ -I = -1
 *  -I ^  n = -I
 *  -I ^ -n =  I
 *
 * @param {BigNumber} x
 * @param {BigNumber} y
 * @return {BigNumber} Result of `x` ^ `y`, fully precise
 *
 */
t.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);if(t.isZero())return e;if(e.isZero())return t;if(t.eq(e))return new n(0);var o=new n(-1);return t.eq(o)?i(e):e.eq(o)?i(t):t.isFinite()&&e.isFinite()?r(t,e,function(t,e){return t^e}):t.isFinite()||e.isFinite()?new n(t.isNegative()==e.isNegative()?1/0:-1/0):o}},/* 841 */
/***/
function(t,e){/**
 * Convert a BigNumber to a formatted string representation.
 *
 * Syntax:
 *
 *    format(value)
 *    format(value, options)
 *    format(value, precision)
 *    format(value, fn)
 *
 * Where:
 *
 *    {number} value   The value to be formatted
 *    {Object} options An object with formatting options. Available options:
 *                     {string} notation
 *                         Number notation. Choose from:
 *                         'fixed'          Always use regular number notation.
 *                                          For example '123.40' and '14000000'
 *                         'exponential'    Always use exponential notation.
 *                                          For example '1.234e+2' and '1.4e+7'
 *                         'auto' (default) Regular number notation for numbers
 *                                          having an absolute value between
 *                                          `lower` and `upper` bounds, and uses
 *                                          exponential notation elsewhere.
 *                                          Lower bound is included, upper bound
 *                                          is excluded.
 *                                          For example '123.4' and '1.4e7'.
 *                     {number} precision   A number between 0 and 16 to round
 *                                          the digits of the number.
 *                                          In case of notations 'exponential' and
 *                                          'auto', `precision` defines the total
 *                                          number of significant digits returned
 *                                          and is undefined by default.
 *                                          In case of notation 'fixed',
 *                                          `precision` defines the number of
 *                                          significant digits after the decimal
 *                                          point, and is 0 by default.
 *                     {Object} exponential An object containing two parameters,
 *                                          {number} lower and {number} upper,
 *                                          used by notation 'auto' to determine
 *                                          when to return exponential notation.
 *                                          Default values are `lower=1e-3` and
 *                                          `upper=1e5`.
 *                                          Only applicable for notation `auto`.
 *    {Function} fn    A custom formatting function. Can be used to override the
 *                     built-in notations. Function `fn` is called with `value` as
 *                     parameter and must return a string. Is useful for example to
 *                     format all values inside a matrix in a particular way.
 *
 * Examples:
 *
 *    format(6.4);                                        // '6.4'
 *    format(1240000);                                    // '1.24e6'
 *    format(1/3);                                        // '0.3333333333333333'
 *    format(1/3, 3);                                     // '0.333'
 *    format(21385, 2);                                   // '21000'
 *    format(12.071, {notation: 'fixed'});                // '12'
 *    format(2.3,    {notation: 'fixed', precision: 2});  // '2.30'
 *    format(52.8,   {notation: 'exponential'});          // '5.28e+1'
 *
 * @param {BigNumber} value
 * @param {Object | Function | number} [options]
 * @return {string} str The formatted value
 */
e.format=function(t,n){if("function"==typeof n)
// handle format(value, fn)
return n(t);
// handle special cases
if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";
// default values for options
var r="auto",i=void 0;
// handle the various notations
switch(void 0!==n&&(
// determine notation from options
n.notation&&(r=n.notation),
// determine precision from options
"number"==typeof n?i=n:n.precision&&(i=n.precision)),r){case"fixed":return e.toFixed(t,i);case"exponential":return e.toExponential(t,i);case"auto":
// determine lower and upper bound for exponential notation.
// TODO: implement support for upper and lower to be BigNumbers themselves
var o=.001,s=1e5;n&&n.exponential&&(void 0!==n.exponential.lower&&(o=n.exponential.lower),void 0!==n.exponential.upper&&(s=n.exponential.upper));
// adjust the configuration of the BigNumber constructor (yeah, this is quite tricky...)
t.constructor.toExpNeg,t.constructor.toExpPos;
// handle special case zero
if(t.constructor.config({toExpNeg:Math.round(Math.log(o)/Math.LN10),toExpPos:Math.round(Math.log(s)/Math.LN10)}),t.isZero())return"0";
// determine whether or not to output exponential notation
var a,u=t.abs();
// remove trailing zeros after the decimal point
// normal number notation
return a=u.gte(o)&&u.lt(s)?t.toSignificantDigits(i).toFixed():e.toExponential(t,i),a.replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}},/**
 * Format a number in exponential notation. Like '1.23e+5', '2.3e+0', '3.500e-3'
 * @param {BigNumber} value
 * @param {number} [precision]  Number of digits in formatted output.
 *                              If not provided, the maximum available digits
 *                              is used.
 * @returns {string} str
 */
e.toExponential=function(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()},/**
 * Format a number with fixed notation.
 * @param {BigNumber} value
 * @param {number} [precision=0]        Optional number of decimals after the
 *                                      decimal point. Zero by default.
 */
e.toFixed=function(t,e){return t.toFixed(e||0)}},/* 842 */
/***/
function(t,e){/**
 * Bitwise left shift
 *
 * Special Cases:
 *  n << -n = N
 *  n <<  N = N
 *  N <<  n = N
 *  n <<  0 = n
 *  0 <<  n = 0
 *  I <<  I = N
 *  I <<  n = I
 *  n <<  I = I
 *
 * @param {BigNumber} x
 * @param {BigNumber} y
 * @return {BigNumber} Result of `x` << `y`
 *
 */
t.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var n=t.constructor;
// Math.pow(2, y) is fully precise for y < 55, and fast
return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new n(NaN):t.isZero()||e.isZero()?t:t.isFinite()||e.isFinite()?e.lt(55)?t.times(Math.pow(2,e.toNumber())+""):t.times(new n(2).pow(e)):new n(NaN)}},/* 843 */
/***/
function(t,e){/*
 * Special Cases:
 *   n >> -n =  N
 *   n >>  N =  N
 *   N >>  n =  N
 *   I >>  I =  N
 *   n >>  0 =  n
 *   I >>  n =  I
 *  -I >>  n = -I
 *  -I >>  I = -I
 *   n >>  I =  I
 *  -n >>  I = -1
 *   0 >>  n =  0
 *
 * @param {BigNumber} value
 * @param {BigNumber} value
 * @return {BigNumber} Result of `x` >> `y`
 *
 */
t.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var n=t.constructor;
// Math.pow(2, y) is fully precise for y < 55, and fast
return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new n(NaN):t.isZero()||e.isZero()?t:e.isFinite()?e.lt(55)?t.div(Math.pow(2,e.toNumber())+"").floor():t.div(new n(2).pow(e)).floor():new n(t.isNegative()?-1:t.isFinite()?0:NaN)}},/* 844 */
/***/
function(t,e,n){"use strict";/**
 * Test whether value is a boolean
 * @param {*} value
 * @return {boolean} isBoolean
 */
e.isBoolean=function(t){return"boolean"==typeof t}},/* 845 */
/***/
function(t,e,n){"use strict";t.exports=function(t,e,n,r,i,o,s,a,u,c,l){
// a arrays
var f,p,h,d,m=t._values,v=t._index,y=t._ptr,g=s._index;
// check we need to process values (pattern matrix)
if(r)
// values in j
for(p=y[e],h=y[e+1],f=p;f<h;f++)
// row
d=v[f],
// check value exists in current j
n[d]!==o?(
// i is new entry in j
n[d]=o,
// add i to pattern of C
g.push(d),
// x(i) = A, check we need to call function this time
c?(
// copy value to workspace calling callback function
r[d]=u?a(m[f],l):a(l,m[f]),
// function was called on current row
i[d]=o):
// copy value to workspace
r[d]=m[f]):(
// i exists in C already
r[d]=u?a(m[f],r[d]):a(r[d],m[f]),
// function was called on current row
i[d]=o);else
// values in j
for(p=y[e],h=y[e+1],f=p;f<h;f++)
// row
d=v[f],
// check value exists in current j
n[d]!==o?(
// i is new entry in j
n[d]=o,
// add i to pattern of C
g.push(d)):
// indicate function was called on current row
i[d]=o}},/* 846 */
/***/
function(t,e){t.exports="3.11.4"},/* 847 */
,/* 848 */
,/* 849 */
,/* 850 */
,/* 851 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(4),o=function(t){function e(e,n,r){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}return r(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(i.Subscriber);e.InnerSubscriber=o},/* 852 */
/***/
function(t,e,n){"use strict";/**
 * An execution context and a data structure to order tasks and schedule their
 * execution. Provides a notion of (potentially virtual) time, through the
 * `now()` getter method.
 *
 * Each unit of work in a Scheduler is called an {@link Action}.
 *
 * ```ts
 * class Scheduler {
 *   now(): number;
 *   schedule(work, delay?, state?): Subscription;
 * }
 * ```
 *
 * @class Scheduler
 */
var r=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}/**
     * Schedules a function, `work`, for execution. May happen at some point in
     * the future, according to the `delay` parameter, if specified. May be passed
     * some context object, `state`, which will be passed to the `work` function.
     *
     * The given arguments will be processed an stored as an Action object in a
     * queue of actions.
     *
     * @param {function(state: ?T): ?Subscription} work A function representing a
     * task, or some unit of work to be executed by the Scheduler.
     * @param {number} [delay] Time to wait before executing the work, where the
     * time unit is implicit and defined by the Scheduler itself.
     * @param {T} [state] Some contextual data that the `work` function uses when
     * called by the Scheduler.
     * @return {Subscription} A subscription in order to be able to unsubscribe
     * the scheduled work.
     */
return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=Date.now?Date.now:function(){return+new Date},t}();e.Scheduler=r},/* 853 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(998);r.Observable.bindCallback=i.bindCallback},/* 854 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(999);r.Observable.bindNodeCallback=i.bindNodeCallback},/* 855 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1e3);r.Observable.combineLatest=i.combineLatest},/* 856 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1001);r.Observable.concat=i.concat},/* 857 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1002);r.Observable.defer=i.defer},/* 858 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1004);r.Observable.ajax=i.ajax},/* 859 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1005);r.Observable.webSocket=i.webSocket},/* 860 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1006);r.Observable.empty=i.empty},/* 861 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(293);r.Observable.forkJoin=i.forkJoin},/* 862 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(294);r.Observable.from=i.from},/* 863 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1007);r.Observable.fromEvent=i.fromEvent},/* 864 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1008);r.Observable.fromEventPattern=i.fromEventPattern},/* 865 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(180);r.Observable.fromPromise=i.fromPromise},/* 866 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(988);r.Observable.generate=i.GenerateObservable.create},/* 867 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1009);r.Observable.if=i._if},/* 868 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1010);r.Observable.interval=i.interval},/* 869 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(295);r.Observable.merge=i.merge},/* 870 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1011);r.Observable.never=i.never},/* 871 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(296);r.Observable.of=i.of},/* 872 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(307);r.Observable.onErrorResumeNext=i.onErrorResumeNextStatic},/* 873 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1012);r.Observable.pairs=i.pairs},/* 874 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(308);r.Observable.race=i.raceStatic},/* 875 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1013);r.Observable.range=i.range},/* 876 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1014);r.Observable.throw=i._throw},/* 877 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1015);r.Observable.timer=i.timer},/* 878 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1016);r.Observable.using=i.using},/* 879 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1017);r.Observable.zip=i.zip},/* 880 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1018);r.Observable.prototype.audit=i.audit},/* 881 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1019);r.Observable.prototype.auditTime=i.auditTime},/* 882 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1020);r.Observable.prototype.buffer=i.buffer},/* 883 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1021);r.Observable.prototype.bufferCount=i.bufferCount},/* 884 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1022);r.Observable.prototype.bufferTime=i.bufferTime},/* 885 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1023);r.Observable.prototype.bufferToggle=i.bufferToggle},/* 886 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1024);r.Observable.prototype.bufferWhen=i.bufferWhen},/* 887 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(297);r.Observable.prototype.catch=i._catch,r.Observable.prototype._catch=i._catch},/* 888 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1025);r.Observable.prototype.combineAll=i.combineAll},/* 889 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(181);r.Observable.prototype.combineLatest=i.combineLatest},/* 890 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(182);r.Observable.prototype.concat=i.concat},/* 891 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(298);r.Observable.prototype.concatAll=i.concatAll},/* 892 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(299);r.Observable.prototype.concatMap=i.concatMap},/* 893 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1026);r.Observable.prototype.concatMapTo=i.concatMapTo},/* 894 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1027);r.Observable.prototype.count=i.count},/* 895 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1028);r.Observable.prototype.debounce=i.debounce},/* 896 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1029);r.Observable.prototype.debounceTime=i.debounceTime},/* 897 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1030);r.Observable.prototype.defaultIfEmpty=i.defaultIfEmpty},/* 898 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1031);r.Observable.prototype.delay=i.delay},/* 899 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1032);r.Observable.prototype.delayWhen=i.delayWhen},/* 900 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1033);r.Observable.prototype.dematerialize=i.dematerialize},/* 901 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1034);r.Observable.prototype.distinct=i.distinct},/* 902 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(300);r.Observable.prototype.distinctUntilChanged=i.distinctUntilChanged},/* 903 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1035);r.Observable.prototype.distinctUntilKeyChanged=i.distinctUntilKeyChanged},/* 904 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1036);r.Observable.prototype.do=i._do,r.Observable.prototype._do=i._do},/* 905 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1037);r.Observable.prototype.elementAt=i.elementAt},/* 906 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(301);r.Observable.prototype.every=i.every},/* 907 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1038);r.Observable.prototype.exhaust=i.exhaust},/* 908 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1039);r.Observable.prototype.exhaustMap=i.exhaustMap},/* 909 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1040);r.Observable.prototype.expand=i.expand},/* 910 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(183);r.Observable.prototype.filter=i.filter},/* 911 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1041);r.Observable.prototype.finally=i._finally,r.Observable.prototype._finally=i._finally},/* 912 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(302);r.Observable.prototype.find=i.find},/* 913 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1042);r.Observable.prototype.findIndex=i.findIndex},/* 914 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(303);r.Observable.prototype.first=i.first},/* 915 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1043);r.Observable.prototype.groupBy=i.groupBy},/* 916 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1044);r.Observable.prototype.ignoreElements=i.ignoreElements},/* 917 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1045);r.Observable.prototype.isEmpty=i.isEmpty},/* 918 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(304);r.Observable.prototype.last=i.last},/* 919 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1046);r.Observable.prototype.let=i.letProto,r.Observable.prototype.letBind=i.letProto},/* 920 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(102);r.Observable.prototype.map=i.map},/* 921 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1047);r.Observable.prototype.mapTo=i.mapTo},/* 922 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1048);r.Observable.prototype.materialize=i.materialize},/* 923 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1049);r.Observable.prototype.max=i.max},/* 924 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(305);r.Observable.prototype.merge=i.merge},/* 925 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(103);r.Observable.prototype.mergeAll=i.mergeAll},/* 926 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(184);r.Observable.prototype.mergeMap=i.mergeMap,r.Observable.prototype.flatMap=i.mergeMap},/* 927 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(306);r.Observable.prototype.flatMapTo=i.mergeMapTo,r.Observable.prototype.mergeMapTo=i.mergeMapTo},/* 928 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1050);r.Observable.prototype.mergeScan=i.mergeScan},/* 929 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1051);r.Observable.prototype.min=i.min},/* 930 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(86);r.Observable.prototype.multicast=i.multicast},/* 931 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(185);r.Observable.prototype.observeOn=i.observeOn},/* 932 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(307);r.Observable.prototype.onErrorResumeNext=i.onErrorResumeNext},/* 933 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1052);r.Observable.prototype.pairwise=i.pairwise},/* 934 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1053);r.Observable.prototype.partition=i.partition},/* 935 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1054);r.Observable.prototype.pluck=i.pluck},/* 936 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1055);r.Observable.prototype.publish=i.publish},/* 937 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1056);r.Observable.prototype.publishBehavior=i.publishBehavior},/* 938 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1057);r.Observable.prototype.publishLast=i.publishLast},/* 939 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1058);r.Observable.prototype.publishReplay=i.publishReplay},/* 940 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(308);r.Observable.prototype.race=i.race},/* 941 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(135);r.Observable.prototype.reduce=i.reduce},/* 942 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1059);r.Observable.prototype.repeat=i.repeat},/* 943 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1060);r.Observable.prototype.repeatWhen=i.repeatWhen},/* 944 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1061);r.Observable.prototype.retry=i.retry},/* 945 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1062);r.Observable.prototype.retryWhen=i.retryWhen},/* 946 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1063);r.Observable.prototype.sample=i.sample},/* 947 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1064);r.Observable.prototype.sampleTime=i.sampleTime},/* 948 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1065);r.Observable.prototype.scan=i.scan},/* 949 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1066);r.Observable.prototype.sequenceEqual=i.sequenceEqual},/* 950 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(309);r.Observable.prototype.share=i.share},/* 951 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1067);r.Observable.prototype.single=i.single},/* 952 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1068);r.Observable.prototype.skip=i.skip},/* 953 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1069);r.Observable.prototype.skipUntil=i.skipUntil},/* 954 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1070);r.Observable.prototype.skipWhile=i.skipWhile},/* 955 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1071);r.Observable.prototype.startWith=i.startWith},/* 956 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1072);r.Observable.prototype.subscribeOn=i.subscribeOn},/* 957 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1073);r.Observable.prototype.switch=i._switch,r.Observable.prototype._switch=i._switch},/* 958 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1074);r.Observable.prototype.switchMap=i.switchMap},/* 959 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1075);r.Observable.prototype.switchMapTo=i.switchMapTo},/* 960 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1076);r.Observable.prototype.take=i.take},/* 961 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1077);r.Observable.prototype.takeLast=i.takeLast},/* 962 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1078);r.Observable.prototype.takeUntil=i.takeUntil},/* 963 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1079);r.Observable.prototype.takeWhile=i.takeWhile},/* 964 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1080);r.Observable.prototype.throttle=i.throttle},/* 965 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1081);r.Observable.prototype.throttleTime=i.throttleTime},/* 966 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(310);r.Observable.prototype.timeInterval=i.timeInterval},/* 967 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1082);r.Observable.prototype.timeout=i.timeout},/* 968 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1083);r.Observable.prototype.timeoutWith=i.timeoutWith},/* 969 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(311);r.Observable.prototype.timestamp=i.timestamp},/* 970 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1084);r.Observable.prototype.toArray=i.toArray},/* 971 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1085);r.Observable.prototype.toPromise=i.toPromise},/* 972 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1086);r.Observable.prototype.window=i.window},/* 973 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1087);r.Observable.prototype.windowCount=i.windowCount},/* 974 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1088);r.Observable.prototype.windowTime=i.windowTime},/* 975 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1089);r.Observable.prototype.windowToggle=i.windowToggle},/* 976 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1090);r.Observable.prototype.windowWhen=i.windowWhen},/* 977 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1091);r.Observable.prototype.withLatestFrom=i.withLatestFrom},/* 978 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(186);r.Observable.prototype.zip=i.zipProto},/* 979 */
/***/
function(t,e,n){"use strict";var r=n(0),i=n(1092);r.Observable.prototype.zipAll=i.zipAll},/* 980 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(0),o=n(179),s=n(63),a=function(t){function e(e,n){t.call(this),this.arrayLike=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return r(e,t),e.create=function(t,n){var r=t.length;return 0===r?new s.EmptyObservable:1===r?new o.ScalarObservable(t[0],n):new e(t,n)},e.dispatch=function(t){var e=t.arrayLike,n=t.index,r=t.length,i=t.subscriber;if(!i.closed){if(n>=r)return void i.complete();i.next(e[n]),t.index=n+1,this.schedule(t)}},e.prototype._subscribe=function(t){var n=this,r=n.arrayLike,i=n.scheduler,o=r.length;if(i)return i.schedule(e.dispatch,0,{arrayLike:r,index:0,length:o,subscriber:t});for(var s=0;s<o&&!t.closed;s++)t.next(r[s]);t.complete()},e}(i.Observable);e.ArrayLikeObservable=a},/* 981 */
/***/
function(t,e,n){"use strict";function r(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function i(t){var e=t.err;t.subject.error(e)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n(0),a=n(28),u=n(24),c=n(134),l=function(t){function e(e,n,r,i){t.call(this),this.callbackFunc=e,this.selector=n,this.args=r,this.scheduler=i}/* tslint:enable:max-line-length */
/**
     * Converts a callback API to a function that returns an Observable.
     *
     * <span class="informal">Give it a function `f` of type `f(x, callback)` and
     * it will return a function `g` that when called as `g(x)` will output an
     * Observable.</span>
     *
     * `bindCallback` is not an operator because its input and output are not
     * Observables. The input is a function `func` with some parameters, but the
     * last parameter must be a callback function that `func` calls when it is
     * done. The output of `bindCallback` is a function that takes the same
     * parameters as `func`, except the last one (the callback). When the output
     * function is called with arguments, it will return an Observable where the
     * results will be delivered to.
     *
     * @example <caption>Convert jQuery's getJSON to an Observable API</caption>
     * // Suppose we have jQuery.getJSON('/my/url', callback)
     * var getJSONAsObservable = Rx.Observable.bindCallback(jQuery.getJSON);
     * var result = getJSONAsObservable('/my/url');
     * result.subscribe(x => console.log(x), e => console.error(e));
     *
     * @see {@link bindNodeCallback}
     * @see {@link from}
     * @see {@link fromPromise}
     *
     * @param {function} func Function with a callback as the last parameter.
     * @param {function} [selector] A function which takes the arguments from the
     * callback and maps those a value to emit on the output Observable.
     * @param {Scheduler} [scheduler] The scheduler on which to schedule the
     * callbacks.
     * @return {function(...params: *): Observable} A function which returns the
     * Observable that delivers the same values the callback would deliver.
     * @static true
     * @name bindCallback
     * @owner Observable
     */
return o(e,t),e.create=function(t,n,r){return void 0===n&&(n=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new e(t,n,i,r)}},e.prototype._subscribe=function(t){var n=this.callbackFunc,r=this.args,i=this.scheduler,o=this.subject;if(i)return i.schedule(e.dispatch,0,{source:this,subscriber:t});if(!o){o=this.subject=new c.AsyncSubject;var s=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=t.source,i=r.selector,o=r.subject;if(i){var s=a.tryCatch(i).apply(this,e);s===u.errorObject?o.error(u.errorObject.e):(o.next(s),o.complete())}else o.next(1===e.length?e[0]:e),o.complete()};
// use named function instance to avoid closure.
s.source=this;a.tryCatch(n).apply(this,r.concat(s))===u.errorObject&&o.error(u.errorObject.e)}return o.subscribe(t)},e.dispatch=function(t){var e=this,n=t.source,o=t.subscriber,s=n.callbackFunc,l=n.args,f=n.scheduler,p=n.subject;if(!p){p=n.subject=new c.AsyncSubject;var h=function t(){for(var n=[],o=0;o<arguments.length;o++)n[o-0]=arguments[o];var s=t.source,c=s.selector,l=s.subject;if(c){var p=a.tryCatch(c).apply(this,n);p===u.errorObject?e.add(f.schedule(i,0,{err:u.errorObject.e,subject:l})):e.add(f.schedule(r,0,{value:p,subject:l}))}else{var h=1===n.length?n[0]:n;e.add(f.schedule(r,0,{value:h,subject:l}))}};
// use named function to pass values in without closure
h.source=n;a.tryCatch(s).apply(this,l.concat(h))===u.errorObject&&p.error(u.errorObject.e)}e.add(p.subscribe(o))},e}(s.Observable);e.BoundCallbackObservable=l},/* 982 */
/***/
function(t,e,n){"use strict";function r(t){var e=this,n=t.source,r=t.subscriber,s=n,a=s.callbackFunc,f=s.args,p=s.scheduler,h=n.subject;if(!h){h=n.subject=new l.AsyncSubject;var d=function t(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];var s=t.source,a=s.selector,l=s.subject,f=n.shift();if(f)l.error(f);else if(a){var h=u.tryCatch(a).apply(this,n);h===c.errorObject?e.add(p.schedule(o,0,{err:c.errorObject.e,subject:l})):e.add(p.schedule(i,0,{value:h,subject:l}))}else{var d=1===n.length?n[0]:n;e.add(p.schedule(i,0,{value:d,subject:l}))}};
// use named function to pass values in without closure
d.source=n;u.tryCatch(a).apply(this,f.concat(d))===c.errorObject&&h.error(c.errorObject.e)}e.add(h.subscribe(r))}function i(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function o(t){var e=t.err;t.subject.error(e)}var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(0),u=n(28),c=n(24),l=n(134),f=function(t){function e(e,n,r,i){t.call(this),this.callbackFunc=e,this.selector=n,this.args=r,this.scheduler=i}/* tslint:enable:max-line-length */
/**
     * Converts a Node.js-style callback API to a function that returns an
     * Observable.
     *
     * <span class="informal">It's just like {@link bindCallback}, but the
     * callback is expected to be of type `callback(error, result)`.</span>
     *
     * `bindNodeCallback` is not an operator because its input and output are not
     * Observables. The input is a function `func` with some parameters, but the
     * last parameter must be a callback function that `func` calls when it is
     * done. The callback function is expected to follow Node.js conventions,
     * where the first argument to the callback is an error, while remaining
     * arguments are the callback result. The output of `bindNodeCallback` is a
     * function that takes the same parameters as `func`, except the last one (the
     * callback). When the output function is called with arguments, it will
     * return an Observable where the results will be delivered to.
     *
     * @example <caption>Read a file from the filesystem and get the data as an Observable</caption>
     * import * as fs from 'fs';
     * var readFileAsObservable = Rx.Observable.bindNodeCallback(fs.readFile);
     * var result = readFileAsObservable('./roadNames.txt', 'utf8');
     * result.subscribe(x => console.log(x), e => console.error(e));
     *
     * @see {@link bindCallback}
     * @see {@link from}
     * @see {@link fromPromise}
     *
     * @param {function} func Function with a callback as the last parameter.
     * @param {function} [selector] A function which takes the arguments from the
     * callback and maps those a value to emit on the output Observable.
     * @param {Scheduler} [scheduler] The scheduler on which to schedule the
     * callbacks.
     * @return {function(...params: *): Observable} A function which returns the
     * Observable that delivers the same values the Node.js callback would
     * deliver.
     * @static true
     * @name bindNodeCallback
     * @owner Observable
     */
return s(e,t),e.create=function(t,n,r){return void 0===n&&(n=void 0),function(){for(var i=[],o=0;o<arguments.length;o++)i[o-0]=arguments[o];return new e(t,n,i,r)}},e.prototype._subscribe=function(t){var e=this.callbackFunc,n=this.args,i=this.scheduler,o=this.subject;if(i)return i.schedule(r,0,{source:this,subscriber:t});if(!o){o=this.subject=new l.AsyncSubject;var s=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=t.source,i=r.selector,o=r.subject,s=e.shift();if(s)o.error(s);else if(i){var a=u.tryCatch(i).apply(this,e);a===c.errorObject?o.error(c.errorObject.e):(o.next(a),o.complete())}else o.next(1===e.length?e[0]:e),o.complete()};
// use named function instance to avoid closure.
s.source=this;u.tryCatch(e).apply(this,n.concat(s))===c.errorObject&&o.error(c.errorObject.e)}return o.subscribe(t)},e}(a.Observable);e.BoundNodeCallbackObservable=f},/* 983 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(0),o=n(8),s=n(7),a=function(t){function e(e){t.call(this),this.observableFactory=e}/**
     * Creates an Observable that, on subscribe, calls an Observable factory to
     * make an Observable for each new Observer.
     *
     * <span class="informal">Creates the Observable lazily, that is, only when it
     * is subscribed.
     * </span>
     *
     * <img src="./img/defer.png" width="100%">
     *
     * `defer` allows you to create the Observable only when the Observer
     * subscribes, and create a fresh Observable for each Observer. It waits until
     * an Observer subscribes to it, and then it generates an Observable,
     * typically with an Observable factory function. It does this afresh for each
     * subscriber, so although each subscriber may think it is subscribing to the
     * same Observable, in fact each subscriber gets its own individual
     * Observable.
     *
     * @example <caption>Subscribe to either an Observable of clicks or an Observable of interval, at random</caption>
     * var clicksOrInterval = Rx.Observable.defer(function () {
     *   if (Math.random() > 0.5) {
     *     return Rx.Observable.fromEvent(document, 'click');
     *   } else {
     *     return Rx.Observable.interval(1000);
     *   }
     * });
     * clicksOrInterval.subscribe(x => console.log(x));
     *
     * // Results in the following behavior:
     * // If the result of Math.random() is greater than 0.5 it will listen
     * // for clicks anywhere on the "document"; when document is clicked it
     * // will log a MouseEvent object to the console. If the result is less
     * // than 0.5 it will emit ascending numbers, one every second(1000ms).
     *
     * @see {@link create}
     *
     * @param {function(): Observable|Promise} observableFactory The Observable
     * factory function to invoke for each Observer that subscribes to the output
     * Observable. May also return a Promise, which will be converted on the fly
     * to an Observable.
     * @return {Observable} An Observable whose Observers' subscriptions trigger
     * an invocation of the given Observable factory function.
     * @static true
     * @name defer
     * @owner Observable
     */
return r(e,t),e.create=function(t){return new e(t)},e.prototype._subscribe=function(t){return new u(t,this.observableFactory)},e}(i.Observable);e.DeferObservable=a;var u=function(t){function e(e,n){t.call(this,e),this.factory=n,this.tryDefer()}return r(e,t),e.prototype.tryDefer=function(){try{this._callFactory()}catch(t){this._error(t)}},e.prototype._callFactory=function(){var t=this.factory();t&&this.add(o.subscribeToResult(this,t))},e}(s.OuterSubscriber)},/* 984 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(0),o=function(t){function e(e,n){t.call(this),this.error=e,this.scheduler=n}/**
     * Creates an Observable that emits no items to the Observer and immediately
     * emits an error notification.
     *
     * <span class="informal">Just emits 'error', and nothing else.
     * </span>
     *
     * <img src="./img/throw.png" width="100%">
     *
     * This static operator is useful for creating a simple Observable that only
     * emits the error notification. It can be used for composing with other
     * Observables, such as in a {@link mergeMap}.
     *
     * @example <caption>Emit the number 7, then emit an error.</caption>
     * var result = Rx.Observable.throw(new Error('oops!')).startWith(7);
     * result.subscribe(x => console.log(x), e => console.error(e));
     *
     * @example <caption>Map and flattens numbers to the sequence 'a', 'b', 'c', but throw an error for 13</caption>
     * var interval = Rx.Observable.interval(1000);
     * var result = interval.mergeMap(x =>
     *   x === 13 ?
     *     Rx.Observable.throw('Thirteens are bad') :
     *     Rx.Observable.of('a', 'b', 'c')
     * );
     * result.subscribe(x => console.log(x), e => console.error(e));
     *
     * @see {@link create}
     * @see {@link empty}
     * @see {@link never}
     * @see {@link of}
     *
     * @param {any} error The particular Error to pass to the error notification.
     * @param {Scheduler} [scheduler] A {@link Scheduler} to use for scheduling
     * the emission of the error notification.
     * @return {Observable} An error Observable: emits only the error notification
     * using the given error argument.
     * @static true
     * @name throw
     * @owner Observable
     */
return r(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.error;t.subscriber.error(e)},e.prototype._subscribe=function(t){var n=this.error,r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{error:n,subscriber:t});t.error(n)},e}(i.Observable);e.ErrorObservable=o},/* 985 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(0),o=n(63),s=n(52),a=n(8),u=n(7),c=function(t){function e(e,n){t.call(this),this.sources=e,this.resultSelector=n}/* tslint:enable:max-line-length */
/**
     * @param sources
     * @return {any}
     * @static true
     * @name forkJoin
     * @owner Observable
     */
return r(e,t),e.create=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];if(null===t||0===arguments.length)return new o.EmptyObservable;var r=null;
// if the first and only other argument besides the resultSelector is an array
// assume it's been called with `forkJoin([obs1, obs2, obs3], resultSelector)`
return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&s.isArray(t[0])&&(t=t[0]),0===t.length?new o.EmptyObservable:new e(t,r)},e.prototype._subscribe=function(t){return new l(t,this.sources,this.resultSelector)},e}(i.Observable);e.ForkJoinObservable=c;/**
 * We need this JSDoc comment for affecting ESDoc.
 * @ignore
 * @extends {Ignored}
 */
var l=function(t){function e(e,n,r){t.call(this,e),this.sources=n,this.resultSelector=r,this.completed=0,this.haveValues=0;var i=n.length;this.total=i,this.values=new Array(i);for(var o=0;o<i;o++){var s=n[o],u=a.subscribeToResult(this,s,null,o);u&&(u.outerIndex=o,this.add(u))}}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,n=this,r=n.haveValues,i=n.resultSelector,o=n.values,s=o.length;if(!t._hasValue)return void e.complete();if(++this.completed===s){if(r===s){var a=i?i.apply(this,o):o;e.next(a)}e.complete()}},e}(u.OuterSubscriber)},/* 986 */
/***/
function(t,e,n){"use strict";function r(t){return!!t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function i(t){return!!t&&"function"==typeof t.on&&"function"==typeof t.off}function o(t){return!!t&&"[object NodeList]"===d.call(t)}function s(t){return!!t&&"[object HTMLCollection]"===d.call(t)}function a(t){return!!t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}var u=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c=n(0),l=n(28),f=n(187),p=n(24),h=n(22),d=Object.prototype.toString,m=function(t){function e(e,n,r,i){t.call(this),this.sourceObj=e,this.eventName=n,this.selector=r,this.options=i}/* tslint:enable:max-line-length */
/**
     * Creates an Observable that emits events of a specific type coming from the
     * given event target.
     *
     * <span class="informal">Creates an Observable from DOM events, or Node
     * EventEmitter events or others.</span>
     *
     * <img src="./img/fromEvent.png" width="100%">
     *
     * Creates an Observable by attaching an event listener to an "event target",
     * which may be an object with `addEventListener` and `removeEventListener`,
     * a Node.js EventEmitter, a jQuery style EventEmitter, a NodeList from the
     * DOM, or an HTMLCollection from the DOM. The event handler is attached when
     * the output Observable is subscribed, and removed when the Subscription is
     * unsubscribed.
     *
     * @example <caption>Emits clicks happening on the DOM document</caption>
     * var clicks = Rx.Observable.fromEvent(document, 'click');
     * clicks.subscribe(x => console.log(x));
     *
     * // Results in:
     * // MouseEvent object logged to console everytime a click
     * // occurs on the document.
     *
     * @see {@link from}
     * @see {@link fromEventPattern}
     *
     * @param {EventTargetLike} target The DOMElement, event target, Node.js
     * EventEmitter, NodeList or HTMLCollection to attach the event handler to.
     * @param {string} eventName The event name of interest, being emitted by the
     * `target`.
     * @param {EventListenerOptions} [options] Options to pass through to addEventListener
     * @param {SelectorMethodSignature<T>} [selector] An optional function to
     * post-process results. It takes the arguments from the event handler and
     * should return a single value.
     * @return {Observable<T>}
     * @static true
     * @name fromEvent
     * @owner Observable
     */
return u(e,t),e.create=function(t,n,r,i){return f.isFunction(r)&&(i=r,r=void 0),new e(t,n,i,r)},e.setupSubscription=function(t,n,u,c,l){var f;if(o(t)||s(t))for(var p=0,d=t.length;p<d;p++)e.setupSubscription(t[p],n,u,c,l);else if(a(t)){var m=t;t.addEventListener(n,u,l),f=function(){return m.removeEventListener(n,u)}}else if(i(t)){var v=t;t.on(n,u),f=function(){return v.off(n,u)}}else{if(!r(t))throw new TypeError("Invalid event target");var y=t;t.addListener(n,u),f=function(){return y.removeListener(n,u)}}c.add(new h.Subscription(f))},e.prototype._subscribe=function(t){var n=this.sourceObj,r=this.eventName,i=this.options,o=this.selector,s=o?function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=l.tryCatch(o).apply(void 0,e);r===p.errorObject?t.error(p.errorObject.e):t.next(r)}:function(e){return t.next(e)};e.setupSubscription(n,r,s,t,i)},e}(c.Observable);e.FromEventObservable=m},/* 987 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(0),o=n(22),s=function(t){function e(e,n,r){t.call(this),this.addHandler=e,this.removeHandler=n,this.selector=r}/**
     * Creates an Observable from an API based on addHandler/removeHandler
     * functions.
     *
     * <span class="informal">Converts any addHandler/removeHandler API to an
     * Observable.</span>
     *
     * <img src="./img/fromEventPattern.png" width="100%">
     *
     * Creates an Observable by using the `addHandler` and `removeHandler`
     * functions to add and remove the handlers, with an optional selector
     * function to project the event arguments to a result. The `addHandler` is
     * called when the output Observable is subscribed, and `removeHandler` is
     * called when the Subscription is unsubscribed.
     *
     * @example <caption>Emits clicks happening on the DOM document</caption>
     * function addClickHandler(handler) {
     *   document.addEventListener('click', handler);
     * }
     *
     * function removeClickHandler(handler) {
     *   document.removeEventListener('click', handler);
     * }
     *
     * var clicks = Rx.Observable.fromEventPattern(
     *   addClickHandler,
     *   removeClickHandler
     * );
     * clicks.subscribe(x => console.log(x));
     *
     * @see {@link from}
     * @see {@link fromEvent}
     *
     * @param {function(handler: Function): any} addHandler A function that takes
     * a `handler` function as argument and attaches it somehow to the actual
     * source of events.
     * @param {function(handler: Function): void} removeHandler A function that
     * takes a `handler` function as argument and removes it in case it was
     * previously attached using `addHandler`.
     * @param {function(...args: any): T} [selector] An optional function to
     * post-process results. It takes the arguments from the event handler and
     * should return a single value.
     * @return {Observable<T>}
     * @static true
     * @name fromEventPattern
     * @owner Observable
     */
return r(e,t),e.create=function(t,n,r){return new e(t,n,r)},e.prototype._subscribe=function(t){var e=this,n=this.removeHandler,r=this.selector?function(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];e._callSelector(t,n)}:function(e){t.next(e)};this._callAddHandler(r,t),t.add(new o.Subscription(function(){
//TODO: determine whether or not to forward to error handler
n(r)}))},e.prototype._callSelector=function(t,e){try{var n=this.selector.apply(this,e);t.next(n)}catch(e){t.error(e)}},e.prototype._callAddHandler=function(t,e){try{this.addHandler(t)}catch(t){e.error(t)}},e}(i.Observable);e.FromEventPatternObservable=s},/* 988 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(0),o=n(64),s=function(t){return t},a=function(t){function e(e,n,r,i,o){t.call(this),this.initialState=e,this.condition=n,this.iterate=r,this.resultSelector=i,this.scheduler=o}return r(e,t),e.create=function(t,n,r,i,a){return 1==arguments.length?new e(t.initialState,t.condition,t.iterate,t.resultSelector||s,t.scheduler):void 0===i||o.isScheduler(i)?new e(t,n,r,s,i):new e(t,n,r,i,a)},e.prototype._subscribe=function(t){var n=this.initialState;if(this.scheduler)return this.scheduler.schedule(e.dispatch,0,{subscriber:t,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:n});for(var r=this,i=r.condition,o=r.resultSelector,s=r.iterate;;){if(i){var a=void 0;try{a=i(n)}catch(e){return void t.error(e)}if(!a){t.complete();break}}var u=void 0;try{u=o(n)}catch(e){return void t.error(e)}if(t.next(u),t.closed)break;try{n=s(n)}catch(e){return void t.error(e)}}},e.dispatch=function(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(n){var r=void 0;try{r=n(t.state)}catch(t){return void e.error(t)}if(!r)return void e.complete();if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}},e}(i.Observable);e.GenerateObservable=a},/* 989 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(0),o=n(8),s=n(7),a=function(t){function e(e,n,r){t.call(this),this.condition=e,this.thenSource=n,this.elseSource=r}return r(e,t),e.create=function(t,n,r){return new e(t,n,r)},e.prototype._subscribe=function(t){var e=this,n=e.condition,r=e.thenSource,i=e.elseSource;return new u(t,n,r,i)},e}(i.Observable);e.IfObservable=a;var u=function(t){function e(e,n,r,i){t.call(this,e),this.condition=n,this.thenSource=r,this.elseSource=i,this.tryIf()}return r(e,t),e.prototype.tryIf=function(){var t,e=this,n=e.condition,r=e.thenSource,i=e.elseSource;try{t=n();var s=t?r:i;s?this.add(o.subscribeToResult(this,s)):this._complete()}catch(t){this._error(t)}},e}(s.OuterSubscriber)},/* 990 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(188),o=n(0),s=n(35),a=function(t){function e(e,n){void 0===e&&(e=0),void 0===n&&(n=s.async),t.call(this),this.period=e,this.scheduler=n,(!i.isNumeric(e)||e<0)&&(this.period=0),n&&"function"==typeof n.schedule||(this.scheduler=s.async)}/**
     * Creates an Observable that emits sequential numbers every specified
     * interval of time, on a specified Scheduler.
     *
     * <span class="informal">Emits incremental numbers periodically in time.
     * </span>
     *
     * <img src="./img/interval.png" width="100%">
     *
     * `interval` returns an Observable that emits an infinite sequence of
     * ascending integers, with a constant interval of time of your choosing
     * between those emissions. The first emission is not sent immediately, but
     * only after the first period has passed. By default, this operator uses the
     * `async` Scheduler to provide a notion of time, but you may pass any
     * Scheduler to it.
     *
     * @example <caption>Emits ascending numbers, one every second (1000ms)</caption>
     * var numbers = Rx.Observable.interval(1000);
     * numbers.subscribe(x => console.log(x));
     *
     * @see {@link timer}
     * @see {@link delay}
     *
     * @param {number} [period=0] The interval size in milliseconds (by default)
     * or the time unit determined by the scheduler's clock.
     * @param {Scheduler} [scheduler=async] The Scheduler to use for scheduling
     * the emission of values, and providing a notion of "time".
     * @return {Observable} An Observable that emits a sequential number each time
     * interval.
     * @static true
     * @name interval
     * @owner Observable
     */
return r(e,t),e.create=function(t,n){return void 0===t&&(t=0),void 0===n&&(n=s.async),new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.subscriber,r=t.period;n.next(e),n.closed||(t.index+=1,this.schedule(t,r))},e.prototype._subscribe=function(t){var n=this.period,r=this.scheduler;t.add(r.schedule(e.dispatch,n,{index:0,subscriber:t,period:n}))},e}(o.Observable);e.IntervalObservable=a},/* 991 */
/***/
function(t,e,n){"use strict";function r(t){var e=t[l.$$iterator];if(!e&&"string"==typeof t)return new p(t);if(!e&&void 0!==t.length)return new h(t);if(!e)throw new TypeError("object is not iterable");return t[l.$$iterator]()}function i(t){var e=+t.length;return isNaN(e)?0:0!==e&&o(e)?(e=s(e)*Math.floor(Math.abs(e)),e<=0?0:e>d?d:e):e}function o(t){return"number"==typeof t&&u.root.isFinite(t)}function s(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=n(27),c=n(0),l=n(106),f=function(t){function e(e,n){if(t.call(this),this.scheduler=n,null==e)throw new Error("iterator cannot be null.");this.iterator=r(e)}return a(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.hasError,r=t.iterator,i=t.subscriber;if(n)return void i.error(t.error);var o=r.next();return o.done?void i.complete():(i.next(o.value),t.index=e+1,i.closed?void("function"==typeof r.return&&r.return()):void this.schedule(t))},e.prototype._subscribe=function(t){var n=this,r=n.iterator,i=n.scheduler;if(i)return i.schedule(e.dispatch,0,{index:0,iterator:r,subscriber:t});for(;;){var o=r.next();if(o.done){t.complete();break}if(t.next(o.value),t.closed){"function"==typeof r.return&&r.return();break}}},e}(c.Observable);e.IteratorObservable=f;var p=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this.str=t,this.idx=e,this.len=n}return t.prototype[l.$$iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),h=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=i(t)),this.arr=t,this.idx=e,this.len=n}return t.prototype[l.$$iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}(),d=Math.pow(2,53)-1},/* 992 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(0),o=n(322),s=function(t){function e(){t.call(this)}/**
     * Creates an Observable that emits no items to the Observer.
     *
     * <span class="informal">An Observable that never emits anything.</span>
     *
     * <img src="./img/never.png" width="100%">
     *
     * This static operator is useful for creating a simple Observable that emits
     * neither values nor errors nor the completion notification. It can be used
     * for testing purposes or for composing with other Observables. Please not
     * that by never emitting a complete notification, this Observable keeps the
     * subscription from being disposed automatically. Subscriptions need to be
     * manually disposed.
     *
     * @example <caption>Emit the number 7, then never emit anything else (not even complete).</caption>
     * function info() {
     *   console.log('Will not be called');
     * }
     * var result = Rx.Observable.never().startWith(7);
     * result.subscribe(x => console.log(x), info, info);
     *
     * @see {@link create}
     * @see {@link empty}
     * @see {@link of}
     * @see {@link throw}
     *
     * @return {Observable} A "never" Observable: never emits anything.
     * @static true
     * @name never
     * @owner Observable
     */
return r(e,t),e.create=function(){return new e},e.prototype._subscribe=function(t){o.noop()},e}(i.Observable);e.NeverObservable=s},/* 993 */
/***/
function(t,e,n){"use strict";function r(t){var e=t.obj,n=t.keys,r=t.length,i=t.index,o=t.subscriber;if(i===r)return void o.complete();var s=n[i];o.next([s,e[s]]),t.index=i+1,this.schedule(t)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(0),s=function(t){function e(e,n){t.call(this),this.obj=e,this.scheduler=n,this.keys=Object.keys(e)}/**
     * Convert an object into an observable sequence of [key, value] pairs
     * using an optional Scheduler to enumerate the object.
     *
     * @example <caption>Converts a javascript object to an Observable</caption>
     * var obj = {
     *   foo: 42,
     *   bar: 56,
     *   baz: 78
     * };
     *
     * var source = Rx.Observable.pairs(obj);
     *
     * var subscription = source.subscribe(
     *   function (x) {
     *     console.log('Next: %s', x);
     *   },
     *   function (err) {
     *     console.log('Error: %s', err);
     *   },
     *   function () {
     *     console.log('Completed');
     *   });
     *
     * @param {Object} obj The object to inspect and turn into an
     * Observable sequence.
     * @param {Scheduler} [scheduler] An optional Scheduler to run the
     * enumeration of the input sequence on.
     * @returns {(Observable<Array<string | T>>)} An observable sequence of
     * [key, value] pairs from the object.
     */
return i(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=e.keys,i=e.scheduler,o=n.length;if(i)return i.schedule(r,0,{obj:this.obj,keys:n,length:o,index:0,subscriber:t});for(var s=0;s<o;s++){var a=n[s];t.next([a,this.obj[a]])}t.complete()},e}(o.Observable);e.PairsObservable=s},/* 994 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(0),o=function(t){function e(e,n,r){t.call(this),this.start=e,this._count=n,this.scheduler=r}/**
     * Creates an Observable that emits a sequence of numbers within a specified
     * range.
     *
     * <span class="informal">Emits a sequence of numbers in a range.</span>
     *
     * <img src="./img/range.png" width="100%">
     *
     * `range` operator emits a range of sequential integers, in order, where you
     * select the `start` of the range and its `length`. By default, uses no
     * Scheduler and just delivers the notifications synchronously, but may use
     * an optional Scheduler to regulate those deliveries.
     *
     * @example <caption>Emits the numbers 1 to 10</caption>
     * var numbers = Rx.Observable.range(1, 10);
     * numbers.subscribe(x => console.log(x));
     *
     * @see {@link timer}
     * @see {@link interval}
     *
     * @param {number} [start=0] The value of the first integer in the sequence.
     * @param {number} [count=0] The number of sequential integers to generate.
     * @param {Scheduler} [scheduler] A {@link Scheduler} to use for scheduling
     * the emissions of the notifications.
     * @return {Observable} An Observable of numbers that emits a finite range of
     * sequential integers.
     * @static true
     * @name range
     * @owner Observable
     */
return r(e,t),e.create=function(t,n,r){return void 0===t&&(t=0),void 0===n&&(n=0),new e(t,n,r)},e.dispatch=function(t){var e=t.start,n=t.index,r=t.count,i=t.subscriber;if(n>=r)return void i.complete();i.next(e),i.closed||(t.index=n+1,t.start=e+1,this.schedule(t))},e.prototype._subscribe=function(t){var n=0,r=this.start,i=this._count,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{index:n,count:i,start:r,subscriber:t});for(;;){if(n++>=i){t.complete();break}if(t.next(r++),t.closed)break}},e}(i.Observable);e.RangeObservable=o},/* 995 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(0),o=n(313),s=n(188),a=function(t){function e(e,n,r){void 0===n&&(n=0),void 0===r&&(r=o.asap),t.call(this),this.source=e,this.delayTime=n,this.scheduler=r,(!s.isNumeric(n)||n<0)&&(this.delayTime=0),r&&"function"==typeof r.schedule||(this.scheduler=o.asap)}return r(e,t),e.create=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=o.asap),new e(t,n,r)},e.dispatch=function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))},e.prototype._subscribe=function(t){var n=this.delayTime,r=this.source;return this.scheduler.schedule(e.dispatch,n,{source:r,subscriber:t})},e}(i.Observable);e.SubscribeOnObservable=a},/* 996 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(188),o=n(0),s=n(35),a=n(64),u=n(140),c=function(t){function e(e,n,r){void 0===e&&(e=0),t.call(this),this.period=-1,this.dueTime=0,i.isNumeric(n)?this.period=Number(n)<1&&1||Number(n):a.isScheduler(n)&&(r=n),a.isScheduler(r)||(r=s.async),this.scheduler=r,this.dueTime=u.isDate(e)?+e-this.scheduler.now():e}/**
     * Creates an Observable that starts emitting after an `initialDelay` and
     * emits ever increasing numbers after each `period` of time thereafter.
     *
     * <span class="informal">Its like {@link interval}, but you can specify when
     * should the emissions start.</span>
     *
     * <img src="./img/timer.png" width="100%">
     *
     * `timer` returns an Observable that emits an infinite sequence of ascending
     * integers, with a constant interval of time, `period` of your choosing
     * between those emissions. The first emission happens after the specified
     * `initialDelay`. The initial delay may be a {@link Date}. By default, this
     * operator uses the `async` Scheduler to provide a notion of time, but you
     * may pass any Scheduler to it. If `period` is not specified, the output
     * Observable emits only one value, `0`. Otherwise, it emits an infinite
     * sequence.
     *
     * @example <caption>Emits ascending numbers, one every second (1000ms), starting after 3 seconds</caption>
     * var numbers = Rx.Observable.timer(3000, 1000);
     * numbers.subscribe(x => console.log(x));
     *
     * @example <caption>Emits one number after five seconds</caption>
     * var numbers = Rx.Observable.timer(5000);
     * numbers.subscribe(x => console.log(x));
     *
     * @see {@link interval}
     * @see {@link delay}
     *
     * @param {number|Date} initialDelay The initial delay time to wait before
     * emitting the first value of `0`.
     * @param {number} [period] The period of time between emissions of the
     * subsequent numbers.
     * @param {Scheduler} [scheduler=async] The Scheduler to use for scheduling
     * the emission of values, and providing a notion of "time".
     * @return {Observable} An Observable that emits a `0` after the
     * `initialDelay` and ever increasing numbers after each `period` of time
     * thereafter.
     * @static true
     * @name timer
     * @owner Observable
     */
return r(e,t),e.create=function(t,n,r){return void 0===t&&(t=0),new e(t,n,r)},e.dispatch=function(t){var e=t.index,n=t.period,r=t.subscriber,i=this;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,i.schedule(t,n)}},e.prototype._subscribe=function(t){var n=this,r=n.period,i=n.dueTime;return n.scheduler.schedule(e.dispatch,i,{index:0,period:r,subscriber:t})},e}(o.Observable);e.TimerObservable=c},/* 997 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(0),o=n(8),s=n(7),a=function(t){function e(e,n){t.call(this),this.resourceFactory=e,this.observableFactory=n}return r(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e,n=this,r=n.resourceFactory,i=n.observableFactory;try{return e=r(),new u(t,e,i)}catch(e){t.error(e)}},e}(i.Observable);e.UsingObservable=a;var u=function(t){function e(e,n,r){t.call(this,e),this.resource=n,this.observableFactory=r,e.add(n),this.tryUse()}return r(e,t),e.prototype.tryUse=function(){try{var t=this.observableFactory.call(this,this.resource);t&&this.add(o.subscribeToResult(this,t))}catch(t){this._error(t)}},e}(s.OuterSubscriber)},/* 998 */
/***/
function(t,e,n){"use strict";var r=n(981);e.bindCallback=r.BoundCallbackObservable.create},/* 999 */
/***/
function(t,e,n){"use strict";var r=n(982);e.bindNodeCallback=r.BoundNodeCallbackObservable.create},/* 1000 */
/***/
function(t,e,n){"use strict";/* tslint:enable:max-line-length */
/**
 * Combines multiple Observables to create an Observable whose values are
 * calculated from the latest values of each of its input Observables.
 *
 * <span class="informal">Whenever any input Observable emits a value, it
 * computes a formula using the latest values from all the inputs, then emits
 * the output of that formula.</span>
 *
 * <img src="./img/combineLatest.png" width="100%">
 *
 * `combineLatest` combines the values from all the Observables passed as
 * arguments. This is done by subscribing to each Observable, in order, and
 * collecting an array of each of the most recent values any time any of the
 * input Observables emits, then either taking that array and passing it as
 * arguments to an optional `project` function and emitting the return value of
 * that, or just emitting the array of recent values directly if there is no
 * `project` function.
 *
 * @example <caption>Dynamically calculate the Body-Mass Index from an Observable of weight and one for height</caption>
 * var weight = Rx.Observable.of(70, 72, 76, 79, 75);
 * var height = Rx.Observable.of(1.76, 1.77, 1.78);
 * var bmi = Rx.Observable.combineLatest(weight, height, (w, h) => w / (h * h));
 * bmi.subscribe(x => console.log('BMI is ' + x));
 *
 * // With output to console:
 * // BMI is 24.212293388429753
 * // BMI is 23.93948099205209
 * // BMI is 23.671253629592222
 *
 * @see {@link combineAll}
 * @see {@link merge}
 * @see {@link withLatestFrom}
 *
 * @param {Observable} observable1 An input Observable to combine with the
 * source Observable.
 * @param {Observable} observable2 An input Observable to combine with the
 * source Observable. More than one input Observables may be given as argument.
 * @param {function} [project] An optional function to project the values from
 * the combined latest values into a new value on the output Observable.
 * @param {Scheduler} [scheduler=null] The Scheduler to use for subscribing to
 * each input Observable.
 * @return {Observable} An Observable of projected values from the most recent
 * values from each input Observable, or an array of the most recent values from
 * each input Observable.
 * @static true
 * @name combineLatest
 * @owner Observable
 */
function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null,r=null;
// if the first and only other argument besides the resultSelector is an array
// assume it's been called with `combineLatest([obs1, obs2, obs3], project)`
return i.isScheduler(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&o.isArray(t[0])&&(t=t[0]),new s.ArrayObservable(t,r).lift(new a.CombineLatestOperator(n))}var i=n(64),o=n(52),s=n(57),a=n(181);e.combineLatest=r},/* 1001 */
/***/
function(t,e,n){"use strict";var r=n(182);e.concat=r.concatStatic},/* 1002 */
/***/
function(t,e,n){"use strict";var r=n(983);e.defer=r.DeferObservable.create},/* 1003 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(17),o=n(4),s=n(0),a=n(22),u=n(27),c=n(178),l=n(28),f=n(24),p=n(1110),h=function(t){function e(e,n){if(e instanceof s.Observable)t.call(this,n,e);else{if(t.call(this),this.WebSocketCtor=u.root.WebSocket,this._output=new i.Subject,"string"==typeof e?this.url=e:
// WARNING: config object could override important members here.
p.assign(this,e),!this.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new c.ReplaySubject}}/**
     * @param urlConfigOrSource
     * @return {WebSocketSubject}
     * @static true
     * @name webSocket
     * @owner Observable
     */
// TODO: factor this out to be a proper Operator/Subscriber implementation and eliminate closures
return r(e,t),e.prototype.resultSelector=function(t){return JSON.parse(t.data)},e.create=function(t){return new e(t)},e.prototype.lift=function(t){var n=new e(this,this.destination);return n.operator=t,n},e.prototype._resetState=function(){this.socket=null,this.source||(this.destination=new c.ReplaySubject),this._output=new i.Subject},e.prototype.multiplex=function(t,e,n){var r=this;return new s.Observable(function(i){var o=l.tryCatch(t)();o===f.errorObject?i.error(f.errorObject.e):r.next(o);var s=r.subscribe(function(t){var e=l.tryCatch(n)(t);e===f.errorObject?i.error(f.errorObject.e):e&&i.next(t)},function(t){return i.error(t)},function(){return i.complete()});return function(){var t=l.tryCatch(e)();t===f.errorObject?i.error(f.errorObject.e):r.next(t),s.unsubscribe()}})},e.prototype._connectSocket=function(){var t=this,e=this.WebSocketCtor,n=this._output,r=null;try{r=this.protocol?new e(this.url,this.protocol):new e(this.url),this.socket=r}catch(t){return void n.error(t)}var i=new a.Subscription(function(){t.socket=null,r&&1===r.readyState&&r.close()});r.onopen=function(e){var s=t.openObserver;s&&s.next(e);var a=t.destination;t.destination=o.Subscriber.create(function(t){return 1===r.readyState&&r.send(t)},function(e){var i=t.closingObserver;i&&i.next(void 0),e&&e.code?r.close(e.code,e.reason):n.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),t._resetState()},function(){var e=t.closingObserver;e&&e.next(void 0),r.close(),t._resetState()}),a&&a instanceof c.ReplaySubject&&i.add(a.subscribe(t.destination))},r.onerror=function(e){t._resetState(),n.error(e)},r.onclose=function(e){t._resetState();var r=t.closeObserver;r&&r.next(e),e.wasClean?n.complete():n.error(e)},r.onmessage=function(e){var r=l.tryCatch(t.resultSelector)(e);r===f.errorObject?n.error(f.errorObject.e):n.next(r)}},e.prototype._subscribe=function(t){var e=this,n=this.source;if(n)return n.subscribe(t);this.socket||this._connectSocket();var r=new a.Subscription;return r.add(this._output.subscribe(t)),r.add(function(){var t=e.socket;0===e._output.observers.length&&(t&&1===t.readyState&&t.close(),e._resetState())}),r},e.prototype.unsubscribe=function(){var e=this,n=e.source,r=e.socket;r&&1===r.readyState&&(r.close(),this._resetState()),t.prototype.unsubscribe.call(this),n||(this.destination=new c.ReplaySubject)},e}(i.AnonymousSubject);e.WebSocketSubject=h},/* 1004 */
/***/
function(t,e,n){"use strict";var r=n(292);e.ajax=r.AjaxObservable.create},/* 1005 */
/***/
function(t,e,n){"use strict";var r=n(1003);e.webSocket=r.WebSocketSubject.create},/* 1006 */
/***/
function(t,e,n){"use strict";var r=n(63);e.empty=r.EmptyObservable.create},/* 1007 */
/***/
function(t,e,n){"use strict";var r=n(986);e.fromEvent=r.FromEventObservable.create},/* 1008 */
/***/
function(t,e,n){"use strict";var r=n(987);e.fromEventPattern=r.FromEventPatternObservable.create},/* 1009 */
/***/
function(t,e,n){"use strict";var r=n(989);e._if=r.IfObservable.create},/* 1010 */
/***/
function(t,e,n){"use strict";var r=n(990);e.interval=r.IntervalObservable.create},/* 1011 */
/***/
function(t,e,n){"use strict";var r=n(992);e.never=r.NeverObservable.create},/* 1012 */
/***/
function(t,e,n){"use strict";var r=n(993);e.pairs=r.PairsObservable.create},/* 1013 */
/***/
function(t,e,n){"use strict";var r=n(994);e.range=r.RangeObservable.create},/* 1014 */
/***/
function(t,e,n){"use strict";var r=n(984);e._throw=r.ErrorObservable.create},/* 1015 */
/***/
function(t,e,n){"use strict";var r=n(996);e.timer=r.TimerObservable.create},/* 1016 */
/***/
function(t,e,n){"use strict";var r=n(997);e.using=r.UsingObservable.create},/* 1017 */
/***/
function(t,e,n){"use strict";var r=n(186);e.zip=r.zipStatic},/* 1018 */
/***/
function(t,e,n){"use strict";/**
 * Ignores source values for a duration determined by another Observable, then
 * emits the most recent value from the source Observable, then repeats this
 * process.
 *
 * <span class="informal">It's like {@link auditTime}, but the silencing
 * duration is determined by a second Observable.</span>
 *
 * <img src="./img/audit.png" width="100%">
 *
 * `audit` is similar to `throttle`, but emits the last value from the silenced
 * time window, instead of the first value. `audit` emits the most recent value
 * from the source Observable on the output Observable as soon as its internal
 * timer becomes disabled, and ignores source values while the timer is enabled.
 * Initially, the timer is disabled. As soon as the first source value arrives,
 * the timer is enabled by calling the `durationSelector` function with the
 * source value, which returns the "duration" Observable. When the duration
 * Observable emits a value or completes, the timer is disabled, then the most
 * recent source value is emitted on the output Observable, and this process
 * repeats for the next source value.
 *
 * @example <caption>Emit clicks at a rate of at most one click per second</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks.audit(ev => Rx.Observable.interval(1000));
 * result.subscribe(x => console.log(x));
 *
 * @see {@link auditTime}
 * @see {@link debounce}
 * @see {@link delayWhen}
 * @see {@link sample}
 * @see {@link throttle}
 *
 * @param {function(value: T): Observable|Promise} durationSelector A function
 * that receives a value from the source Observable, for computing the silencing
 * duration, returned as an Observable or a Promise.
 * @return {Observable<T>} An Observable that performs rate-limiting of
 * emissions from the source Observable.
 * @method audit
 * @owner Observable
 */
function r(t){return this.lift(new c(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(28),s=n(24),a=n(7),u=n(8);e.audit=r;var c=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.durationSelector))},t}(),l=function(t){function e(e,n){t.call(this,e),this.durationSelector=n,this.hasValue=!1}return i(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=o.tryCatch(this.durationSelector)(t);e===s.errorObject?this.destination.error(s.errorObject.e):this.add(this.throttled=u.subscribeToResult(this,e))}},e.prototype.clearThrottle=function(){var t=this,e=t.value,n=t.hasValue,r=t.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),n&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e.prototype.notifyNext=function(t,e,n,r){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(a.OuterSubscriber)},/* 1019 */
/***/
function(t,e,n){"use strict";/**
 * Ignores source values for `duration` milliseconds, then emits the most recent
 * value from the source Observable, then repeats this process.
 *
 * <span class="informal">When it sees a source values, it ignores that plus
 * the next ones for `duration` milliseconds, and then it emits the most recent
 * value from the source.</span>
 *
 * <img src="./img/auditTime.png" width="100%">
 *
 * `auditTime` is similar to `throttleTime`, but emits the last value from the
 * silenced time window, instead of the first value. `auditTime` emits the most
 * recent value from the source Observable on the output Observable as soon as
 * its internal timer becomes disabled, and ignores source values while the
 * timer is enabled. Initially, the timer is disabled. As soon as the first
 * source value arrives, the timer is enabled. After `duration` milliseconds (or
 * the time unit determined internally by the optional `scheduler`) has passed,
 * the timer is disabled, then the most recent source value is emitted on the
 * output Observable, and this process repeats for the next source value.
 * Optionally takes a {@link Scheduler} for managing timers.
 *
 * @example <caption>Emit clicks at a rate of at most one click per second</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks.auditTime(1000);
 * result.subscribe(x => console.log(x));
 *
 * @see {@link audit}
 * @see {@link debounceTime}
 * @see {@link delay}
 * @see {@link sampleTime}
 * @see {@link throttleTime}
 *
 * @param {number} duration Time to wait before emitting the most recent source
 * value, measured in milliseconds or the time unit determined internally
 * by the optional `scheduler`.
 * @param {Scheduler} [scheduler=async] The {@link Scheduler} to use for
 * managing the timers that handle the rate-limiting behavior.
 * @return {Observable<T>} An Observable that performs rate-limiting of
 * emissions from the source Observable.
 * @method auditTime
 * @owner Observable
 */
function r(t,e){return void 0===e&&(e=s.async),this.lift(new u(t,e))}function i(t){t.clearThrottle()}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n(35),a=n(4);e.auditTime=r;var u=function(){function t(t,e){this.duration=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.duration,this.scheduler))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.duration=n,this.scheduler=r,this.hasValue=!1}return o(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0,this.throttled||this.add(this.throttled=this.scheduler.schedule(i,this.duration,this))},e.prototype.clearThrottle=function(){var t=this,e=t.value,n=t.hasValue,r=t.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),n&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e}(a.Subscriber)},/* 1020 */
/***/
function(t,e,n){"use strict";/**
 * Buffers the source Observable values until `closingNotifier` emits.
 *
 * <span class="informal">Collects values from the past as an array, and emits
 * that array only when another Observable emits.</span>
 *
 * <img src="./img/buffer.png" width="100%">
 *
 * Buffers the incoming Observable values until the given `closingNotifier`
 * Observable emits a value, at which point it emits the buffer on the output
 * Observable and starts a new buffer internally, awaiting the next time
 * `closingNotifier` emits.
 *
 * @example <caption>On every click, emit array of most recent interval events</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var interval = Rx.Observable.interval(1000);
 * var buffered = interval.buffer(clicks);
 * buffered.subscribe(x => console.log(x));
 *
 * @see {@link bufferCount}
 * @see {@link bufferTime}
 * @see {@link bufferToggle}
 * @see {@link bufferWhen}
 * @see {@link window}
 *
 * @param {Observable<any>} closingNotifier An Observable that signals the
 * buffer to be emitted on the output Observable.
 * @return {Observable<T[]>} An Observable of buffers, which are arrays of
 * values.
 * @method buffer
 * @owner Observable
 */
function r(t){return this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),s=n(8);e.buffer=r;var a=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.closingNotifier))},t}(),u=function(t){function e(e,n){t.call(this,e),this.buffer=[],this.add(s.subscribeToResult(this,n))}return i(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},e}(o.OuterSubscriber)},/* 1021 */
/***/
function(t,e,n){"use strict";/**
 * Buffers the source Observable values until the size hits the maximum
 * `bufferSize` given.
 *
 * <span class="informal">Collects values from the past as an array, and emits
 * that array only when its size reaches `bufferSize`.</span>
 *
 * <img src="./img/bufferCount.png" width="100%">
 *
 * Buffers a number of values from the source Observable by `bufferSize` then
 * emits the buffer and clears it, and starts a new buffer each
 * `startBufferEvery` values. If `startBufferEvery` is not provided or is
 * `null`, then new buffers are started immediately at the start of the source
 * and when each buffer closes and is emitted.
 *
 * @example <caption>Emit the last two click events as an array</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var buffered = clicks.bufferCount(2);
 * buffered.subscribe(x => console.log(x));
 *
 * @example <caption>On every click, emit the last two click events as an array</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var buffered = clicks.bufferCount(2, 1);
 * buffered.subscribe(x => console.log(x));
 *
 * @see {@link buffer}
 * @see {@link bufferTime}
 * @see {@link bufferToggle}
 * @see {@link bufferWhen}
 * @see {@link pairwise}
 * @see {@link windowCount}
 *
 * @param {number} bufferSize The maximum size of the buffer emitted.
 * @param {number} [startBufferEvery] Interval at which to start a new buffer.
 * For example if `startBufferEvery` is `2`, then a new buffer will be started
 * on every other value from the source. A new buffer is started at the
 * beginning of the source by default.
 * @return {Observable<T[]>} An Observable of arrays of buffered values.
 * @method bufferCount
 * @owner Observable
 */
function r(t,e){return void 0===e&&(e=null),this.lift(new s(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.bufferCount=r;var s=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.bufferSize,this.startBufferEvery))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.bufferSize=n,this.startBufferEvery=r,this.buffers=[],this.count=0}return i(e,t),e.prototype._next=function(t){var e=this.count++,n=this,r=n.destination,i=n.bufferSize,o=n.startBufferEvery,s=n.buffers;e%(null==o?i:o)==0&&s.push([]);for(var a=s.length;a--;){var u=s[a];u.push(t),u.length===i&&(s.splice(a,1),r.next(u))}},e.prototype._complete=function(){for(var e=this.destination,n=this.buffers;n.length>0;){var r=n.shift();r.length>0&&e.next(r)}t.prototype._complete.call(this)},e}(o.Subscriber)},/* 1022 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Buffers the source Observable values for a specific time period.
 *
 * <span class="informal">Collects values from the past as an array, and emits
 * those arrays periodically in time.</span>
 *
 * <img src="./img/bufferTime.png" width="100%">
 *
 * Buffers values from the source for a specific time duration `bufferTimeSpan`.
 * Unless the optional argument `bufferCreationInterval` is given, it emits and
 * resets the buffer every `bufferTimeSpan` milliseconds. If
 * `bufferCreationInterval` is given, this operator opens the buffer every
 * `bufferCreationInterval` milliseconds and closes (emits and resets) the
 * buffer every `bufferTimeSpan` milliseconds. When the optional argument
 * `maxBufferSize` is specified, the buffer will be closed either after
 * `bufferTimeSpan` milliseconds or when it contains `maxBufferSize` elements.
 *
 * @example <caption>Every second, emit an array of the recent click events</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var buffered = clicks.bufferTime(1000);
 * buffered.subscribe(x => console.log(x));
 *
 * @example <caption>Every 5 seconds, emit the click events from the next 2 seconds</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var buffered = clicks.bufferTime(2000, 5000);
 * buffered.subscribe(x => console.log(x));
 *
 * @see {@link buffer}
 * @see {@link bufferCount}
 * @see {@link bufferToggle}
 * @see {@link bufferWhen}
 * @see {@link windowTime}
 *
 * @param {number} bufferTimeSpan The amount of time to fill each buffer array.
 * @param {number} [bufferCreationInterval] The interval at which to start new
 * buffers.
 * @param {number} [maxBufferSize] The maximum buffer size.
 * @param {Scheduler} [scheduler=async] The scheduler on which to schedule the
 * intervals that determine buffer boundaries.
 * @return {Observable<T[]>} An observable of arrays of buffered values.
 * @method bufferTime
 * @owner Observable
 */
function r(t){var e=arguments.length,n=u.async;l.isScheduler(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var r=null;e>=2&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),this.lift(new f(t,r,i,n))}function i(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function o(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,r=t.subscriber,i=t.scheduler,o=r.openContext(),a=this;r.closed||(r.add(o.closeAction=i.schedule(s,n,{subscriber:r,context:o})),a.schedule(t,e))}function s(t){var e=t.subscriber,n=t.context;e.closeContext(n)}var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=n(35),c=n(4),l=n(64);e.bufferTime=r;var f=function(){function t(t,e,n,r){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),p=function(){function t(){this.buffer=[]}return t}(),h=function(t){function e(e,n,r,a,u){t.call(this,e),this.bufferTimeSpan=n,this.bufferCreationInterval=r,this.maxBufferSize=a,this.scheduler=u,this.contexts=[];var c=this.openContext();if(this.timespanOnly=null==r||r<0,this.timespanOnly){var l={subscriber:this,context:c,bufferTimeSpan:n};this.add(c.closeAction=u.schedule(i,n,l))}else{var f={subscriber:this,context:c},p={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:this,scheduler:u};this.add(c.closeAction=u.schedule(s,n,f)),this.add(u.schedule(o,r,p))}}return a(e,t),e.prototype._next=function(t){for(var e,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],s=o.buffer;s.push(t),s.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this,n=e.contexts,r=e.destination;n.length>0;){var i=n.shift();r.next(i.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:t,bufferTimeSpan:n};this.add(t.closeAction=this.scheduler.schedule(i,n,r))}},e.prototype.openContext=function(){var t=new p;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)},e}(c.Subscriber)},/* 1023 */
/***/
function(t,e,n){"use strict";/**
 * Buffers the source Observable values starting from an emission from
 * `openings` and ending when the output of `closingSelector` emits.
 *
 * <span class="informal">Collects values from the past as an array. Starts
 * collecting only when `opening` emits, and calls the `closingSelector`
 * function to get an Observable that tells when to close the buffer.</span>
 *
 * <img src="./img/bufferToggle.png" width="100%">
 *
 * Buffers values from the source by opening the buffer via signals from an
 * Observable provided to `openings`, and closing and sending the buffers when
 * a Subscribable or Promise returned by the `closingSelector` function emits.
 *
 * @example <caption>Every other second, emit the click events from the next 500ms</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var openings = Rx.Observable.interval(1000);
 * var buffered = clicks.bufferToggle(openings, i =>
 *   i % 2 ? Rx.Observable.interval(500) : Rx.Observable.empty()
 * );
 * buffered.subscribe(x => console.log(x));
 *
 * @see {@link buffer}
 * @see {@link bufferCount}
 * @see {@link bufferTime}
 * @see {@link bufferWhen}
 * @see {@link windowToggle}
 *
 * @param {SubscribableOrPromise<O>} openings A Subscribable or Promise of notifications to start new
 * buffers.
 * @param {function(value: O): SubscribableOrPromise} closingSelector A function that takes
 * the value emitted by the `openings` observable and returns a Subscribable or Promise,
 * which, when it emits, signals that the associated buffer should be emitted
 * and cleared.
 * @return {Observable<T[]>} An observable of arrays of buffered values.
 * @method bufferToggle
 * @owner Observable
 */
function r(t,e){return this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(22),s=n(8),a=n(7);e.bufferToggle=r;var u=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.openings,this.closingSelector))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.openings=n,this.closingSelector=r,this.contexts=[],this.add(s.subscribeToResult(this,n))}return i(e,t),e.prototype._next=function(t){for(var e=this.contexts,n=e.length,r=0;r<n;r++)e[r].buffer.push(t)},e.prototype._error=function(e){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var n=e.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector,n=e.call(this,t);n&&this.trySubscribe(n)}catch(t){this._error(t)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var n=t.buffer,r=t.subscription;this.destination.next(n),e.splice(e.indexOf(t),1),this.remove(r),r.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,n=[],r=new o.Subscription,i={buffer:n,subscription:r};e.push(i);var a=s.subscribeToResult(this,t,i);!a||a.closed?this.closeBuffer(i):(a.context=i,this.add(a),r.add(a))},e}(a.OuterSubscriber)},/* 1024 */
/***/
function(t,e,n){"use strict";/**
 * Buffers the source Observable values, using a factory function of closing
 * Observables to determine when to close, emit, and reset the buffer.
 *
 * <span class="informal">Collects values from the past as an array. When it
 * starts collecting values, it calls a function that returns an Observable that
 * tells when to close the buffer and restart collecting.</span>
 *
 * <img src="./img/bufferWhen.png" width="100%">
 *
 * Opens a buffer immediately, then closes the buffer when the observable
 * returned by calling `closingSelector` function emits a value. When it closes
 * the buffer, it immediately opens a new buffer and repeats the process.
 *
 * @example <caption>Emit an array of the last clicks every [1-5] random seconds</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var buffered = clicks.bufferWhen(() =>
 *   Rx.Observable.interval(1000 + Math.random() * 4000)
 * );
 * buffered.subscribe(x => console.log(x));
 *
 * @see {@link buffer}
 * @see {@link bufferCount}
 * @see {@link bufferTime}
 * @see {@link bufferToggle}
 * @see {@link windowWhen}
 *
 * @param {function(): Observable} closingSelector A function that takes no
 * arguments and returns an Observable that signals buffer closure.
 * @return {Observable<T[]>} An observable of arrays of buffered values.
 * @method bufferWhen
 * @owner Observable
 */
function r(t){return this.lift(new l(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(22),s=n(28),a=n(24),u=n(7),c=n(8);e.bufferWhen=r;var l=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.closingSelector))},t}(),f=function(t){function e(e,n){t.call(this,e),this.closingSelector=n,this.subscribing=!1,this.openBuffer()}return i(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(t,e,n,r,i){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];var n=s.tryCatch(this.closingSelector)();n===a.errorObject?this.error(a.errorObject.e):(t=new o.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(c.subscribeToResult(this,n)),this.subscribing=!1)},e}(u.OuterSubscriber)},/* 1025 */
/***/
function(t,e,n){"use strict";/**
 * Converts a higher-order Observable into a first-order Observable by waiting
 * for the outer Observable to complete, then applying {@link combineLatest}.
 *
 * <span class="informal">Flattens an Observable-of-Observables by applying
 * {@link combineLatest} when the Observable-of-Observables completes.</span>
 *
 * <img src="./img/combineAll.png" width="100%">
 *
 * Takes an Observable of Observables, and collects all Observables from it.
 * Once the outer Observable completes, it subscribes to all collected
 * Observables and combines their values using the {@link combineLatest}
 * strategy, such that:
 * - Every time an inner Observable emits, the output Observable emits.
 * - When the returned observable emits, it emits all of the latest values by:
 *   - If a `project` function is provided, it is called with each recent value
 *     from each inner Observable in whatever order they arrived, and the result
 *     of the `project` function is what is emitted by the output Observable.
 *   - If there is no `project` function, an array of all of the most recent
 *     values is emitted by the output Observable.
 *
 * @example <caption>Map two click events to a finite interval Observable, then apply combineAll</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var higherOrder = clicks.map(ev =>
 *   Rx.Observable.interval(Math.random()*2000).take(3)
 * ).take(2);
 * var result = higherOrder.combineAll();
 * result.subscribe(x => console.log(x));
 *
 * @see {@link combineLatest}
 * @see {@link mergeAll}
 *
 * @param {function} [project] An optional function to map the most recent
 * values from each inner Observable into a new result. Takes each of the most
 * recent values from each collected inner Observable as arguments, in order.
 * @return {Observable} An Observable of projected results or arrays of recent
 * values.
 * @method combineAll
 * @owner Observable
 */
function r(t){return this.lift(new i.CombineLatestOperator(t))}var i=n(181);e.combineAll=r},/* 1026 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Projects each source value to the same Observable which is merged multiple
 * times in a serialized fashion on the output Observable.
 *
 * <span class="informal">It's like {@link concatMap}, but maps each value
 * always to the same inner Observable.</span>
 *
 * <img src="./img/concatMapTo.png" width="100%">
 *
 * Maps each source value to the given Observable `innerObservable` regardless
 * of the source value, and then flattens those resulting Observables into one
 * single Observable, which is the output Observable. Each new `innerObservable`
 * instance emitted on the output Observable is concatenated with the previous
 * `innerObservable` instance.
 *
 * __Warning:__ if source values arrive endlessly and faster than their
 * corresponding inner Observables can complete, it will result in memory issues
 * as inner Observables amass in an unbounded buffer waiting for their turn to
 * be subscribed to.
 *
 * Note: `concatMapTo` is equivalent to `mergeMapTo` with concurrency parameter
 * set to `1`.
 *
 * @example <caption>For each click event, tick every second from 0 to 3, with no concurrency</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks.concatMapTo(Rx.Observable.interval(1000).take(4));
 * result.subscribe(x => console.log(x));
 *
 * // Results in the following:
 * // (results are not concurrent)
 * // For every click on the "document" it will emit values 0 to 3 spaced
 * // on a 1000ms interval
 * // one click = 1000ms-> 0 -1000ms-> 1 -1000ms-> 2 -1000ms-> 3
 *
 * @see {@link concat}
 * @see {@link concatAll}
 * @see {@link concatMap}
 * @see {@link mergeMapTo}
 * @see {@link switchMapTo}
 *
 * @param {Observable} innerObservable An Observable to replace each value from
 * the source Observable.
 * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]
 * A function to produce the value on the output Observable based on the values
 * and the indices of the source (outer) emission and the inner Observable
 * emission. The arguments passed to this function are:
 * - `outerValue`: the value that came from the source
 * - `innerValue`: the value that came from the projected Observable
 * - `outerIndex`: the "index" of the value that came from the source
 * - `innerIndex`: the "index" of the value from the projected Observable
 * @return {Observable} An observable of values merged together by joining the
 * passed observable with itself, one after the other, for each value emitted
 * from the source.
 * @method concatMapTo
 * @owner Observable
 */
function r(t,e){return this.lift(new i.MergeMapToOperator(t,e,1))}var i=n(306);e.concatMapTo=r},/* 1027 */
/***/
function(t,e,n){"use strict";/**
 * Counts the number of emissions on the source and emits that number when the
 * source completes.
 *
 * <span class="informal">Tells how many values were emitted, when the source
 * completes.</span>
 *
 * <img src="./img/count.png" width="100%">
 *
 * `count` transforms an Observable that emits values into an Observable that
 * emits a single value that represents the number of values emitted by the
 * source Observable. If the source Observable terminates with an error, `count`
 * will pass this error notification along without emitting an value first. If
 * the source Observable does not terminate at all, `count` will neither emit
 * a value nor terminate. This operator takes an optional `predicate` function
 * as argument, in which case the output emission will represent the number of
 * source values that matched `true` with the `predicate`.
 *
 * @example <caption>Counts how many seconds have passed before the first click happened</caption>
 * var seconds = Rx.Observable.interval(1000);
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var secondsBeforeClick = seconds.takeUntil(clicks);
 * var result = secondsBeforeClick.count();
 * result.subscribe(x => console.log(x));
 *
 * @example <caption>Counts how many odd numbers are there between 1 and 7</caption>
 * var numbers = Rx.Observable.range(1, 7);
 * var result = numbers.count(i => i % 2 === 1);
 * result.subscribe(x => console.log(x));
 *
 * // Results in:
 * // 4
 *
 * @see {@link max}
 * @see {@link min}
 * @see {@link reduce}
 *
 * @param {function(value: T, i: number, source: Observable<T>): boolean} [predicate] A
 * boolean function to select what values are to be counted. It is provided with
 * arguments of:
 * - `value`: the value from the source Observable.
 * - `index`: the (zero-based) "index" of the value from the source Observable.
 * - `source`: the source Observable instance itself.
 * @return {Observable} An Observable of one number that represents the count as
 * described above.
 * @method count
 * @owner Observable
 */
function r(t){return this.lift(new s(t,this))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.count=r;var s=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.source))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.source=r,this.count=0,this.index=0}return i(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(o.Subscriber)},/* 1028 */
/***/
function(t,e,n){"use strict";/**
 * Emits a value from the source Observable only after a particular time span
 * determined by another Observable has passed without another source emission.
 *
 * <span class="informal">It's like {@link debounceTime}, but the time span of
 * emission silence is determined by a second Observable.</span>
 *
 * <img src="./img/debounce.png" width="100%">
 *
 * `debounce` delays values emitted by the source Observable, but drops previous
 * pending delayed emissions if a new value arrives on the source Observable.
 * This operator keeps track of the most recent value from the source
 * Observable, and spawns a duration Observable by calling the
 * `durationSelector` function. The value is emitted only when the duration
 * Observable emits a value or completes, and if no other value was emitted on
 * the source Observable since the duration Observable was spawned. If a new
 * value appears before the duration Observable emits, the previous value will
 * be dropped and will not be emitted on the output Observable.
 *
 * Like {@link debounceTime}, this is a rate-limiting operator, and also a
 * delay-like operator since output emissions do not necessarily occur at the
 * same time as they did on the source Observable.
 *
 * @example <caption>Emit the most recent click after a burst of clicks</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks.debounce(() => Rx.Observable.interval(1000));
 * result.subscribe(x => console.log(x));
 *
 * @see {@link audit}
 * @see {@link debounceTime}
 * @see {@link delayWhen}
 * @see {@link throttle}
 *
 * @param {function(value: T): Observable|Promise} durationSelector A function
 * that receives a value from the source Observable, for computing the timeout
 * duration for each source value, returned as an Observable or a Promise.
 * @return {Observable} An Observable that delays the emissions of the source
 * Observable by the specified duration Observable returned by
 * `durationSelector`, and may drop some values if they occur too frequently.
 * @method debounce
 * @owner Observable
 */
function r(t){return this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),s=n(8);e.debounce=r;var a=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.durationSelector))},t}(),u=function(t){function e(e,n){t.call(this,e),this.durationSelector=n,this.hasValue=!1,this.durationSubscription=null}return i(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),n=s.subscribeToResult(this,e),n.closed||this.add(this.durationSubscription=n)},e.prototype.notifyNext=function(t,e,n,r,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(o.OuterSubscriber)},/* 1029 */
/***/
function(t,e,n){"use strict";/**
 * Emits a value from the source Observable only after a particular time span
 * has passed without another source emission.
 *
 * <span class="informal">It's like {@link delay}, but passes only the most
 * recent value from each burst of emissions.</span>
 *
 * <img src="./img/debounceTime.png" width="100%">
 *
 * `debounceTime` delays values emitted by the source Observable, but drops
 * previous pending delayed emissions if a new value arrives on the source
 * Observable. This operator keeps track of the most recent value from the
 * source Observable, and emits that only when `dueTime` enough time has passed
 * without any other value appearing on the source Observable. If a new value
 * appears before `dueTime` silence occurs, the previous value will be dropped
 * and will not be emitted on the output Observable.
 *
 * This is a rate-limiting operator, because it is impossible for more than one
 * value to be emitted in any time window of duration `dueTime`, but it is also
 * a delay-like operator since output emissions do not occur at the same time as
 * they did on the source Observable. Optionally takes a {@link Scheduler} for
 * managing timers.
 *
 * @example <caption>Emit the most recent click after a burst of clicks</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks.debounceTime(1000);
 * result.subscribe(x => console.log(x));
 *
 * @see {@link auditTime}
 * @see {@link debounce}
 * @see {@link delay}
 * @see {@link sampleTime}
 * @see {@link throttleTime}
 *
 * @param {number} dueTime The timeout duration in milliseconds (or the time
 * unit determined internally by the optional `scheduler`) for the window of
 * time required to wait for emission silence before emitting the most recent
 * source value.
 * @param {Scheduler} [scheduler=async] The {@link Scheduler} to use for
 * managing the timers that handle the timeout for each value.
 * @return {Observable} An Observable that delays the emissions of the source
 * Observable by the specified `dueTime`, and may drop some values if they occur
 * too frequently.
 * @method debounceTime
 * @owner Observable
 */
function r(t,e){return void 0===e&&(e=a.async),this.lift(new u(t,e))}function i(t){t.debouncedNext()}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n(4),a=n(35);e.debounceTime=r;var u=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.dueTime,this.scheduler))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.dueTime=n,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return o(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(i,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(s.Subscriber)},/* 1030 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Emits a given value if the source Observable completes without emitting any
 * `next` value, otherwise mirrors the source Observable.
 *
 * <span class="informal">If the source Observable turns out to be empty, then
 * this operator will emit a default value.</span>
 *
 * <img src="./img/defaultIfEmpty.png" width="100%">
 *
 * `defaultIfEmpty` emits the values emitted by the source Observable or a
 * specified default value if the source Observable is empty (completes without
 * having emitted any `next` value).
 *
 * @example <caption>If no clicks happen in 5 seconds, then emit "no clicks"</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var clicksBeforeFive = clicks.takeUntil(Rx.Observable.interval(5000));
 * var result = clicksBeforeFive.defaultIfEmpty('no clicks');
 * result.subscribe(x => console.log(x));
 *
 * @see {@link empty}
 * @see {@link last}
 *
 * @param {any} [defaultValue=null] The default value used if the source
 * Observable is empty.
 * @return {Observable} An Observable that emits either the specified
 * `defaultValue` if the source Observable emits no items, or the values emitted
 * by the source Observable.
 * @method defaultIfEmpty
 * @owner Observable
 */
function r(t){return void 0===t&&(t=null),this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.defaultIfEmpty=r;var s=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.defaultValue))},t}(),a=function(t){function e(e,n){t.call(this,e),this.defaultValue=n,this.isEmpty=!0}return i(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(o.Subscriber)},/* 1031 */
/***/
function(t,e,n){"use strict";/**
 * Delays the emission of items from the source Observable by a given timeout or
 * until a given Date.
 *
 * <span class="informal">Time shifts each item by some specified amount of
 * milliseconds.</span>
 *
 * <img src="./img/delay.png" width="100%">
 *
 * If the delay argument is a Number, this operator time shifts the source
 * Observable by that amount of time expressed in milliseconds. The relative
 * time intervals between the values are preserved.
 *
 * If the delay argument is a Date, this operator time shifts the start of the
 * Observable execution until the given date occurs.
 *
 * @example <caption>Delay each click by one second</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var delayedClicks = clicks.delay(1000); // each click emitted after 1 second
 * delayedClicks.subscribe(x => console.log(x));
 *
 * @example <caption>Delay all clicks until a future date happens</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var date = new Date('March 15, 2050 12:00:00'); // in the future
 * var delayedClicks = clicks.delay(date); // click emitted only after that date
 * delayedClicks.subscribe(x => console.log(x));
 *
 * @see {@link debounceTime}
 * @see {@link delayWhen}
 *
 * @param {number|Date} delay The delay duration in milliseconds (a `number`) or
 * a `Date` until which the emission of the source items is delayed.
 * @param {Scheduler} [scheduler=async] The Scheduler to use for
 * managing the timers that handle the time-shift for each item.
 * @return {Observable} An Observable that delays the emissions of the source
 * Observable by the specified timeout or Date.
 * @method delay
 * @owner Observable
 */
function r(t,e){void 0===e&&(e=o.async);var n=s.isDate(t),r=n?+t-e.now():Math.abs(t);return this.lift(new c(r,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(35),s=n(140),a=n(4),u=n(101);e.delay=r;var c=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.delay,this.scheduler))},t}(),l=function(t){function e(e,n,r){t.call(this,e),this.delay=n,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}return i(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new f(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(u.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(u.Notification.createComplete())},e}(a.Subscriber),f=function(){function t(t,e){this.time=t,this.notification=e}return t}()},/* 1032 */
/***/
function(t,e,n){"use strict";/**
 * Delays the emission of items from the source Observable by a given time span
 * determined by the emissions of another Observable.
 *
 * <span class="informal">It's like {@link delay}, but the time span of the
 * delay duration is determined by a second Observable.</span>
 *
 * <img src="./img/delayWhen.png" width="100%">
 *
 * `delayWhen` time shifts each emitted value from the source Observable by a
 * time span determined by another Observable. When the source emits a value,
 * the `delayDurationSelector` function is called with the source value as
 * argument, and should return an Observable, called the "duration" Observable.
 * The source value is emitted on the output Observable only when the duration
 * Observable emits a value or completes.
 *
 * Optionally, `delayWhen` takes a second argument, `subscriptionDelay`, which
 * is an Observable. When `subscriptionDelay` emits its first value or
 * completes, the source Observable is subscribed to and starts behaving like
 * described in the previous paragraph. If `subscriptionDelay` is not provided,
 * `delayWhen` will subscribe to the source Observable as soon as the output
 * Observable is subscribed.
 *
 * @example <caption>Delay each click by a random amount of time, between 0 and 5 seconds</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var delayedClicks = clicks.delayWhen(event =>
 *   Rx.Observable.interval(Math.random() * 5000)
 * );
 * delayedClicks.subscribe(x => console.log(x));
 *
 * @see {@link debounce}
 * @see {@link delay}
 *
 * @param {function(value: T): Observable} delayDurationSelector A function that
 * returns an Observable for each value emitted by the source Observable, which
 * is then used to delay the emission of that item on the output Observable
 * until the Observable returned from this function emits a value.
 * @param {Observable} subscriptionDelay An Observable that triggers the
 * subscription to the source Observable once it emits any value.
 * @return {Observable} An Observable that delays the emissions of the source
 * Observable by an amount of time specified by the Observable returned by
 * `delayDurationSelector`.
 * @method delayWhen
 * @owner Observable
 */
function r(t,e){return e?new f(this,e).lift(new c(t)):this.lift(new c(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),s=n(0),a=n(7),u=n(8);e.delayWhen=r;var c=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.delayDurationSelector))},t}(),l=function(t){function e(e,n){t.call(this,e),this.delayDurationSelector=n,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){try{var e=this.delayDurationSelector(t);e&&this.tryDelay(e,t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t),n=null;return-1!==e&&(n=this.values[e],this.delayNotifierSubscriptions.splice(e,1),this.values.splice(e,1)),n},e.prototype.tryDelay=function(t,e){var n=u.subscribeToResult(this,t,e);this.add(n),this.delayNotifierSubscriptions.push(n),this.values.push(e)},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(a.OuterSubscriber),f=function(t){function e(e,n){t.call(this),this.source=e,this.subscriptionDelay=n}return i(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new p(t,this.source))},e}(s.Observable),p=function(t){function e(e,n){t.call(this),this.parent=e,this.source=n,this.sourceSubscribed=!1}return i(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(o.Subscriber)},/* 1033 */
/***/
function(t,e,n){"use strict";/**
 * Converts an Observable of {@link Notification} objects into the emissions
 * that they represent.
 *
 * <span class="informal">Unwraps {@link Notification} objects as actual `next`,
 * `error` and `complete` emissions. The opposite of {@link materialize}.</span>
 *
 * <img src="./img/dematerialize.png" width="100%">
 *
 * `dematerialize` is assumed to operate an Observable that only emits
 * {@link Notification} objects as `next` emissions, and does not emit any
 * `error`. Such Observable is the output of a `materialize` operation. Those
 * notifications are then unwrapped using the metadata they contain, and emitted
 * as `next`, `error`, and `complete` on the output Observable.
 *
 * Use this operator in conjunction with {@link materialize}.
 *
 * @example <caption>Convert an Observable of Notifications to an actual Observable</caption>
 * var notifA = new Rx.Notification('N', 'A');
 * var notifB = new Rx.Notification('N', 'B');
 * var notifE = new Rx.Notification('E', void 0,
 *   new TypeError('x.toUpperCase is not a function')
 * );
 * var materialized = Rx.Observable.of(notifA, notifB, notifE);
 * var upperCase = materialized.dematerialize();
 * upperCase.subscribe(x => console.log(x), e => console.error(e));
 *
 * // Results in:
 * // A
 * // B
 * // TypeError: x.toUpperCase is not a function
 *
 * @see {@link Notification}
 * @see {@link materialize}
 *
 * @return {Observable} An Observable that emits items and notifications
 * embedded in Notification objects emitted by the source Observable.
 * @method dematerialize
 * @owner Observable
 */
function r(){return this.lift(new s)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.dematerialize=r;var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){t.call(this,e)}return i(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(o.Subscriber)},/* 1034 */
/***/
function(t,e,n){"use strict";/**
 * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from previous items.
 * If a keySelector function is provided, then it will project each value from the source observable into a new value that it will
 * check for equality with previously projected values. If a keySelector function is not provided, it will use each value from the
 * source observable directly with an equality check against previous values.
 * In JavaScript runtimes that support `Set`, this operator will use a `Set` to improve performance of the distinct value checking.
 * In other runtimes, this operator will use a minimal implementation of `Set` that relies on an `Array` and `indexOf` under the
 * hood, so performance will degrade as more values are checked for distinction. Even in newer browsers, a long-running `distinct`
 * use might result in memory leaks. To help alleviate this in some scenarios, an optional `flushes` parameter is also provided so
 * that the internal `Set` can be "flushed", basically clearing it of values.
 * @param {function} [keySelector] optional function to select which value you want to check as distinct.
 * @param {Observable} [flushes] optional Observable for flushing the internal HashSet of the operator.
 * @return {Observable} an Observable that emits items from the source Observable with distinct values.
 * @method distinct
 * @owner Observable
 */
function r(t,e){return this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),s=n(8),a=n(1109);e.distinct=r;var u=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.keySelector,this.flushes))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.keySelector=n,this.values=new a.Set,r&&this.add(s.subscribeToResult(this,r))}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,n=this.destination;try{e=this.keySelector(t)}catch(t){return void n.error(t)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var n=this.values;n.has(t)||(n.add(t),this.destination.next(e))},e}(o.OuterSubscriber);e.DistinctSubscriber=c},/* 1035 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Returns an Observable that emits all items emitted by the source Observable that are distinct by comparison from the previous item,
 * using a property accessed by using the key provided to check if the two items are distinct.
 * If a comparator function is provided, then it will be called for each item to test for whether or not that value should be emitted.
 * If a comparator function is not provided, an equality check is used by default.
 * @param {string} key string key for object property lookup on each item.
 * @param {function} [compare] optional comparison function called to test if an item is distinct from the previous item in the source.
 * @return {Observable} an Observable that emits items from the source Observable with distinct values based on the key specified.
 * @method distinctUntilKeyChanged
 * @owner Observable
 */
function r(t,e){return i.distinctUntilChanged.call(this,function(n,r){return e?e(n[t],r[t]):n[t]===r[t]})}var i=n(300);e.distinctUntilKeyChanged=r},/* 1036 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Perform a side effect for every emission on the source Observable, but return
 * an Observable that is identical to the source.
 *
 * <span class="informal">Intercepts each emission on the source and runs a
 * function, but returns an output which is identical to the source.</span>
 *
 * <img src="./img/do.png" width="100%">
 *
 * Returns a mirrored Observable of the source Observable, but modified so that
 * the provided Observer is called to perform a side effect for every value,
 * error, and completion emitted by the source. Any errors that are thrown in
 * the aforementioned Observer or handlers are safely sent down the error path
 * of the output Observable.
 *
 * This operator is useful for debugging your Observables for the correct values
 * or performing other side effects.
 *
 * Note: this is different to a `subscribe` on the Observable. If the Observable
 * returned by `do` is not subscribed, the side effects specified by the
 * Observer will never happen. `do` therefore simply spies on existing
 * execution, it does not trigger an execution to happen like `subscribe` does.
 *
 * @example <caption>Map every every click to the clientX position of that click, while also logging the click event</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var positions = clicks
 *   .do(ev => console.log(ev))
 *   .map(ev => ev.clientX);
 * positions.subscribe(x => console.log(x));
 *
 * @see {@link map}
 * @see {@link subscribe}
 *
 * @param {Observer|function} [nextOrObserver] A normal Observer object or a
 * callback for `next`.
 * @param {function} [error] Callback for errors in the source.
 * @param {function} [complete] Callback for the completion of the source.
 * @return {Observable} An Observable identical to the source, but runs the
 * specified Observer or callback(s) for each item.
 * @method do
 * @name do
 * @owner Observable
 */
function r(t,e,n){return this.lift(new s(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e._do=r;var s=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.nextOrObserver,this.error,this.complete))},t}(),a=function(t){function e(e,n,r,i){t.call(this,e);var s=new o.Subscriber(n,r,i);s.syncErrorThrowable=!0,this.add(s),this.safeSubscriber=s}return i(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(o.Subscriber)},/* 1037 */
/***/
function(t,e,n){"use strict";/**
 * Emits the single value at the specified `index` in a sequence of emissions
 * from the source Observable.
 *
 * <span class="informal">Emits only the i-th value, then completes.</span>
 *
 * <img src="./img/elementAt.png" width="100%">
 *
 * `elementAt` returns an Observable that emits the item at the specified
 * `index` in the source Observable, or a default value if that `index` is out
 * of range and the `default` argument is provided. If the `default` argument is
 * not given and the `index` is out of range, the output Observable will emit an
 * `ArgumentOutOfRangeError` error.
 *
 * @example <caption>Emit only the third click event</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks.elementAt(2);
 * result.subscribe(x => console.log(x));
 *
 * // Results in:
 * // click 1 = nothing
 * // click 2 = nothing
 * // click 3 = MouseEvent object logged to console
 *
 * @see {@link first}
 * @see {@link last}
 * @see {@link skip}
 * @see {@link single}
 * @see {@link take}
 *
 * @throws {ArgumentOutOfRangeError} When using `elementAt(i)`, it delivers an
 * ArgumentOutOrRangeError to the Observer's `error` callback if `i < 0` or the
 * Observable has completed before emitting the i-th `next` notification.
 *
 * @param {number} index Is the number `i` for the i-th source emission that has
 * happened since the subscription, starting from the number `0`.
 * @param {T} [defaultValue] The default value returned for missing indices.
 * @return {Observable} An Observable that emits a single item, if it is found.
 * Otherwise, will emit the default value if given. If not, then emits an error.
 * @method elementAt
 * @owner Observable
 */
function r(t,e){return this.lift(new a(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),s=n(138);e.elementAt=r;var a=function(){function t(t,e){if(this.index=t,this.defaultValue=e,t<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.index,this.defaultValue))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.index=n,this.defaultValue=r}return i(e,t),e.prototype._next=function(t){0==this.index--&&(this.destination.next(t),this.destination.complete())},e.prototype._complete=function(){var t=this.destination;this.index>=0&&(void 0!==this.defaultValue?t.next(this.defaultValue):t.error(new s.ArgumentOutOfRangeError)),t.complete()},e}(o.Subscriber)},/* 1038 */
/***/
function(t,e,n){"use strict";/**
 * Converts a higher-order Observable into a first-order Observable by dropping
 * inner Observables while the previous inner Observable has not yet completed.
 *
 * <span class="informal">Flattens an Observable-of-Observables by dropping the
 * next inner Observables while the current inner is still executing.</span>
 *
 * <img src="./img/exhaust.png" width="100%">
 *
 * `exhaust` subscribes to an Observable that emits Observables, also known as a
 * higher-order Observable. Each time it observes one of these emitted inner
 * Observables, the output Observable begins emitting the items emitted by that
 * inner Observable. So far, it behaves like {@link mergeAll}. However,
 * `exhaust` ignores every new inner Observable if the previous Observable has
 * not yet completed. Once that one completes, it will accept and flatten the
 * next inner Observable and repeat this process.
 *
 * @example <caption>Run a finite timer for each click, only if there is no currently active timer</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000));
 * var result = higherOrder.exhaust();
 * result.subscribe(x => console.log(x));
 *
 * @see {@link combineAll}
 * @see {@link concatAll}
 * @see {@link switch}
 * @see {@link mergeAll}
 * @see {@link exhaustMap}
 * @see {@link zipAll}
 *
 * @return {Observable} Returns an Observable that takes a source of Observables
 * and propagates the first observable exclusively until it completes before
 * subscribing to the next.
 * @method exhaust
 * @owner Observable
 */
function r(){return this.lift(new a)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),s=n(8);e.exhaust=r;var a=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}(),u=function(t){function e(e){t.call(this,e),this.hasCompleted=!1,this.hasSubscription=!1}return i(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(s.subscribeToResult(this,t)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber)},/* 1039 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Projects each source value to an Observable which is merged in the output
 * Observable only if the previous projected Observable has completed.
 *
 * <span class="informal">Maps each value to an Observable, then flattens all of
 * these inner Observables using {@link exhaust}.</span>
 *
 * <img src="./img/exhaustMap.png" width="100%">
 *
 * Returns an Observable that emits items based on applying a function that you
 * supply to each item emitted by the source Observable, where that function
 * returns an (so-called "inner") Observable. When it projects a source value to
 * an Observable, the output Observable begins emitting the items emitted by
 * that projected Observable. However, `exhaustMap` ignores every new projected
 * Observable if the previous projected Observable has not yet completed. Once
 * that one completes, it will accept and flatten the next projected Observable
 * and repeat this process.
 *
 * @example <caption>Run a finite timer for each click, only if there is no currently active timer</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks.exhaustMap((ev) => Rx.Observable.interval(1000));
 * result.subscribe(x => console.log(x));
 *
 * @see {@link concatMap}
 * @see {@link exhaust}
 * @see {@link mergeMap}
 * @see {@link switchMap}
 *
 * @param {function(value: T, ?index: number): Observable} project A function
 * that, when applied to an item emitted by the source Observable, returns an
 * Observable.
 * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]
 * A function to produce the value on the output Observable based on the values
 * and the indices of the source (outer) emission and the inner Observable
 * emission. The arguments passed to this function are:
 * - `outerValue`: the value that came from the source
 * - `innerValue`: the value that came from the projected Observable
 * - `outerIndex`: the "index" of the value that came from the source
 * - `innerIndex`: the "index" of the value from the projected Observable
 * @return {Observable} An Observable containing projected Observables
 * of each item of the source, ignoring projected Observables that start before
 * their preceding Observable has completed.
 * @method exhaustMap
 * @owner Observable
 */
function r(t,e){return this.lift(new a(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),s=n(8);e.exhaustMap=r;var a=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.resultSelector))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.resultSelector=r,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return i(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e=this.index++,n=this.destination;try{var r=this.project(t,e);this.hasSubscription=!0,this.add(s.subscribeToResult(this,r,t,e))}catch(t){n.error(t)}},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this,s=o.resultSelector,a=o.destination;s?this.trySelectResult(t,e,n,r):a.next(e)},e.prototype.trySelectResult=function(t,e,n,r){var i=this,o=i.resultSelector,s=i.destination;try{var a=o(t,e,n,r);s.next(a)}catch(t){s.error(t)}},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(o.OuterSubscriber)},/* 1040 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Recursively projects each source value to an Observable which is merged in
 * the output Observable.
 *
 * <span class="informal">It's similar to {@link mergeMap}, but applies the
 * projection function to every source value as well as every output value.
 * It's recursive.</span>
 *
 * <img src="./img/expand.png" width="100%">
 *
 * Returns an Observable that emits items based on applying a function that you
 * supply to each item emitted by the source Observable, where that function
 * returns an Observable, and then merging those resulting Observables and
 * emitting the results of this merger. *Expand* will re-emit on the output
 * Observable every source value. Then, each output value is given to the
 * `project` function which returns an inner Observable to be merged on the
 * output Observable. Those output values resulting from the projection are also
 * given to the `project` function to produce new output values. This is how
 * *expand* behaves recursively.
 *
 * @example <caption>Start emitting the powers of two on every click, at most 10 of them</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var powersOfTwo = clicks
 *   .mapTo(1)
 *   .expand(x => Rx.Observable.of(2 * x).delay(1000))
 *   .take(10);
 * powersOfTwo.subscribe(x => console.log(x));
 *
 * @see {@link mergeMap}
 * @see {@link mergeScan}
 *
 * @param {function(value: T, index: number) => Observable} project A function
 * that, when applied to an item emitted by the source or the output Observable,
 * returns an Observable.
 * @param {number} [concurrent=Number.POSITIVE_INFINITY] Maximum number of input
 * Observables being subscribed to concurrently.
 * @param {Scheduler} [scheduler=null] The Scheduler to use for subscribing to
 * each projected inner Observable.
 * @return {Observable} An Observable that emits the source values and also
 * result of applying the projection function to each value emitted on the
 * output Observable and and merging the results of the Observables obtained
 * from this transformation.
 * @method expand
 * @owner Observable
 */
function r(t,e,n){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),e=(e||0)<1?Number.POSITIVE_INFINITY:e,this.lift(new c(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(28),s=n(24),a=n(7),u=n(8);e.expand=r;var c=function(){function t(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project,this.concurrent,this.scheduler))},t}();e.ExpandOperator=c;/**
 * We need this JSDoc comment for affecting ESDoc.
 * @ignore
 * @extends {Ignored}
 */
var l=function(t){function e(e,n,r,i){t.call(this,e),this.project=n,this.concurrent=r,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(this.buffer=[])}return i(e,t),e.dispatch=function(t){var e=t.subscriber,n=t.result,r=t.value,i=t.index;e.subscribeToProjection(n,r,i)},e.prototype._next=function(t){var n=this.destination;if(n.closed)return void this._complete();var r=this.index++;if(this.active<this.concurrent){n.next(t);var i=o.tryCatch(this.project)(t,r);if(i===s.errorObject)n.error(s.errorObject.e);else if(this.scheduler){var a={subscriber:this,result:i,value:t,index:r};this.add(this.scheduler.schedule(e.dispatch,0,a))}else this.subscribeToProjection(i,t,r)}else this.buffer.push(t)},e.prototype.subscribeToProjection=function(t,e,n){this.active++,this.add(u.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(a.OuterSubscriber);e.ExpandSubscriber=l},/* 1041 */
/***/
function(t,e,n){"use strict";/**
 * Returns an Observable that mirrors the source Observable, but will call a specified function when
 * the source terminates on complete or error.
 * @param {function} callback function to be called when source terminates.
 * @return {Observable} an Observable that mirrors the source, but will call the specified function on termination.
 * @method finally
 * @owner Observable
 */
function r(t){return this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),s=n(22);e._finally=r;var a=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.callback))},t}(),u=function(t){function e(e,n){t.call(this,e),this.add(new s.Subscription(n))}return i(e,t),e}(o.Subscriber)},/* 1042 */
/***/
function(t,e,n){"use strict";/**
 * Emits only the index of the first value emitted by the source Observable that
 * meets some condition.
 *
 * <span class="informal">It's like {@link find}, but emits the index of the
 * found value, not the value itself.</span>
 *
 * <img src="./img/findIndex.png" width="100%">
 *
 * `findIndex` searches for the first item in the source Observable that matches
 * the specified condition embodied by the `predicate`, and returns the
 * (zero-based) index of the first occurrence in the source. Unlike
 * {@link first}, the `predicate` is required in `findIndex`, and does not emit
 * an error if a valid value is not found.
 *
 * @example <caption>Emit the index of first click that happens on a DIV element</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks.findIndex(ev => ev.target.tagName === 'DIV');
 * result.subscribe(x => console.log(x));
 *
 * @see {@link filter}
 * @see {@link find}
 * @see {@link first}
 * @see {@link take}
 *
 * @param {function(value: T, index: number, source: Observable<T>): boolean} predicate
 * A function called with each item to test for condition matching.
 * @param {any} [thisArg] An optional argument to determine the value of `this`
 * in the `predicate` function.
 * @return {Observable} An Observable of the index of the first item that
 * matches the condition.
 * @method find
 * @owner Observable
 */
function r(t,e){return this.lift(new i.FindValueOperator(t,this,!0,e))}var i=n(302);e.findIndex=r},/* 1043 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Groups the items emitted by an Observable according to a specified criterion,
 * and emits these grouped items as `GroupedObservables`, one
 * {@link GroupedObservable} per group.
 *
 * <img src="./img/groupBy.png" width="100%">
 *
 * @param {function(value: T): K} keySelector a function that extracts the key
 * for each item.
 * @param {function(value: T): R} [elementSelector] a function that extracts the
 * return element for each item.
 * @param {function(grouped: GroupedObservable<K,R>): Observable<any>} [durationSelector]
 * a function that returns an Observable to determine how long each group should
 * exist.
 * @return {Observable<GroupedObservable<K,R>>} an Observable that emits
 * GroupedObservables, each of which corresponds to a unique key value and each
 * of which emits those items from the source Observable that share that key
 * value.
 * @method groupBy
 * @owner Observable
 */
function r(t,e,n,r){return this.lift(new f(t,e,n,r))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),s=n(22),a=n(0),u=n(17),c=n(1107),l=n(1105);e.groupBy=r;var f=function(){function t(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),p=function(t){function e(e,n,r,i,o){t.call(this,e),this.keySelector=n,this.elementSelector=r,this.durationSelector=i,this.subjectSelector=o,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return i(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var n=this.groups;n||(n=this.groups="string"==typeof e?new l.FastMap:new c.Map);var r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(t){this.error(t)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new u.Subject,n.set(e,i);var o=new d(e,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new d(e,i))}catch(t){return void this.error(t)}this.add(s.subscribe(new h(e,i,this)))}}i.closed||i.next(r)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,n){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||this.attemptedToUnsubscribe||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(o.Subscriber),h=function(t){function e(e,n,r){t.call(this),this.key=e,this.group=n,this.parent=r}return i(e,t),e.prototype._next=function(t){this._complete()},e.prototype._error=function(t){var e=this.group;e.closed||e.error(t),this.parent.removeGroup(this.key)},e.prototype._complete=function(){var t=this.group;t.closed||t.complete(),this.parent.removeGroup(this.key)},e}(o.Subscriber),d=function(t){function e(e,n,r){t.call(this),this.key=e,this.groupSubject=n,this.refCountSubscription=r}return i(e,t),e.prototype._subscribe=function(t){var e=new s.Subscription,n=this,r=n.refCountSubscription,i=n.groupSubject;return r&&!r.closed&&e.add(new m(r)),e.add(i.subscribe(t)),e},e}(a.Observable);e.GroupedObservable=d;/**
 * We need this JSDoc comment for affecting ESDoc.
 * @ignore
 * @extends {Ignored}
 */
var m=function(t){function e(e){t.call(this),this.parent=e,e.count++}return i(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(s.Subscription)},/* 1044 */
/***/
function(t,e,n){"use strict";/**
 * Ignores all items emitted by the source Observable and only passes calls of `complete` or `error`.
 *
 * <img src="./img/ignoreElements.png" width="100%">
 *
 * @return {Observable} an empty Observable that only calls `complete`
 * or `error`, based on which one is called by the source Observable.
 * @method ignoreElements
 * @owner Observable
 */
function r(){return this.lift(new a)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),s=n(322);e.ignoreElements=r;var a=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}(),u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype._next=function(t){s.noop()},e}(o.Subscriber)},/* 1045 */
/***/
function(t,e,n){"use strict";/**
 * If the source Observable is empty it returns an Observable that emits true, otherwise it emits false.
 *
 * <img src="./img/isEmpty.png" width="100%">
 *
 * @return {Observable} an Observable that emits a Boolean.
 * @method isEmpty
 * @owner Observable
 */
function r(){return this.lift(new s)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.isEmpty=r;var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){t.call(this,e)}return i(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(o.Subscriber)},/* 1046 */
/***/
function(t,e,n){"use strict";/**
 * @param func
 * @return {Observable<R>}
 * @method let
 * @owner Observable
 */
function r(t){return t(this)}e.letProto=r},/* 1047 */
/***/
function(t,e,n){"use strict";/**
 * Emits the given constant value on the output Observable every time the source
 * Observable emits a value.
 *
 * <span class="informal">Like {@link map}, but it maps every source value to
 * the same output value every time.</span>
 *
 * <img src="./img/mapTo.png" width="100%">
 *
 * Takes a constant `value` as argument, and emits that whenever the source
 * Observable emits a value. In other words, ignores the actual source value,
 * and simply uses the emission moment to know when to emit the given `value`.
 *
 * @example <caption>Map every every click to the string 'Hi'</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var greetings = clicks.mapTo('Hi');
 * greetings.subscribe(x => console.log(x));
 *
 * @see {@link map}
 *
 * @param {any} value The value to map each source value to.
 * @return {Observable} An Observable that emits the given `value` every time
 * the source Observable emits something.
 * @method mapTo
 * @owner Observable
 */
function r(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.mapTo=r;var s=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.value))},t}(),a=function(t){function e(e,n){t.call(this,e),this.value=n}return i(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(o.Subscriber)},/* 1048 */
/***/
function(t,e,n){"use strict";/**
 * Represents all of the notifications from the source Observable as `next`
 * emissions marked with their original types within {@link Notification}
 * objects.
 *
 * <span class="informal">Wraps `next`, `error` and `complete` emissions in
 * {@link Notification} objects, emitted as `next` on the output Observable.
 * </span>
 *
 * <img src="./img/materialize.png" width="100%">
 *
 * `materialize` returns an Observable that emits a `next` notification for each
 * `next`, `error`, or `complete` emission of the source Observable. When the
 * source Observable emits `complete`, the output Observable will emit `next` as
 * a Notification of type "complete", and then it will emit `complete` as well.
 * When the source Observable emits `error`, the output will emit `next` as a
 * Notification of type "error", and then `complete`.
 *
 * This operator is useful for producing metadata of the source Observable, to
 * be consumed as `next` emissions. Use it in conjunction with
 * {@link dematerialize}.
 *
 * @example <caption>Convert a faulty Observable to an Observable of Notifications</caption>
 * var letters = Rx.Observable.of('a', 'b', 13, 'd');
 * var upperCase = letters.map(x => x.toUpperCase());
 * var materialized = upperCase.materialize();
 * materialized.subscribe(x => console.log(x));
 *
 * // Results in the following:
 * // - Notification {kind: "N", value: "A", error: undefined, hasValue: true}
 * // - Notification {kind: "N", value: "B", error: undefined, hasValue: true}
 * // - Notification {kind: "E", value: undefined, error: TypeError:
 * //   x.toUpperCase is not a function at MapSubscriber.letters.map.x
 * //   [as project] (http://1, hasValue: false}
 *
 * @see {@link Notification}
 * @see {@link dematerialize}
 *
 * @return {Observable<Notification<T>>} An Observable that emits
 * {@link Notification} objects that wrap the original emissions from the source
 * Observable with metadata.
 * @method materialize
 * @owner Observable
 */
function r(){return this.lift(new a)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),s=n(101);e.materialize=r;var a=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}(),u=function(t){function e(e){t.call(this,e)}return i(e,t),e.prototype._next=function(t){this.destination.next(s.Notification.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(s.Notification.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(s.Notification.createComplete()),t.complete()},e}(o.Subscriber)},/* 1049 */
/***/
function(t,e,n){"use strict";/**
 * The Max operator operates on an Observable that emits numbers (or items that can be evaluated as numbers),
 * and when source Observable completes it emits a single item: the item with the largest number.
 *
 * <img src="./img/max.png" width="100%">
 *
 * @param {Function} optional comparer function that it will use instead of its default to compare the value of two
 * items.
 * @return {Observable} an Observable that emits item with the largest number.
 * @method max
 * @owner Observable
 */
function r(t){var e="function"==typeof t?function(e,n){return t(e,n)>0?e:n}:function(t,e){return t>e?t:e};return this.lift(new i.ReduceOperator(e))}var i=n(135);e.max=r},/* 1050 */
/***/
function(t,e,n){"use strict";/**
 * @param project
 * @param seed
 * @param concurrent
 * @return {Observable<R>|WebSocketSubject<T>|Observable<T>}
 * @method mergeScan
 * @owner Observable
 */
function r(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),this.lift(new c(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(28),s=n(24),a=n(8),u=n(7);e.mergeScan=r;var c=function(){function t(t,e,n){this.project=t,this.seed=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project,this.seed,this.concurrent))},t}();e.MergeScanOperator=c;/**
 * We need this JSDoc comment for affecting ESDoc.
 * @ignore
 * @extends {Ignored}
 */
var l=function(t){function e(e,n,r,i){t.call(this,e),this.project=n,this.acc=r,this.concurrent=i,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return i(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,n=o.tryCatch(this.project)(this.acc,t),r=this.destination;n===s.errorObject?r.error(s.errorObject.e):(this.active++,this._innerSub(n,t,e))}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,n){this.add(a.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.destination;this.acc=e,this.hasValue=!0,o.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(u.OuterSubscriber);e.MergeScanSubscriber=l},/* 1051 */
/***/
function(t,e,n){"use strict";/**
 * The Min operator operates on an Observable that emits numbers (or items that can be evaluated as numbers),
 * and when source Observable completes it emits a single item: the item with the smallest number.
 *
 * <img src="./img/min.png" width="100%">
 *
 * @param {Function} optional comparer function that it will use instead of its default to compare the value of two items.
 * @return {Observable<R>} an Observable that emits item with the smallest number.
 * @method min
 * @owner Observable
 */
function r(t){var e="function"==typeof t?function(e,n){return t(e,n)<0?e:n}:function(t,e){return t<e?t:e};return this.lift(new i.ReduceOperator(e))}var i=n(135);e.min=r},/* 1052 */
/***/
function(t,e,n){"use strict";/**
 * Groups pairs of consecutive emissions together and emits them as an array of
 * two values.
 *
 * <span class="informal">Puts the current value and previous value together as
 * an array, and emits that.</span>
 *
 * <img src="./img/pairwise.png" width="100%">
 *
 * The Nth emission from the source Observable will cause the output Observable
 * to emit an array [(N-1)th, Nth] of the previous and the current value, as a
 * pair. For this reason, `pairwise` emits on the second and subsequent
 * emissions from the source Observable, but not on the first emission, because
 * there is no previous value in that case.
 *
 * @example <caption>On every click (starting from the second), emit the relative distance to the previous click</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var pairs = clicks.pairwise();
 * var distance = pairs.map(pair => {
 *   var x0 = pair[0].clientX;
 *   var y0 = pair[0].clientY;
 *   var x1 = pair[1].clientX;
 *   var y1 = pair[1].clientY;
 *   return Math.sqrt(Math.pow(x0 - x1, 2) + Math.pow(y0 - y1, 2));
 * });
 * distance.subscribe(x => console.log(x));
 *
 * @see {@link buffer}
 * @see {@link bufferCount}
 *
 * @return {Observable<Array<T>>} An Observable of pairs (as arrays) of
 * consecutive values from the source Observable.
 * @method pairwise
 * @owner Observable
 */
function r(){return this.lift(new s)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.pairwise=r;var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){t.call(this,e),this.hasPrev=!1}return i(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t},e}(o.Subscriber)},/* 1053 */
/***/
function(t,e,n){"use strict";/**
 * Splits the source Observable into two, one with values that satisfy a
 * predicate, and another with values that don't satisfy the predicate.
 *
 * <span class="informal">It's like {@link filter}, but returns two Observables:
 * one like the output of {@link filter}, and the other with values that did not
 * pass the condition.</span>
 *
 * <img src="./img/partition.png" width="100%">
 *
 * `partition` outputs an array with two Observables that partition the values
 * from the source Observable through the given `predicate` function. The first
 * Observable in that array emits source values for which the predicate argument
 * returns true. The second Observable emits source values for which the
 * predicate returns false. The first behaves like {@link filter} and the second
 * behaves like {@link filter} with the predicate negated.
 *
 * @example <caption>Partition click events into those on DIV elements and those elsewhere</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var parts = clicks.partition(ev => ev.target.tagName === 'DIV');
 * var clicksOnDivs = parts[0];
 * var clicksElsewhere = parts[1];
 * clicksOnDivs.subscribe(x => console.log('DIV clicked: ', x));
 * clicksElsewhere.subscribe(x => console.log('Other clicked: ', x));
 *
 * @see {@link filter}
 *
 * @param {function(value: T, index: number): boolean} predicate A function that
 * evaluates each value emitted by the source Observable. If it returns `true`,
 * the value is emitted on the first Observable in the returned array, if
 * `false` the value is emitted on the second Observable in the array. The
 * `index` parameter is the number `i` for the i-th source emission that has
 * happened since the subscription, starting from the number `0`.
 * @param {any} [thisArg] An optional argument to determine the value of `this`
 * in the `predicate` function.
 * @return {[Observable<T>, Observable<T>]} An array with two Observables: one
 * with values that passed the predicate, and another with values that did not
 * pass the predicate.
 * @method partition
 * @owner Observable
 */
function r(t,e){return[o.filter.call(this,t,e),o.filter.call(this,i.not(t,e))]}var i=n(1111),o=n(183);e.partition=r},/* 1054 */
/***/
function(t,e,n){"use strict";/**
 * Maps each source value (an object) to its specified nested property.
 *
 * <span class="informal">Like {@link map}, but meant only for picking one of
 * the nested properties of every emitted object.</span>
 *
 * <img src="./img/pluck.png" width="100%">
 *
 * Given a list of strings describing a path to an object property, retrieves
 * the value of a specified nested property from all values in the source
 * Observable. If a property can't be resolved, it will return `undefined` for
 * that value.
 *
 * @example <caption>Map every every click to the tagName of the clicked target element</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var tagNames = clicks.pluck('target', 'tagName');
 * tagNames.subscribe(x => console.log(x));
 *
 * @see {@link map}
 *
 * @param {...string} properties The nested properties to pluck from each source
 * value (an object).
 * @return {Observable} Returns a new Observable of property values from the
 * source values.
 * @method pluck
 * @owner Observable
 */
function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t.length;if(0===n)throw new Error("list of properties cannot be empty.");return o.map.call(this,i(t,n))}function i(t,e){return function(n){for(var r=n,i=0;i<e;i++){var o=r[t[i]];if(void 0===o)return;r=o}return r}}var o=n(102);e.pluck=r},/* 1055 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Returns a ConnectableObservable, which is a variety of Observable that waits until its connect method is called
 * before it begins emitting items to those Observers that have subscribed to it.
 *
 * <img src="./img/publish.png" width="100%">
 *
 * @param {Function} Optional selector function which can use the multicasted source sequence as many times as needed,
 * without causing multiple subscriptions to the source sequence.
 * Subscribers to the given source will receive all notifications of the source from the time of the subscription on.
 * @return a ConnectableObservable that upon connection causes the source Observable to emit items to its Observers.
 * @method publish
 * @owner Observable
 */
function r(t){return t?o.multicast.call(this,function(){return new i.Subject},t):o.multicast.call(this,new i.Subject)}var i=n(17),o=n(86);e.publish=r},/* 1056 */
/***/
function(t,e,n){"use strict";/**
 * @param value
 * @return {ConnectableObservable<T>}
 * @method publishBehavior
 * @owner Observable
 */
function r(t){return o.multicast.call(this,new i.BehaviorSubject(t))}var i=n(177),o=n(86);e.publishBehavior=r},/* 1057 */
/***/
function(t,e,n){"use strict";/**
 * @return {ConnectableObservable<T>}
 * @method publishLast
 * @owner Observable
 */
function r(){return o.multicast.call(this,new i.AsyncSubject)}var i=n(134),o=n(86);e.publishLast=r},/* 1058 */
/***/
function(t,e,n){"use strict";/**
 * @param bufferSize
 * @param windowTime
 * @param scheduler
 * @return {ConnectableObservable<T>}
 * @method publishReplay
 * @owner Observable
 */
function r(t,e,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===e&&(e=Number.POSITIVE_INFINITY),o.multicast.call(this,new i.ReplaySubject(t,e,n))}var i=n(178),o=n(86);e.publishReplay=r},/* 1059 */
/***/
function(t,e,n){"use strict";/**
 * Returns an Observable that repeats the stream of items emitted by the source Observable at most count times,
 * on a particular Scheduler.
 *
 * <img src="./img/repeat.png" width="100%">
 *
 * @param {Scheduler} [scheduler] the Scheduler to emit the items on.
 * @param {number} [count] the number of times the source Observable items are repeated, a count of 0 will yield
 * an empty Observable.
 * @return {Observable} an Observable that repeats the stream of items emitted by the source Observable at most
 * count times.
 * @method repeat
 * @owner Observable
 */
function r(t){return void 0===t&&(t=-1),0===t?new s.EmptyObservable:t<0?this.lift(new a(-1,this)):this.lift(new a(t-1,this))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),s=n(63);e.repeat=r;var a=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.count,this.source))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.count=n,this.source=r}return i(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this,n=e.source,r=e.count;if(0===r)return t.prototype.complete.call(this);r>-1&&(this.count=r-1),this.unsubscribe(),this.isStopped=!1,this.closed=!1,n.subscribe(this)}},e}(o.Subscriber)},/* 1060 */
/***/
function(t,e,n){"use strict";/**
 * Returns an Observable that emits the same values as the source observable with the exception of a `complete`.
 * A `complete` will cause the emission of the Throwable that cause the complete to the Observable returned from
 * notificationHandler. If that Observable calls onComplete or `complete` then retry will call `complete` or `error`
 * on the child subscription. Otherwise, this Observable will resubscribe to the source observable, on a particular
 * Scheduler.
 *
 * <img src="./img/repeatWhen.png" width="100%">
 *
 * @param {notificationHandler} receives an Observable of notifications with which a user can `complete` or `error`,
 * aborting the retry.
 * @param {scheduler} the Scheduler on which to subscribe to the source Observable.
 * @return {Observable} the source Observable modified with retry logic.
 * @method repeatWhen
 * @owner Observable
 */
function r(t){return this.lift(new l(t,this))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(17),s=n(28),a=n(24),u=n(7),c=n(8);e.repeatWhen=r;var l=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.notifier,this.source))},t}(),f=function(t){function e(e,n,r){t.call(this,e),this.notifier=n,this.source=r}return i(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this.notifications,n=this.retries,r=this.retriesSubscription;if(n)this.notifications=null,this.retriesSubscription=null;else{if(e=new o.Subject,(n=s.tryCatch(this.notifier)(e))===a.errorObject)return t.prototype.complete.call(this);r=c.subscribeToResult(this,n)}this.unsubscribe(),this.closed=!1,this.notifications=e,this.retries=n,this.retriesSubscription=r,e.next()}},e.prototype._unsubscribe=function(){var t=this,e=t.notifications,n=t.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),n&&(n.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,n,r,i){var o=this,s=o.notifications,a=o.retries,u=o.retriesSubscription;this.notifications=null,this.retries=null,this.retriesSubscription=null,this.unsubscribe(),this.isStopped=!1,this.closed=!1,this.notifications=s,this.retries=a,this.retriesSubscription=u,this.source.subscribe(this)},e}(u.OuterSubscriber)},/* 1061 */
/***/
function(t,e,n){"use strict";/**
 * Returns an Observable that mirrors the source Observable, resubscribing to it if it calls `error` and the
 * predicate returns true for that specific exception and retry count.
 * If the source Observable calls `error`, this method will resubscribe to the source Observable for a maximum of
 * count resubscriptions (given as a number parameter) rather than propagating the `error` call.
 *
 * <img src="./img/retry.png" width="100%">
 *
 * Any and all items emitted by the source Observable will be emitted by the resulting Observable, even those emitted
 * during failed subscriptions. For example, if an Observable fails at first but emits [1, 2] then succeeds the second
 * time and emits: [1, 2, 3, 4, 5] then the complete stream of emissions and notifications
 * would be: [1, 2, 1, 2, 3, 4, 5, `complete`].
 * @param {number} number of retry attempts before failing.
 * @return {Observable} the source Observable modified with the retry logic.
 * @method retry
 * @owner Observable
 */
function r(t){return void 0===t&&(t=-1),this.lift(new s(t,this))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.retry=r;var s=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.count,this.source))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.count=n,this.source=r}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this,r=n.source,i=n.count;if(0===i)return t.prototype.error.call(this,e);i>-1&&(this.count=i-1),this.unsubscribe(),this.isStopped=!1,this.closed=!1,r.subscribe(this)}},e}(o.Subscriber)},/* 1062 */
/***/
function(t,e,n){"use strict";/**
 * Returns an Observable that emits the same values as the source observable with the exception of an `error`.
 * An `error` will cause the emission of the Throwable that cause the error to the Observable returned from
 * notificationHandler. If that Observable calls onComplete or `error` then retry will call `complete` or `error`
 * on the child subscription. Otherwise, this Observable will resubscribe to the source observable, on a particular
 * Scheduler.
 *
 * <img src="./img/retryWhen.png" width="100%">
 *
 * @param {notificationHandler} receives an Observable of notifications with which a user can `complete` or `error`,
 * aborting the retry.
 * @param {scheduler} the Scheduler on which to subscribe to the source Observable.
 * @return {Observable} the source Observable modified with retry logic.
 * @method retryWhen
 * @owner Observable
 */
function r(t){return this.lift(new l(t,this))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(17),s=n(28),a=n(24),u=n(7),c=n(8);e.retryWhen=r;var l=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.notifier,this.source))},t}(),f=function(t){function e(e,n,r){t.call(this,e),this.notifier=n,this.source=r}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.errors,r=this.retries,i=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{if(n=new o.Subject,(r=s.tryCatch(this.notifier)(n))===a.errorObject)return t.prototype.error.call(this,a.errorObject.e);i=c.subscribeToResult(this,r)}this.unsubscribe(),this.closed=!1,this.errors=n,this.retries=r,this.retriesSubscription=i,n.next(e)}},e.prototype._unsubscribe=function(){var t=this,e=t.errors,n=t.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),n&&(n.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,n,r,i){var o=this,s=o.errors,a=o.retries,u=o.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this.unsubscribe(),this.isStopped=!1,this.closed=!1,this.errors=s,this.retries=a,this.retriesSubscription=u,this.source.subscribe(this)},e}(u.OuterSubscriber)},/* 1063 */
/***/
function(t,e,n){"use strict";/**
 * Emits the most recently emitted value from the source Observable whenever
 * another Observable, the `notifier`, emits.
 *
 * <span class="informal">It's like {@link sampleTime}, but samples whenever
 * the `notifier` Observable emits something.</span>
 *
 * <img src="./img/sample.png" width="100%">
 *
 * Whenever the `notifier` Observable emits a value or completes, `sample`
 * looks at the source Observable and emits whichever value it has most recently
 * emitted since the previous sampling, unless the source has not emitted
 * anything since the previous sampling. The `notifier` is subscribed to as soon
 * as the output Observable is subscribed.
 *
 * @example <caption>On every click, sample the most recent "seconds" timer</caption>
 * var seconds = Rx.Observable.interval(1000);
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = seconds.sample(clicks);
 * result.subscribe(x => console.log(x));
 *
 * @see {@link audit}
 * @see {@link debounce}
 * @see {@link sampleTime}
 * @see {@link throttle}
 *
 * @param {Observable<any>} notifier The Observable to use for sampling the
 * source Observable.
 * @return {Observable<T>} An Observable that emits the results of sampling the
 * values emitted by the source Observable whenever the notifier Observable
 * emits value or completes.
 * @method sample
 * @owner Observable
 */
function r(t){return this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),s=n(8);e.sample=r;var a=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new u(t),r=e.subscribe(n);return r.add(s.subscribeToResult(n,this.notifier)),r},t}(),u=function(t){function e(){t.apply(this,arguments),this.hasValue=!1}return i(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,n,r,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(o.OuterSubscriber)},/* 1064 */
/***/
function(t,e,n){"use strict";/**
 * Emits the most recently emitted value from the source Observable within
 * periodic time intervals.
 *
 * <span class="informal">Samples the source Observable at periodic time
 * intervals, emitting what it samples.</span>
 *
 * <img src="./img/sampleTime.png" width="100%">
 *
 * `sampleTime` periodically looks at the source Observable and emits whichever
 * value it has most recently emitted since the previous sampling, unless the
 * source has not emitted anything since the previous sampling. The sampling
 * happens periodically in time every `period` milliseconds (or the time unit
 * defined by the optional `scheduler` argument). The sampling starts as soon as
 * the output Observable is subscribed.
 *
 * @example <caption>Every second, emit the most recent click at most once</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks.sampleTime(1000);
 * result.subscribe(x => console.log(x));
 *
 * @see {@link auditTime}
 * @see {@link debounceTime}
 * @see {@link delay}
 * @see {@link sample}
 * @see {@link throttleTime}
 *
 * @param {number} period The sampling period expressed in milliseconds or the
 * time unit determined internally by the optional `scheduler`.
 * @param {Scheduler} [scheduler=async] The {@link Scheduler} to use for
 * managing the timers that handle the sampling.
 * @return {Observable<T>} An Observable that emits the results of sampling the
 * values emitted by the source Observable at the specified time interval.
 * @method sampleTime
 * @owner Observable
 */
function r(t,e){return void 0===e&&(e=a.async),this.lift(new u(t,e))}function i(t){var e=t.subscriber,n=t.period;e.notifyNext(),this.schedule(t,n)}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n(4),a=n(35);e.sampleTime=r;var u=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.period,this.scheduler))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.period=n,this.scheduler=r,this.hasValue=!1,this.add(r.schedule(i,n,{subscriber:this,period:n}))}return o(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(s.Subscriber)},/* 1065 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Applies an accumulator function over the source Observable, and returns each
 * intermediate result, with an optional seed value.
 *
 * <span class="informal">It's like {@link reduce}, but emits the current
 * accumulation whenever the source emits a value.</span>
 *
 * <img src="./img/scan.png" width="100%">
 *
 * Combines together all values emitted on the source, using an accumulator
 * function that knows how to join a new source value into the accumulation from
 * the past. Is similar to {@link reduce}, but emits the intermediate
 * accumulations.
 *
 * Returns an Observable that applies a specified `accumulator` function to each
 * item emitted by the source Observable. If a `seed` value is specified, then
 * that value will be used as the initial value for the accumulator. If no seed
 * value is specified, the first item of the source is used as the seed.
 *
 * @example <caption>Count the number of click events</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var ones = clicks.mapTo(1);
 * var seed = 0;
 * var count = ones.scan((acc, one) => acc + one, seed);
 * count.subscribe(x => console.log(x));
 *
 * @see {@link expand}
 * @see {@link mergeScan}
 * @see {@link reduce}
 *
 * @param {function(acc: R, value: T, index: number): R} accumulator
 * The accumulator function called on each source value.
 * @param {T|R} [seed] The initial accumulation value.
 * @return {Observable<R>} An observable of the accumulated values.
 * @method scan
 * @owner Observable
 */
function r(t,e){var n=!1;
// providing a seed of `undefined` *should* be valid and trigger
// hasSeed! so don't use `seed !== undefined` checks!
// For this reason, we have to check it here at the original call site
// otherwise inside Operator/Subscriber we won't know if `undefined`
// means they didn't provide anything or if they literally provided `undefined`
return arguments.length>=2&&(n=!0),this.lift(new s(t,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.scan=r;var s=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.hasSeed))},t}(),a=function(t){function e(e,n,r,i){t.call(this,e),this.accumulator=n,this._seed=r,this.hasSeed=i,this.index=0}return i(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(o.Subscriber)},/* 1066 */
/***/
function(t,e,n){"use strict";/**
 * Compares all values of two observables in sequence using an optional comparor function
 * and returns an observable of a single boolean value representing whether or not the two sequences
 * are equal.
 *
 * <span class="informal">Checks to see of all values emitted by both observables are equal, in order.</span>
 *
 * <img src="./img/sequenceEqual.png" width="100%">
 *
 * `sequenceEqual` subscribes to two observables and buffers incoming values from each observable. Whenever either
 * observable emits a value, the value is buffered and the buffers are shifted and compared from the bottom
 * up; If any value pair doesn't match, the returned observable will emit `false` and complete. If one of the
 * observables completes, the operator will wait for the other observable to complete; If the other
 * observable emits before completing, the returned observable will emit `false` and complete. If one observable never
 * completes or emits after the other complets, the returned observable will never complete.
 *
 * @example <caption>figure out if the Konami code matches</caption>
 * var code = Rx.Observable.from([
 *  "ArrowUp",
 *  "ArrowUp",
 *  "ArrowDown",
 *  "ArrowDown",
 *  "ArrowLeft",
 *  "ArrowRight",
 *  "ArrowLeft",
 *  "ArrowRight",
 *  "KeyB",
 *  "KeyA",
 *  "Enter" // no start key, clearly.
 * ]);
 *
 * var keys = Rx.Observable.fromEvent(document, 'keyup')
 *  .map(e => e.code);
 * var matches = keys.bufferCount(11, 1)
 *  .mergeMap(
 *    last11 =>
 *      Rx.Observable.from(last11)
 *        .sequenceEqual(code)
 *   );
 * matches.subscribe(matched => console.log('Successful cheat at Contra? ', matched));
 *
 * @see {@link combineLatest}
 * @see {@link zip}
 * @see {@link withLatestFrom}
 *
 * @param {Observable} compareTo the observable sequence to compare the source sequence to.
 * @param {function} [comparor] An optional function to compare each value pair
 * @return {Observable} An Observable of a single boolean value representing whether or not
 * the values emitted by both observables were equal in sequence
 * @method sequenceEqual
 * @owner Observable
 */
function r(t,e){return this.lift(new u(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),s=n(28),a=n(24);e.sequenceEqual=r;var u=function(){function t(t,e){this.compareTo=t,this.comparor=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.compareTo,this.comparor))},t}();e.SequenceEqualOperator=u;/**
 * We need this JSDoc comment for affecting ESDoc.
 * @ignore
 * @extends {Ignored}
 */
var c=function(t){function e(e,n,r){t.call(this,e),this.compareTo=n,this.comparor=r,this._a=[],this._b=[],this._oneComplete=!1,this.add(n.subscribe(new l(e,this)))}return i(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e.prototype.checkValues=function(){for(var t=this,e=t._a,n=t._b,r=t.comparor;e.length>0&&n.length>0;){var i=e.shift(),o=n.shift(),u=!1;r?(u=s.tryCatch(r)(i,o))===a.errorObject&&this.destination.error(a.errorObject.e):u=i===o,u||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},e}(o.Subscriber);e.SequenceEqualSubscriber=c;var l=function(t){function e(e,n){t.call(this,e),this.parent=n}return i(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t)},e.prototype._complete=function(){this.parent._complete()},e}(o.Subscriber)},/* 1067 */
/***/
function(t,e,n){"use strict";/**
 * Returns an Observable that emits the single item emitted by the source Observable that matches a specified
 * predicate, if that Observable emits one such item. If the source Observable emits more than one such item or no
 * such items, notify of an IllegalArgumentException or NoSuchElementException respectively.
 *
 * <img src="./img/single.png" width="100%">
 *
 * @throws {EmptyError} Delivers an EmptyError to the Observer's `error`
 * callback if the Observable completes before any `next` notification was sent.
 * @param {Function} a predicate function to evaluate items emitted by the source Observable.
 * @return {Observable<T>} an Observable that emits the single item emitted by the source Observable that matches
 * the predicate.
 .
 * @method single
 * @owner Observable
 */
function r(t){return this.lift(new a(t,this))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),s=n(107);e.single=r;var a=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.source))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.source=r,this.seenValue=!1,this.index=0}return i(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.predicate;this.index++,e?this.tryNext(t):this.applySingleValue(t)},e.prototype.tryNext=function(t){try{this.predicate(t,this.index,this.source)&&this.applySingleValue(t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new s.EmptyError)},e}(o.Subscriber)},/* 1068 */
/***/
function(t,e,n){"use strict";/**
 * Returns an Observable that skips `n` items emitted by an Observable.
 *
 * <img src="./img/skip.png" width="100%">
 *
 * @param {Number} the `n` of times, items emitted by source Observable should be skipped.
 * @return {Observable} an Observable that skips values emitted by the source Observable.
 *
 * @method skip
 * @owner Observable
 */
function r(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.skip=r;var s=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.total))},t}(),a=function(t){function e(e,n){t.call(this,e),this.total=n,this.count=0}return i(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(o.Subscriber)},/* 1069 */
/***/
function(t,e,n){"use strict";/**
 * Returns an Observable that skips items emitted by the source Observable until a second Observable emits an item.
 *
 * <img src="./img/skipUntil.png" width="100%">
 *
 * @param {Observable} the second Observable that has to emit an item before the source Observable's elements begin to
 * be mirrored by the resulting Observable.
 * @return {Observable<T>} an Observable that skips items from the source Observable until the second Observable emits
 * an item, then emits the remaining items.
 * @method skipUntil
 * @owner Observable
 */
function r(t){return this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),s=n(8);e.skipUntil=r;var a=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.notifier))},t}(),u=function(t){function e(e,n){t.call(this,e),this.hasValue=!1,this.isInnerStopped=!1,this.add(s.subscribeToResult(this,n))}return i(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype._complete=function(){this.isInnerStopped?t.prototype._complete.call(this):this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.hasValue=!0},e.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&t.prototype._complete.call(this)},e}(o.OuterSubscriber)},/* 1070 */
/***/
function(t,e,n){"use strict";/**
 * Returns an Observable that skips all items emitted by the source Observable as long as a specified condition holds
 * true, but emits all further source items as soon as the condition becomes false.
 *
 * <img src="./img/skipWhile.png" width="100%">
 *
 * @param {Function} predicate - a function to test each item emitted from the source Observable.
 * @return {Observable<T>} an Observable that begins emitting items emitted by the source Observable when the
 * specified predicate becomes false.
 * @method skipWhile
 * @owner Observable
 */
function r(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.skipWhile=r;var s=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate))},t}(),a=function(t){function e(e,n){t.call(this,e),this.predicate=n,this.skipping=!0,this.index=0}return i(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(o.Subscriber)},/* 1071 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Returns an Observable that emits the items in a specified Iterable before it begins to emit items emitted by the
 * source Observable.
 *
 * <img src="./img/startWith.png" width="100%">
 *
 * @param {Values} an Iterable that contains the items you want the modified Observable to emit first.
 * @return {Observable} an Observable that emits the items in the specified Iterable and then emits the items
 * emitted by the source Observable.
 * @method startWith
 * @owner Observable
 */
function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t[t.length-1];u.isScheduler(n)?t.pop():n=null;var r=t.length;return 1===r?a.concatStatic(new o.ScalarObservable(t[0],n),this):r>1?a.concatStatic(new i.ArrayObservable(t,n),this):a.concatStatic(new s.EmptyObservable(n),this)}var i=n(57),o=n(179),s=n(63),a=n(182),u=n(64);e.startWith=r},/* 1072 */
/***/
function(t,e,n){"use strict";/**
 * Asynchronously subscribes Observers to this Observable on the specified Scheduler.
 *
 * <img src="./img/subscribeOn.png" width="100%">
 *
 * @param {Scheduler} the Scheduler to perform subscription actions on.
 * @return {Observable<T>} the source Observable modified so that its subscriptions happen on the specified Scheduler
 .
 * @method subscribeOn
 * @owner Observable
 */
function r(t,e){return void 0===e&&(e=0),this.lift(new o(t,e))}var i=n(995);e.subscribeOn=r;var o=function(){function t(t,e){this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return new i.SubscribeOnObservable(e,this.delay,this.scheduler).subscribe(t)},t}()},/* 1073 */
/***/
function(t,e,n){"use strict";/**
 * Converts a higher-order Observable into a first-order Observable by
 * subscribing to only the most recently emitted of those inner Observables.
 *
 * <span class="informal">Flattens an Observable-of-Observables by dropping the
 * previous inner Observable once a new one appears.</span>
 *
 * <img src="./img/switch.png" width="100%">
 *
 * `switch` subscribes to an Observable that emits Observables, also known as a
 * higher-order Observable. Each time it observes one of these emitted inner
 * Observables, the output Observable subscribes to the inner Observable and
 * begins emitting the items emitted by that. So far, it behaves
 * like {@link mergeAll}. However, when a new inner Observable is emitted,
 * `switch` unsubscribes from the earlier-emitted inner Observable and
 * subscribes to the new inner Observable and begins emitting items from it. It
 * continues to behave like this for subsequent inner Observables.
 *
 * @example <caption>Rerun an interval Observable on every click event</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * // Each click event is mapped to an Observable that ticks every second
 * var higherOrder = clicks.map((ev) => Rx.Observable.interval(1000));
 * var switched = higherOrder.switch();
 * // The outcome is that `switched` is essentially a timer that restarts
 * // on every click. The interval Observables from older clicks do not merge
 * // with the current interval Observable.
 * switched.subscribe(x => console.log(x));
 *
 * @see {@link combineAll}
 * @see {@link concatAll}
 * @see {@link exhaust}
 * @see {@link mergeAll}
 * @see {@link switchMap}
 * @see {@link switchMapTo}
 * @see {@link zipAll}
 *
 * @return {Observable<T>} An Observable that emits the items emitted by the
 * Observable most recently emitted by the source Observable.
 * @method switch
 * @name switch
 * @owner Observable
 */
function r(){return this.lift(new a)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),s=n(8);e._switch=r;var a=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}(),u=function(t){function e(e){t.call(this,e),this.active=0,this.hasCompleted=!1}return i(e,t),e.prototype._next=function(t){this.unsubscribeInner(),this.active++,this.add(this.innerSubscription=s.subscribeToResult(this,t))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&this.destination.complete()},e.prototype.unsubscribeInner=function(){this.active=this.active>0?this.active-1:0;var t=this.innerSubscription;t&&(t.unsubscribe(),this.remove(t))},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.unsubscribeInner(),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(o.OuterSubscriber)},/* 1074 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Projects each source value to an Observable which is merged in the output
 * Observable, emitting values only from the most recently projected Observable.
 *
 * <span class="informal">Maps each value to an Observable, then flattens all of
 * these inner Observables using {@link switch}.</span>
 *
 * <img src="./img/switchMap.png" width="100%">
 *
 * Returns an Observable that emits items based on applying a function that you
 * supply to each item emitted by the source Observable, where that function
 * returns an (so-called "inner") Observable. Each time it observes one of these
 * inner Observables, the output Observable begins emitting the items emitted by
 * that inner Observable. When a new inner Observable is emitted, `switchMap`
 * stops emitting items from the earlier-emitted inner Observable and begins
 * emitting items from the new one. It continues to behave like this for
 * subsequent inner Observables.
 *
 * @example <caption>Rerun an interval Observable on every click event</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks.switchMap((ev) => Rx.Observable.interval(1000));
 * result.subscribe(x => console.log(x));
 *
 * @see {@link concatMap}
 * @see {@link exhaustMap}
 * @see {@link mergeMap}
 * @see {@link switch}
 * @see {@link switchMapTo}
 *
 * @param {function(value: T, ?index: number): Observable} project A function
 * that, when applied to an item emitted by the source Observable, returns an
 * Observable.
 * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]
 * A function to produce the value on the output Observable based on the values
 * and the indices of the source (outer) emission and the inner Observable
 * emission. The arguments passed to this function are:
 * - `outerValue`: the value that came from the source
 * - `innerValue`: the value that came from the projected Observable
 * - `outerIndex`: the "index" of the value that came from the source
 * - `innerIndex`: the "index" of the value from the projected Observable
 * @return {Observable} An Observable that emits the result of applying the
 * projection function (and the optional `resultSelector`) to each item emitted
 * by the source Observable and taking only the values from the most recently
 * projected inner Observable.
 * @method switchMap
 * @owner Observable
 */
function r(t,e){return this.lift(new a(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),s=n(8);e.switchMap=r;var a=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.resultSelector))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.resultSelector=r,this.index=0}return i(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=s.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._tryNotifyNext(t,e,n,r):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e}(o.OuterSubscriber)},/* 1075 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Projects each source value to the same Observable which is flattened multiple
 * times with {@link switch} in the output Observable.
 *
 * <span class="informal">It's like {@link switchMap}, but maps each value
 * always to the same inner Observable.</span>
 *
 * <img src="./img/switchMapTo.png" width="100%">
 *
 * Maps each source value to the given Observable `innerObservable` regardless
 * of the source value, and then flattens those resulting Observables into one
 * single Observable, which is the output Observable. The output Observables
 * emits values only from the most recently emitted instance of
 * `innerObservable`.
 *
 * @example <caption>Rerun an interval Observable on every click event</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks.switchMapTo(Rx.Observable.interval(1000));
 * result.subscribe(x => console.log(x));
 *
 * @see {@link concatMapTo}
 * @see {@link switch}
 * @see {@link switchMap}
 * @see {@link mergeMapTo}
 *
 * @param {Observable} innerObservable An Observable to replace each value from
 * the source Observable.
 * @param {function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any} [resultSelector]
 * A function to produce the value on the output Observable based on the values
 * and the indices of the source (outer) emission and the inner Observable
 * emission. The arguments passed to this function are:
 * - `outerValue`: the value that came from the source
 * - `innerValue`: the value that came from the projected Observable
 * - `outerIndex`: the "index" of the value that came from the source
 * - `innerIndex`: the "index" of the value from the projected Observable
 * @return {Observable} An Observable that emits items from the given
 * `innerObservable` every time a value is emitted on the source Observable.
 * @return {Observable} An Observable that emits items from the given
 * `innerObservable` (and optionally transformed through `resultSelector`) every
 * time a value is emitted on the source Observable, and taking only the values
 * from the most recently projected inner Observable.
 * @method switchMapTo
 * @owner Observable
 */
function r(t,e){return this.lift(new a(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),s=n(8);e.switchMapTo=r;var a=function(){function t(t,e){this.observable=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.observable,this.resultSelector))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.inner=n,this.resultSelector=r,this.index=0}return i(e,t),e.prototype._next=function(t){var e=this.innerSubscription;e&&e.unsubscribe(),this.add(this.innerSubscription=s.subscribeToResult(this,this.inner,t,this.index++))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){var o=this,s=o.resultSelector,a=o.destination;s?this.tryResultSelector(t,e,n,r):a.next(e)},e.prototype.tryResultSelector=function(t,e,n,r){var i,o=this,s=o.resultSelector,a=o.destination;try{i=s(t,e,n,r)}catch(t){return void a.error(t)}a.next(i)},e}(o.OuterSubscriber)},/* 1076 */
/***/
function(t,e,n){"use strict";/**
 * Emits only the first `count` values emitted by the source Observable.
 *
 * <span class="informal">Takes the first `count` values from the source, then
 * completes.</span>
 *
 * <img src="./img/take.png" width="100%">
 *
 * `take` returns an Observable that emits only the first `count` values emitted
 * by the source Observable. If the source emits fewer than `count` values then
 * all of its values are emitted. After that, it completes, regardless if the
 * source completes.
 *
 * @example <caption>Take the first 5 seconds of an infinite 1-second interval Observable</caption>
 * var interval = Rx.Observable.interval(1000);
 * var five = interval.take(5);
 * five.subscribe(x => console.log(x));
 *
 * @see {@link takeLast}
 * @see {@link takeUntil}
 * @see {@link takeWhile}
 * @see {@link skip}
 *
 * @throws {ArgumentOutOfRangeError} When using `take(i)`, it delivers an
 * ArgumentOutOrRangeError to the Observer's `error` callback if `i < 0`.
 *
 * @param {number} count The maximum number of `next` values to emit.
 * @return {Observable<T>} An Observable that emits only the first `count`
 * values emitted by the source Observable, or all of the values from the source
 * if the source emits fewer than `count` values.
 * @method take
 * @owner Observable
 */
function r(t){return 0===t?new a.EmptyObservable:this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),s=n(138),a=n(63);e.take=r;var u=function(){function t(t){if(this.total=t,this.total<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,n){t.call(this,e),this.total=n,this.count=0}return i(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(o.Subscriber)},/* 1077 */
/***/
function(t,e,n){"use strict";/**
 * Emits only the last `count` values emitted by the source Observable.
 *
 * <span class="informal">Remembers the latest `count` values, then emits those
 * only when the source completes.</span>
 *
 * <img src="./img/takeLast.png" width="100%">
 *
 * `takeLast` returns an Observable that emits at most the last `count` values
 * emitted by the source Observable. If the source emits fewer than `count`
 * values then all of its values are emitted. This operator must wait until the
 * `complete` notification emission from the source in order to emit the `next`
 * values on the output Observable, because otherwise it is impossible to know
 * whether or not more values will be emitted on the source. For this reason,
 * all values are emitted synchronously, followed by the complete notification.
 *
 * @example <caption>Take the last 3 values of an Observable with many values</caption>
 * var many = Rx.Observable.range(1, 100);
 * var lastThree = many.takeLast(3);
 * lastThree.subscribe(x => console.log(x));
 *
 * @see {@link take}
 * @see {@link takeUntil}
 * @see {@link takeWhile}
 * @see {@link skip}
 *
 * @throws {ArgumentOutOfRangeError} When using `takeLast(i)`, it delivers an
 * ArgumentOutOrRangeError to the Observer's `error` callback if `i < 0`.
 *
 * @param {number} count The maximum number of values to emit from the end of
 * the sequence of values emitted by the source Observable.
 * @return {Observable<T>} An Observable that emits at most the last count
 * values emitted by the source Observable.
 * @method takeLast
 * @owner Observable
 */
function r(t){return 0===t?new a.EmptyObservable:this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),s=n(138),a=n(63);e.takeLast=r;var u=function(){function t(t){if(this.total=t,this.total<0)throw new s.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,n){t.call(this,e),this.total=n,this.ring=new Array,this.count=0}return i(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;if(e.length<n)e.push(t);else{e[r%n]=t}},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(o.Subscriber)},/* 1078 */
/***/
function(t,e,n){"use strict";/**
 * Emits the values emitted by the source Observable until a `notifier`
 * Observable emits a value.
 *
 * <span class="informal">Lets values pass until a second Observable,
 * `notifier`, emits something. Then, it completes.</span>
 *
 * <img src="./img/takeUntil.png" width="100%">
 *
 * `takeUntil` subscribes and begins mirroring the source Observable. It also
 * monitors a second Observable, `notifier` that you provide. If the `notifier`
 * emits a value or a complete notification, the output Observable stops
 * mirroring the source Observable and completes.
 *
 * @example <caption>Tick every second until the first click happens</caption>
 * var interval = Rx.Observable.interval(1000);
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = interval.takeUntil(clicks);
 * result.subscribe(x => console.log(x));
 *
 * @see {@link take}
 * @see {@link takeLast}
 * @see {@link takeWhile}
 * @see {@link skip}
 *
 * @param {Observable} notifier The Observable whose first emitted value will
 * cause the output Observable of `takeUntil` to stop emitting values from the
 * source Observable.
 * @return {Observable<T>} An Observable that emits the values from the source
 * Observable until such time as `notifier` emits its first value.
 * @method takeUntil
 * @owner Observable
 */
function r(t){return this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),s=n(8);e.takeUntil=r;var a=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.notifier))},t}(),u=function(t){function e(e,n){t.call(this,e),this.notifier=n,this.add(s.subscribeToResult(this,n))}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.complete()},e.prototype.notifyComplete=function(){},e}(o.OuterSubscriber)},/* 1079 */
/***/
function(t,e,n){"use strict";/**
 * Emits values emitted by the source Observable so long as each value satisfies
 * the given `predicate`, and then completes as soon as this `predicate` is not
 * satisfied.
 *
 * <span class="informal">Takes values from the source only while they pass the
 * condition given. When the first value does not satisfy, it completes.</span>
 *
 * <img src="./img/takeWhile.png" width="100%">
 *
 * `takeWhile` subscribes and begins mirroring the source Observable. Each value
 * emitted on the source is given to the `predicate` function which returns a
 * boolean, representing a condition to be satisfied by the source values. The
 * output Observable emits the source values until such time as the `predicate`
 * returns false, at which point `takeWhile` stops mirroring the source
 * Observable and completes the output Observable.
 *
 * @example <caption>Emit click events only while the clientX property is greater than 200</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks.takeWhile(ev => ev.clientX > 200);
 * result.subscribe(x => console.log(x));
 *
 * @see {@link take}
 * @see {@link takeLast}
 * @see {@link takeUntil}
 * @see {@link skip}
 *
 * @param {function(value: T, index: number): boolean} predicate A function that
 * evaluates a value emitted by the source Observable and returns a boolean.
 * Also takes the (zero-based) index as the second argument.
 * @return {Observable<T>} An Observable that emits the values from the source
 * Observable so long as each value satisfies the condition defined by the
 * `predicate`, then completes.
 * @method takeWhile
 * @owner Observable
 */
function r(t){return this.lift(new s(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.takeWhile=r;var s=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate))},t}(),a=function(t){function e(e,n){t.call(this,e),this.predicate=n,this.index=0}return i(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void n.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):n.complete()},e}(o.Subscriber)},/* 1080 */
/***/
function(t,e,n){"use strict";/**
 * Emits a value from the source Observable, then ignores subsequent source
 * values for a duration determined by another Observable, then repeats this
 * process.
 *
 * <span class="informal">It's like {@link throttleTime}, but the silencing
 * duration is determined by a second Observable.</span>
 *
 * <img src="./img/throttle.png" width="100%">
 *
 * `throttle` emits the source Observable values on the output Observable
 * when its internal timer is disabled, and ignores source values when the timer
 * is enabled. Initially, the timer is disabled. As soon as the first source
 * value arrives, it is forwarded to the output Observable, and then the timer
 * is enabled by calling the `durationSelector` function with the source value,
 * which returns the "duration" Observable. When the duration Observable emits a
 * value or completes, the timer is disabled, and this process repeats for the
 * next source value.
 *
 * @example <caption>Emit clicks at a rate of at most one click per second</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks.throttle(ev => Rx.Observable.interval(1000));
 * result.subscribe(x => console.log(x));
 *
 * @see {@link audit}
 * @see {@link debounce}
 * @see {@link delayWhen}
 * @see {@link sample}
 * @see {@link throttleTime}
 *
 * @param {function(value: T): Observable|Promise} durationSelector A function
 * that receives a value from the source Observable, for computing the silencing
 * duration for each source value, returned as an Observable or a Promise.
 * @return {Observable<T>} An Observable that performs the throttle operation to
 * limit the rate of emissions from the source.
 * @method throttle
 * @owner Observable
 */
function r(t){return this.lift(new a(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),s=n(8);e.throttle=r;var a=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.durationSelector))},t}(),u=function(t){function e(e,n){t.call(this,e),this.destination=e,this.durationSelector=n}return i(e,t),e.prototype._next=function(t){this.throttled||this.tryDurationSelector(t)},e.prototype.tryDurationSelector=function(t){var e=null;try{e=this.durationSelector(t)}catch(t){return void this.destination.error(t)}this.emitAndThrottle(t,e)},e.prototype.emitAndThrottle=function(t,e){this.add(this.throttled=s.subscribeToResult(this,e)),this.destination.next(t)},e.prototype._unsubscribe=function(){var t=this.throttled;t&&(this.remove(t),this.throttled=null,t.unsubscribe())},e.prototype.notifyNext=function(t,e,n,r,i){this._unsubscribe()},e.prototype.notifyComplete=function(){this._unsubscribe()},e}(o.OuterSubscriber)},/* 1081 */
/***/
function(t,e,n){"use strict";/**
 * Emits a value from the source Observable, then ignores subsequent source
 * values for `duration` milliseconds, then repeats this process.
 *
 * <span class="informal">Lets a value pass, then ignores source values for the
 * next `duration` milliseconds.</span>
 *
 * <img src="./img/throttleTime.png" width="100%">
 *
 * `throttleTime` emits the source Observable values on the output Observable
 * when its internal timer is disabled, and ignores source values when the timer
 * is enabled. Initially, the timer is disabled. As soon as the first source
 * value arrives, it is forwarded to the output Observable, and then the timer
 * is enabled. After `duration` milliseconds (or the time unit determined
 * internally by the optional `scheduler`) has passed, the timer is disabled,
 * and this process repeats for the next source value. Optionally takes a
 * {@link Scheduler} for managing timers.
 *
 * @example <caption>Emit clicks at a rate of at most one click per second</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks.throttleTime(1000);
 * result.subscribe(x => console.log(x));
 *
 * @see {@link auditTime}
 * @see {@link debounceTime}
 * @see {@link delay}
 * @see {@link sampleTime}
 * @see {@link throttle}
 *
 * @param {number} duration Time to wait before emitting another value after
 * emitting the last value, measured in milliseconds or the time unit determined
 * internally by the optional `scheduler`.
 * @param {Scheduler} [scheduler=async] The {@link Scheduler} to use for
 * managing the timers that handle the sampling.
 * @return {Observable<T>} An Observable that performs the throttle operation to
 * limit the rate of emissions from the source.
 * @method throttleTime
 * @owner Observable
 */
function r(t,e){return void 0===e&&(e=a.async),this.lift(new u(t,e))}function i(t){t.subscriber.clearThrottle()}var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n(4),a=n(35);e.throttleTime=r;var u=function(){function t(t,e){this.duration=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.duration,this.scheduler))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.duration=n,this.scheduler=r}return o(e,t),e.prototype._next=function(t){this.throttled||(this.add(this.throttled=this.scheduler.schedule(i,this.duration,{subscriber:this})),this.destination.next(t))},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(t.unsubscribe(),this.remove(t),this.throttled=null)},e}(s.Subscriber)},/* 1082 */
/***/
function(t,e,n){"use strict";/**
 * @param {number} due
 * @param {Scheduler} [scheduler]
 * @return {Observable<R>|WebSocketSubject<T>|Observable<T>}
 * @method timeout
 * @owner Observable
 */
function r(t,e){void 0===e&&(e=o.async);var n=s.isDate(t),r=n?+t-e.now():Math.abs(t);return this.lift(new c(r,n,e,new u.TimeoutError))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(35),s=n(140),a=n(4),u=n(317);e.timeout=r;var c=function(){function t(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.scheduler=n,this.errorInstance=r}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},t}(),l=function(t){function e(e,n,r,i,o){t.call(this,e),this.absoluteTimeout=n,this.waitFor=r,this.scheduler=i,this.errorInstance=o,this.index=0,this._previousIndex=0,this._hasCompleted=!1,this.scheduleTimeout()}return i(e,t),Object.defineProperty(e.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),e.dispatchTimeout=function(t){var e=t.subscriber,n=t.index;e.hasCompleted||e.previousIndex!==n||e.notifyTimeout()},e.prototype.scheduleTimeout=function(){var t=this.index;this.scheduler.schedule(e.dispatchTimeout,this.waitFor,{subscriber:this,index:t}),this.index++,this._previousIndex=t},e.prototype._next=function(t){this.destination.next(t),this.absoluteTimeout||this.scheduleTimeout()},e.prototype._error=function(t){this.destination.error(t),this._hasCompleted=!0},e.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},e.prototype.notifyTimeout=function(){this.error(this.errorInstance)},e}(a.Subscriber)},/* 1083 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * @param due
 * @param withObservable
 * @param scheduler
 * @return {Observable<R>|WebSocketSubject<T>|Observable<T>}
 * @method timeoutWith
 * @owner Observable
 */
function r(t,e,n){void 0===n&&(n=o.async);var r=s.isDate(t),i=r?+t-n.now():Math.abs(t);return this.lift(new c(i,r,e,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(35),s=n(140),a=n(7),u=n(8);e.timeoutWith=r;var c=function(){function t(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),l=function(t){function e(e,n,r,i,o){t.call(this),this.destination=e,this.absoluteTimeout=n,this.waitFor=r,this.withObservable=i,this.scheduler=o,this.timeoutSubscription=void 0,this.index=0,this._previousIndex=0,this._hasCompleted=!1,e.add(this),this.scheduleTimeout()}return i(e,t),Object.defineProperty(e.prototype,"previousIndex",{get:function(){return this._previousIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasCompleted",{get:function(){return this._hasCompleted},enumerable:!0,configurable:!0}),e.dispatchTimeout=function(t){var e=t.subscriber,n=t.index;e.hasCompleted||e.previousIndex!==n||e.handleTimeout()},e.prototype.scheduleTimeout=function(){var t=this.index,n={subscriber:this,index:t};this.scheduler.schedule(e.dispatchTimeout,this.waitFor,n),this.index++,this._previousIndex=t},e.prototype._next=function(t){this.destination.next(t),this.absoluteTimeout||this.scheduleTimeout()},e.prototype._error=function(t){this.destination.error(t),this._hasCompleted=!0},e.prototype._complete=function(){this.destination.complete(),this._hasCompleted=!0},e.prototype.handleTimeout=function(){if(!this.closed){var t=this.withObservable;this.unsubscribe(),this.destination.add(this.timeoutSubscription=u.subscribeToResult(this,t))}},e}(a.OuterSubscriber)},/* 1084 */
/***/
function(t,e,n){"use strict";/**
 * @return {Observable<any[]>|WebSocketSubject<T>|Observable<T>}
 * @method toArray
 * @owner Observable
 */
function r(){return this.lift(new s)}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4);e.toArray=r;var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){t.call(this,e),this.array=[]}return i(e,t),e.prototype._next=function(t){this.array.push(t)},e.prototype._complete=function(){this.destination.next(this.array),this.destination.complete()},e}(o.Subscriber)},/* 1085 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * @param PromiseCtor
 * @return {Promise<T>}
 * @method toPromise
 * @owner Observable
 */
function r(t){var e=this;if(t||(i.root.Rx&&i.root.Rx.config&&i.root.Rx.config.Promise?t=i.root.Rx.config.Promise:i.root.Promise&&(t=i.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}var i=n(27);e.toPromise=r},/* 1086 */
/***/
function(t,e,n){"use strict";/**
 * Branch out the source Observable values as a nested Observable whenever
 * `windowBoundaries` emits.
 *
 * <span class="informal">It's like {@link buffer}, but emits a nested Observable
 * instead of an array.</span>
 *
 * <img src="./img/window.png" width="100%">
 *
 * Returns an Observable that emits windows of items it collects from the source
 * Observable. The output Observable emits connected, non-overlapping
 * windows. It emits the current window and opens a new one whenever the
 * Observable `windowBoundaries` emits an item. Because each window is an
 * Observable, the output is a higher-order Observable.
 *
 * @example <caption>In every window of 1 second each, emit at most 2 click events</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var interval = Rx.Observable.interval(1000);
 * var result = clicks.window(interval)
 *   .map(win => win.take(2)) // each window has at most 2 emissions
 *   .mergeAll(); // flatten the Observable-of-Observables
 * result.subscribe(x => console.log(x));
 *
 * @see {@link windowCount}
 * @see {@link windowTime}
 * @see {@link windowToggle}
 * @see {@link windowWhen}
 * @see {@link buffer}
 *
 * @param {Observable<any>} windowBoundaries An Observable that completes the
 * previous window and starts a new window.
 * @return {Observable<Observable<T>>} An Observable of windows, which are
 * Observables emitting values of the source Observable.
 * @method window
 * @owner Observable
 */
function r(t){return this.lift(new u(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(17),s=n(7),a=n(8);e.window=r;var u=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var n=new c(t),r=e.subscribe(n);return r.closed||n.add(a.subscribeToResult(n,this.windowBoundaries)),r},t}(),c=function(t){function e(e){t.call(this,e),this.window=new o.Subject,e.next(this.window)}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.openWindow()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,n=this.window=new o.Subject;e.next(n)},e}(s.OuterSubscriber)},/* 1087 */
/***/
function(t,e,n){"use strict";/**
 * Branch out the source Observable values as a nested Observable with each
 * nested Observable emitting at most `windowSize` values.
 *
 * <span class="informal">It's like {@link bufferCount}, but emits a nested
 * Observable instead of an array.</span>
 *
 * <img src="./img/windowCount.png" width="100%">
 *
 * Returns an Observable that emits windows of items it collects from the source
 * Observable. The output Observable emits windows every `startWindowEvery`
 * items, each containing no more than `windowSize` items. When the source
 * Observable completes or encounters an error, the output Observable emits
 * the current window and propagates the notification from the source
 * Observable. If `startWindowEvery` is not provided, then new windows are
 * started immediately at the start of the source and when each window completes
 * with size `windowSize`.
 *
 * @example <caption>Ignore every 3rd click event, starting from the first one</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks.windowCount(3)
 *   .map(win => win.skip(1)) // skip first of every 3 clicks
 *   .mergeAll(); // flatten the Observable-of-Observables
 * result.subscribe(x => console.log(x));
 *
 * @example <caption>Ignore every 3rd click event, starting from the third one</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks.windowCount(2, 3)
 *   .mergeAll(); // flatten the Observable-of-Observables
 * result.subscribe(x => console.log(x));
 *
 * @see {@link window}
 * @see {@link windowTime}
 * @see {@link windowToggle}
 * @see {@link windowWhen}
 * @see {@link bufferCount}
 *
 * @param {number} windowSize The maximum number of values emitted by each
 * window.
 * @param {number} [startWindowEvery] Interval at which to start a new window.
 * For example if `startWindowEvery` is `2`, then a new window will be started
 * on every other value from the source. A new window is started at the
 * beginning of the source by default.
 * @return {Observable<Observable<T>>} An Observable of windows, which in turn
 * are Observable of values.
 * @method windowCount
 * @owner Observable
 */
function r(t,e){return void 0===e&&(e=0),this.lift(new a(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(4),s=n(17);e.windowCount=r;var a=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.windowSize,this.startWindowEvery))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.destination=e,this.windowSize=n,this.startWindowEvery=r,this.windows=[new s.Subject],this.count=0,e.next(this.windows[0])}return i(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,o=i.length,a=0;a<o&&!this.closed;a++)i[a].next(t);var u=this.count-r+1;if(u>=0&&u%e==0&&!this.closed&&i.shift().complete(),++this.count%e==0&&!this.closed){var c=new s.Subject;i.push(c),n.next(c)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(o.Subscriber)},/* 1088 */
/***/
function(t,e,n){"use strict";/**
 * Branch out the source Observable values as a nested Observable periodically
 * in time.
 *
 * <span class="informal">It's like {@link bufferTime}, but emits a nested
 * Observable instead of an array.</span>
 *
 * <img src="./img/windowTime.png" width="100%">
 *
 * Returns an Observable that emits windows of items it collects from the source
 * Observable. The output Observable starts a new window periodically, as
 * determined by the `windowCreationInterval` argument. It emits each window
 * after a fixed timespan, specified by the `windowTimeSpan` argument. When the
 * source Observable completes or encounters an error, the output Observable
 * emits the current window and propagates the notification from the source
 * Observable. If `windowCreationInterval` is not provided, the output
 * Observable starts a new window when the previous window of duration
 * `windowTimeSpan` completes.
 *
 * @example <caption>In every window of 1 second each, emit at most 2 click events</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks.windowTime(1000)
 *   .map(win => win.take(2)) // each window has at most 2 emissions
 *   .mergeAll(); // flatten the Observable-of-Observables
 * result.subscribe(x => console.log(x));
 *
 * @example <caption>Every 5 seconds start a window 1 second long, and emit at most 2 click events per window</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks.windowTime(1000, 5000)
 *   .map(win => win.take(2)) // each window has at most 2 emissions
 *   .mergeAll(); // flatten the Observable-of-Observables
 * result.subscribe(x => console.log(x));
 *
 * @see {@link window}
 * @see {@link windowCount}
 * @see {@link windowToggle}
 * @see {@link windowWhen}
 * @see {@link bufferTime}
 *
 * @param {number} windowTimeSpan The amount of time to fill each window.
 * @param {number} [windowCreationInterval] The interval at which to start new
 * windows.
 * @param {Scheduler} [scheduler=async] The scheduler on which to schedule the
 * intervals that determine window boundaries.
 * @return {Observable<Observable<T>>} An observable of windows, which in turn
 * are Observables.
 * @method windowTime
 * @owner Observable
 */
function r(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=c.async),this.lift(new f(t,e,n))}function i(t){var e=t.subscriber,n=t.windowTimeSpan,r=t.window;r&&r.complete(),t.window=e.openWindow(),this.schedule(t,n)}function o(t){var e=t.windowTimeSpan,n=t.subscriber,r=t.scheduler,i=t.windowCreationInterval,o=n.openWindow(),a=this,u={action:a,subscription:null},c={subscriber:n,window:o,context:u};u.subscription=r.schedule(s,e,c),a.add(u.subscription),a.schedule(t,i)}function s(t){var e=t.subscriber,n=t.window,r=t.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},u=n(17),c=n(35),l=n(4);e.windowTime=r;var f=function(){function t(t,e,n){this.windowTimeSpan=t,this.windowCreationInterval=e,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.windowTimeSpan,this.windowCreationInterval,this.scheduler))},t}(),p=function(t){function e(e,n,r,a){if(t.call(this,e),this.destination=e,this.windowTimeSpan=n,this.windowCreationInterval=r,this.scheduler=a,this.windows=[],null!==r&&r>=0){var u=this.openWindow(),c={subscriber:this,window:u,context:null},l={windowTimeSpan:n,windowCreationInterval:r,subscriber:this,scheduler:a};this.add(a.schedule(s,n,c)),this.add(a.schedule(o,r,l))}else{var f=this.openWindow(),p={subscriber:this,window:f,windowTimeSpan:n};this.add(a.schedule(i,n,p))}}return a(e,t),e.prototype._next=function(t){for(var e=this.windows,n=e.length,r=0;r<n;r++){var i=e[r];i.closed||i.next(t)}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new u.Subject;return this.windows.push(t),this.destination.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(l.Subscriber)},/* 1089 */
/***/
function(t,e,n){"use strict";/**
 * Branch out the source Observable values as a nested Observable starting from
 * an emission from `openings` and ending when the output of `closingSelector`
 * emits.
 *
 * <span class="informal">It's like {@link bufferToggle}, but emits a nested
 * Observable instead of an array.</span>
 *
 * <img src="./img/windowToggle.png" width="100%">
 *
 * Returns an Observable that emits windows of items it collects from the source
 * Observable. The output Observable emits windows that contain those items
 * emitted by the source Observable between the time when the `openings`
 * Observable emits an item and when the Observable returned by
 * `closingSelector` emits an item.
 *
 * @example <caption>Every other second, emit the click events from the next 500ms</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var openings = Rx.Observable.interval(1000);
 * var result = clicks.windowToggle(openings, i =>
 *   i % 2 ? Rx.Observable.interval(500) : Rx.Observable.empty()
 * ).mergeAll();
 * result.subscribe(x => console.log(x));
 *
 * @see {@link window}
 * @see {@link windowCount}
 * @see {@link windowTime}
 * @see {@link windowWhen}
 * @see {@link bufferToggle}
 *
 * @param {Observable<O>} openings An observable of notifications to start new
 * windows.
 * @param {function(value: O): Observable} closingSelector A function that takes
 * the value emitted by the `openings` observable and returns an Observable,
 * which, when it emits (either `next` or `complete`), signals that the
 * associated window should complete.
 * @return {Observable<Observable<T>>} An observable of windows, which in turn
 * are Observables.
 * @method windowToggle
 * @owner Observable
 */
function r(t,e){return this.lift(new f(t,e))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(17),s=n(22),a=n(28),u=n(24),c=n(7),l=n(8);e.windowToggle=r;var f=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.openings,this.closingSelector))},t}(),p=function(t){function e(e,n,r){t.call(this,e),this.openings=n,this.closingSelector=r,this.contexts=[],this.add(this.openSubscription=l.subscribeToResult(this,n,n))}return i(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var n=e.length,r=0;r<n;r++)e[r].window.next(t)},e.prototype._error=function(e){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var n=e.length,r=-1;++r<n;){var i=e[r];i.window.complete(),i.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,n=-1;++n<e;){var r=t[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,n,r,i){if(t===this.openings){var c=this.closingSelector,f=a.tryCatch(c)(e);if(f===u.errorObject)return this.error(u.errorObject.e);var p=new o.Subject,h=new s.Subscription,d={window:p,subscription:h};this.contexts.push(d);var m=l.subscribeToResult(this,f,d);m.closed?this.closeWindow(this.contexts.length-1):(m.context=d,h.add(m)),this.destination.next(p)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,n=e[t],r=n.window,i=n.subscription;e.splice(t,1),r.complete(),i.unsubscribe()}},e}(c.OuterSubscriber)},/* 1090 */
/***/
function(t,e,n){"use strict";/**
 * Branch out the source Observable values as a nested Observable using a
 * factory function of closing Observables to determine when to start a new
 * window.
 *
 * <span class="informal">It's like {@link bufferWhen}, but emits a nested
 * Observable instead of an array.</span>
 *
 * <img src="./img/windowWhen.png" width="100%">
 *
 * Returns an Observable that emits windows of items it collects from the source
 * Observable. The output Observable emits connected, non-overlapping windows.
 * It emits the current window and opens a new one whenever the Observable
 * produced by the specified `closingSelector` function emits an item. The first
 * window is opened immediately when subscribing to the output Observable.
 *
 * @example <caption>Emit only the first two clicks events in every window of [1-5] random seconds</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var result = clicks
 *   .windowWhen(() => Rx.Observable.interval(1000 + Math.random() * 4000))
 *   .map(win => win.take(2)) // each window has at most 2 emissions
 *   .mergeAll(); // flatten the Observable-of-Observables
 * result.subscribe(x => console.log(x));
 *
 * @see {@link window}
 * @see {@link windowCount}
 * @see {@link windowTime}
 * @see {@link windowToggle}
 * @see {@link bufferWhen}
 *
 * @param {function(): Observable} closingSelector A function that takes no
 * arguments and returns an Observable that signals (on either `next` or
 * `complete`) when to close the previous window and start a new one.
 * @return {Observable<Observable<T>>} An observable of windows, which in turn
 * are Observables.
 * @method windowWhen
 * @owner Observable
 */
function r(t){return this.lift(new l(t))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(17),s=n(28),a=n(24),u=n(7),c=n(8);e.windowWhen=r;var l=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.closingSelector))},t}(),f=function(t){function e(e,n){t.call(this,e),this.destination=e,this.closingSelector=n,this.openWindow()}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.openWindow(i)},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var n=this.window=new o.Subject;this.destination.next(n);var r=s.tryCatch(this.closingSelector)();if(r===a.errorObject){var i=a.errorObject.e;this.destination.error(i),this.window.error(i)}else this.add(this.closingNotification=c.subscribeToResult(this,r))},e}(u.OuterSubscriber)},/* 1091 */
/***/
function(t,e,n){"use strict";/* tslint:disable:max-line-length */
/**
 * Combines the source Observable with other Observables to create an Observable
 * whose values are calculated from the latest values of each, only when the
 * source emits.
 *
 * <span class="informal">Whenever the source Observable emits a value, it
 * computes a formula using that value plus the latest values from other input
 * Observables, then emits the output of that formula.</span>
 *
 * <img src="./img/withLatestFrom.png" width="100%">
 *
 * `withLatestFrom` combines each value from the source Observable (the
 * instance) with the latest values from the other input Observables only when
 * the source emits a value, optionally using a `project` function to determine
 * the value to be emitted on the output Observable. All input Observables must
 * emit at least one value before the output Observable will emit a value.
 *
 * @example <caption>On every click event, emit an array with the latest timer event plus the click event</caption>
 * var clicks = Rx.Observable.fromEvent(document, 'click');
 * var timer = Rx.Observable.interval(1000);
 * var result = clicks.withLatestFrom(timer);
 * result.subscribe(x => console.log(x));
 *
 * @see {@link combineLatest}
 *
 * @param {Observable} other An input Observable to combine with the source
 * Observable. More than one input Observables may be given as argument.
 * @param {Function} [project] Projection function for combining values
 * together. Receives all values in order of the Observables passed, where the
 * first parameter is a value from the source Observable. (e.g.
 * `a.withLatestFrom(b, c, (a1, b1, c1) => a1 + b1 + c1)`). If this is not
 * passed, arrays will be emitted on the output Observable.
 * @return {Observable} An Observable of projected values from the most recent
 * values from each input Observable, or an array of the most recent values from
 * each input Observable.
 * @method withLatestFrom
 * @owner Observable
 */
function r(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n;"function"==typeof t[t.length-1]&&(n=t.pop());var r=t;return this.lift(new a(r,n))}var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(7),s=n(8);e.withLatestFrom=r;var a=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.observables,this.project))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.observables=n,this.project=r,this.toRespond=[];var i=n.length;this.values=new Array(i);for(var o=0;o<i;o++)this.toRespond.push(o);for(var o=0;o<i;o++){var a=n[o];this.add(s.subscribeToResult(this,a,a,o))}}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e;var o=this.toRespond;if(o.length>0){var s=o.indexOf(n);-1!==s&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.OuterSubscriber)},/* 1092 */
/***/
function(t,e,n){"use strict";/**
 * @param project
 * @return {Observable<R>|WebSocketSubject<T>|Observable<T>}
 * @method zipAll
 * @owner Observable
 */
function r(t){return this.lift(new i.ZipOperator(t))}var i=n(186);e.zipAll=r},/* 1093 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(22),o=function(t){function e(e,n){t.call(this)}/**
     * Schedules this action on its parent Scheduler for execution. May be passed
     * some context object, `state`. May happen at some point in the future,
     * according to the `delay` parameter, if specified.
     * @param {T} [state] Some contextual data that the `work` function uses when
     * called by the Scheduler.
     * @param {number} [delay] Time to wait before executing the work, where the
     * time unit is implicit and defined by the Scheduler.
     * @return {void}
     */
return r(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(i.Subscription);e.Action=o},/* 1094 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(104),o=n(1104),s=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return r(e,t),e.prototype.requestAsyncId=function(e,n,r){
// If delay is greater than 0, request as an async action.
// If delay is greater than 0, request as an async action.
// Push the action to the end of the scheduler queue.
return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=o.AnimationFrame.requestAnimationFrame(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,r){
// If delay exists and is greater than 0, or if the delay is null (the
// action wasn't rescheduled) but was originally scheduled as an async
// action, then recycle as an async action.
if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);
// If the scheduler queue is empty, cancel the requested animation frame and
// set the scheduled flag to undefined so the next AnimationFrameAction will
// request its own.
0===e.actions.length&&(o.AnimationFrame.cancelAnimationFrame(n),e.scheduled=void 0)},e}(i.AsyncAction);e.AnimationFrameAction=s},/* 1095 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(105),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(i.AsyncScheduler);e.AnimationFrameScheduler=o},/* 1096 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(1106),o=n(104),s=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return r(e,t),e.prototype.requestAsyncId=function(e,n,r){
// If delay is greater than 0, request as an async action.
// If delay is greater than 0, request as an async action.
// Push the action to the end of the scheduler queue.
return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=i.Immediate.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,r){
// If delay exists and is greater than 0, or if the delay is null (the
// action wasn't rescheduled) but was originally scheduled as an async
// action, then recycle as an async action.
if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);
// If the scheduler queue is empty, cancel the requested microtask and
// set the scheduled flag to undefined so the next AsapAction will schedule
// its own.
0===e.actions.length&&(i.Immediate.clearImmediate(n),e.scheduled=void 0)},e}(o.AsyncAction);e.AsapAction=s},/* 1097 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(105),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(i.AsyncScheduler);e.AsapScheduler=o},/* 1098 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(104),o=function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return r(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){
// If delay exists and is greater than 0, or if the delay is null (the
// action wasn't rescheduled) but was originally scheduled as an async
// action, then recycle as an async action.
// If delay exists and is greater than 0, or if the delay is null (the
// action wasn't rescheduled) but was originally scheduled as an async
// action, then recycle as an async action.
return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(i.AsyncAction);e.QueueAction=o},/* 1099 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(105),o=function(t){function e(){t.apply(this,arguments)}return r(e,t),e}(i.AsyncScheduler);e.QueueScheduler=o},/* 1100 */
/***/
function(t,e,n){"use strict";var r=n(1094),i=n(1095);e.animationFrame=new i.AnimationFrameScheduler(r.AnimationFrameAction)},/* 1101 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(0),o=n(22),s=n(316),a=n(319),u=function(t){function e(e,n){t.call(this,function(t){var e=this,n=e.logSubscribedFrame();return t.add(new o.Subscription(function(){e.logUnsubscribedFrame(n)})),e.scheduleMessages(t),t}),this.messages=e,this.subscriptions=[],this.scheduler=n}return r(e,t),e.prototype.scheduleMessages=function(t){for(var e=this.messages.length,n=0;n<e;n++){var r=this.messages[n];t.add(this.scheduler.schedule(function(t){var e=t.message,n=t.subscriber;e.notification.observe(n)},r.frame,{message:r,subscriber:t}))}},e}(i.Observable);e.ColdObservable=u,a.applyMixins(u,[s.SubscriptionLoggable])},/* 1102 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(17),o=n(22),s=n(316),a=n(319),u=function(t){function e(e,n){t.call(this),this.messages=e,this.subscriptions=[],this.scheduler=n}return r(e,t),e.prototype._subscribe=function(e){var n=this,r=n.logSubscribedFrame();return e.add(new o.Subscription(function(){n.logUnsubscribedFrame(r)})),t.prototype._subscribe.call(this,e)},e.prototype.setup=function(){/* tslint:disable:no-var-keyword */
for(var t=this,e=t.messages.length,n=0;n<e;n++)!function(){var e=t.messages[n];/* tslint:enable */
t.scheduler.schedule(function(){e.notification.observe(t)},e.frame)}()},e}(i.Subject);e.HotObservable=u,a.applyMixins(u,[s.SubscriptionLoggable])},/* 1103 */
/***/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(0),o=n(101),s=n(1101),a=n(1102),u=n(315),c=n(312),l=750,f=function(t){function e(e){t.call(this,c.VirtualAction,l),this.assertDeepEqual=e,this.hotObservables=[],this.coldObservables=[],this.flushTests=[]}return r(e,t),e.prototype.createTime=function(t){var n=t.indexOf("|");if(-1===n)throw new Error('marble diagram for time should have a completion marker "|"');return n*e.frameTimeFactor},e.prototype.createColdObservable=function(t,n,r){if(-1!==t.indexOf("^"))throw new Error('cold observable cannot have subscription offset "^"');if(-1!==t.indexOf("!"))throw new Error('cold observable cannot have unsubscription marker "!"');var i=e.parseMarbles(t,n,r),o=new s.ColdObservable(i,this);return this.coldObservables.push(o),o},e.prototype.createHotObservable=function(t,n,r){if(-1!==t.indexOf("!"))throw new Error('hot observable cannot have unsubscription marker "!"');var i=e.parseMarbles(t,n,r),o=new a.HotObservable(i,this);return this.hotObservables.push(o),o},e.prototype.materializeInnerObservable=function(t,e){var n=this,r=[];return t.subscribe(function(t){r.push({frame:n.frame-e,notification:o.Notification.createNext(t)})},function(t){r.push({frame:n.frame-e,notification:o.Notification.createError(t)})},function(){r.push({frame:n.frame-e,notification:o.Notification.createComplete()})}),r},e.prototype.expectObservable=function(t,n){var r=this;void 0===n&&(n=null);var s,a=[],u={actual:a,ready:!1},c=e.parseMarblesAsSubscriptions(n).unsubscribedFrame;return this.schedule(function(){s=t.subscribe(function(t){var e=t;
// Support Observable-of-Observables
t instanceof i.Observable&&(e=r.materializeInnerObservable(e,r.frame)),a.push({frame:r.frame,notification:o.Notification.createNext(e)})},function(t){a.push({frame:r.frame,notification:o.Notification.createError(t)})},function(){a.push({frame:r.frame,notification:o.Notification.createComplete()})})},0),c!==Number.POSITIVE_INFINITY&&this.schedule(function(){return s.unsubscribe()},c),this.flushTests.push(u),{toBe:function(t,n,r){u.ready=!0,u.expected=e.parseMarbles(t,n,r,!0)}}},e.prototype.expectSubscriptions=function(t){var n={actual:t,ready:!1};return this.flushTests.push(n),{toBe:function(t){var r="string"==typeof t?[t]:t;n.ready=!0,n.expected=r.map(function(t){return e.parseMarblesAsSubscriptions(t)})}}},e.prototype.flush=function(){for(var e=this.hotObservables;e.length>0;)e.shift().setup();t.prototype.flush.call(this);for(var n=this.flushTests.filter(function(t){return t.ready});n.length>0;){var r=n.shift();this.assertDeepEqual(r.actual,r.expected)}},e.parseMarblesAsSubscriptions=function(t){if("string"!=typeof t)return new u.SubscriptionLog(Number.POSITIVE_INFINITY);for(var e=t.length,n=-1,r=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o=0;o<e;o++){var s=o*this.frameTimeFactor,a=t[o];switch(a){case"-":case" ":break;case"(":n=s;break;case")":n=-1;break;case"^":if(r!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");r=n>-1?n:s;break;case"!":if(i!==Number.POSITIVE_INFINITY)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");i=n>-1?n:s;break;default:throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+a+"'.")}}return i<0?new u.SubscriptionLog(r):new u.SubscriptionLog(r,i)},e.parseMarbles=function(t,e,n,r){if(void 0===r&&(r=!1),-1!==t.indexOf("!"))throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var i=t.length,a=[],u=t.indexOf("^"),c=-1===u?0:u*-this.frameTimeFactor,l="object"!=typeof e?function(t){return t}:function(t){
// Support Observable-of-Observables
// Support Observable-of-Observables
return r&&e[t]instanceof s.ColdObservable?e[t].messages:e[t]},f=-1,p=0;p<i;p++){var h=p*this.frameTimeFactor+c,d=void 0,m=t[p];switch(m){case"-":case" ":break;case"(":f=h;break;case")":f=-1;break;case"|":d=o.Notification.createComplete();break;case"^":break;case"#":d=o.Notification.createError(n||"error");break;default:d=o.Notification.createNext(l(m))}d&&a.push({frame:f>-1?f:h,notification:d})}return a},e}(c.VirtualTimeScheduler);e.TestScheduler=f},/* 1104 */
/***/
function(t,e,n){"use strict";var r=n(27),i=function(){function t(t){t.requestAnimationFrame?(this.cancelAnimationFrame=t.cancelAnimationFrame.bind(t),this.requestAnimationFrame=t.requestAnimationFrame.bind(t)):t.mozRequestAnimationFrame?(this.cancelAnimationFrame=t.mozCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.mozRequestAnimationFrame.bind(t)):t.webkitRequestAnimationFrame?(this.cancelAnimationFrame=t.webkitCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.webkitRequestAnimationFrame.bind(t)):t.msRequestAnimationFrame?(this.cancelAnimationFrame=t.msCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.msRequestAnimationFrame.bind(t)):t.oRequestAnimationFrame?(this.cancelAnimationFrame=t.oCancelAnimationFrame.bind(t),this.requestAnimationFrame=t.oRequestAnimationFrame.bind(t)):(this.cancelAnimationFrame=t.clearTimeout.bind(t),this.requestAnimationFrame=function(e){return t.setTimeout(e,1e3/60)})}return t}();e.RequestAnimationFrameDefinition=i,e.AnimationFrame=new i(r.root)},/* 1105 */
/***/
function(t,e,n){"use strict";var r=function(){function t(){this.values={}}return t.prototype.delete=function(t){return this.values[t]=null,!0},t.prototype.set=function(t,e){return this.values[t]=e,this},t.prototype.get=function(t){return this.values[t]},t.prototype.forEach=function(t,e){var n=this.values;for(var r in n)n.hasOwnProperty(r)&&null!==n[r]&&t.call(e,n[r],r)},t.prototype.clear=function(){this.values={}},t}();e.FastMap=r},/* 1106 */
/***/
function(t,e,n){"use strict";/* WEBPACK VAR INJECTION */
(function(t,r){/**
Some credit for this helper goes to http://github.com/YuzuJS/setImmediate
*/
var i=n(27),o=function(){function t(t){if(this.root=t,t.setImmediate&&"function"==typeof t.setImmediate)this.setImmediate=t.setImmediate.bind(t),this.clearImmediate=t.clearImmediate.bind(t);else{this.nextHandle=1,this.tasksByHandle={},this.currentlyRunningATask=!1,
// Don't get fooled by e.g. browserify environments.
this.canUseProcessNextTick()?
// For Node.js before 0.9
this.setImmediate=this.createProcessNextTickSetImmediate():this.canUsePostMessage()?
// For non-IE10 modern browsers
this.setImmediate=this.createPostMessageSetImmediate():this.canUseMessageChannel()?
// For web workers, where supported
this.setImmediate=this.createMessageChannelSetImmediate():this.canUseReadyStateChange()?
// For IE 68
this.setImmediate=this.createReadyStateChangeSetImmediate():
// For older browsers
this.setImmediate=this.createSetTimeoutSetImmediate();var e=function t(e){delete t.instance.tasksByHandle[e]};e.instance=this,this.clearImmediate=e}}
// This function accepts the same arguments as setImmediate, but
// returns a function that requires no arguments.
return t.prototype.identify=function(t){return this.root.Object.prototype.toString.call(t)},t.prototype.canUseProcessNextTick=function(){return"[object process]"===this.identify(this.root.process)},t.prototype.canUseMessageChannel=function(){return Boolean(this.root.MessageChannel)},t.prototype.canUseReadyStateChange=function(){var t=this.root.document;return Boolean(t&&"onreadystatechange"in t.createElement("script"))},t.prototype.canUsePostMessage=function(){var t=this.root;
// The test against `importScripts` prevents this implementation from being installed inside a web worker,
// where `root.postMessage` means something completely different and can't be used for this purpose.
if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}return!1},t.prototype.partiallyApplied=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=function t(){var e=t,n=e.handler,r=e.args;"function"==typeof n?n.apply(void 0,r):new Function(""+n)()};return r.handler=t,r.args=e,r},t.prototype.addFromSetImmediateArguments=function(t){return this.tasksByHandle[this.nextHandle]=this.partiallyApplied.apply(void 0,t),this.nextHandle++},t.prototype.createProcessNextTickSetImmediate=function(){var t=function t(){var e=t.instance,n=e.addFromSetImmediateArguments(arguments);return e.root.process.nextTick(e.partiallyApplied(e.runIfPresent,n)),n};return t.instance=this,t},t.prototype.createPostMessageSetImmediate=function(){
// Installs an event handler on `global` for the `message` event: see
// * https://developer.mozilla.org/en/DOM/window.postMessage
// * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages
var t=this.root,e="setImmediate$"+t.Math.random()+"$",n=function n(r){var i=n.instance;r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&i.runIfPresent(+r.data.slice(e.length))};n.instance=this,t.addEventListener("message",n,!1);var r=function t(){var e=t,n=e.messagePrefix,r=e.instance,i=r.addFromSetImmediateArguments(arguments);return r.root.postMessage(n+i,"*"),i};return r.instance=this,r.messagePrefix=e,r},t.prototype.runIfPresent=function(t){
// From the spec: 'Wait until any invocations of this algorithm started before this one have completed.'
// So if we're currently running a task, we'll need to delay this invocation.
if(this.currentlyRunningATask)
// Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a
// 'too much recursion' error.
this.root.setTimeout(this.partiallyApplied(this.runIfPresent,t),0);else{var e=this.tasksByHandle[t];if(e){this.currentlyRunningATask=!0;try{e()}finally{this.clearImmediate(t),this.currentlyRunningATask=!1}}}},t.prototype.createMessageChannelSetImmediate=function(){var t=this,e=new this.root.MessageChannel;e.port1.onmessage=function(e){var n=e.data;t.runIfPresent(n)};var n=function t(){var e=t,n=e.channel,r=e.instance,i=r.addFromSetImmediateArguments(arguments);return n.port2.postMessage(i),i};return n.channel=e,n.instance=this,n},t.prototype.createReadyStateChangeSetImmediate=function(){var t=function t(){var e=t.instance,n=e.root,r=n.document,i=r.documentElement,o=e.addFromSetImmediateArguments(arguments),s=r.createElement("script");return s.onreadystatechange=function(){e.runIfPresent(o),s.onreadystatechange=null,i.removeChild(s),s=null},i.appendChild(s),o};return t.instance=this,t},t.prototype.createSetTimeoutSetImmediate=function(){var t=function t(){var e=t.instance,n=e.addFromSetImmediateArguments(arguments);return e.root.setTimeout(e.partiallyApplied(e.runIfPresent,n),0),n};return t.instance=this,t},t}();e.ImmediateDefinition=o,e.Immediate=new o(i.root)}).call(e,n(323).clearImmediate,n(323).setImmediate)},/* 1107 */
/***/
function(t,e,n){"use strict";var r=n(27),i=n(1108);e.Map=r.root.Map||function(){return i.MapPolyfill}()},/* 1108 */
/***/
function(t,e,n){"use strict";var r=function(){function t(){this.size=0,this._values=[],this._keys=[]}return t.prototype.get=function(t){var e=this._keys.indexOf(t);return-1===e?void 0:this._values[e]},t.prototype.set=function(t,e){var n=this._keys.indexOf(t);return-1===n?(this._keys.push(t),this._values.push(e),this.size++):this._values[n]=e,this},t.prototype.delete=function(t){var e=this._keys.indexOf(t);return-1!==e&&(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},t.prototype.forEach=function(t,e){for(var n=0;n<this.size;n++)t.call(e,this._values[n],this._keys[n])},t}();e.MapPolyfill=r},/* 1109 */
/***/
function(t,e,n){"use strict";function r(){
// THIS IS NOT a full impl of Set, this is just the minimum
// bits of functionality we need for this library.
return function(){function t(){this._values=[]}return t.prototype.add=function(t){this.has(t)||this._values.push(t)},t.prototype.has=function(t){return-1!==this._values.indexOf(t)},Object.defineProperty(t.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._values.length=0},t}()}var i=n(27);e.minimalSetImpl=r,e.Set=i.root.Set||r()},/* 1110 */
/***/
function(t,e,n){"use strict";function r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e.length,i=0;i<r;i++){var o=e[i];for(var s in o)o.hasOwnProperty(s)&&(t[s]=o[s])}return t}function i(t){return t.Object.assign||r}var o=n(27);e.assignImpl=r,e.getAssign=i,e.assign=i(o.root)},/* 1111 */
/***/
function(t,e,n){"use strict";function r(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}e.not=r},/* 1112 */
/***/
function(t,e,n){"use strict";function r(t,e,n){if(t){if(t instanceof i.Subscriber)return t;if(t[o.$$rxSubscriber])return t[o.$$rxSubscriber]()}return t||e||n?new i.Subscriber(t,e,n):new i.Subscriber(s.empty)}var i=n(4),o=n(137),s=n(287);e.toSubscriber=r},/* 1113 */
/***/
function(t,e,n){"use strict";/* WEBPACK VAR INJECTION */
(function(e){
//
// ARC4
//
// An ARC4 implementation.  The constructor takes a key in the form of
// an array of at most (width) integers that should be 0 <= x < (width).
//
// The g(count) method returns a pseudorandom integer that concatenates
// the next (count) outputs from ARC4.  Its return value is a number x
// that is in the range 0 <= x < (width ^ count).
//
/** @constructor */
function n(t){var e,n=t.length,r=this,i=0,o=r.i=r.j=0,s=r.S=[];
// Set up S using the standard key scheduling algorithm.
for(
// The empty key [] is treated as [0].
n||(t=[n++]);i<a;)s[i]=i++;for(i=0;i<a;i++)s[i]=s[o=h&o+t[i%n]+(e=s[i])],s[o]=e;
// The "g" method returns the next (count) outputs as one number.
(r.g=function(t){for(
// Using instance members instead of closure state nearly doubles speed.
var e,n=0,i=r.i,o=r.j,s=r.S;t--;)e=s[i=h&i+1],n=n*a+s[h&(s[i]=s[o=h&o+e])+(s[o]=e)];return r.i=i,r.j=o,n})(a)}
//
// flatten()
// Converts an object tree to nested arrays of strings.
//
function r(t,e){var n,i=[],o=(typeof t)[0];if(e&&"o"==o)for(n in t)try{i.push(r(t[n],e-1))}catch(t){}return i.length?i:"s"==o?t:t+"\0"}
//
// mixkey()
// Mixes a string seed into a key that is an array of integers, and
// returns a shortened string seed that is equivalent to the result key.
//
function i(t,e){for(var n,r=t+"",i=0;i<r.length;)e[h&i]=h&(n^=19*e[h&i])+r.charCodeAt(i++);return s(e)}
//
// autoseed()
// Returns an object for autoseeding, using window.crypto if available.
//
/** @param {Uint8Array=} seed */
function o(t){try{return c.crypto.getRandomValues(t=new Uint8Array(a)),s(t)}catch(t){return[+new Date,c,c.navigator&&c.navigator.plugins,c.screen,s(u)]}}
//
// tostring()
// Converts an array of charcodes to a string
//
function s(t){return String.fromCharCode.apply(0,t)}var a=256,u=[],c=void 0===e?window:e,l=Math.pow(a,6),f=Math.pow(2,52),p=2*f,h=a-1,d=Math.random;
//
// seedrandom()
// This is the seedrandom function described above.
//
t.exports=function(e,c){if(c&&!0===c.global)return c.global=!1,Math.random=t.exports(e,c),c.global=!0,Math.random;var h=c&&c.entropy||!1,d=[],m=(i(r(h?[e,s(u)]:0 in arguments?e:o(),3),d),new n(d));
// Override Math.random
// This function returns a random double in [0, 1) that contains
// randomness in every bit of the mantissa of the IEEE 754 value.
// Mix the randomness into accumulated entropy.
return i(s(m.S),u),function(){//   and no 'extra last byte'.
for(// Closure to return a random double:
var t=m.g(6),// Start with a numerator n < 2 ^ 48
e=l,//   and denominator d = 2 ^ 48.
n=0;t<f;)// Fill up all significant digits by
t=(t+n)*a,//   shifting numerator and
e*=a,//   denominator and generating a
n=m.g(1);for(;t>=p;)// To avoid rounding up, before adding
t/=2,//   last byte, shift everything
e/=2,//   right using integer Math until
n>>>=1;return(t+n)/e}},t.exports.resetGlobal=function(){Math.random=d},
//
// When seedrandom.js is loaded, we immediately mix a few bits
// from the built-in RNG into the entropy pool.  Because we do
// not want to intefere with determinstic PRNG state later,
// seedrandom will not call Math.random on its own again after
// initialization.
//
i(Math.random(),u)}).call(e,n(108))},/* 1114 */
/***/
function(t,e,n){/* WEBPACK VAR INJECTION */
(function(t,e){!function(t,n){"use strict";function r(t){
// Callback can either be a function or a string
"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];
// Store and register the task
var r={callback:t,args:e};return c[u]=r,a(u),u++}function i(t){delete c[t]}function o(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function s(t){
// From the spec: "Wait until any invocations of this algorithm started before this one have completed."
// So if we're currently running a task, we'll need to delay this invocation.
if(l)
// Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a
// "too much recursion" error.
setTimeout(s,0,t);else{var e=c[t];if(e){l=!0;try{o(e)}finally{i(t),l=!1}}}}if(!t.setImmediate){var a,u=1,c={},l=!1,f=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,
// Don't get fooled by e.g. browserify environments.
"[object process]"==={}.toString.call(t.process)?
// For Node.js before 0.9
function(){a=function(t){e.nextTick(function(){s(t)})}}():function(){
// The test against `importScripts` prevents this implementation from being installed inside a web worker,
// where `global.postMessage` means something completely different and can't be used for this purpose.
if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?
// For non-IE10 modern browsers
function(){
// Installs an event handler on `global` for the `message` event: see
// * https://developer.mozilla.org/en/DOM/window.postMessage
// * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages
var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&s(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),a=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?
// For web workers, where supported
function(){var t=new MessageChannel;t.port1.onmessage=function(t){s(t.data)},a=function(e){t.port2.postMessage(e)}}():f&&"onreadystatechange"in f.createElement("script")?
// For IE 68
function(){var t=f.documentElement;a=function(e){
// Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted
// into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.
var n=f.createElement("script");n.onreadystatechange=function(){s(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():
// For older browsers
function(){a=function(t){setTimeout(s,0,t)}}(),p.setImmediate=r,p.clearImmediate=i}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(108),n(286))},/* 1115 */
/***/
function(t,e){function n(){}n.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function r(){i.off(t,r),e.apply(n,arguments)}var i=this;return r._=e,this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,s=r.length;o<s;o++)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);
// Remove event from queue to prevent memory leak
// Suggested by https://github.com/lazd
// Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910
return i.length?n[t]=i:delete n[t],this}},t.exports=n},/* 1116 */
,/* 1117 */
,/* 1118 */
,/* 1119 */
,/* 1120 */
,/* 1121 */
,/* 1122 */
,/* 1123 */
,/* 1124 */
/***/
function(t,e,n){"use strict";
// WebPack Vendor Bundle Entry
n(109),n(23),n(190),n(327),n(72),n(141),n(191),n(342),n(193),n(192)},/* 1125 */
/***/
function(t,e,n){"use strict";var r,i,o;/**
 * typed-function
 *
 * Type checking for JavaScript functions
 *
 * https://github.com/josdejong/typed-function
 */
!function(n,s){
// AMD. Register as an anonymous module.
i=[],r=s,void 0!==(o="function"==typeof r?r.apply(e,i):r)&&(t.exports=o)}(0,function(){
// factory function to create a new instance of typed-function
// TODO: allow passing configuration, types, tests via the factory function
function t(){/**
     * Get a type test function for a specific data type
     * @param {string} name                   Name of a data type like 'number' or 'string'
     * @returns {Function(obj: *) : boolean}  Returns a type testing function.
     *                                        Throws an error for an unknown type.
     */
function e(t){for(var e,n=0;n<C.types.length;n++){var r=C.types[n];if(r.name===t){e=r.test;break}}if(!e){var i;for(n=0;n<C.types.length;n++)if(r=C.types[n],r.name.toLowerCase()==t.toLowerCase()){i=r.name;break}throw new Error('Unknown type "'+t+'"'+(i?'. Did you mean "'+i+'"?':""))}return e}/**
     * Retrieve the function name from a set of functions, and check
     * whether the name of all functions match (if given)
     * @param {Array.<function>} fns
     */
function n(t){for(var e="",n=0;n<t.length;n++){var r=t[n];
// merge function name when this is a typed function
if(r.signatures&&""!=r.name)if(""==e)e=r.name;else if(e!=r.name){var i=new Error("Function names do not match (expected: "+e+", actual: "+r.name+")");throw i.data={actual:r.name,expected:e},i}}return e}/**
     * Create an ArgumentsError. Creates messages like:
     *
     *   Unexpected type of argument (expected: ..., actual: ..., index: ...)
     *   Too few arguments (expected: ..., index: ...)
     *   Too many arguments (expected: ..., actual: ...)
     *
     * @param {String} fn         Function name
     * @param {number} argCount   Number of arguments
     * @param {Number} index      Current argument index
     * @param {*} actual          Current argument
     * @param {string} [expected] An optional, comma separated string with
     *                            expected types on given index
     * @extends Error
     */
function r(t,e,n,r,i){var o,s=m(r),a=i?i.split(","):null,u=t||"unnamed",c=a&&v(a,"any"),l={fn:t,index:n,actual:r,expected:a};
// unexpected type
o=a?e>n&&!c?"Unexpected type of argument in function "+u+" (expected: "+a.join(" or ")+", actual: "+s+", index: "+n+")":"Too few arguments in function "+u+" (expected: "+a.join(" or ")+", index: "+n+")":"Too many arguments in function "+u+" (expected: "+n+", actual: "+e+")";var f=new TypeError(o);return f.data=l,f}/**
     * Collection with function references (local shortcuts to functions)
     * @constructor
     * @param {string} [name='refs']  Optional name for the refs, used to generate
     *                                JavaScript code
     */
function i(t){this.name=t||"refs",this.categories={}}/**
     * A function parameter
     * @param {string | string[] | Param} types    A parameter type like 'string',
     *                                             'number | boolean'
     * @param {boolean} [varArgs=false]            Variable arguments if true
     * @constructor
     */
function o(t,e){
// parse the types, can be a string with types separated by pipe characters |
if("string"==typeof t){
// parse variable arguments operator (ellipses '...number')
var n=t.trim(),r="..."===n.substr(0,3);if(r&&(n=n.substr(3)),""===n)this.types=["any"];else{this.types=n.split("|");for(var i=0;i<this.types.length;i++)this.types[i]=this.types[i].trim()}}else{if(!Array.isArray(t)){if(t instanceof o)return t.clone();throw new Error("String or Array expected")}this.types=t}
// can hold a type to which to convert when handling this parameter
this.conversions=[],
// TODO: implement better API for conversions, be able to add conversions via constructor (support a new type Object?)
// variable arguments
this.varArgs=r||e||!1,
// check for any type arguments
this.anyType=-1!==this.types.indexOf("any")}/**
     * A function signature
     * @param {string | string[] | Param[]} params
     *                         Array with the type(s) of each parameter,
     *                         or a comma separated string with types
     * @param {Function} fn    The actual function
     * @constructor
     */
function s(t,e){var n;if("string"==typeof t)n=""!==t?t.split(","):[];else{if(!Array.isArray(t))throw new Error("string or Array expected");n=t}this.params=new Array(n.length),this.anyType=!1,this.varArgs=!1;for(var r=0;r<n.length;r++){var i=new o(n[r]);if(this.params[r]=i,i.anyType&&(this.anyType=!0),r===n.length-1)
// the last argument
this.varArgs=i.varArgs;else
// non-last argument
if(i.varArgs)throw new SyntaxError('Unexpected variable arguments operator "..."')}this.fn=e}/**
     * A group of signatures with the same parameter on given index
     * @param {Param[]} path
     * @param {Signature} [signature]
     * @param {Node[]} childs
     * @param {boolean} [fallThrough=false]
     * @constructor
     */
function a(t,e,n,r){this.path=t||[],this.param=t[t.length-1]||null,this.signature=e||null,this.childs=n||[],this.fallThrough=r||!1}/**
     * Split all raw signatures into an array with expanded Signatures
     * @param {Object.<string, Function>} rawSignatures
     * @return {Signature[]} Returns an array with expanded signatures
     */
function u(t){
// FIXME: need to have deterministic ordering of signatures, do not create via object
var e,n,r={},i=[];for(var o in t)if(t.hasOwnProperty(o)){var a=t[o];if(e=new s(o,a),e.ignore())continue;var u=e.expand();for(n=0;n<u.length;n++){var c=u[n],l=c.toString(),f=r[l];if(f){var p=s.compare(c,f);if(p<0)
// override if sorted first
r[l]=c;else if(0===p)throw new Error('Signature "'+l+'" is defined twice')}else r[l]=c}}
// convert from map to array
for(l in r)r.hasOwnProperty(l)&&i.push(r[l]);
// filter redundant conversions from signatures with varArgs
// TODO: simplify this loop or move it to a separate function
for(
// order the signatures
i.sort(function(t,e){return s.compare(t,e)}),n=0;n<i.length;n++)if(e=i[n],e.varArgs)for(var h=e.params.length-1,d=e.params[h],m=0;m<d.types.length;){if(d.conversions[m])for(var y=d.types[m],g=0;g<i.length;g++){var b=i[g],w=b.params[h];if(b!==e&&w&&v(w.types,y)&&!w.conversions[h]){
// this (conversion) type already exists, remove it
d.types.splice(m,1),d.conversions.splice(m,1),m--;break}}m++}return i}/**
     * Filter all any type signatures
     * @param {Signature[]} signatures
     * @return {Signature[]} Returns only any type signatures
     */
function c(t){for(var e=[],n=0;n<t.length;n++)t[n].anyType&&e.push(t[n]);return e}/**
     * create a map with normalized signatures as key and the function as value
     * @param {Signature[]} signatures   An array with split signatures
     * @return {Object.<string, Function>} Returns a map with normalized
     *                                     signatures as key, and the function
     *                                     as value.
     */
function l(t){for(var e={},n=0;n<t.length;n++){var r=t[n];if(r.fn&&!r.hasConversions()){e[r.params.join(",")]=r.fn}}return e}/**
     * Parse signatures recursively in a node tree.
     * @param {Signature[]} signatures  Array with expanded signatures
     * @param {Param[]} path            Traversed path of parameter types
     * @param {Signature[]} anys
     * @return {Node}                   Returns a node tree
     */
function f(t,e,n){var r,i,s,u=e.length,c=[];for(r=0;r<t.length;r++)i=t[r],
// filter the first signature with the correct number of params
i.params.length!==u||s||(s=i),void 0!=i.params[u]&&c.push(i);
// sort the filtered signatures by param
c.sort(function(t,e){return o.compare(t.params[u],e.params[u])});
// recurse over the signatures
var l=[];for(r=0;r<c.length;r++){i=c[r];
// group signatures with the same param at current index
var p=i.params[u],h=l.filter(function(t){return t.param.overlapping(p)})[0];
//var existing;
//for (var j = 0; j < entries.length; j++) {
//  if (entries[j].param.overlapping(param)) {
//    existing = entries[j];
//    break;
//  }
//}
if(h){if(h.param.varArgs)throw new Error('Conflicting types "'+h.param+'" and "'+p+'"');h.signatures.push(i)}else l.push({param:p,signatures:[i]})}
// find all any type signature that can still match our current path
var d=[];for(r=0;r<n.length;r++)n[r].paramsStartWith(e)&&d.push(n[r]);
// see if there are any type signatures that don't match any of the
// signatures that we have in our tree, i.e. we have alternative
// matching signature(s) outside of our current tree and we should
// fall through to them instead of throwing an exception
var m=!1;for(r=0;r<d.length;r++)if(!v(t,d[r])){m=!0;break}
// parse the childs
var y=new Array(l.length);for(r=0;r<l.length;r++){var g=l[r];y[r]=f(g.signatures,e.concat(g.param),d)}return new a(e,s,y,m)}/**
     * Generate an array like ['arg0', 'arg1', 'arg2']
     * @param {number} count Number of arguments to generate
     * @returns {Array} Returns an array with argument names
     */
function p(t){for(var e=[],n=0;n<t;n++)e[n]="arg"+n;return e}/**
     * Compose a function from sub-functions each handling a single type signature.
     * Signatures:
     *   typed(signature: string, fn: function)
     *   typed(name: string, signature: string, fn: function)
     *   typed(signatures: Object.<string, function>)
     *   typed(name: string, signatures: Object.<string, function>)
     *
     * @param {string | null} name
     * @param {Object.<string, Function>} signatures
     * @return {Function} Returns the typed function
     * @private
     */
function h(t,e){var n=new i,o=u(e);if(0==o.length)throw new Error("No signatures provided");
// filter all any type signatures
var s=c(o),a=f(o,[],s),h=[],m=t||"",v=p(d(o));h.push("function "+m+"("+v.join(", ")+") {"),h.push('  "use strict";'),h.push("  var name = '"+m+"';"),h.push(a.toCode(n,"  ",!1)),h.push("}");
// generate body for the factory function
var y=[n.toCode(),"return "+h.join("\n")].join("\n"),g=new Function(n.name,"createError",y),b=g(n,r);
//console.log('FN\n' + fn.toString()); // TODO: cleanup
// attach the signatures with sub-functions to the constructed function
return b.signatures=l(o),b}/**
     * Calculate the maximum number of parameters in givens signatures
     * @param {Signature[]} signatures
     * @returns {number} The maximum number of parameters
     */
function d(t){for(var e=0,n=0;n<t.length;n++){var r=t[n].params.length;r>e&&(e=r)}return e}/**
     * Get the type of a value
     * @param {*} x
     * @returns {string} Returns a string with the type of value
     */
function m(t){for(var e,n=0;n<C.types.length;n++){var r=C.types[n];if("Object"===r.name)
// Array and Date are also Object, so test for Object afterwards
e=r;else if(r.test(t))return r.name}
// at last, test whether an object
// at last, test whether an object
return e&&e.test(t)?e.name:"unknown"}/**
     * Test whether an array contains some item
     * @param {Array} array
     * @param {*} item
     * @return {boolean} Returns true if array contains item, false if not.
     */
function v(t,e){return-1!==t.indexOf(e)}/**
     * Returns the last item in the array
     * @param {Array} array
     * @return {*} item
     */
function y(t){return t[t.length-1]}/**
     * Find a specific signature from a (composed) typed function, for
     * example:
     *
     *   typed.find(fn, ['number', 'string'])
     *   typed.find(fn, 'number, string')
     *
     * Function find only only works for exact matches.
     *
     * @param {Function} fn                   A typed-function
     * @param {string | string[]} signature   Signature to be found, can be
     *                                        an array or a comma separated string.
     * @return {Function}                     Returns the matching signature, or
     *                                        throws an errror when no signature
     *                                        is found.
     */
function g(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");
// normalize input
var n;if("string"==typeof e){n=e.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");n=e}var i=n.join(","),o=t.signatures[i];if(o)return o;
// TODO: extend find to match non-exact signatures
throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+n.join(", ")+"))")}/**
     * Convert a given value to another data type.
     * @param {*} value
     * @param {string} type
     */
function b(t,e){var n=m(t);
// check conversion is needed
if(e===n)return t;for(var r=0;r<C.conversions.length;r++){var i=C.conversions[r];if(i.from===n&&i.to===e)return i.convert(t)}throw new Error("Cannot convert from "+n+" to "+e)}/**
     * Add a function reference.
     * @param {Function} fn
     * @param {string} [category='fn']    A function category, like 'fn' or 'signature'
     * @returns {string} Returns the function name, for example 'fn0' or 'signature2'
     */
i.prototype.add=function(t,e){var n=e||"fn";this.categories[n]||(this.categories[n]=[]);var r=this.categories[n].indexOf(t);return-1==r&&(r=this.categories[n].length,this.categories[n].push(t)),n+r},/**
     * Create code lines for all function references
     * @returns {string} Returns the code containing all function references
     */
i.prototype.toCode=function(){var t=[],e=this.name+".categories",n=this.categories;for(var r in n)if(n.hasOwnProperty(r))for(var i=n[r],o=0;o<i.length;o++)t.push("var "+r+o+" = "+e+"['"+r+"']["+o+"];");return t.join("\n")},/**
     * Order Params
     * any type ('any') will be ordered last, and object as second last (as other
     * types may be an object as well, like Array).
     *
     * @param {Param} a
     * @param {Param} b
     * @returns {number} Returns 1 if a > b, -1 if a < b, and else 0.
     */
o.compare=function(t,e){
// TODO: simplify parameter comparison, it's a mess
if(t.anyType)return 1;if(e.anyType)return-1;if(v(t.types,"Object"))return 1;if(v(e.types,"Object"))return-1;if(t.hasConversions()){if(e.hasConversions()){var n,r,i;for(n=0;n<t.conversions.length;n++)if(void 0!==t.conversions[n]){r=t.conversions[n];break}for(n=0;n<e.conversions.length;n++)if(void 0!==e.conversions[n]){i=e.conversions[n];break}return C.conversions.indexOf(r)-C.conversions.indexOf(i)}return 1}if(e.hasConversions())return-1;
// both params have no conversions
var o,s;for(n=0;n<C.types.length;n++)if(C.types[n].name===t.types[0]){o=n;break}for(n=0;n<C.types.length;n++)if(C.types[n].name===e.types[0]){s=n;break}return o-s},/**
     * Test whether this parameters types overlap an other parameters types.
     * Will not match ['any'] with ['number']
     * @param {Param} other
     * @return {boolean} Returns true when there are overlapping types
     */
o.prototype.overlapping=function(t){for(var e=0;e<this.types.length;e++)if(v(t.types,this.types[e]))return!0;return!1},/**
     * Test whether this parameters types matches an other parameters types.
     * When any of the two parameters contains `any`, true is returned
     * @param {Param} other
     * @return {boolean} Returns true when there are matching types
     */
o.prototype.matches=function(t){return this.anyType||t.anyType||this.overlapping(t)},/**
     * Create a clone of this param
     * @returns {Param} Returns a cloned version of this param
     */
o.prototype.clone=function(){var t=new o(this.types.slice(),this.varArgs);return t.conversions=this.conversions.slice(),t},/**
     * Test whether this parameter contains conversions
     * @returns {boolean} Returns true if the parameter contains one or
     *                    multiple conversions.
     */
o.prototype.hasConversions=function(){return this.conversions.length>0},/**
     * Tests whether this parameters contains any of the provided types
     * @param {Object} types  A Map with types, like {'number': true}
     * @returns {boolean}     Returns true when the parameter contains any
     *                        of the provided types
     */
o.prototype.contains=function(t){for(var e=0;e<this.types.length;e++)if(t[this.types[e]])return!0;return!1},/**
     * Return a string representation of this params types, like 'string' or
     * 'number | boolean' or '...number'
     * @param {boolean} [toConversion]   If true, the returned types string
     *                                   contains the types where the parameter
     *                                   will convert to. If false (default)
     *                                   the "from" types are returned
     * @returns {string}
     */
o.prototype.toString=function(t){for(var e=[],n={},r=0;r<this.types.length;r++){var i=this.conversions[r],o=t&&i?i.to:this.types[r];o in n||(n[o]=!0,e.push(o))}return(this.varArgs?"...":"")+e.join("|")},/**
     * Create a clone of this signature
     * @returns {Signature} Returns a cloned version of this signature
     */
s.prototype.clone=function(){return new s(this.params.slice(),this.fn)},/**
     * Expand a signature: split params with union types in separate signatures
     * For example split a Signature "string | number" into two signatures.
     * @return {Signature[]} Returns an array with signatures (at least one)
     */
s.prototype.expand=function(){function t(n,r){if(r.length<n.params.length){var i,a,u,c=n.params[r.length];if(c.varArgs){
// add conversions to the parameter
// recurse for all conversions
for(
// a variable argument. do not split the types in the parameter
a=c.clone(),i=0;i<C.conversions.length;i++)if(u=C.conversions[i],!v(c.types,u.from)&&v(c.types,u.to)){var l=a.types.length;a.types[l]=u.from,a.conversions[l]=u}t(n,r.concat(a))}else{
// split each type in the parameter
for(i=0;i<c.types.length;i++)t(n,r.concat(new o(c.types[i])));
// recurse for all conversions
for(i=0;i<C.conversions.length;i++)u=C.conversions[i],!v(c.types,u.from)&&v(c.types,u.to)&&(a=new o(u.from),a.conversions[0]=u,t(n,r.concat(a)))}}else e.push(new s(r,n.fn))}var e=[];return t(this,[]),e},/**
     * Compare two signatures.
     *
     * When two params are equal and contain conversions, they will be sorted
     * by lowest index of the first conversions.
     *
     * @param {Signature} a
     * @param {Signature} b
     * @returns {number} Returns 1 if a > b, -1 if a < b, and else 0.
     */
s.compare=function(t,e){if(t.params.length>e.params.length)return 1;if(t.params.length<e.params.length)return-1;
// count the number of conversions
var n,r=t.params.length,i=0,s=0;for(n=0;n<r;n++)t.params[n].hasConversions()&&i++,e.params[n].hasConversions()&&s++;if(i>s)return 1;if(i<s)return-1;
// compare the order per parameter
for(n=0;n<t.params.length;n++){var a=o.compare(t.params[n],e.params[n]);if(0!==a)return a}return 0},/**
     * Test whether any of the signatures parameters has conversions
     * @return {boolean} Returns true when any of the parameters contains
     *                   conversions.
     */
s.prototype.hasConversions=function(){for(var t=0;t<this.params.length;t++)if(this.params[t].hasConversions())return!0;return!1},/**
     * Test whether this signature should be ignored.
     * Checks whether any of the parameters contains a type listed in
     * typed.ignore
     * @return {boolean} Returns true when the signature should be ignored
     */
s.prototype.ignore=function(){for(var t={},e=0;e<C.ignore.length;e++)t[C.ignore[e]]=!0;
// test whether any of the parameters contains this type
for(e=0;e<this.params.length;e++)if(this.params[e].contains(t))return!0;return!1},/**
     * Test whether the path of this signature matches a given path.
     * @param {Param[]} params
     */
s.prototype.paramsStartWith=function(t){if(0===t.length)return!0;for(var e=y(this.params),n=y(t),r=0;r<t.length;r++){var i=this.params[r]||(e.varArgs?e:null),o=t[r]||(n.varArgs?n:null);if(!i||!o||!i.matches(o))return!1}return!0},/**
     * Generate the code to invoke this signature
     * @param {Refs} refs
     * @param {string} prefix
     * @returns {string} Returns code
     */
s.prototype.toCode=function(t,e){for(var n=[],r=new Array(this.params.length),i=0;i<this.params.length;i++){var o=this.params[i],s=o.conversions[0];o.varArgs?r[i]="varArgs":r[i]=s?t.add(s.convert,"convert")+"(arg"+i+")":"arg"+i}var a=this.fn?t.add(this.fn,"signature"):void 0;return a?e+"return "+a+"("+r.join(", ")+"); // signature: "+this.params.join(", "):n.join("\n")},/**
     * Return a string representation of the signature
     * @returns {string}
     */
s.prototype.toString=function(){return this.params.join(", ")},/**
     * Generate code for this group of signatures
     * @param {Refs} refs
     * @param {string} prefix
     * @returns {string} Returns the code as string
     */
a.prototype.toCode=function(t,n){
// TODO: split this function in multiple functions, it's too large
var r=[];if(this.param){var i=this.path.length-1,o=this.param.conversions[0],s="// type: "+(o?o.from+" (convert to "+o.to+")":this.param);
// non-root node (path is non-empty)
if(this.param.varArgs)if(this.param.anyType)
// variable arguments with any type
r.push(n+"if (arguments.length > "+i+") {"),r.push(n+"  var varArgs = [];"),r.push(n+"  for (var i = "+i+"; i < arguments.length; i++) {"),r.push(n+"    varArgs.push(arguments[i]);"),r.push(n+"  }"),r.push(this.signature.toCode(t,n+"  ")),r.push(n+"}");else{for(var a=function(n,r){for(var i=[],o=0;o<n.length;o++)i[o]=t.add(e(n[o]),"test")+"("+r+")";return i.join(" || ")}.bind(this),u=this.param.types,c=[],l=0;l<u.length;l++)void 0===this.param.conversions[l]&&c.push(u[l]);r.push(n+"if ("+a(u,"arg"+i)+") { "+s),r.push(n+"  var varArgs = [arg"+i+"];"),r.push(n+"  for (var i = "+(i+1)+"; i < arguments.length; i++) {"),r.push(n+"    if ("+a(c,"arguments[i]")+") {"),r.push(n+"      varArgs.push(arguments[i]);");for(var l=0;l<u.length;l++){var f=this.param.conversions[l];if(f){var p=t.add(e(u[l]),"test"),h=t.add(f.convert,"convert");r.push(n+"    }"),r.push(n+"    else if ("+p+"(arguments[i])) {"),r.push(n+"      varArgs.push("+h+"(arguments[i]));")}}r.push(n+"    } else {"),r.push(n+"      throw createError(name, arguments.length, i, arguments[i], '"+c.join(",")+"');"),r.push(n+"    }"),r.push(n+"  }"),r.push(this.signature.toCode(t,n+"  ")),r.push(n+"}")}else if(this.param.anyType)
// any type
r.push(n+"// type: any"),r.push(this._innerCode(t,n));else{
// regular type
var d=this.param.types[0],p="any"!==d?t.add(e(d),"test"):null;r.push(n+"if ("+p+"(arg"+i+")) { "+s),r.push(this._innerCode(t,n+"  ")),r.push(n+"}")}}else
// root node (path is empty)
r.push(this._innerCode(t,n));return r.join("\n")},/**
     * Generate inner code for this group of signatures.
     * This is a helper function of Node.prototype.toCode
     * @param {Refs} refs
     * @param {string} prefix
     * @returns {string} Returns the inner code as string
     * @private
     */
a.prototype._innerCode=function(t,e){var n,r=[];for(this.signature&&(r.push(e+"if (arguments.length === "+this.path.length+") {"),r.push(this.signature.toCode(t,e+"  ")),r.push(e+"}")),n=0;n<this.childs.length;n++)r.push(this.childs[n].toCode(t,e));
// TODO: shouldn't the this.param.anyType check be redundant
if(!this.fallThrough||this.param&&this.param.anyType){var i=this._exceptions(t,e);i&&r.push(i)}return r.join("\n")},/**
     * Generate code to throw exceptions
     * @param {Refs} refs
     * @param {string} prefix
     * @returns {string} Returns the inner code as string
     * @private
     */
a.prototype._exceptions=function(t,e){var n=this.path.length;if(0===this.childs.length)
// TODO: can this condition be simplified? (we have a fall-through here)
return[e+"if (arguments.length > "+n+") {",e+"  throw createError(name, arguments.length, "+n+", arguments["+n+"]);",e+"}"].join("\n");for(var r={},i=[],o=0;o<this.childs.length;o++){var s=this.childs[o];if(s.param)for(var a=0;a<s.param.types.length;a++){var u=s.param.types[a];u in r||s.param.conversions[a]||(r[u]=!0,i.push(u))}}return e+"throw createError(name, arguments.length, "+n+", arguments["+n+"], '"+i.join(",")+"');"};
// data type tests
var w=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"==typeof t}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],_={},x=[],E=[],C={config:_,types:w,conversions:x,ignore:E};/**
     * Construct the typed function itself with various signatures
     *
     * Signatures:
     *
     *   typed(signatures: Object.<string, function>)
     *   typed(name: string, signatures: Object.<string, function>)
     */
// attach types and conversions to the final `typed` function
// add a type
// add a conversion
return C=h("typed",{Object:function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(t[r]);return h(n(e),t)},"string, Object":h,
// TODO: add a signature 'Array.<function>'
"...Function":function(t){for(var e,r=n(t),i={},o=0;o<t.length;o++){var s=t[o];
// test whether this is a typed-function
if("object"!=typeof s.signatures)throw e=new TypeError("Function is no typed-function (index: "+o+")"),e.data={index:o},e;
// merge the signatures
for(var a in s.signatures)if(s.signatures.hasOwnProperty(a))if(i.hasOwnProperty(a)){if(s.signatures[a]!==i[a])throw e=new Error('Signature "'+a+'" is defined twice'),e.data={signature:a},e}else i[a]=s.signatures[a]}return h(r,i)}}),C.config=_,C.types=w,C.conversions=x,C.ignore=E,C.create=t,C.find=g,C.convert=b,C.addType=function(t){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");C.types.push(t)},C.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");C.conversions.push(t)},C}return t()})}],[1124]);